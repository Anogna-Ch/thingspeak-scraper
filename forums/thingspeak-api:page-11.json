{"url": "https://community.thingspeak.com/forum/thingspeak-api/page-11/", "threads": [{"url": "https://community.thingspeak.com/forum/thingspeak-api/help-needed-pls-one-data-spike-has-flattened-my-data-so-i-cant-see-it-what-to-do/", "posts": [{"date": "November 21, 2017 - 7:52 am", "content": "One data point/ measurement/ spike has 'flattened' my data by changing the y-axis to 0 - 7\u00a0as shown\u00a0hereBefore the spike the y-axis range was 0.5 - 1.5 and I could see things as shown here.Can I set the y-axis in the url as having limits ?ps I tried setting the y-axis limit in the ThingsSpeak channel settings but this seems to have had no effect if the chart displayed contains the 'spike' data point .\u00a0", "num_user_post": " 1", "author": "kes"}, {"date": "November 21, 2017 - 2:36 pm", "content": "As one\u00a0option, you can add the min and max parameter to your chart API.http://api.thingspeak.com/channels/11286/charts/4?width=450&height=260&results=1000&dynamic=true&yaxis=Boiler%20Pressure%20Bar&title=Boiler%20Pressure%20Bar&min=0&max=5The second option is to process your raw data using a MATLAB filter, then write the data to a clean channel.", "num_user_post": " 402", "author": "Hans"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/update-multiple-rows-for-channel-bulk-update/", "posts": [{"date": "December 12, 2013 - 12:33 pm", "content": "Hello all,I have an Arduino project that logs events. These events can happen more often than the 15 second api limit so I'd like to maintain the data in memory and then every 15 seconds or so do a bulk update that writes multiple rows - a bulk update basically.Is there a field format I can use for that i.e. field1=[1,2,3] or field1=value1&field1=value2&field1=value3 or something like that?Greg", "num_user_post": " 2", "author": "geraldcor"}, {"date": "December 12, 2013 - 4:24 pm", "content": "Hi Greg,Unfortunately we don't currently provide the ability to make bulk updates to your channels.lee", "num_user_post": " 457", "author": "lee"}, {"date": "December 12, 2013 - 7:50 pm", "content": "Thanks for saving me frustrating hours. I think I can work around as needed. Thanks.", "num_user_post": " 2", "author": "geraldcor"}, {"date": "November 1, 2015 - 5:07 am", "content": "lee said Hi Greg,Unfortunately we don't currently provide the ability to make bulk updates to your channels.leeDear Admin,      Is the option to bulk post or batch post available yet? I need an almost realtime update service, but since there is a post limit of 15 sec, I was trying to save the values and batch post after every minute. ", "num_user_post": " 2", "author": "Sabeethan"}, {"date": "March 24, 2017 - 10:47 am", "content": "This functionality is now available. Take a look at the documentation here:https://www.mathworks.com/help/thingspeak/bulk-update-a-channel-feed-1.html", "num_user_post": " 225", "author": "Vinod"}, {"date": "November 20, 2017 - 2:30 am", "content": "HelloVinod said This functionality is now available. Take a look at the documentation here: https://www.mathworks.com/help/thingspeak/bulk-update-a-channel-feed-1.html\u00a0\u00a0\u00a0sir, what will be the logic used to bulk update the data collected on thingspeak using SIM 900A GSM MODULE?", "num_user_post": " 1", "author": "S Raj"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/post-multiple-data-for-the-same-field/", "posts": [{"date": "November 2, 2017 - 8:18 pm", "content": "Hello All, Just have a quick question. Is it possible to post multiple data for the same field?", "num_user_post": " 4", "author": "ask"}, {"date": "November 3, 2017 - 11:12 am", "content": "Are you trying to write two different data types to the same field successively or simultaneously?\u00a0 You can change the data types for each individual post, even for the same field.\u00a0 You may have to be careful with the plotting or other processing you do with MATLAB code.It is possible to put multiple data elements in a single field at the same timestamp with a single write, but its not recommended. You would have to parse the data later to separate them.You would use something like https://api.thingspeak.com/update?api_key=xxxxxxxxxxxxxxxx&field1=2.2andSecondData2.4&amp;\u00a0There is room for up to 255 characters in a field.\u00a0 Using two successive writes will give two separate entries, since the time stamp will change. But you can use the 'created_at' parameter to\u00a0 update your channel feed.\u00a0 If you use the same date for created_at with two posts, you will get two separate entries at the same time.https://api.thingspeak.com/update?api_key=xxxxxxxxxxxxxxxx&field1=2.2&created_at=2017-11-3%2013:59:59\u00a0Can you describe what you are trying to do?\u00a0 Perhaps there is a different way to achieve your goal.", "num_user_post": " 401", "author": "cstapels"}, {"date": "November 4, 2017 - 4:02 pm", "content": "I basically want to do 2 different things if Possible.1. To get more details for a parameter without sending frequent updates. For example sampling a variable every 5 seconds and updating thingspeak field with 12 values every minute. It seems like that can be done per your suggestion above like below? Is the syntax correct?https://api.thingspeak.com/update?api_key=xxxxxxxxxxxxxxxx&field1=2.2andSecondData2.4andThirdData4.5...andTwelvthData6.3&amp;2. To draw more than one trace in the same field for comparison purposes. For example plotting temperature and humidity in the same graph. And for this the second update that uses 'created at' can be employed requiring as many updates as the plots needed per time instance. Correct?", "num_user_post": " 4", "author": "ask"}, {"date": "November 6, 2017 - 5:41 pm", "content": "cstapels said Are you trying to write two different data types to the same field successively or simultaneously?\u00a0 You can change the data types for each individual post, even for the same field.\u00a0 You may have to be careful with the plotting or other processing you do with MATLAB code. It is possible to put multiple data elements in a single field at the same timestamp with a single write, but its not recommended. You would have to parse the data later to separate them. You would use something like https://api.thingspeak.com/update?api_key=xxxxxxxxxxxxxxxx&field1=2.2andSecondData2.4&amp; \u00a0 There is room for up to 255 characters in a field.\u00a0 Using two successive writes will give two separate entries, since the time stamp will change. But you can use the 'created_at' parameter to\u00a0 update your channel feed.\u00a0 If you use the same date for created_at with two posts, you will get two separate entries at the same time. https://api.thingspeak.com/update?api_key=xxxxxxxxxxxxxxxx&field1=2.2&created_at=2017-11-3%2013:59:59 \u00a0 Can you describe what you are trying to do?\u00a0 Perhaps there is a different way to achieve your goal.\u00a0\u00a0So I tried https://api.thingspeak.com/update?api_key=xxxxxxxxxxxxxxxx&field1=2.2andSecondData2.4&amp; and I am finding that only the first value is plotted on the chart. How can I retrieve the other values? Or are they lost permanently?", "num_user_post": " 4", "author": "ask"}, {"date": "November 17, 2017 - 10:52 am", "content": "The plots for each field will not be able to show multiple lines for the data concatenated as you described above.\u00a0 If you put the data in multiple fields, or even across multiple channels, you can use a MATLAB visualization to read two series of data and plot it on the same chart, for example with thingSpeakPlotYY or plot(x1,y1,x2,y2);You could also use a MATLAB visualization with the data in your fields the way you wrote it, if you do a bit of work on the data.\u00a0Read the data to a variable combinedData=thingSpeakRead(...'OutputFormat','Timetable')\u00a0 ;Then operate on combined data to get the values back.\u00a0 Use splitstr(variable,'and') to split the strings.\u00a0\u00a0for i=1:height(data) outer=strsplit(combinedData.FieldLabel1{1},'and');numbers(i,1)=str2num(outer{1});numbers(i,2)=str2num(outer{2});endNow you can plot(1:height(data),numbers), and you should get two lines.Its definitely more work than using two fields or two channels, but it is possible.", "num_user_post": " 401", "author": "cstapels"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/channel-with-8-fields-and-matlab-visualizations-makes-browser-crash-or-extremely-slow/", "posts": [{"date": "November 13, 2017 - 5:14 am", "content": "Hi,\u00a0I have a public channel from my weather station with 8 fields and many Matlab visualizations. The channel number is\u00a060917.While updating the website, it makes browser crash or update data really slow.I tried reducing the amount of points to display on each field but it doesn't change anything.\u00a0\u00a0Is it possible to light the channel? Do I have to delete Matlab visualizations?Best,Rodrigo", "num_user_post": " 19", "author": "rodri"}, {"date": "November 13, 2017 - 9:58 am", "content": "I checked out your channel, that is a pretty awesome collection of visualizations.\u00a0 I think the problem has to do with the plugins. 'Temperature on each Pagoda', 'Humidity Comparison', 'Pressure Comparison' and 'Rain comparison'.\u00a0 Can you try removing these four plugins? Your performance should improve drastically.\u00a0You can replace these plugins with standard MATLAB visualizations, for example using thingSpeakPlot() or thingSpeakPlotYY(), or plot(). You can get multiple series with\u00a0thingSpeakPlotYY(X1,Y1,X2,Y2) or plot(x1,y1,x2,y2).\u00a0 The plugin is completing with the thingSpeak field plots for the same data which is slowing down your performance.", "num_user_post": " 401", "author": "cstapels"}, {"date": "November 14, 2017 - 8:25 am", "content": "Hi cstapels, thanks for your reply.Actually I have another channel without plugins and the performance is the same... I think it is the amount of points on each plot or the live update which make it slow.", "num_user_post": " 19", "author": "rodri"}, {"date": "November 14, 2017 - 8:53 am", "content": "Is it possible for you to share the other channel with me privately so I can compare them and help you troubleshoot the issues?\u00a0 You can add my user name here @ mathworks dot com to the sharing tab. Or if it is also a public channel, can you just send me the channel number?\u00a0", "num_user_post": " 401", "author": "cstapels"}, {"date": "November 14, 2017 - 4:19 pm", "content": "We spent some more time looking at the channel 60917. It looks like you are displaying a large number of points in multiple fields.\u00a0 The result is that the client (your browser) is having to do a lot of work each time you scroll or update the page, leading to the performance hit you see.\u00a0 After some experimentation, I agree that it wasn't the java plugins that were causing the biggest frag.The number of points you are using may even be larger than the browser and display can accurately show.\u00a0 If you do not want to reduce the total number of points displayed, you might consider setting the 'average' value in the options for your field plots to 60 minutes.\u00a0 Click the pencil icon on the top of the field plot to access these settings, there is a drop down menu on the right hand side for 'Average'.\u00a0 The field plot will only show an average value for each hour of data.\u00a0 If you need more fidelity for a particular view, you could decrease both the averages and the number of points for a specific subset to maintain the responsiveness.\u00a0\u00a0If this suggestion is consistent with your needs, can you try it and let us know how it works?", "num_user_post": " 401", "author": "cstapels"}, {"date": "November 15, 2017 - 1:00 pm", "content": "Yes much better with the average!! Thank you", "num_user_post": " 19", "author": "rodri"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/channel-status-update/", "posts": [{"date": "November 7, 2017 - 2:33 pm", "content": "What is the purpose ofnthe 'channel Status Update' chart? It does not seem to do anything for me.", "num_user_post": " 4", "author": "ask"}, {"date": "November 7, 2017 - 8:07 pm", "content": "You can use the status update to contain summary information about your channel.\u00a0 It is similar to a ninth field, intended for text.Have a look at the channel monitoring the moisture of the plant in my office based on one of the examples:https://thingspeak.com/channels/276330I use the status field to hold the output of a MATLAB analysis that analyzes the data and finds out where the value currently is in terms of the previous data.\u00a0 If the moisture value is low with respect to the previous data, it writes 'Dry' to the status.\u00a0 If the moisture value is high, it writes Wet, and so forth.\u00a0 That way I don't have to keep a standard calibration.You can use a REST API call to get status updates\u00a0and you can update the status field, like any other field.\u00a0 I do the REST API call in the MATLAB analysis using webwrite:webwrite('https://api.thingspeak.com/update','api_key','XXXXXXXXXXXXXXXX','status',message);But I could write it directly from the soil monitor device controller if it had the calibration data written on it.", "num_user_post": " 401", "author": "cstapels"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/unable-to-clear-a-channel-via-arduino/", "posts": [{"date": "June 30, 2017 - 7:15 pm", "content": "Hello,i am desperatly trying to clear a Channel with an Arduino Uno.Can someone help me to Change the Code i am using for\u00a0updateing\u00a0the channel\u00a0into a Code for Clearing the channel?\u00a0if (client.connect(server,80)) { // '184.106.153.149' or api.thingspeak.com \u00a0\u00a0 String postStr = apiKeyChannel; \u00a0\u00a0 postStr +='&field1='; \u00a0\u00a0 postStr += str_sensor; \u00a0\u00a0 client.println('POST /update HTTP/1.1'); \u00a0\u00a0 client.println('Host: api.thingspeak.com'); \u00a0\u00a0 client.println('Connection: close'); \u00a0\u00a0 client.println('X-THINGSPEAKAPIKEY: '+apiKeyChannel); \u00a0\u00a0 client.println('Content-Type: application/x-www-form-urlencoded'); \u00a0\u00a0 client.print('Content-Length: '); \u00a0\u00a0 client.println(postStr.length()); \u00a0\u00a0 client.println(); \u00a0\u00a0 client.print(postStr); \u00a0\u00a0 }I found this\u00a0Code\u00a0on the Internet and\u00a0works fine for updating\u00a0my channel.\u00a0I have read the Documentation to clear\u00a0a channel (which can be found here: https://de.mathworks.com/help/thingspeak/clear-a-channel.html)\u00a0 and thougt all i have to do is enter my User API Key, Change the adress, enter channel ID, etc...But nothing worked.Also I am new to this IOT Thing.Please, can somebody help me?", "num_user_post": " 5", "author": "melanogaster"}, {"date": "July 1, 2017 - 4:36 am", "content": "Sounds like you are going in the right direction. Have you tried changing the HTTP method?\u00a0client.print('POST...\u00a0Change toclient.print('DELETE...\u00a0", "num_user_post": " 402", "author": "Hans"}, {"date": "July 2, 2017 - 12:17 pm", "content": "Thanks for the Reply.I allready tried many changes in the HTTP method.\u00a0For example i tried this Code:String apiKeyUser = XXXXXXXXXXXXXXXXXXXX;String apiKeyChannel = XXXXXXXXXXXXXXXXXXXX;String channelID = XXXXXX;if (client.connect(server,80)) { // '184.106.153.149' or api.thingspeak.com\u00a0\u00a0\u00a0String postStr = 'api_key=';\u00a0\u00a0 postStr += apiKeyUser;\u00a0\u00a0\u00a0client.println('DELETE /channels/'+channelID+'/feeds HTTP/1.1'); \u00a0\u00a0 client.println('Host: api.thingspeak.com'); \u00a0\u00a0 client.println('Connection: close'); \u00a0\u00a0 client.println('X-THINGSPEAKAPIKEY: '+apiKeyChannel); \u00a0\u00a0 client.println('Content-Type: application/x-www-form-urlencoded'); \u00a0\u00a0 client.print('Content-Length: '); \u00a0\u00a0 client.println(postStr.length()); \u00a0\u00a0 client.println(); \u00a0\u00a0 client.print(postStr);}\u00a0I thought it would work, but it did not.Also i have no idea why there is this part of the Code:\u00a0 client.println('Host: api.thingspeak.com'); \u00a0\u00a0 client.println('Connection: close'); \u00a0\u00a0 client.println('X-THINGSPEAKAPIKEY: '+apiKeyChannel); \u00a0\u00a0 client.println('Content-Type: application/x-www-form-urlencoded'); \u00a0\u00a0 client.print('Content-Length: '); \u00a0\u00a0 client.println(postStr.length()); \u00a0\u00a0 client.println();I think it is there for HTTP coding or something like that.Still, the Code does not work...Any ideas?", "num_user_post": " 5", "author": "melanogaster"}, {"date": "July 2, 2017 - 10:46 pm", "content": "The docs for delete are at https://au.mathworks.com/help/thingspeak/delete-a-channel.htmlYou definitely need the user API key not the channel one.Its possible that DELETE will only work over HTTPS so wont be possible from Arduino.\u00a0 You should get an add-on to your browser (eg HttpRequester for firefox) that allows you to send a DELETE requests and check if this is the case or not.", "num_user_post": " 271", "author": "rw950431"}, {"date": "July 3, 2017 - 5:59 am", "content": "Thanks for the Answer.As it reads in the Thread Title I am trying to CLEAR\u00a0a Channel with an Arduino.Clearing and deleting a channel use the same DELETE but different adresses.Clearing Channel: DELETE to https://api.thingspeak.com/channels/CHANNEL_ID/feedsDeleting channel: DELETE to https://api.thingspeak.com/channels/CHANNEL_IDUpdating channel: POST to https://api.thingspeak.com/update\u00a0Updating the channel works fine with the Code i wrote in the first post, even without https from my arduino.So POST works with http, but DELETE works only with https? That seems Kind of wierd to me. Also I don't\u00a0think I am the first one who tries to clear a Channel via Arduino.\u00a0Thanks for the browser plugin suggestion, i will try that later.But have you looked at my Code? Can you tell me what i have to Change for it to work?", "num_user_post": " 5", "author": "melanogaster"}, {"date": "July 3, 2017 - 9:22 am", "content": "Trial and Error got me the right Code.If anyone got the same Problem, here is my working Code://'Clear a Channel' https://de.mathworks.com/help/thingspeak/clear-a-channel.htmlchannelID = 'XXXXX';apiKeyChannel = 'XXXXXXXXXXXXXXXXX';apiKeyUser = 'XXXXXXXXXXXXXXXXX';String postStr = 'api_key='+apiKeyUser;client.println('DELETE /channels/'+channelID+'/feeds HTTP/1.1');client.println('Host: api.thingspeak.com');client.println('Connection: close');client.println('Content-Type: application/x-www-form-urlencoded');client.print('Content-Length: ');client.println(postStr.length());client.println();client.print(postStr);\u00a0//'Update a Channel Feed' https://de.mathworks.com/help/thingspeak/update-channel-feed.htmlchannelID = 'XXXXX';apiKeyChannel = 'XXXXXXXXXXXXXXXXX';apiKeyUser = 'XXXXXXXXXXXXXXXXX';String str_sensor = 12345;String postStr = 'api_key='+apiKeyChannel+'&field1='+str_sensor;client.println('POST /update HTTP/1.1');client.println('Host: api.thingspeak.com');client.println('Connection: close');client.println('Content-Type: application/x-www-form-urlencoded');client.print('Content-Length: ');client.println(postStr.length());client.println();client.print(postStr);", "num_user_post": " 5", "author": "melanogaster"}, {"date": "November 2, 2017 - 5:02 pm", "content": "Can someone help me. I\u00a0try too get my code too work.I use esp 8266 nodeMCU 1.0 with arduino 1.6.9. It do nothing.#include 'ESP8266WiFi.h'\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0const char* server = 'api.thingspeak.com';// WiFi parametersconst char* ssid = 'HomeBox';const char* password = 'dacxxx';String ApiKeyUser = 'xxxxxxx';String WriteApiKey = 'xxxxxxxxxx';String ReadApiKey ='xxxxxxxxxx';String channelID = '354732';\u00a0\u00a0 //354732const char* tsData='field2=';void setup(void){\u00a0\u00a0 Serial.begin(115200);\u00a0\u00a0\u00a0\u00a0\u00a0 // Start Serial\u00a0\u00a0\u00a0 WiFi.begin(ssid, password);\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 // Connect to WiFi\u00a0\u00a0\u00a0 while (WiFi.status() != WL_CONNECTED)\u00a0 {delay(500);Serial.print('.');}\u00a0\u00a0\u00a0 Serial.println();Serial.println(WiFi.localIP());\u00a0\u00a0 }void loop(){\u00a0 WiFiClient client;\u00a0\u00a0\u00a0\u00a0\u00a0 String postStr = 'api_key='+ApiKeyUser;\u00a0\u00a0 if (client.connect(server,80)) {\u00a0\u00a0\u00a0\u00a0\u00a0 client.println('DELETE /channels/'+channelID+'/feeds HTTP/1.1');\u00a0\u00a0\u00a0\u00a0\u00a0 client.println('Host: api.thingspeak.com');\u00a0\u00a0\u00a0\u00a0\u00a0 client.println('Connection: close');\u00a0\u00a0\u00a0\u00a0\u00a0 client.println('Content-Type: application/x-www-form-urlencoded');\u00a0\u00a0\u00a0\u00a0\u00a0 client.print('Content-Length: ');\u00a0\u00a0\u00a0\u00a0\u00a0 client.print(postStr.length());\u00a0\u00a0\u00a0\u00a0\u00a0 client.println();}\u00a0\u00a0\u00a0\u00a0\u00a0 delay(2000);\u00a0\u00a0\u00a0\u00a0\u00a0 Serial.print(' - ');\u00a0\u00a0\u00a0\u00a0\u00a0 }I can change the code and upload data without any problem.Hope someone can see what I do wrong.", "num_user_post": " 1", "author": "tingtaler"}, {"date": "November 6, 2017 - 3:26 pm", "content": "tingtaler,I think you arent posting the 'postStr'\u00a0 Look at the code above yours:13 client.print('Content-Length: ');14 client.println(postStr.length());15 client.println();16 client.print(postStr);But you don't include that last line, so the user API key is never sent:\u00a0\u00a0\u00a0\u00a0 client.print('Content-Length: ');\u00a0\u00a0\u00a0\u00a0\u00a0 client.print(postStr.length());\u00a0\u00a0\u00a0\u00a0\u00a0 client.println();}\u00a0\u00a0\u00a0\u00a0\u00a0 delay(2000);\u00a0\u00a0\u00a0\u00a0\u00a0 Serial.print(' - ');\u00a0If you look at the response, it should provide a 401 'error_auth_required', or something similar.", "num_user_post": " 401", "author": "cstapels"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/mqtt-subscribe-not-working/", "posts": [{"date": "November 1, 2017 - 12:54 pm", "content": "Hello,I've tried to follow specification of the MQTT subscribe API to grab the feed from some public channel, but it doesn't seems to work (at least now): https://www.mathworks.com/help/thingspeak/subscribetoachannelfeed.htmlTried with the described MQTT.fx client and also with mosquitto_sub.Here is the command line I tried for the public weather feed from the API docs:mosquitto_sub -h mqtt.thingspeak.com -t channels/12397/subscribe/json -d -v -V mqttv311\u00a0Debug output is just:Client mosqsub|20264-zld52_lin sending CONNECTClient mosqsub|20264-zld52_lin received CONNACKClient mosqsub|20264-zld52_lin sending SUBSCRIBE (Mid: 1, Topic: channels/12397/subscribe/json, QoS: 0)Client mosqsub|20264-zld52_lin received SUBACKSubscribed (mid: 1): 128Client mosqsub|20264-zld52_lin sending PINGREQClient mosqsub|20264-zld52_lin received PINGRESP...\u00a0It communicate as it should, but doesn't sending data.Is the provided API actually working or am I doing something wrong?", "num_user_post": " 2", "author": "tchaloupka"}, {"date": "November 1, 2017 - 2:08 pm", "content": "I just tried to subscribe to the weather channel with MQTT.fx and it is working.\u00a0 Your syntax for the topic looks correct. 'channels/12397/subscribe/json' Can you describe what happened with the fx client?\u00a0 Did you set your MQTT API key as the password?\u00a0 There is a troubleshooting page that might help.\u00a0 Ill try mosquitto_sub and see if I can get that to work.", "num_user_post": " 401", "author": "cstapels"}, {"date": "November 2, 2017 - 3:20 am", "content": "Thanks for the reply, the problem was the password as I thought that for public feed I don't need to use the MQTT API key as is mentioned in the documentation. But it is valid only for the topic itself not the user credentials.\u00a0When I tried:mosquitto_sub -u username -P MQTT_API_key -h mqtt.thingspeak.com -t channels/12397/subscribe/json -d -v -V mqttv311\u00a0It started to work.It also works with the MQTT.fx with correct user credentials.\u00a0Thanks.", "num_user_post": " 2", "author": "tchaloupka"}, {"date": "November 2, 2017 - 3:01 pm", "content": "\u00a0Thank you for posting your solution.\u00a0 The documentation will be updated to help prevent that confusion.", "num_user_post": " 401", "author": "cstapels"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/getting-while-and-thread-problem/", "posts": [{"date": "November 2, 2017 - 4:00 am", "content": "Hi,we are using Thingspeak for and IoT app, I'm trying to send data to the portal with the code below.Lo que sucede es que el ciclo funciona 2 veces, despu\u00e9s se\u00f1ala la l\u00ednea de 'ThingSpeakResp' y dice que se excedi\u00f3 el tiempo de espera de la operaci\u00f3n. Lo que se me hace raro pues env\u00eda los datos y funciona normal las dos primeras veces.The problem is that the while just work 2 times, after sendig the second data the program stops and says that 'ThingSpeakResp' has timed out.\u00a0using System;using System.Threading;using System.Net;namespace Prueba{class MainClass { const string WRITEKEY = 'XXXXXXX'; const int updateInterval = 17000; public static void Main(string[] args) { while (true) { delayLoop(updateInterval); string strUpdateBase = 'http://api.thingspeak.com/update'; string strUpdateURI = strUpdateBase + '?api_key=' + WRITEKEY; string strField1 = '-10'; HttpWebRequest ThingSpeakReq; HttpWebResponse ThingSpeakResp; strUpdateURI += '&field1=' + strField1; ThingSpeakReq = (HttpWebRequest)WebRequest.Create(strUpdateURI); ThingSpeakResp = (HttpWebResponse)ThingSpeakReq.GetResponse();  } }static void delayLoop(int interval){ long now = DateTime.Now.Ticks / TimeSpan.TicksPerMillisecond; int offset = (int)(now % interval); int delay = interval - offset; Thread.Sleep(delay); Console.WriteLine(delay);}}}<span class='pun'></span>This is the console responseLoaded Assembly 'C:WINDOWSMicrosoft.NetassemblyGAC_MSILSystem.resourcesv4.0_4.0.0.0_es_b77a5c561934e089System.resources.dll'Loading module C:WINDOWSMicrosoft.NetassemblyGAC_MSILSystem.resourcesv4.0_4.0.0.0_es_b77a5c561934e089System.resources.dll in application domain 1:Prueba.exeFailed to load pdb for assembly C:WINDOWSMicrosoft.NetassemblyGAC_MSILSystem.resourcesv4.0_4.0.0.0_es_b77a5c561934e089System.resources.dll. Error code E_PDB_NO_DEBUG_INFO(0x806D0014)Loaded Assembly 'C:WINDOWSMicrosoft.NetassemblyGAC_MSILmscorlib.resourcesv4.0_4.0.0.0_es_b77a5c561934e089mscorlib.resources.dll'Loading module C:WINDOWSMicrosoft.NetassemblyGAC_MSILmscorlib.resourcesv4.0_4.0.0.0_es_b77a5c561934e089mscorlib.resources.dll inapplication domain 1:Prueba.exeFailed to load pdb for assembly C:WINDOWSMicrosoft.NetassemblyGAC_MSILmscorlib.resourcesv4.0_4.0.0.0_es_b77a5c561934e089mscorlib.resources.dll. Error code E_PDB_NO_DEBUG_INFO(0x806D0014)\u00a0\u00a0", "num_user_post": " 1", "author": "iamsaanvi"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/modyfing-data-from-api/", "posts": [{"date": "October 22, 2017 - 3:57 am", "content": "Hi,I'm using standard api to update a Channel Feed, but question is how to modify data.I have a temperature ex. 25.5 C on my device, but on thingspeak channel I get 255, so how can I modify this to get the correct value?Regards!Adam", "num_user_post": " 1", "author": "adaml1979"}, {"date": "October 31, 2017 - 7:22 am", "content": "ThingSpeak handles most data as strings so I would be surprised if it lost the decimal point.\u00a0 Perhaps somehow you are converting the number in your device on accident?\u00a0 What hardware are you using?\u00a0 Can you share the line where you post the data in your code?", "num_user_post": " 401", "author": "cstapels"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/unable-to-connect-to-port-80-from-my-mqtt-client/", "posts": [{"date": "October 23, 2017 - 5:15 pm", "content": "Hi,FYII noticed that I'm unable to connect to port 80 using websockets\u00a0from my MQTT Client. However, other ports seem to work without any issues.\u00a0Thanks", "num_user_post": " 12", "author": "jvasudev"}, {"date": "October 24, 2017 - 2:52 pm", "content": "It seems to be working today using the code from the websockets example on port 80.\u00a0 Please post again if it is still not working for you.\u00a0 You might want to try changing your client ID as well, sometimes the server will reject a nonunique client ID>", "num_user_post": " 401", "author": "cstapels"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/how-to-do-json-parsing-to-get-api_keys/", "posts": [{"date": "February 2, 2017 - 6:27 am", "content": "Hello,\u00a0 \u00a0 \u00a0 \u00a0 I am new to thingspeak.I am trying to Parse the Json values of a channel.I tried for the description and metadata and got it.Now i am trying to get the api_keys but i am unable to do it.I am adding the code that i used to parse.with this below code i am getting the error (Uncaught SyntaxError: Unexpected token [ in JSON at positon 1).Can anyone help me how to Parse JSON api_key values,Thankyou.CODE:-var obj,ak ; ak=''; for (var i=0; i<json.length; i++) { obj = json[i]; if (obj == null || obj == '') { window.alert(' The '+(i+1)+'th object is NULL/BLANK.'); } else { if (obj.id == did) {if (obj.api_keys == null || obj.api_keys == '') { window.alert(' The api_keys portion of '+(i+1)+'th object is NULL/BLANK.'); } else {ak = JSON.parse('{' + obj.api_keys + '}'); console.log(' The deails of '+(i+1)+'th Object are :Apikey : ' + ak.api_key + 'WriteFlag : ' + ak.write_flag ); }", "num_user_post": " 1", "author": "AnushaPoola"}, {"date": "February 11, 2017 - 11:11 pm", "content": "Did you try to print the whole json object and each array member in turn using console.log()?\u00a0\u00a0I often use http://jsonlint.com/ to check if json is properly formatted or not.", "num_user_post": " 271", "author": "rw950431"}, {"date": "September 6, 2017 - 12:17 am", "content": "I use this tool to check JSON format: JSON Formatter", "num_user_post": " 2", "author": "zoey7"}, {"date": "October 21, 2017 - 11:57 pm", "content": "Yes JSON Formatter is good tool", "num_user_post": " 1", "author": "ezmaintain"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/data-in-last-field-misread-by-thingspeak/", "posts": [{"date": "October 16, 2017 - 7:14 pm", "content": "My Arduino is sending a group of 4 x 3 digit values to Thingspeak every 20 seconds, the last member of the group is usually misread, but occasionally it is read correctly. I tried changing the timing to 25 and 35 seconds with no change in how the data was being misread. Serial.print statement confirms that the data being fed to the 4 fields is always correct. I'm stumped, any suggestions?thanksMike", "num_user_post": " 1", "author": "mikebradley"}, {"date": "October 17, 2017 - 10:10 am", "content": "Mike,Are you sending floats or strings?\u00a0 Are you using the WiFi client, or the thingSpeak Communication Library?\u00a0 Can you show an example of the correct values and the misread result?\u00a0 When you send the same data via POSTMAN or your browser, if the behavior the same? (using\u00a0https://api.thingspeak.com/update?api_key=YOURAPIKEY&field1=number)", "num_user_post": " 401", "author": "cstapels"}]}]}