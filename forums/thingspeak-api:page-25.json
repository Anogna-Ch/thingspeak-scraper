{"url": "https://community.thingspeak.com/forum/thingspeak-api/page-25/", "threads": [{"url": "https://community.thingspeak.com/forum/thingspeak-api/timescale-in-server-better-than-in-client/", "posts": [{"date": "December 20, 2015 - 2:53 am", "content": "BonjourThingspeak server limit is 8000 records when readAnd &timescale directive allow show  1 / n recordsBut it is 1/n for 8000 so the  deep time is also limited(Sorry verry bad english - petit n\u00e8gre en fran\u00e7ais)Thanks for new feature if anderstand", "num_user_post": " 7", "author": "picpic020960"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/syntax-for-using-offset-parameter-in-retrieving-the-last-entry-in-a-field-feed/", "posts": [{"date": "December 17, 2015 - 10:06 am", "content": "Documentation says I can use the offset parameter when retrieving the last entry in a field feed but I can't get it to work. https://api.thingspeak.com/channels/MYCHANNEL/feed/last.json?api_key=MYREADKEY returns the last field JSON result just fine with created_at: being in UTC.  I'd like to retrieve it in Mountain Standard Time by using the offset parameter. https://api.thingspeak.com/channels/MYCHANNEL/feed/last.json?api_key=MYREADKEY?offset=-7 returns '-1'I've tried putting ?offset= in various places and with different positive and negative numbers from the offset and all return '-1'.  Can someone please post a WORKING syntax to use the offset parameter?", "num_user_post": " 6", "author": "Eric"}, {"date": "December 17, 2015 - 12:41 pm", "content": "Eric,When you add multiple parameters to the URL, you need to separate them with an '&' symbol. Only the first parameter requires the '?'.Your URL should look like this: https://api.thingspeak.com/channels/MYCHANNEL/feed/last.json?api_key=MYREADKEY&offset=-7Let us know if that helps.Thanks,Hans", "num_user_post": " 402", "author": "Hans"}, {"date": "December 17, 2015 - 6:46 pm", "content": "Derp. Yes that fixes the problem.  Thank you!", "num_user_post": " 6", "author": "Eric"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/update-different-fields-at-different-times-in-the-same-channel/", "posts": [{"date": "December 14, 2015 - 3:39 am", "content": "Dear forum members,Just need some help from you guys to sort something out.in a channel i have 5 fields.every field need te updated from home automation at a certain timeexample :field 1 update every 15 minutesfield 2 every hour ( but not field 1 )field 3 every day ( but not field 2 and 1 )Can somebody explain why the first script is working and the second is not working ?Many thanksMarco--- code for updating field1 --- ( This is working ------ )thingspeak = Net.FHttp('api.thingspeak.com')--Huidige gebruiklocal field1 = fibaro:getGlobalValue('Watt_current');fibaro:debug ('Watt in gebruik ' .. field1)    payload = 'key=APIKEY&field1='..field1    response, status, errorCode = thingspeak:POST('/update', payload)fibaro:debug ('payload ' .. payload)fibaro:debug ('response ' .. response)--- code for updating field2 --- ( This is NOT working ------ )thingspeak = Net.FHttp('api.thingspeak.com')local field2 = fibaro:getGlobalValue('Watt_today');fibaro:debug ('Watt gebruikt vandaag ' .. field2)    payload = 'key=APIKEY&field2='..field2    response, status, errorCode = thingspeak:POST('/update', payload)fibaro:debug ('payload ' .. payload)fibaro:debug ('response ' .. response)", "num_user_post": " 1", "author": "mversluis"}, {"date": "December 14, 2015 - 8:08 am", "content": "Two notes:1) do you have field2 enabled on the channel settings tab?2) since you are sending data at three different time intervals, you are better using three different channels.", "num_user_post": " 402", "author": "Hans"}, {"date": "December 14, 2015 - 10:18 pm", "content": "I would tend to agree with HansNot a programmer so this is only a suggestion and is an untried synop only.Set up a timer to count in minutesif timer = 15 then f1data=field1data;  // 15 min incrementt2 = timer * 60;  // convert mins to hrsif t2 = 1  then f2data = field2data else f2data = oldf2data; // 60 min increment and passes same information as last reading if its not time to updateif t2 = 24 then f3data = field3data else f3data = oldf3data; // 24 hr increment and passes same information as last reading if its not time to updateupdateThingSpeak('field='+String(f1data, DEC)+'&field2='+String(f2data, DEC)+'&field3='+String(f3data, DEC));if t2 = 24 then timer = 0; // reset counter to start againOR it may be possible to use some other conditional statement.Think you may need to pass a value along for the second two fields though regardless, even if its just a copy of the last reading.", "num_user_post": " 19", "author": "BSB"}, {"date": "December 15, 2015 - 5:49 am", "content": "send data to each field using single transfersthen you can send data at any rate you desire to any of the separate fieldssince the curves X axis is time and date simply running all the time,lets say you make all 3 curves show the last 5 days,it does not matter if you got 100 points on one curveand just 10 points on the other curve, things will look like they happen at correct X axis timeI use this write data methode:http://api.thingspeak.com/update?key=yourkeyyourkey&field1=1234and then at other update rate:http://api.thingspeak.com/update?key=yourkeyyourkey&field2=5432", "num_user_post": " 24", "author": "OZ2CPU"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/help-with-updating-a-channel-feed-from-a-local-webpage/", "posts": [{"date": "November 10, 2015 - 9:21 pm", "content": "Hi all,I am new to HTML and am having a hard time finding a solution to my problem.I want to be able to open a web page in my browser and update a channel feed with some data entered from the page. I can do this by cut and pasting everything into my browser address bar and it works fine so now I want to move on to having a locally stored HTML file so that when I open it up, I am presented with a couple of fields for a date and time, then have a submit button to click which will update the thingspeak channel field.My ESP8266 checks the last entry in that field after the rest of the fields have been updated and then I want it to take any appropriate action based on that fields value.What I have in my HTML file:( pointy brackets removed so I can post it)htmlbodyform action='http://api.thingspeak.com/update?key=MY_API_KEY&field6=' method = 'post' Start date and timeinput type='datetime-local' name='startdaytime0'input type='submit' value='Submit'/form/htmlHow do I append my startdaytime0 and start_temperature0 to the form action ?Thanks", "num_user_post": " 3", "author": "nsadventurer"}, {"date": "December 12, 2015 - 10:46 am", "content": "Hey nsadventurer-You need to change the value of the 'name = ' part of the input line to equal the field you want it to update to (so e.g. name  = 'field1').  I've done that and it works to update the field.  My field is number only so haven't validated whether that will work with a date-time entry time.  I'm not sure but I think perhaps an 'ID=' is required as well.   I have a newer post in this topic that has my code.  My struggle is trying to get it to post with the browser displaying the Thingspeak success page.", "num_user_post": " 6", "author": "Eric"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/importexport-export-issues/", "posts": [{"date": "December 10, 2015 - 9:40 am", "content": "Bonjour ,when export my data (6 fields) the CSV file contains one line in excel.with notepad (see below)nota : begin with 2 fields then 4 fileds then 6 fileds.other question : how many rows is the limit of storage ?and when at the limit , all is stuck ?thank's-------------------------------------------created_at,entry_id,field1,field2,field3,field4,field5,field62015-11-07 15:14:02 UTC,1,20.80,'69.40',,,,2015-11-07 15:14:27 UTC,2,20.70,'70.10',,,,2015-11-07 15:14:50 UTC,3,20.70,'70.10',,,,2015-11-07 15:15:13 UTC,4,20.70,'70.40',,,,2015-11-07 15:15:35 UTC,5,20.60,'70.50',,,,2015-11-07 15:15:58 UTC,6,20.60,'70.70',,,,2015-11-07 15:16:22 UTC,7,20.50,'71.20", "num_user_post": " 7", "author": "picpic020960"}, {"date": "December 11, 2015 - 12:56 am", "content": "May be a problem with line-ending characters.  Try to open CSV file with WordPad instead of notepad and see if its different..Not sure what limit you are asking about- there is no limit to the number of rows that Thingspeak will store for you but there is an 8000 row limit on each API extract call.", "num_user_post": " 271", "author": "rw950431"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/remove-dots-reset-one-field-more-fields/", "posts": [{"date": "December 8, 2015 - 6:05 pm", "content": "A few questions :can I remove the dots ? and only show the lines ?can I : reset / clear / modify, only ONE field of a channel ?why can I only have 8 fields in one channel ?I need more curves, so I created more channels = more API codes = more work, feels like alot of unneeded problems.", "num_user_post": " 24", "author": "OZ2CPU"}, {"date": "December 9, 2015 - 6:30 pm", "content": "As far as I know the 8 fields per channel limit is a design decision so is unlikely to change: there are other services without such a limit but they impose limits in other ways, usually by total data size or number of days stored.The thingspeak graphs are pretty basic - have  you checked out the Matlab visualisation app?", "num_user_post": " 271", "author": "rw950431"}, {"date": "December 10, 2015 - 4:59 pm", "content": "thanks for your reply,yes i did play a bit with Matlab visualisation, i find it too hard and too time consuming to figure out how to make it do what I want,maybe it is super cool, I just did not invest the time needed to understand it.sometimes when I play arround with my new sensors, I forget I deliver data online,and by accident send out uncalibrated data to a set allready full of usefull data,I can not edit, or delete any of it seperatly..it is  just ALL or nothing,it could have been very usefull to be able to deliver wrong or bad data while setting up or calibrating stull, when ok, then clearSOME data, in only SOME fields, and leave the rest with ok data intact.", "num_user_post": " 24", "author": "OZ2CPU"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/not-all-data-points-are-being-recorded/", "posts": [{"date": "December 6, 2015 - 1:14 pm", "content": "I have my temperature sensors reporting every minute however, sometimes it does not plot the points on thingspeak all the time. For example, during the day it will be working fine, and at night time, it will stop plotting. Do I need to be logged into thingspeak all the time? We are needing consistent data.Thank you, Neil.", "num_user_post": " 4", "author": "npatel023"}, {"date": "December 7, 2015 - 8:43 am", "content": "npatel023,The write api key for the specified Channel is required for each HTTP GET/POST update. The write api key will be used for authentication.", "num_user_post": " 4", "author": "hans"}, {"date": "December 7, 2015 - 11:49 am", "content": "I have the write api key in my code, let me show you. It will work fine for hours and then stop posting for a couple hours. Then when I log into thingspeak, it will start posting again.// replace with your channel's thingspeak API key,    String apiKey = '3B7GIN9AWHVELDPK';  //String apiKey = '4C4LR7JTNFRJJPFA';//const char *ssid = 'Suite B';//const char *password = '99aa88bb77'; const char *ssid    =   'ratfink3'; const char *password =  'franklin9447';const char* server = 'api.thingspeak.com';WiFiClient client;// DS18S20 Temperature chip i/oOneWire oneWire(D1);  // pin#DallasTemperature sensors(&oneWire);void setup() {  // initialize inputs/outputs  // start serial port  sensors.begin();  Serial.begin(115200);  WiFi.begin(ssid, password);  Serial.println();  Serial.println();  Serial.print('Connecting to ');  Serial.println(ssid);  while (WiFi.status() != WL_CONNECTED) {    delay(500);    Serial.print('.');  }  Serial.println('');  Serial.println('WiFi connected');  //ESP.deepSleep(60 * 1000000, WAKE_RF_DEFAULT); //sleep for 60 seconds  //ESP.deepSleep(1800*1000000, WAKE_RF_DEFAULT); //sleep for 30 minutes}void loop() {  sensors.requestTemperatures();  float currentTemp0;  float currentTemp1;  float currentTemp2;  float currentTemp3;  float currentTemp4;  float currentTemp5;  float currentTemp6;  float currentTemp7;  currentTemp0 = sensors.getTempCByIndex(0);  currentTemp0 = (currentTemp0 * 1.8) + 32;  /*Serial.print('Temp0 = ');  Serial.print(currentTemp0);  Serial.println('');*/  currentTemp1 = sensors.getTempCByIndex(1);  currentTemp1 = (currentTemp1 * 1.8) + 32;  /*Serial.print('Temp1 = ');  Serial.print(currentTemp1);  Serial.println('');*/  currentTemp2 = sensors.getTempCByIndex(2);  currentTemp2 = (currentTemp2 * 1.8) + 32;  /*Serial.print('Temp2 = ');  Serial.print(currentTemp2);  Serial.println('');*/  currentTemp3 = sensors.getTempCByIndex(3);  currentTemp3 = (currentTemp3 * 1.8) + 32;  currentTemp4 = sensors.getTempCByIndex(4);  currentTemp4 = (currentTemp4 * 1.8) + 32;  currentTemp5 = sensors.getTempCByIndex(5);  currentTemp5 = (currentTemp5 * 1.8) + 32;  currentTemp6 = sensors.getTempCByIndex(6);  currentTemp6 = (currentTemp6 * 1.8) + 32;  currentTemp7 = sensors.getTempCByIndex(7);  currentTemp7 = (currentTemp7 * 1.8) + 32;  //send temperature readings to thingspeak  if (client.connect(server,80)){      String postStr = apiKey;           postStr +='&field1=';           postStr += String(currentTemp0);           postStr +='&field2=';           postStr += String(currentTemp1);           postStr +='&field3=';           postStr += String(currentTemp2);           postStr +='&field4=';           postStr += String(currentTemp3);           postStr +='&field5=';           postStr += String(currentTemp4);           postStr +='&field6=';           postStr += String(currentTemp5);           postStr +='&field7=';           postStr += String(currentTemp6);           postStr +='&field8=';           postStr += String(currentTemp7);           postStr += '';     client.print('POST /update HTTP/1.1');     client.print('Host: api.thingspeak.com');     client.print('Connection: close');     client.print('X-THINGSPEAKAPIKEY: '+apiKey+'');     client.print('Content-Type: application/x-www-form-urlencoded');     client.print('Content-Length: ');     client.print(postStr.length());     client.print('');     client.print(postStr);    }    client.stop();    //delay for a minute    delay(60000);}", "num_user_post": " 4", "author": "npatel023"}, {"date": "December 8, 2015 - 6:10 am", "content": "Does your arduino code indicate any errors when the data stops being recorded? Perhaps you can add some code to your loop that displays the result code of the POST each time to see if it changes at all", "num_user_post": " 271", "author": "rw950431"}, {"date": "December 8, 2015 - 9:11 am", "content": "Not that I know of. I could add it and monitor it overnight to see what's going on.", "num_user_post": " 4", "author": "npatel023"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/chart-refresh-rate/", "posts": [{"date": "December 4, 2015 - 3:26 am", "content": "Hey guys,I just installed my local server, I changed the resolution of readings to every 1 second, and thats working fine.However, my chart doesnt reflect the data, it only refreshes it seems every 15 seconds still? The data points do propagate when the page is refreshed, but i would really like to see all the data points coming in without having to hit refresh.Is there any way to fix this problem?I have a labview vi running right now so you can see it working.hereAny help would be greatly appreciated! Thanks.Also, i am new to thingspeak, this is some awesome software you guys have developed and I thank you!-Scott", "num_user_post": " 2", "author": "sramirez6208"}, {"date": "December 4, 2015 - 8:56 am", "content": "sramirez6208,Change the following line from 15000 to 1000 or <%= RATE_LIMIT_FREQUENCY.to_i * 1000 %>https://github.com/iobridge/thingspeak/blob/master/app/views/charts/show.html.erb#L107The former will hard code the change, the latter will use the string value stored in the /initializers/constants.rb file, convert the string to an integer, and convert from seconds to milliseconds. Note the use of to_i will convert the string to an integer. If the RATE_LIMIT_FREQUENCY is set to a sub-second string, to_i will convert the value to the nearest integer, 0.", "num_user_post": " 4", "author": "hans"}, {"date": "December 4, 2015 - 12:42 pm", "content": "jklol,thank you very much, that did it! I appreciate you taking the time to help out.-Scott", "num_user_post": " 2", "author": "sramirez6208"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/how-to-average-values-between-uploads-to-thingspeak-channel/", "posts": [{"date": "December 3, 2015 - 5:09 am", "content": "I'm using the Thingspeak library in my code (which doesn't really say when a value is uploaded).I'm measuring the value of a flowmeter, and I wanted to upload to ThingSpeak the average values that were measured in the 15 seconds between channel uploads. Is there any way to do that?Thank you!", "num_user_post": " 9", "author": "abhishekjacob21"}, {"date": "December 3, 2015 - 8:56 am", "content": "abhishekjacob21,ThingSpeak limits uploads to a single Channel to once every 15 seconds. As I understand, a value from the flowmeter is being sent to a ThingSpeak Channel every 15 seconds. You wish to send the average of the values between those 15 seconds to ThingSpeak. It is possible to write the average value to a separate Channel. It is possible to write the flowmeter value to field1 and the average to field2 in the same ThingSpeak data write operation.", "num_user_post": " 4", "author": "hans"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/edit-name-header-csv-http-url/", "posts": [{"date": "November 27, 2015 - 5:50 am", "content": "Hello. It is possible top edit the name of header into csv http request?,for exmple 'created_at' as 'date'.Anorther question is about date time format.It is possible to remove the UTC label at the end of csv http request url,so the final csv look like this:'2015-11-02 21:00:14,25,8'Thanks.", "num_user_post": " 7", "author": "patricio_74_"}, {"date": "November 30, 2015 - 5:42 am", "content": "Finally i found an alternative to this question editing the source code.Thanks.", "num_user_post": " 7", "author": "patricio_74_"}, {"date": "December 1, 2015 - 3:09 pm", "content": "patricio_74_,The functionality described is currently not possible, but may be considered for a future update.", "num_user_post": " 4", "author": "hans"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/csv-http-mathematical-operations/", "posts": [{"date": "November 8, 2015 - 3:11 pm", "content": "Hello. I am using a Csv Http request to include data into a webpage. What i am trying to get now is only a value on field2 on a period time:PERIOD 1:(https://api.thingspeak.com/channels/(chanel_id)/feed.csv?key=***&start=2014-11-02%2010:30:00&end=2014-11-02%2010:30:00)PERIOD 2:(https://api.thingspeak.com/channels/(chanel_id)/feed.csv?key=***&start=2014-11-02%2012:30:00&end=2014-11-02%2012:30:00) created_at,entry_id,field1,field22014-11-02 2010:30:00,157780,4,2---Period 1.2014-11-02 2011:30:00,157784,6,4.2014-11-02 2012:30:00,157787,10,5---Period 2The final result i am trying to get is:field2(Period 2)-field2(Period 1)=3,it is this possible?Thank you very much.", "num_user_post": " 7", "author": "patricio_74_"}, {"date": "November 10, 2015 - 8:34 pm", "content": "You may be able to do this with the matlab analysis app.", "num_user_post": " 271", "author": "rw950431"}, {"date": "November 11, 2015 - 9:46 am", "content": "patricio_74_,It is possible to achieve the outcome, calculating the difference of points between to time series, using the MATLAB Analysis app.The high level steps involve:1. Using the MATLAB function 'thingSpeakRead' to import the specific data from a Channel into variables for each period (https://thingspeak.com/docs/matlab_analysis#thingSpeakRead)2. Using the MATLAB minus operator to calculate the difference. (http://www.mathworks.com/help/matlab/ref/minus.html?searchHighlight=subtract)For more information about the MATLAB Analysis app, refer to the 'Analyze Your Data' section of the 'ThingSpeak and MATLAB' tutorial in the Documentation: https://thingspeak.com/docs/tutorials#analyze", "num_user_post": " 4", "author": "hans"}, {"date": "December 1, 2015 - 12:02 pm", "content": "Thank you for your reply. I will follow that steps.", "num_user_post": " 7", "author": "patricio_74_"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/first-field-is-not-taken/", "posts": [{"date": "November 25, 2015 - 12:05 pm", "content": "Hello, I send this message to the server:POST /update HTTP/1.1Host: api.thingspeak.comConnection: closeX-THINGSPEAKAPIKEY: SC1BCZIBNNWU52B7Content-Type: application/x-www-form-urlencodedContent-Length: 351=1.308&4=23.50&5=22.31&6=1.307&7=1But the first field receive no data ?Can you explain why?Many thanks to any body who can help me !Best regardsThierry Vorms", "num_user_post": " 7", "author": "vorms"}, {"date": "November 25, 2015 - 4:35 pm", "content": "Hi Thierry, Are you trying to update a channel feed?If yes, please refer to this documentation for the same: https://www.mathworks.com/help/thingspeak/update-channel-feed.html.  I think you need specify field1=1.308&field4=23.50&field5=22.31 ThanksAkhila", "num_user_post": " 21", "author": "akhila"}]}]}