{"url": "https://community.thingspeak.com/forum/matlab/page-1/", "threads": [{"url": "https://community.thingspeak.com/forum/matlab/thingspeakplot-error/", "posts": [{"date": "September 13, 2018 - 10:38 pm", "content": "Sometime in the last few days a visualization that uses thingSpeakPlot has stopped working. The error is:Error using thingSpeakPlot (line 59)The following error occurred converting from datetime to double:Undefined function 'double' for input arguments of type 'datetime'. To convert from datetimes to numeric, first subtract off a datetime origin, then convert to numeric using theSECONDS, MINUTES, HOURS, DAYS, or YEARS functions.The same code was previously working. I've created a very simple test that reproduces the problem (code below). Seems like something has changed in thingSpeakPlot ... help !% dummy table dataTimestamps = datetime({'2015-12-18 08:03:05';'2015-12-18 10:03:17';'2015-12-18 12:03:13';'2015-12-18 13:07:23';'2015-12-18 14:45:51'});Temp1 = [37.3; 39.1; 42.3; 38.9;  33.6];Temp2 = [33.5; 33.7; 34.5; 35.7; 37.6];Temp3 = [24.0;  28.1; 26.3; 27.3; 33.6];% create timetableTT = timetable(Timestamps,Temp1,Temp2,Temp3);% Visualize DatathingSpeakPlot(TT.Timestamps, TT.Variables);", "num_user_post": " 2", "author": "beluga"}, {"date": "September 14, 2018 - 2:15 pm", "content": "I am able to reproduce this issue.   We are working on a resolution and expect to implement it shortly.", "num_user_post": " 401", "author": "cstapels"}, {"date": "September 14, 2018 - 3:30 pm", "content": "The issue has been resolved. I no longer see the same error when I test the code you provided.  Please let us know if you continue to see the issue.  Be sure to refresh your browser before testing. Thank you for your help!", "num_user_post": " 401", "author": "cstapels"}, {"date": "September 14, 2018 - 4:29 pm", "content": "Working perfectly again. Thanks for the quick response", "num_user_post": " 2", "author": "beluga"}]}, {"url": "https://community.thingspeak.com/forum/matlab/urlfilter-stopped-working-with-strfind-error/", "posts": [{"date": "September 13, 2018 - 8:39 pm", "content": "I had an email that my MatLab Analysis stopped working today around 11:35AMThe general error is:Error using strfindInputs must be string scalars or character vectors.Error in urlfilterError in Scrape AmbientWeather.net (line 11)DataSet = urlfilter(URL, 'winddir', 20)This has been working fine for months. Now I can't get it fixed for the life of me. I have been all over the map looking at and trying code examples with no luck.Any help would be greatly appreciated.My (redacted) code is listed below.---------------------------------------------------------------% WriteChannelIDWriteChannelID = NNNNNN;% WriteAPIKeyWriteAPIKey = 'ABC123';% URL SetupURL = 'https://api.ambientweather.net/v1/devices?applicationKey=ZYX&apiKey=098';% Data CollectionDataSet = urlfilter(URL, 'winddir', 20)% Display All Datadisplay(DataSet(1),'Wind Direction');display(DataSet(2),'Wind Speed - MPH');display(DataSet(3),'Wind Gust - MPH');display(DataSet(4),'Maximum Daily Wind Gust - MPH');display(DataSet(5),'Outside Air Temperature - F');display(DataSet(6),'Outside Humidity');display(DataSet(7),'Hourly Rain Rate - Inches');display(DataSet(8),'Daily Rain Total - Inches');display(DataSet(9),'Weekly Rain Total - Inches');display(DataSet(10),'Monthly Rain Total - Inches');display(DataSet(11),'Yearly Rain Total - Inches');display(DataSet(12),'Total Rainfall - Inches');display(DataSet(13),'Inside Air Temperature - F');display(DataSet(14),'Inside Humidity');display(DataSet(15),'Relative Barometric Pressure - Inches of Mercury');display(DataSet(16),'Absolute Barametric Pressure - Inches of Mercury');display(DataSet(17),'UV');display(DataSet(18),'Solar Radition - w/m2');display(DataSet(19),'Outside Temperature Feels like - F');display(DataSet(20),'Dew Point');%Write eight parameters of datathingSpeakWrite(WriteChannelID, {DataSet(1),DataSet(2),DataSet(5),DataSet(6),DataSet(7),DataSet(8),DataSet(15),DataSet(19)}, 'Writekey', WriteAPIKey)------------------------------------------------------------Attached is a screenshot of the output from the AmbientWeather api.If you need additional info, please let me know and I will track it down or explain in more detail.Thanks!Scott", "num_user_post": " 2", "author": "svinzant"}, {"date": "September 14, 2018 - 11:41 am", "content": "We are able to reproduce this problem and we are working a resolution. We will post in the forum when it has been resolved.", "num_user_post": " 401", "author": "cstapels"}, {"date": "September 14, 2018 - 12:47 pm", "content": "One thing I have noted, my other MatLab Analysis that DOES work is only using 'http', whereas the one that is NOT working uses 'https'.It is certainly something in the 'urlfilter' command, maybe something with the way input is handled? Or something with the way secure http is dealt with.If there is a way to chat/message privately, please contact me and I can share my complete api keys with you for further testing on your end.Thanks!Scott", "num_user_post": " 2", "author": "svinzant"}, {"date": "September 14, 2018 - 3:27 pm", "content": "The issue has been resolved, please let us know if you continue to see the issue.  Be sure to refresh your browser before testing.  I think you have provided enough information for us to recreate the experiment. Thanks for the helpful information.  We will reach out if we need more information.", "num_user_post": " 401", "author": "cstapels"}]}, {"url": "https://community.thingspeak.com/forum/matlab/problem-with-timestamp-when-i-use-thingspeakwrite/", "posts": [{"date": "September 4, 2018 - 8:38 pm", "content": "Hello,I have problems with the time stamps. What I wanted to do is to send data that I have in my laptop to Thingspeak, so I can visualize it in the web. I need that the time stamp of the data that appear in thingspeak be the same as the one that the data have in my laptop, which is the time where the data was created in the first place. However, Thingspeak shift the time to adjust for local time which is a problem in my case, because I have weather data and I don't want my solar radiation sensor peak at 5-6 am.As an example, when I upload the data from Matlab using thingspeakwrite with a time stamp of 04-Sep-2018 16:23:43 , in Thingspeak appear shifted to 04-Sep-2018 08:23:43 (UTC -7), then when I download the same data using the data export button, this value appear shifted again to 04-Sep-2018 12:23:43 (UTC-3). What I would really like to have is the option that Thingspeak maintain the timestamp instead of keep changing it. Is there a way to do this? Can I configure the UTC time in Thingspeak or in Matlab? It seem that one way to control the shift is changing my laptop local time, but hopefully there will be a better option as a rather prefer to maintain my laptop at the correct time.I can see that there is an option in the data import/export label to modify the UTC time, but it seems that this is just for manually upload data to Thingspeak which is not what I want to do.Thank you very much for the help.", "num_user_post": " 2", "author": "kikorojo"}]}, {"url": "https://community.thingspeak.com/forum/matlab/react-30-60-minutes-not-working/", "posts": [{"date": "August 22, 2018 - 6:16 am", "content": "I subscribed to the service, set up a react.react is working on data insertion and with 10 min frequency but is NOT working with 30 / 60 min frequencey.Any ideas?", "num_user_post": " 2", "author": "joergkainz"}, {"date": "August 22, 2018 - 2:25 pm", "content": "We are able to reproduce the issue and are investigating potential resolutions. Thank you for your post.", "num_user_post": " 401", "author": "cstapels"}, {"date": "August 22, 2018 - 3:52 pm", "content": "The issue has been fixed.  Please let us know if you continue to observe the original problem.  Thanks again for reporting.", "num_user_post": " 401", "author": "cstapels"}, {"date": "August 23, 2018 - 7:23 am", "content": "THX - now its working perfectly!", "num_user_post": " 2", "author": "joergkainz"}]}, {"url": "https://community.thingspeak.com/forum/matlab/show-time-in-correct-format-in-matlab-view/", "posts": [{"date": "July 26, 2018 - 5:02 am", "content": "Hi,in my channel, timestamps are corectly shown in the 24H format (HH:MM). I made two MATLAB views from channel data, but the X axis (timestamps) is shown in the 12H format (HH:MM P/M). How can I make things consistent?", "num_user_post": " 15", "author": "fmarzocca"}, {"date": "August 6, 2018 - 9:00 am", "content": "Can you consider using the dateaxs settings?https://www.mathworks.com/help/finance/dateaxis.htmlHere is an example that uses those settings:https://www.mathworks.com/help/thingspeak/candle-plot-with-customized-date-axis.htmlI don't thing you can apply it to a thingSpeakPlot, but it will work with other MATLAB plot types that you can use in ThingSpeak.", "num_user_post": " 401", "author": "cstapels"}]}, {"url": "https://community.thingspeak.com/forum/matlab/matlab-views-on-smartphone-app/", "posts": [{"date": "July 26, 2018 - 5:00 am", "content": "Hi,I have set two MATLAB views on my channel. I can see them from the web interface, but they do not show in the smartphone App ThingView Full. Is it normal?", "num_user_post": " 15", "author": "fmarzocca"}, {"date": "July 26, 2018 - 11:45 am", "content": "I found contact information for the ThingView developer at the bottom of this page: https://play.google.com/store/apps/details?id=com.cinetica_tech.thingview&hl=en_US.  If the developer or someone else who uses ThingView checks the forum, hopefully they can chime in.  If you reach out to them, can you mention this forum to them, in case they aren't aware?If you get the answer from the developer, please post it here too.", "num_user_post": " 401", "author": "cstapels"}]}, {"url": "https://community.thingspeak.com/forum/matlab/testing-the-communication-reliability/", "posts": [{"date": "July 24, 2018 - 10:20 am", "content": "Hi everyone,is it possible to create artificially communication faults, data congestion or corrupted data  etc.in order to test how the communication network responds to that?thanks in advanceNikolas", "num_user_post": " 3", "author": "teratoulis"}]}, {"url": "https://community.thingspeak.com/forum/matlab/thingspeakplotyy-visualization-setup/", "posts": [{"date": "July 5, 2018 - 4:39 am", "content": "Hello Everybody.I'm trying to visualize multiple series with Mathlab Visualization YY Plot.Everything works great but the visualization is real bad:I can't control Y axis extention (the right one should be from -0.5 to 1.5) and the numbers on the left are displayed with 10 decimals. The plot is here:https://thingspeak.com/apps/matlab_visualizations/238861This is actually my plot code:thingSpeakPlotYY(timeStampsT,TMandata,timeStampsIO,correctState, ...                         'Ylabel1','Temperature',...                         'Ylabel2','State',...                         'LineWidth2',2);Thank You!", "num_user_post": " 1", "author": "Simone"}, {"date": "July 10, 2018 - 3:33 pm", "content": "I would consider using the basic MATLAB plot() function.  You lose some of the real time updating capabilities of thingSpeakPlots, but there are a lot more axis options.https://www.mathworks.com/help/matlab/ref/plot.html", "num_user_post": " 401", "author": "cstapels"}]}, {"url": "https://community.thingspeak.com/forum/matlab/entries-history-visualization/", "posts": [{"date": "May 22, 2018 - 4:28 am", "content": "how can i make a visualization of how many Entries i recived in a day on a bar graph? something like the the graph you can find in the account page https://thingspeak.com/account but not for every entry the account recived but just the ones from a particular channel. thank you! \ud83d\ude42", "num_user_post": " 7", "author": "frenk0"}, {"date": "May 23, 2018 - 2:37 pm", "content": "See the workflow in the Get Started tutorial, it has some similarities:https://www.mathworks.com/help/thingspeak/getting-started-with-thingspeak.htmlCreate a new MATLAB analysis.Use  thingSpeakRead to read the values from your raw channel, read for one day, you can read into a timetable and measure the height.numEntries=height(thingSpeakRead(channelID,'numDays',1,'OutputFormat','timetable'));Then use thingSpeakWrite() to write the value of numEntries to another new channel that you create (processed channel).Then save the analysis and set up a time control to call the analysis you made once per day.The thingSpeak plot in your processed channel view can be changed to a bar graph using the pencil icon in the upper right of the plot.  The default is a line plot.", "num_user_post": " 401", "author": "cstapels"}, {"date": "May 24, 2018 - 4:45 am", "content": "thanks a lot this really helped! i didn't know about the height function!", "num_user_post": " 7", "author": "frenk0"}, {"date": "May 24, 2018 - 11:48 am", "content": "Glad I could help!Let us know if you have an interesting new ThingSpeak application to share.If you read into a vector such as[data, times] = thingSpeakRead(channelID,'numDays',1);Then you should use length(times) .height() and width() are for timetables.", "num_user_post": " 401", "author": "cstapels"}]}, {"url": "https://community.thingspeak.com/forum/matlab/time-difference-between-two-dates-on-x-axis/", "posts": [{"date": "May 21, 2018 - 3:06 am", "content": "Hey everyone,i really looking forward for some help. I try to calculate the time difference between two RFID loggin Data\u00b4s. I mapped the UID\u00b4s from the cards with '1'. So ich only get 1 on y-axis and the time on x-achsis. See here: https://thingspeak.com/channels/497889I really dont\u00b4t know what function to take for calculating Time 2 - Time 1 = minetime?timeit? Tic? Toc? Plot time ? Datediff ? Diff ? and how do i get what i need ? The introductions from this functions are not givin examples from that what i want :-/ Always the last value of the table minus the second last value...Can i take this code for starting ? ( And underneath the function i need...)//readChannelID = 497889;% TODO - Replace the [] with the Field ID to read data from:fieldID1 = 1;% Channel Read API Key% If your channel is private, then enter the read API% Key between the '' below:readAPIKey = 'XXX';%% Read Data %%% Read first data variable[data,timestamps] = thingSpeakRead(497889,'Fields',[1],'NumMinutes',360)//then i get something like this: //data =     9     9     9     9timestamps =   4\u00d71 datetime array   21-May-2018 08:21:36   21-May-2018 08:21:53   21-May-2018 08:22:13   21-May-2018 08:30:36//Many thanks for some help in advance \ud83d\ude42", "num_user_post": " 1", "author": "BoOM"}, {"date": "May 21, 2018 - 8:14 am", "content": "I suspect that the diff() or caldiff() functions are what you are looking for.  Hopefully one of the Matlab experts will chime in with the right syntax..", "num_user_post": " 271", "author": "rw950431"}, {"date": "May 22, 2018 - 4:19 pm", "content": "When you read the data, MATLAB takes care of interpreting the times and you can subtract the directly.[myData,myTimes]=thingSpeakRead(497889,'NumPoints',2);numMinutes=minutes(myTimes(2)-myTimes(1));I sometimes prefer to use a timetable:myTableData=thingSpeakRead(497889,'NumPoints',2,'OutputFormat','timetable');numMins=minutes(myTableData.Timestamps(2)-myTableData.Timestamps(1));Does that help you do what you wanted to do?", "num_user_post": " 401", "author": "cstapels"}]}, {"url": "https://community.thingspeak.com/forum/matlab/plotting-a-best-fit-line-on-thingspeak-based-on-data-points-gathered-is-it-possible/", "posts": [{"date": "May 8, 2018 - 1:22 pm", "content": "Hi all,I want to plot a best fit (2D) line on ThingSpeak.I am using ThingSpeak MATLAB visualisations and I edited the program from there by adding in the function 'lsline;' to plot the best fit line.My program is as such: % TODO - Replace the [] with channel ID to read data from:readChannelID = 484262;% TODO - Replace the [] with the Field ID to read data from:fieldID1 = 1;%% Read Data %%[data, time] = thingSpeakRead(readChannelID, 'Field', fieldID1, 'NumPoints', 20);%% Visualize Data %%thingSpeakPlot(time, data);lsline;However, I have an error code which says this:To use 'lsline', the following product must be licensed, installed, and enabled:  Statistics and Machine Learning ToolboxError in Create a 2-D line plot 3 (line 21)lsline;I wish to do all of the analysis on ThingSpeak cloud platform, and not have to export the data (out from ThingSpeak) and analyse the trends by uploading data to the actual MATLAB R2018 program.Is it even possible to plot a best fit line on ThingSpeak itself, based on the data points from my channel? Or can this only be done on the actual MATLAB program?Also, is it possible to plot a best fit line on MATLAB Analysis instead? (Program above is using MATLAB Visualisation)", "num_user_post": " 2", "author": "tiaratan"}, {"date": "May 9, 2018 - 8:50 pm", "content": "If you have a license that includes Statistics and Machine learning, then log into thingspeak using the Mathworks account that has the license.  You will then be able to use Isline.  There are definitely other ways to fit data using the base MATLAB that is available through ThingSpeak.  Such a solution will not require a license. See the example at https://www.mathworks.com/help/thingspeak/Visualize-Correlation-Between-Temperature-and-Humidity.html.  The last section at the bottom shows how to use polyfit to do linear regression.  Poly fit will also fir to higher order polynomials.  There are also functions for fit other types of curves.  You can definitely do these operations in ThingSpeak MATLAB Visualizations app or the MATLAB analysis app.  You cannot plot a fit line using MATLAB analysis, but you can determine fit parameters to your data in MATLAB analysis.The linear regression page shows you how to determine slope and intercept for a line of best fit.  https://www.mathworks.com/help/matlab/data_analysis/linear-regression.htmlThe matrix technique shown will work in MATLAB analysis but you would not be able to visualize our data.", "num_user_post": " 401", "author": "cstapels"}]}, {"url": "https://community.thingspeak.com/forum/matlab/scraping-data/", "posts": [{"date": "January 18, 2018 - 8:18 am", "content": "Hi I am trying to scrape the data from my temp sensor. it is located at malcomp.mooo.com:1010\u00a0I have put the temperature between span tags like the example but it doest like it.im sure im just missing something but it just doesnt seem to get any data?\u00a0any ideas?\u00a0[code]% Scrape a website to identify the current temperature . The% temperature is then written to another ThingSpeak channel.% Specify the url containing information on current temperature in Natick, MA, U.S.A.url = 'http://malcomp.mooo.com:1010/index.htm';% TODO - Replace the [] with channel ID to write data to:writeChannelID = 405063;% TODO - Enter the Write API Key between the '' below:writeAPIKey = 'UGEUH8A5T1V9AFA9';% Fetch data and parse it to find information of interest. Learn more about% the URLFILTER function by going to the Documentation tab on the right% side pane of this page.temp = urlfilter(url,'Temp');display(temp, 'Temperature');[/code]", "num_user_post": " 18", "author": "jacktheripper125"}, {"date": "January 18, 2018 - 9:21 am", "content": "Looks like the site is loading some of the DOM dynamically. You will need to do this in two steps:1) Create a ThingHTTP appSet the URL to: http://malcomp.mooo.com:1010Set the Parse String to:\u00a0//span[2]/text()Now you can hit this ThingHTTP from a device, or from MATLAB and the result will be the text in the second <span> on the page2) Create a MATLAB Analysis app with this code:opts = weboptions('Timeout',15);data = webread('INSERT API URL FROM STEP 1',opts)", "num_user_post": " 225", "author": "Vinod"}, {"date": "January 18, 2018 - 11:01 am", "content": "I have no idea how that works in the second part but it does. now I need to push the data to the feilds but the examples given dont make sence to mei have tried the code below, but it is so far off it is probably laughable.I am trying to get the data to\u00a0 field\u00a0 \u00a0lounge_Temp\u00a0 and then once I have this I will try to play to get it to do the 4 other sensors.\u00a0thank you for your help im relived it is at least scraping\u00a0[code]% Enter your MATLAB Code belowopts = weboptions('Timeout',15);data = webread('https://api.thingspeak.com/apps/thinghttp/send_request?api_key=PC4EOCTMNDPPQOSW',opts)writeChannelID = 405063;% TODO - Enter the Write API Key between the '' below:writeAPIKey = 'blahblahblah';% Fetch data and parse it to find information of interest. Learn more about% the URLFILTER function by going to the Documentation tab on the right% side pane of this page.lounge_Temp = urlfilter(numbers);display(lounge_Temp, 'Temp');% Write the temperature data to another channel specified by the% 'writeChannelID' variabledisplay(['Note: To successfully write data to another channel, ',... 'assign the write channel ID and API Key to ''writeChannelID'' and ',... '''writeAPIKey'' variables above. Also uncomment the line of code ',... 'containing ''thingSpeakWrite'' (remove ''%'' sign at the beginning of the line.)'])% Learn more about the THINGSPEAKWRITE function by going to the Documentation tab on% the right side pane of this page.% thingSpeakWrite(writeChannelID, tempF, 'Writekey', writeAPIKey);[/code]", "num_user_post": " 18", "author": "jacktheripper125"}, {"date": "January 18, 2018 - 11:01 am", "content": "Just clarifying the reason you were unable to use WEBREAD to get to the data - the website that was serving the data was serving it on port 1010. This is a non-standard port for HTTP web servers and MATLAB running in the cloud blocks access to these non-standard ports.\u00a0By using the ThingHTTP app we were able to put a redirection from the normal port (port 80) to the non-standard port (1010) on the website serving the data.", "num_user_post": " 225", "author": "Vinod"}, {"date": "January 18, 2018 - 11:30 am", "content": "OOHHHI only picked 1010 because I could remember it. 80 is being used and a few others so i just picked 1010 as it isnt used by any of my software.what is the best port to use other than 80I will move it to that port then.once i have done that I would like to scrape this data from the page into their 4 fields. can you help with the code to do it?my fields are 1 lounge_temp 2 Loft_temp 3 Lounge_humid 4 Loft_humidthe page comes out like this below (source)\u00a0thank you for your help. I think I shot myself in the foot!\u00a0The Fan is 0<br>\u00a0<span>Temp: </span>\u00a0<span>\u00a018\u00a0</span>\u00a0<span>Temp2: </span>\u00a0<span>\u00a07\u00a0</span>\u00a0<span>humidity: </span>\u00a0<span>\u00a060\u00a0</span>\u00a0<span>humidity2: </span>\u00a0<span>\u00a081\u00a0</span>\u00a0<br>\u00a0Click <a href='/H'>here</a> turn the Fan on<br>\u00a0Click <a href='/L'>here</a> turn the Fan off<br>", "num_user_post": " 18", "author": "jacktheripper125"}, {"date": "January 18, 2018 - 11:43 am", "content": "If you're not using port 80, you will need to use ThingHTTP to essentially proxy the data from port 1010 to port 80. I showed in the example above, the Temperature, 18, is in the second span, which is why I set the Parse String to extract the value in the second <span>.\u00a0You can create any number of ThingHTTPs, one for each field.Say you want humidity2, you will change the Parse String to\u00a0\u00a0//span[8]/text()This parses the text and pulls the value within the 8th span.\u00a0Hope this helps explain the concept so you can modify accordingly.", "num_user_post": " 225", "author": "Vinod"}, {"date": "January 18, 2018 - 12:02 pm", "content": "\u00a0super 3 questions please im nearly there.1 how often will the thinghttp or the app poll for infromation and where to I change it2 can I remove the span and just look for the temp: before the temperature and temp2: before the second (this way I can remove the spans from the code saving some software space as im pushing my luck on it3 how do I get that info to the correct fields in analysis\u00a0I am aware of my stupidity with this but Im so upside down with C+ my brain isnt coping well\u00a0thank you for your patience and help\u00a0", "num_user_post": " 18", "author": "jacktheripper125"}, {"date": "January 18, 2018 - 1:02 pm", "content": "Ok Im nearly nearly there.\u00a01 I set that easy to answer\u00a02 yes i can3 still cant figuremy output is now as belowbut I cant figure the command to take the 4 numbers and fill them into the for fields.could anyone tell me what is needed? I have got part way with\u00a0\u00a0thingSpeakWrite(xxxxxx, analyzedData, 'WriteKey', xxxxxxxxxx);its the analyseddata bit im stuck on?\u00a0data = ' 17 6 61 83 '", "num_user_post": " 18", "author": "jacktheripper125"}, {"date": "January 18, 2018 - 1:50 pm", "content": "have a look at the documentation for thingSpeakWrite.\u00a0 There are some good examples there.I think you want to use the name,value pair 'fields'thingSpeakWrite(xxxxxx,'values', analyzedData, 'WriteKey', xxxxxxxxxx,'fields',[1 2 3 4]);You may have to transpose analyzedData, depending on what shape it is in.\u00a0 Use and apostrophe after the variable to transpose it.\u00a0 -> analyzedData'", "num_user_post": " 401", "author": "cstapels"}, {"date": "January 18, 2018 - 1:59 pm", "content": "Hi thank you for your replyI looked at the examples over and over and thought they would work but they only seem to be this sort\u00a0\u00a0thingSpeakWrite(17504,[2.3,1.2,3.2,0.1],'WriteKey','23ZLGOBBU9TWHG2H')perfect I thougt so off i went to use it and realised it was just filling in the data 2.3 to the first and so on and I dont know how to turn the output into a string,i tried  your command but it saidUndefined function or variable 'analyzedData'.?is no one else doing this? scraping data off a webpage and putting it into thingspeak? a big thank you for your help", "num_user_post": " 18", "author": "jacktheripper125"}, {"date": "January 19, 2018 - 1:29 pm", "content": "Can you show what the value or some sample values you have for analyzedData?\u00a0 or show the command where you scrape web data?You need to be pretty explicit about format so that thingSpeak can put stuff where you want it.perhaps consider this format :\u00a0thingSpeakWrite(17504,'Fields',[1,4,6],'Values',{2.3,'on','good'},'WriteKey','23ZLGOBBU9TWHG2H')The result of the above will be an entry as followsTime              field1  field2  field3  field4  field5  field6 field7 field8 status location{write time}\u00a0 \u00a0 \u00a02.3\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 on\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 good\u00a0Is that the effect you are looking for?", "num_user_post": " 401", "author": "cstapels"}, {"date": "January 19, 2018 - 1:48 pm", "content": "Kind of I saw an example like that but every example I see are not taking values from the output and putting them into the channel. they all say the values in the code and I dont see the point in that. the output it sees aredata = 'Lounge_Temp 17 Loft_Temp 6 Lounge_Humidity 64 Loft_Humidity 88'I have Fields with the names Lounge_Temp and Loft_Temp etc... so I need the value after putting in its field. and every time I try to do this I get an error.\u00a0I would have thought this is a normal thing to do but I cant find any examples?Hopefully you can help?", "num_user_post": " 18", "author": "jacktheripper125"}, {"date": "January 19, 2018 - 4:31 pm", "content": "If anyone is interested I fixed it, rather than trying to do all the data in one go and feed it to the channel I made 4 Matlab apps and have set them to keep requesting data.this is the code that worked.\u00a0\u00a0% Template MATLAB code for reading numeric data from a webpage, analyzing % the data and storing the analyzed data in a channel.% Prior to running this MATLAB code template, assign the url for the % webpage to scrape to the 'url' variable. Also assign the target string to % search for in the web page to the 'targetString' variable.% To store the scraped data, you will need to write it to a channel other % than the one you are reading data from. Assign this channel ID to the % 'writeChannelID' variable. Also assign the write API Key to the % 'writeAPIKey' variable below. You can find the write API Key in the right % side pane of this page as well.% TODO - Specify URL of the page to read data from url = 'https://api.thingspeak.com/apps/thinghttp/send_request?api_key=xxxxxxxxxxxxxxx'; % TODO - Specify the target string to search in webpage targetString = 'Lounge_Temp';% TODO - Replace the [] with channel ID to write data to: writeChannelID = xxxxxx; % TODO - Enter the Write API Key between the '' below: writeAPIKey = 'xxxxxxxxxxx';%% Scrape the webpage %% data = urlfilter(url, targetString); display(data);%% Analyze Data %% % Add code in this section to analyze data and store the result in the % analyzedData variable. analyzedData = data;%% Write Data %% thingSpeakWrite(writeChannelID, {analyzedData,'Lounge_Temp'}, 'WriteKey', writeAPIKey);", "num_user_post": " 18", "author": "jacktheripper125"}, {"date": "January 19, 2018 - 9:33 pm", "content": "You can use a single MATLAB analysis to scrape your data, parse the different fields and write it to 4 fields of a channel, or 4 different channels, if that is what you wish.I was trying to write the example for you, but your website is malcomp.mooo.com:1010 does not seem to be up.", "num_user_post": " 225", "author": "Vinod"}, {"date": "January 19, 2018 - 11:39 pm", "content": "I set up a\u00a0ThingHTTP that reads the #T1 element on your page to get its data.Here's the simple MATLAB Analysis App example that parses the data and writes\u00a0it into fields 1 through 4 of your channel in a single write.opts = weboptions('Timeout',18); data = webread('https://api.thingspeak.com/apps/thinghttp/send_request?api_key=USE YOUR THINGHTTP API KEY HERE',opts); d2 = strsplit(data, char(13)); LoungeTemp = str2double(regexprep(d2{2},'[^0-9]', '')); LoftTemp = str2double(regexprep(d2{4},'[^0-9]', '')); LoungeHumidity = str2double(regexprep(d2{6},'[^0-9]', '')); LoftHumidity = str2double(regexprep(d2{8},'[^0-9]', '')); thingSpeakWrite(YOURCHANNELIDHERE, [LoungeTemp, LoftTemp, LoungeHumidity, LoftHumidity], 'WriteKey', 'USE YOUR CHANNEL WRITE API KEY HERE');\u00a0If you're new to MATLAB, you can search for what some of the functions like STRREP, STRSPLIT, STR2DOUBLE, REGEXPREP, etc. do here.", "num_user_post": " 225", "author": "Vinod"}, {"date": "February 6, 2018 - 6:10 pm", "content": "WOW!\u00a0thank you.it works. i would never had got to that point, to many syntax traps for me in that code!\u00a0thank you thank you thank you!\u00a0", "num_user_post": " 18", "author": "jacktheripper125"}, {"date": "February 28, 2018 - 5:04 pm", "content": "after trying this code ive found it doesnt show minus figures anymore.do you know why?\u00a0", "num_user_post": " 18", "author": "jacktheripper125"}, {"date": "February 28, 2018 - 5:30 pm", "content": "The example code works by splitting the return string based on new lines (d2 = strsplit(data, char(13));) and then replaces all characters that are not in [0-9] in each of the subsets with a ''. This will essentially convert '-123' into 123. If you want to modify it to not drop the '-' sign, then you will need to modify the regular expression to\u00a0regexprep(d2{4},'[^-0-9]', '')That says replace everything that is not '-','0','1',...,'9' with a null value. It spares your '-' sign from being converted to a null string. If you want to ensure decimal points also should not be dropped, you will need to modify toregexprep(d2{4},'[^-.0-9]', '')", "num_user_post": " 225", "author": "Vinod"}, {"date": "March 27, 2018 - 6:55 pm", "content": "Amazing! how do you know this stuff??\u00a0unfortunately due to me being useless I broke it.\u00a0I think it had something to do with me changing the name from LoungeTemp to Lounge_Temp but I have now changed both back but i still get the error.\u00a0Index exceeds array bounds.Error in Main_Sensor_Data (line 4)LoungeTemp = str2double(regexprep(d2{2},'[^-.0-9]', ''));\u00a0opts = weboptions('Timeout',18);data = webread('https://api.thingspeak.com/apps/thinghttp/send_request?api_key=xxxxxxxxxxxxx',opts);d2 = strsplit(data, char(13));LoungeTemp = str2double(regexprep(d2{2},'[^-.0-9]', ''));LoftTemp = str2double(regexprep(d2{4},'[^-.0-9]', ''));LoungeHumidity = str2double(regexprep(d2{6},'[^-.0-9]', ''));LoftHumidity = str2double(regexprep(d2{8},'[^-.0-9]', ''));thingSpeakWrite(xxxxxx, [LoungeTemp, LoftTemp, LoungeHumidity, LoftHumidity], 'WriteKey', 'xxxxxxxxxxxx');display(data);\u00a0my channel info isName:\u00a0Main_Sensor_DataChannel ID: 4xxxxxxxxxAccess: PublicRead API Key:\u00a0OxxxxxxxxxWrite API Key:\u00a0ZxxxxxxxxxFFields:\u00a0 \u00a0 \u00a0 1: LoungeTemp\u00a0\u00a0 \u00a0 \u00a0 2: LoftTemp\u00a0\u00a0 \u00a0 \u00a0 3: LoungeHumidity\u00a0\u00a0 \u00a0 \u00a0 4: LoftHumidity\u00a0\u00a0as usual thank you for helping me out \ud83d\ude42", "num_user_post": " 18", "author": "jacktheripper125"}, {"date": "March 27, 2018 - 11:20 pm", "content": "I think there is something else going on. Your server at http://malcomp.mooo.com:1010 has become terribly slow and takes a long time to render. Additionally, there are changes in the server which cause it to sometimes return '-1' for the rendered text. To confirm this, open a new Chrome tab and hit F12. You will see the Chrome debugger. Now click no the 'Network' tab of the debugger. Now, in the address bar, type: http://malcomp.mooo.com:1010. You will see that the page takes >15s for it to render! This will likely cause your MATLAB code to timeout, since as a free user your MATLAB code has to execute in less than 20 seconds.I don't believe the solution to what you are looking for is on the ThingSpeak end. You would need to modify the code on your server that is rendering the page at http://malcomp.mooo.com:1010.\u00a0Good luck!", "num_user_post": " 225", "author": "Vinod"}]}]}