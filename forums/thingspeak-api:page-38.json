{"url": "https://community.thingspeak.com/forum/thingspeak-api/page-38/", "threads": [{"url": "https://community.thingspeak.com/forum/thingspeak-api/2-fields-on-the-same-chart/", "posts": [{"date": "November 1, 2013 - 8:24 am", "content": "Is there a syntax to display 2 fields datas on the same chart ?", "num_user_post": " 17", "author": "meltsys"}, {"date": "December 3, 2013 - 5:24 pm", "content": "Hi,We don't currently have support for multiple fields on the same chart.  If you're able to write JavaScript you may be able to modify the series yourself.  We use Highcharts, so please see http://www.highcharts.com/docs/chart-concepts/axes for reference.lee", "num_user_post": " 457", "author": "lee"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/offset/", "posts": [{"date": "December 3, 2013 - 1:24 pm", "content": "Hi,I just started working on Thingspeak API. I am facing a problem while downloading .csv file. The timezone doesn't match it is behind 5:30 hours. Here what is I am trying to fetch the file using offset parameters.http://api.thingspeak.com/channels/8703/feed.csv?offset=+05:30But it is not giving me correct date time. Please helpRegardsBishan Preet Singh", "num_user_post": " 1", "author": "bishan.preet.singh"}, {"date": "December 3, 2013 - 4:58 pm", "content": "Hi BishanCurrently we only support whole numbers for timezone offsets:http://api.thingspeak.com/channels/8703/feed.csv?offset=5lee", "num_user_post": " 457", "author": "lee"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/is-any-thingspeak-developer-reading-this-forum/", "posts": [{"date": "November 16, 2013 - 12:11 pm", "content": "Hi, this forum is not nearly as active as many others on the Internet but even the few questions that are posted here have not received any answer for months. Is any of the ThingSpeak developers actualy reading here? I am using ThingSpeak and think it is a great project but I have to say that community support is nearly not existant. Why is that?Malden", "num_user_post": " 15", "author": "Malden"}, {"date": "December 3, 2013 - 4:50 pm", "content": "Hi, I became an employee of ThingSpeak this week, and I'll be answering forum questions daily from now on.lee", "num_user_post": " 457", "author": "lee"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/python-script-and-firefox-add-on-postor-http-post-sending-null-values/", "posts": [{"date": "September 27, 2013 - 12:28 pm", "content": "I have created a new channel with only one field and have tried to post the field data using both python script from a raspberry PI and a direct post using the firefox addon POSTOR. the data was posted as NULL when i checked the JSON. What am i doing wrong? Please see my script also below.# Return CPU temperature as a character string#!/usr/bin/pythonimport osimport httplib, urllibimport timedef getCPUtemperature():res = os.popen('vcgencmd measure_temp').readline()return(res.replace('temp=','').replace(''Cn',''))def postStats():cpuTemp1 = getCPUtemperature();print 'CPU Temp: ', cpuTemp1params = urllib.urlencode({'cputmp': cpuTemp1,'key':'XXXXXXXXXXXXX'})headers = {'Content-type': 'application/x-www-form-urlencoded','Accept': 'text/plain'}conn = httplib.HTTPConnection('api.thingspeak.com:80')conn.request('POST', '/update', params, headers)response = conn.getresponse()print response.status, response.reasondata = response.read()conn.close()if __name__ == '__main__':while True:postStats()time.sleep(30)", "num_user_post": " 2", "author": "manishjadhav"}, {"date": "September 28, 2013 - 11:34 am", "content": "Hi Guys,My mistake, i hard coded the field names instead of using the generic 'field1' , 'field2' etc.thanks for reading the post though.", "num_user_post": " 2", "author": "manishjadhav"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/sending-float-values/", "posts": [{"date": "September 15, 2013 - 5:21 pm", "content": "Hello   I have problem with sending float numbers on my chart... int analogPin0 = analogRead(A0); float volt = analogPin0/(31.3); String val = String(volt); I seen more pages with this problems, and without success. please help me ", "num_user_post": " 2", "author": "Jozefiel"}, {"date": "September 17, 2013 - 4:25 pm", "content": "correct code : #include   void loop(){  char buffer[25]; // char field   int analogPin0 = analogRead(A0);  float volt = analogPin0 / (31.3);   dtostrf(volt, 2, 2, buffer); // http://dereenigne.org/arduino/arduino-float-to-string   String val = String(buffer);", "num_user_post": " 2", "author": "Jozefiel"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/retrieve-data-points-from-private-channel/", "posts": [{"date": "September 10, 2013 - 4:57 am", "content": "OK - I figured it out - no need to pay attention to the post ...-----------------------------------------------------------------------I'm trying to understand how to use the write API to retrieve data points from a private thingspeak channel.I have set up a feed for sending data to a channel on one device, but now I want a different device - an Arduino - to read each data point, but I'm kind of confused on how to go about it and have been unable to find any information online.Would appreciate pointers or examples.EDIT:To be more specific, which is always a good start when looking for a helpful answer...I'm seeking information on the use of the React app and the ThingHTTP app for the Arduino. I'm uploading data to ThingSpeak with one device and want to download/read that data with another device, an Arduino, which will then switch on a relay.The uploading data part is straightforward and there are loads of examples available online, however, the download of data seems to be a bit more cumbersome and less documented.I thought it would be possible to use React to trigger a ThingHTTP request in order to fetch each data point in the channel. And I still believe that it is possible, but I'm slightly bamboozled by the explanation on http://community.thingspeak.com/documentation/apps/thinghttp/Specifically:Parse StringThingHTTP sends back the full response that is generated by the request. If you are looking to extract a piece of data from the response, you can add a Parse String to the ThingHTTP Request. This feature allows you to do the parsing on the ThingSpeak side instead of wasting code space on the device / microcontroller side. The format is Parent_cell.child_cell etc. If you also know the full XPATH to the data, you can specify the XPATH as the Parse String.What does the Parent_cell.child_cell format refer to, how does it translate to normal people speak, and how can I use it to trigger a reaction on my arduino.Thanks.Moxi", "num_user_post": " 2", "author": "moxi"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/api-pre-processing-data-before-saving/", "posts": [{"date": "April 18, 2013 - 3:00 am", "content": "Hi All,a feature that I found very interesting in 'competitors' like emoncms.org is the ability to preprocess data using some simple algorithms to be applied to received data before saving. Just an example... a classic KW/h counter.... your arduino device send number of 'pulses' in a certain time period (read from energy equipment)... each pulse is 1W.... emoncms is able to convert these pulses in KWh... that is calculate how many pulses accumulated in last hour and put this value on your graph.Another example... emoncms can calculate the average of the value received in same day or hour so that your graph rappresent not the value you sent through your ardunino but an elaboration of that value. Is it possibile with thingspeak do the same?The advantage is obvious... with the same data sent by your device you can create not just one graph but more rappresentation of the same data, without alter your device.ThanksAlessandro", "num_user_post": " 1", "author": "alexbn"}, {"date": "July 22, 2013 - 10:28 am", "content": "I have a similar question.Is there a way to perform some calculations on the raw data sent before displaying. For example, sending data x i want to display the function y = a * log (b * x) c?Or to do any kind of smoothing with the previous data?The idea is to reduce the size of the source code for the microcontroller and its load.I think this would be another clear advantage of your service.Thank you!", "num_user_post": " 1", "author": "forything"}, {"date": "July 23, 2013 - 3:50 am", "content": "HiYou can allready smooth the data with the average or median function in the graphs. cheersCor", "num_user_post": " 37", "author": "CorBee"}, {"date": "August 20, 2013 - 8:02 am", "content": "You may use plugins to displauy another graph with preproces  data", "num_user_post": " 1", "author": "wilkxt"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/chart-timescale-not-working/", "posts": [{"date": "June 30, 2013 - 2:29 am", "content": "I'm trying to change the timescale of a graph. If I select 1440 (A whole day I presume) then it displays one dot. How do I change the time scale to display a whole day of data? Can I also change it to week/month?", "num_user_post": " 3", "author": "greg"}, {"date": "June 30, 2013 - 11:37 pm", "content": "The HighCharts library that generates the chart is very powerful, and can do anything you want.  Their HighStock library is even better for viewing historical data.  However, you will have to learn some JavaScript along the way.  What level of interest/ commitment do you have?http://www.highcharts.com", "num_user_post": " 70", "author": "turgo"}, {"date": "July 13, 2013 - 3:48 am", "content": "Thanks - I'll have a look at the highstock library.", "num_user_post": " 3", "author": "greg"}, {"date": "August 15, 2013 - 11:34 pm", "content": "You need to visit chart library where you will get the other tools.", "num_user_post": " 1", "author": "JohnsRobert"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/wiserver/", "posts": [{"date": "July 12, 2013 - 1:44 am", "content": "Hello I am wanting to connect a bit older device to Thingspeak for data processing, a linksprite diamondback using the WiServer API. I am having trouble establishing a connection on occasion and I dont think I have been able to update my channel datastreams. Is there a way I can view the header information as received on the server side? Pachube/Cosm/Xively has a request log available for debugging connection requests which I think is what I am looking for. I can post code if desired.Connected to api.thingspeak.comConnection:closeX-THINGSPEAKAPIKEY:DO1KP5UU84IG4AGDTX 212 bytesRX 0 bytes from api.thingspeak.comConnection:closeX-THINGSPEAKAPIKEY:DO1KP5UU84IG4AGDRX 164 bytes from api.thingspeak.comConnection:closeX-THINGSPEAKAPIKEY:DO1KP5UU84IG4AGDHTTP/1.1 200 OKServer: nginx/0.8.53Date: Fri, 12 Jul 2013 06:35:31 GMTContent-Type: text/html; charset=utf-8Connection: closeVary: Accept-EncodingStatusRX 136 bytes from api.thingspeak.comConnection:closeX-THINGSPEAKAPIKEY:DO1KP5UU84IG4AGD: 200ETag: 'c9f0f895fb98ab9159f51fd0297e236d'Cache-Control: max-age=0, private, must-revalidateX-Rack-Cache: inval                                     <-------------------------------transmission cut shortI think my device is having a crashing problem too so I will have to find out what is causing that as well (maybe other people use this POS device too and might have answers to that )Thanks alot guys for taking a look! Thinkspeak api is less convoluted than Xively and you guys embrace legacy devices, you support plugins (so I can use google guages easily  ) and best of all its open source! Would definitely like to support in any way I can.", "num_user_post": " 3", "author": "airsoftsoldrecn9"}, {"date": "July 13, 2013 - 11:30 pm", "content": "Also thought I would try using GET but in this manner.http://api.thingspeak.com/update?key=DO1KP5UU84IG4AGD&field1=20.0Again I think something is possibly incorrect in the header that I am sending so I am wondering if it would be at all possible to see some server side information.Got connection for api.thingspeak.comConnected to api.thingspeak.comTX 106 bytes0 - 105 of 106RX 0 bytes from api.thingspeak.comTime:1Free mem:779RX 196 bytes from api.thingspeak.comHTTP/1.1 404 Not FoundDate: Sun, 14 Jul 2013 04:25:58 GMTContent-Type: application/json; charset=utf-8Connection: close{'title':'Not found','errors':'No route matches [GET] '/update''}Ended connection with api.thingspeak.com", "num_user_post": " 3", "author": "airsoftsoldrecn9"}, {"date": "July 14, 2013 - 2:29 am", "content": "Solved that issue I think. Below is the important stuff.uint8 thingspeak_ip[] = {184,106,153,149};char energy_monitor_channel[] = 'api.thingspeak.comnX-THINGSPEAKAPIKEY:DO1KP5UU84IG4AGD';POSTrequest postDC_V(thingspeak_ip, 80, energy_monitor_channel, '', FeedUpdater);void FeedUpdater(){  WiServer.print('field1=');  WiServer.print(31);  WiServer.print('&field2=');  WiServer.print(freeRam() - 700);  WiServer.print('&field3=');  WiServer.print(freeRam() - 655);}", "num_user_post": " 3", "author": "airsoftsoldrecn9"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/javascript-to-display-last-value-of-a-channel-on-web-page/", "posts": [{"date": "June 19, 2013 - 9:30 am", "content": "Hi all,the ThingSpeak API provides the possibility to embed the chart with historical values of a channel in a web page. Now I would also like to show the last value of a channel as a number on this page. Looks like this can be done using Javascript doing something like this:$.getJSON('https://www.thingspeak.com/channels/(channel id)/field/(field id)/last.json', function(data) { ... }But of course, this is just the API request, more is needed. Therefore could someone please post some working Javascript code which returns the last value of a given channel?I am basically a C programmer and haven't learned web based languages yet.Thanks, Malden", "num_user_post": " 15", "author": "Malden"}, {"date": "June 20, 2013 - 1:59 am", "content": "Hi Malden,Here's part of a script that adds the latest data from several different channels to a chart.  You can see how the code parses the JSON data into new points for the chart.// get latest data every 15 secondssetInterval(function()            {              for (var channelIndex=0; channelIndex<channelKeys.length; channelIndex++)  // iterate through each channel              {               (function(channelIndex)               {                // get the data with a webservice call                $.getJSON('https://www.thingspeak.com/channels/'+channelKeys[channelIndex].channelNumber+'/feed/last.json?callback=?&offset=0&location=true;key='+channelKeys[channelIndex].key, function(data)                {                  for (var fieldIndex=0; fieldIndex 0)                      {                        last_date = dynamicChart.series[chartSeriesIndex].data[dynamicChart.series[chartSeriesIndex].data.length-1].x;                      }                      var shift = false ; //default for shift                      // if a numerical value exists and it is a new date, add it                      if (!isNaN(parseInt(v)) && (p[0] != last_date))                      {                        dynamicChart.series[chartSeriesIndex].addPoint(p, true, shift);                      }                    }                  }                });               })(channelIndex);              }}, 15000);", "num_user_post": " 70", "author": "turgo"}, {"date": "June 20, 2013 - 2:25 am", "content": "Hi turgo,thanks for your reply. Actually what I want to do is much simpler. As far as I understand, when calling this code:$.getJSON('http://api.thingspeak.com/channels/(channel id)/feed/last.json?callback=?', function(data) { ... }adding code between the brackets I have access to the values of data.field1 ... data.field8. I want to show these values as numbers on the web page, so I guess I need to assign the values to the value attribute of some element on the page. Must be really simple but as I have no clue about javascript I don't know how to do this.", "num_user_post": " 15", "author": "Malden"}, {"date": "June 20, 2013 - 8:55 am", "content": "The code I posted somehow changed, and the important part showing how to access the values you want disappeared.  Access the field value with data.field8, and the time with data.created_at.Here it is again:  Edit- all the pasted code did not show up again.// get latest data every 15 secondssetInterval(function()            {              for (var channelIndex=0; channelIndex<channelKeys.length; channelIndex++)  // iterate through each channel              {               (function(channelIndex)               {                // get the data with a webservice call                $.getJSON('https://www.thingspeak.com/channels/'+channelKeys[channelIndex].channelNumber+'/feed/last.json?callback=?&offset=0&location=true;key='+channelKeys[channelIndex].key, function(data)                {                  for (var fieldIndex=0; fieldIndex 0)                      {                        last_date = dynamicChart.series[chartSeriesIndex].data[dynamicChart.series[chartSeriesIndex].data.length-1].x;                      }                      var shift = false ; //default for shift                      // if a numerical value exists and it is a new date, add it                      if (!isNaN(parseInt(v)) && (p[0] != last_date))                      {                        dynamicChart.series[chartSeriesIndex].addPoint(p, true, shift);                      }                    }                  }                });               })(channelIndex);              }}, 15000);", "num_user_post": " 70", "author": "turgo"}, {"date": "June 20, 2013 - 10:15 am", "content": "Thanks turgo,now I am just missing the last bit. How do I actually print the value on the page?(Sorry if this seems a stupid question).", "num_user_post": " 15", "author": "Malden"}, {"date": "June 21, 2013 - 3:35 am", "content": "Access the HTML element with the specified id, and change its content:document.getElementById('demo').innerHTML= data.field8;see link: http://www.w3schools.com/js/js_whereto.asp", "num_user_post": " 70", "author": "turgo"}, {"date": "June 21, 2013 - 10:55 am", "content": "Thanks turgo,I was struggling with a lot of small details (and the fact that the ThingSpeak service is unstable at the moment doesn't really help) but now I get what I want. My first working Javascript code! Great.Malden", "num_user_post": " 15", "author": "Malden"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/temporarily-unavailable/", "posts": [{"date": "June 20, 2013 - 3:50 am", "content": "Hi,since 2-3 days sometimes the page is working, but I have receiveing : The page you are looking for is temporarily unavailable. Plase try again later. Even the REACT aren't working in this case...Do you have some server or network problems?", "num_user_post": " 63", "author": "vespapierre"}, {"date": "June 20, 2013 - 7:49 am", "content": "vespapierre said Hi,since 2-3 days sometimes the page is working, but I have receiveing : The page you are looking for is temporarily unavailable. Plase try again later. Even the REACT aren't working in this case...Do you have some server or network problems?I agree, I am getting the same. I posted on the @thingspeak twitter page but got no response. I know they are around because they posted Another Winner... @SmartThings to ThingSpeak with Python #iot #contest http://bridge.io/11P7qojafter that", "num_user_post": " 54", "author": "chrisjmears"}, {"date": "June 20, 2013 - 8:41 am", "content": "Same problem here. Both the web page and the API are not reachable most of the time.  Strange that there is no official statement. This has been going on for three days now.  There are thousands of channels hosted here which should all have difficulties uploading their data and only three of us have noticed?", "num_user_post": " 15", "author": "Malden"}, {"date": "June 20, 2013 - 8:57 am", "content": "Yes, we are having an issue on one of the servers in the chain. The issue has been intermittent and comes back to perfect working order for a while, then it fails on a backup. We have been working on it constantly over the past days.", "num_user_post": " 402", "author": "Hans"}, {"date": "June 20, 2013 - 9:02 am", "content": "Thanks for your work, Hans!", "num_user_post": " 70", "author": "turgo"}, {"date": "June 20, 2013 - 3:52 pm", "content": "I'm also having the same problem, particularly with accessing thingspeak.com Thanks Hans!", "num_user_post": " 1", "author": "arduinonoob"}, {"date": "June 21, 2013 - 12:49 am", "content": "Thanks a lot Hans for the informations and for fixing the problem too!!", "num_user_post": " 63", "author": "vespapierre"}, {"date": "June 21, 2013 - 2:53 am", "content": "Good. At least it's not me then!", "num_user_post": " 1", "author": "JDT"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/problem-with-displaying-data-on-chart/", "posts": [{"date": "March 11, 2013 - 2:15 am", "content": "Hi,I have gone through the link : http://community.thingspeak.com/documentation/My intention is to install Thingspeak on my local Ubuntu 12.04 PC and to send test data to private server(local Ubuntu 12.04 PC). And i want to display the test data on  chart.In order to acheive this, i have gone through the link : https://github.com/iobridge/thingspeak   and i am able  to install Thingspeak  on my local Ubuntu 12.04 PC.I am  able  to upload data to the channel through the firefox poster add-on ,after uploading i can retrieve the data with no error on json, xml, csv format. but when i click on 'view chart'option it shows a empty chart(a blank chart with x and y axis) and when i update the chart with new names(x axis, y axis and title) its not getting updated.second problem is there is no 'apps' option in menu.. Please guide me on this issue to know how to display the data on chart.Thanks,Deepak", "num_user_post": " 3", "author": "Deepak"}]}]}