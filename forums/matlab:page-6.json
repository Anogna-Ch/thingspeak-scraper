{"url": "https://community.thingspeak.com/forum/matlab/page-6/", "threads": [{"url": "https://community.thingspeak.com/forum/matlab/displaying-an-analysis-result/", "posts": [{"date": "June 16, 2016 - 4:51 pm", "content": "Hello Everyone!I am trying to write a matlab analysis file to calculate the days of battery life remaining on a esp8266 based on the slope of the decreasing battery readings and extrapolate how many days of power are left. I have the code all written and tested (works great!), however displaying a single number or string result in my channel has proved to be a huge pain. Are any of the following possible to display the information?Use\u00a0thingSpeakWrite to write (string or number) to the status field?Use\u00a0thingSpeakWrite to write to a field, but have the raw text displayed, not interpreted as a number and be graphed?Channel the matlab analysis text output to a channel or visualization?A visualization that only displays one number? or string?Does anyone have any example code to do any of these things, as of now im not sure any are possible based on the documentation I have read.Thanks For your help!Briscoe", "num_user_post": " 1", "author": "briscoe"}, {"date": "June 16, 2016 - 11:43 pm", "content": "Hi\u00a0Briscoe,If this is of any help ... I hope it is near your last question1- Apps / MATLAB Visualizations + Green button 'New' \u00a0(create a new visualization) (no analysis no plugin)2- Custom (no starter code) + Green button 'Create' (near page bottom) (so you get a blank box without templates/examples)3- MATLAB Code box (copy/paste the blue code below) \u00a0+ \u00a0Green button 'Save and Run'\u00a0\u00a0 \u00a0See results in below MATLAB Plot Output box &\u00a0Output box. I hope you have your results in a field(s) of your channel(s).\u00a0 \u00a0Maybe this can be a start point% ---------------------------------------------% ---------------------------------------------% http://www.mathworks.com/help/matlab/ref/annotationtextbox-properties.html% ---------------------------------------------currentTemp = thingSpeakRead(58826,'Field',1) % 58826 my public channelcurrentHume = thingSpeakRead(58826,'Field',2) % 58826str={[num2str(currentHume) '%'],[num2str(currentTemp) '\u00b0C']};% --------------------------------------------- izquierannotation('textbox',[0.0 0.01 0.35 0.99],...'BackgroundColor','0 1 0',...'FaceAlpha',0.15,...'Color','0 1 1',...'LineWidth',2,...'HorizontalAlignment','center',...'VerticalAlignment','bottom',...'LineStyle',':',...'String',str,...'FontSize',38); \u00a0 \u00a0%45% --------------------------------------------- medioannotation('textbox',[0.36 0.01 0.19 0.99],...'BackgroundColor','1 0 1',...'FaceAlpha',0.15,...'Color','0 0 1',...'LineWidth',2,...'HorizontalAlignment','center',...'VerticalAlignment','bottom',...'LineStyle',':',...'String',[num2str(currentHume) '%'],...'FontSize',20); \u00a0 \u00a0%25% --------------------------------------------- ajobadereannotation('textbox',[0.56 0.01 0.43 0.65],...'FontName','FixedWidth',...'BackgroundColor','.2 .3 .5',... % 0 1 1'FaceAlpha',0.95,...'LineWidth',2,...'HorizontalAlignment','right',...'VerticalAlignment','top',...'LineStyle',':',...'Color','.51 .50 1',...'String',[num2str(currentTemp) '\u00b0C'],...'FontSize',43); \u00a0 \u00a0%30% --------------------------------------------- arridereannotation('textbox',[0.56 0.67 0.43 0.33],...'FontName','FixedWidth',...'BackgroundColor','1 1 0',...'FaceAlpha',0.35,...'LineWidth',2,...'HorizontalAlignment','left',...'VerticalAlignment','middle',...'LineStyle',':',...'Color','1 0 1',...'String',['Otra Cosa'],...'FontSize',20); \u00a0%15% ---------------------------------------------% ---------------------------------------------Good luck\u00a0", "num_user_post": " 91", "author": "piajola"}]}, {"url": "https://community.thingspeak.com/forum/matlab/increase-graph-size/", "posts": [{"date": "January 20, 2016 - 7:43 am", "content": "Hello,I would like to know if its possible to increase graph size, so that when you load the page graph is already bigger than the default 240x100. I know this is possible with with normal Plugins but is the same possible with MATLAB apps?If so can you please tell he how to do it.All I would like to do is display my data publicly (can't with normal plugins, can with MATLAB), and have ability to customize graph size (can with normal Plugin, don't know if possible with MATLAB graph).This is my graph that i would like to resize.https://thingspeak.com/apps/matlab_visualizations/45521Cheers, Fanest", "num_user_post": " 4", "author": "fanest"}, {"date": "May 31, 2016 - 7:22 am", "content": "Hi Fanest,I had the same 'problem'... And here is my solution.1. Create an plugin: Chart with multiple series, also if you only need 1 \ud83d\ude422. In the CSS you change 425px to 100% and 235px to 100%3. In the java script you put in channelID, field number etcIf you only need ONE plot then delete the following lines:// variables for the second series var series_2_channel_id = 9; var series_2_field_number = 2; var series_2_read_api_key = ''; var series_2_results = 10; var series_2_color = '#00aaff';// add the second series addSeries(series_2_channel_id, series_2_field_number, series_2_read_api_key, series_2_results, series_2_color);Save and now push the view buttonRegards,Jan", "num_user_post": " 1", "author": "stofakiller"}]}, {"url": "https://community.thingspeak.com/forum/matlab/matlab-visualization-with-more-than-8000-data-points/", "posts": [{"date": "March 31, 2016 - 9:19 am", "content": "I'm trying to visualize temperature logging data over a time span of days, which corresponds to more than 8000 data points at a 15 sec POST rate.Since 'thingSpeakRead' won't get more than 8000 data points, I figured I can use more than one call and fetch one day worth of data per call, all in one Visualisation script. Unfortunately, the scripts times out when i try to gather more than 3 days of data at a time. Is there any way of getting data over longer periods of time? I don't even need all consecutive data points. Some kind of low-pass filtering would also be fine for me!My example code:readChannelID = [93093]; fieldID = [1 2 3 4 5 6];% Compile 1 week of data % Read last day. First day out of seven days t0 = datetime('now'); noofdays = 3; t = cell(noofdays,1); for i=1:noofdays % Set t(i) to represent exatly 'now' but i days ago t{noofdays-i+1} = t0; t{noofdays-i+1}.Day = t{noofdays-i+1}.Day-i+1; end% Fetch all data from TS alldata = 0; alltime = 0; for i=1:(noofdays-1) [data,time] = thingSpeakRead(readChannelID,'Fields',fieldID,'DateRange',[t{i},t{i+1}]);% Merge data if i==1 alldata = data; alltime = time; else alldata = cat( 1, alldata, data ); alltime = cat( 1, alltime, time ); end end% Downsample data with 1/100 y = alldata(1:10:end,:); x = alltime(1:10:end);%% Visualize Data %% figure(1) plot(x, y); xlabel('Time'); ylabel('Temperature \u00b0C'); title('Sensor values last week'); legend('A','B','C','D','E','F');", "num_user_post": " 1", "author": "skoogs"}, {"date": "April 4, 2016 - 3:11 am", "content": "You can use the 'average' or 'median' modifiers to reduce the number of data points although thingspeak only supports a limited number of intervals see https://au.mathworks.com/help/thingspeak/get-a-channel-feed.html", "num_user_post": " 271", "author": "rw950431"}]}, {"url": "https://community.thingspeak.com/forum/matlab/matlabsimulink-code-generation-from-models/", "posts": [{"date": "March 29, 2016 - 7:06 am", "content": "Hi there,We are using Embedded Coder to create executable C code from Matlab/Simulink Models for our controllers. It works quite well, so I wonder if it would be possible to use same approach  for Thingspeak analysis/actions. E.g. it would be nice, if I could generate code from my Simulink models and upload them to Thingspeak, to be executed periodically or on events. The input data for model would be fed by channels, and outputs would be connected to some actions in Thingspeak.That would be a great cloud controller.", "num_user_post": " 3", "author": "lingvo"}]}, {"url": "https://community.thingspeak.com/forum/matlab/download-problem/", "posts": [{"date": "March 22, 2016 - 4:53 am", "content": "Hi everyone!I made a setup with an LDR connected to the ADC of an ESP12E. The ESP12E sends every 20 seconds data to my Thingspeak channel. The data is shown very neat in a graph so it works! But here is my problem. When I try to download the data in a CSV file I only get the latest 101 data points. But somehow the other data points are not dumped, because I still see them in my graph. Can anybody tell me if I'm doing somtething wrong or that I need to change something in the settings?Thanks in advance for your reply!Thijs", "num_user_post": " 1", "author": "ThijsFeenstra"}]}, {"url": "https://community.thingspeak.com/forum/matlab/recommendations-on-parsing-data-once-a-day/", "posts": [{"date": "June 18, 2015 - 9:06 pm", "content": "Hello (and thanks for reading),I have two fields of data in a channel and I need to find the easiest way to parse the data, once a day (at the end of the day), from the two fields and output it's result into a third field. Basically what I'm doing is calculating the area under the curve of the two data fields, comparing them, and then outputting the percent difference result to the third field. My initial thoughts were to write a Python script that runs on a computer and set it to run once a day. However, that means that the computer must always be on and the data must be pulled from ThingSpeak (what if it doesn't work that day?). Any other ideas?", "num_user_post": " 11", "author": "fishmastaflex"}, {"date": "June 19, 2015 - 8:50 am", "content": "Hi,You can look at TimeControl for executing a ThingHTTP once a day ( https://thingspeak.com/docs/timecontrol#timecontrol ).  Your ThingHTTP would have to access a webserver that performs the actual calculation and POSTs it back to another channel. We realize that this isn't an ideal solution, and will work towards allowing calculations to be performed using ThingSpeak in the future.lee", "num_user_post": " 457", "author": "lee"}, {"date": "June 20, 2015 - 3:41 pm", "content": "Thank you, lee!Having a webserver may be even more work than my initial idea of a python script running everyday on a computer. Probably because I know nothing about running webservers. Allowing calculations through ThingSpeak sounds like the perfect solution. That's probably pretty far away on your road-map. Any ideas of when that may happen?", "num_user_post": " 11", "author": "fishmastaflex"}, {"date": "June 22, 2015 - 8:44 am", "content": "Hi,I'm not sure of an exact date, but it is a feature that has been requested often so it's high on our list of priorities.lee", "num_user_post": " 457", "author": "lee"}, {"date": "March 17, 2016 - 11:40 am", "content": "We have added MATLAB Analysis as an app on ThingSpeak. You can use MATLAB Analysis in combination with TimeControl to run scheduled code. The MATLAB code can script a lot of possible interactions.", "num_user_post": " 402", "author": "Hans"}]}, {"url": "https://community.thingspeak.com/forum/matlab/bar3-function/", "posts": [{"date": "February 27, 2016 - 4:27 pm", "content": "Hi - Is it possible to do the bar3 function on ThingSpeak?http://www.mathworks.com/help/matlab/ref/bar3.htmlHas anyone done it on ThingSpeak, and can share their code?Thanks!", "num_user_post": " 1", "author": "kayakpete"}, {"date": "February 29, 2016 - 9:50 am", "content": "Hi kayakpeteYou can create a bar3 plot on ThingSpeak. Here is a sample code snippet:X = randi(100, 24, 3);bar3(X)Thanks", "num_user_post": " 62", "author": "Adarsh_Murthy"}]}, {"url": "https://community.thingspeak.com/forum/matlab/urlfilter/", "posts": [{"date": "February 1, 2016 - 12:06 pm", "content": "Hi everyone:I\u00b4m suffering fails on URLFILTER command, I\u00b4ve used an analysis to calculate some variables that uses URLFILTER to get data from a webpage, It worked fine for last 3 months, but now, from three weeks ago, it\u00b4s failing at random.Sometimes work fine, sometimes fails, by the way, I don\u00b4t receive email informing failed.https://thingspeak.com/channels/56115In private view I have mora data and graphics, but as seen in other topics, can\u00b4t make them public.Does anybody realized this behaviour?Thanks in advance.B.R.", "num_user_post": " 4", "author": "mircasam"}, {"date": "February 1, 2016 - 1:24 pm", "content": "We will look into the issue with URLFILTER. We have not had any complaints wider than yours, but we will investigate.What kind of analysis are you doing?Thanks for joining the ThingSpeak Community!Hans", "num_user_post": " 402", "author": "Hans"}, {"date": "February 2, 2016 - 8:21 am", "content": "Dear Hans:I have a Matlab Analisys that makes a request through a ThingHTTP that consults Openweather page to retrieve Wind Speed (I have an authorised Acces to Openweather through my API).The rest of the analisys calculates Dew Point, Wind chill, cloud base level and some other params.As I said before, It worked fine since three months ago, but now (from three weeks ago) I notice that the charts were no updating the calculated parameters, so go to the Analisys page and found:'Error using urlfilterTarget string speed does not appear'I tried the ThingHTTP request pasting the URL directly on Chrome and works fine.Thanks a Lot.", "num_user_post": " 4", "author": "mircasam"}, {"date": "February 3, 2016 - 11:55 am", "content": "Hi, Thanks for the additional information. URLfilter function parses through the http response to find the target string 'speed'. Once it finds the word 'speed' it finds the first number occurring after. We haven't changed the URLfilter function since we introduced it. Therefore, my suspicion is that the response from Openweather might sometimes not contain the word 'speed' in it and therefore URLfilter generates an error. If this doesn't resolve the issue, tell me more about how you are using URLfilter function with ThingHttp in your MATLAB Analysis App.Thanks,Adarsh", "num_user_post": " 62", "author": "Adarsh_Murthy"}, {"date": "February 3, 2016 - 3:58 pm", "content": "Hi,I\u00b4ve been making some test, and I think you\u00b4re right.I make a call to Openweather.org throgh ThingHTTP:https://api.thingspeak.com/apps/thinghttp/send_request?api_key=6EBVWEE0FCM6TXU9If you paste literally in your browser you would receive a text (maybe JSON) with the response, but I found that sometimes, fails, so URLFILTER cannot find the string.More or less, every two or three times you request from Openweather fails.Example of right response:{'coord':{'lon':-3.86,'lat':40.73},'weather':[{'id':800,'main':'Clear','description':'Sky is Clear','icon':'01n'}],'base':'cmc stations','main':{'temp':274.17,'pressure':932.87,'humidity':82,'temp_min':274.17,'temp_max':274.17,'sea_level':1051.18,'grnd_level':932.87},'wind':{'speed':3.02,'deg':9.0007},'clouds':{'all':0},'dt':1454530522,'sys':{'message':0.0025,'country':'ES','sunrise':1454484198,'sunset':1454520947},'id':3117503,'name':'Manzanares el Real','cod':200}Example of wrong response:{'cod':401, 'message': 'Invalid API key. Please see http://openweathermap.org/faq#error401 for more info.'}Obviously in this response,URLFILTER cannot find string 'speed'so fails...I\u00b4ll try to contact to Openweather.org. anyway if matlab analisys could not stop trying to parse, probably on second try it will work.Maybe it would be a good evolution for URLFILTER function, or maybe a max number of errors before failing.And I\u00b4m still waiting for the email informing the fail... I used to receive it.Thank you very, very much!I\u00b4ll try to inform you about Openweather issue.B.R.Miro", "num_user_post": " 4", "author": "mircasam"}, {"date": "February 4, 2016 - 10:57 am", "content": "One option to avoid errors in MATLAB for known conditions is to use the Try-Catch construct:http://www.mathworks.com/help/matlab/ref/try.htmlIf you want the code to do nothing when URLfilter does not find 'speed', leave the Catch portion empty:try   urlfilter()catchendThis will keep the MATLAB code running. You can also nest try-catch constructs, i.e., try  % First attempt   urlfilter()catch   try      % Second attempt       urlfilter()   catch   endendThis allows you to call urlfilter twice and it also prevents your MATLAB Analysis app from erroring even  if on both attempts 'speed' data is missing. We are looking into the email issue and will get back soon.Thanks,Adarsh", "num_user_post": " 62", "author": "Adarsh_Murthy"}, {"date": "February 7, 2016 - 5:04 pm", "content": "Dear Adarsh:If you leave thingspeak alone, don\u00b4t mind if matlab says that code contains an error, everything works fine!As we spoke, error only happens once every two or three times, so sometimes when you find the error message in the matlab analisys, maybe next time the analisys runs, it works. And that\u00b4s it right.It\u00b4s working correctly since Thursday, maybe some updates are not correct, but doesn\u00b4t mind, at the end it\u00b4s no so important if you miss a data in hundreds.Thank you very much.Best Regards.Miro.", "num_user_post": " 4", "author": "mircasam"}]}, {"url": "https://community.thingspeak.com/forum/matlab/trigger-analysis-when-specific-field-is-updated/", "posts": [{"date": "January 6, 2016 - 5:15 pm", "content": "I have sensors that wake up at specific intervals ( ie 15 minutes), take a measurement and send it to Thingspeak.I also have a Matlab Analysis script that examines the data in the stored fields and derives different values and then writes it to a different Field in the same channel.My specific question is 'Is there a way to trigger an Matlab script by watching for an update on a Channel field?' So for example, when Field1 gets updated, the Matlab analysis triggers and updates Field2.The other option is just triggering on fixed intervals, but that feels inefficient and inaccurate.", "num_user_post": " 5", "author": "edcasati"}, {"date": "January 6, 2016 - 5:25 pm", "content": "Found my own answer.Create a trigger that 'on insertion' of data into a specific field, checks for 'Not equal to' a value and triggers if true.If I give it a nonsense value to check for, like a Humidity reading of -500, it will never meet the condition, and trigger the Matlab analysis every time.", "num_user_post": " 5", "author": "edcasati"}]}, {"url": "https://community.thingspeak.com/forum/matlab/matlab-visualization-two-channels-with-no-same-time-distribution/", "posts": [{"date": "December 18, 2015 - 8:19 am", "content": "Bonjour ,I have two devices so two channelswhen plote data , one error that say datetime not synchro.no date time merge between two data serieshow to for merge ?easy ?thanks for help", "num_user_post": " 7", "author": "picpic020960"}, {"date": "December 18, 2015 - 11:38 am", "content": "Hi, When visualizing data from two channels with different time stamps, you can plot them individually with the hold command. For example, I am plotting data from two channels below:% Read data from channel 9 and 12397[data1, time1] = thingSpeakRead(12397, 'NumPoints', 20, 'Fields', [3,4]);[data2, time2] = thingSpeakRead(9, 'NumPoints', 20);% Plot data corresponding to channel 12397plot(time1, data1);% Hold the previous plothold;% Plot data corresponding to channel 9plot(time2, data2);", "num_user_post": " 62", "author": "Adarsh_Murthy"}, {"date": "December 19, 2015 - 7:03 am", "content": "Thanks Manwork fine !(with 'thingspeakplot' draw legend but with 'plot' good time stamp result)edit : title , legend added ... too fun !", "num_user_post": " 7", "author": "picpic020960"}]}, {"url": "https://community.thingspeak.com/forum/matlab/matlab-visualization-update-issue/", "posts": [{"date": "December 8, 2015 - 5:13 am", "content": "Bonjour ,i have a MTALAB Visualization with tree fields , works fine.but when when i want update the source code , not possible at each time ; some time wait , wait .....other issue : when more than 3 days  , stucks at 3 days.but Thingspeak is fun(more easy to write on the Cloud than on SD Card !)Thanks", "num_user_post": " 7", "author": "picpic020960"}, {"date": "December 17, 2015 - 4:40 am", "content": "Bonjour ,still blocked !is it possible to export the source of my MATLAB Visualization.so can use it to update and save in new version.information : with Android browse can see the source but not edit and not copy.on Windows 10 on MPMAN tablet  ... always waiting !(source write on VISTA)This is irritating", "num_user_post": " 7", "author": "picpic020960"}, {"date": "December 17, 2015 - 9:03 am", "content": "Hi, Thank you for letting us know about the issue on MPMAN tablet. We will look into this. The source code for all your MATLAB Visualization and MATLAB Analysis Apps should be available for edit and copy, you do not need to export it. If you use a laptop, or any computer to access your MATLAB Visualization page you will have full access to your code.Thanks,Adarsh", "num_user_post": " 62", "author": "Adarsh_Murthy"}, {"date": "December 17, 2015 - 2:53 pm", "content": "@Adarsh,Same here, but 'second repetition' now. Please see http://community.thingspeak.com/forum/matlab/matlab-analysis-and-visualizations-forbidden-to-me/ see reply 13 there Hans solved my EX-issue that time but now it returned, to me the same issue.I upgraded to W10 in the same machine and I could work well and test well my Thingspeak adventures in W7 and later in W10 until 2-3 weeks ago this 'trouble' returned. I am working in my hardware (all sensors I would use) so I am not pressed to work in Matlab in thingspeak for now. That is why I have not reported this 'again'.So if you work in thingspeak (I think), please check with Hans as he already solved this issue I think ...(Same behavior in Android 4 phone & tablet).Thank you in advanceHS", "num_user_post": " 91", "author": "piajola"}, {"date": "December 18, 2015 - 7:59 am", "content": "Bonjour ,OKall is fineprobably no signout on other PC.Thanks", "num_user_post": " 7", "author": "picpic020960"}]}, {"url": "https://community.thingspeak.com/forum/matlab/thermostat-monitoring/", "posts": [{"date": "November 9, 2015 - 6:03 pm", "content": "Hi,I am trying to analyse the heating in my house, in which I have 12 thermostats.  I am keen to understand better the relationship of heating in each room between the set point and how often and how long the thermostat has to call for heat to get the room to a specific temperature, or heat the room by 1 degreeTo start off, I was hoping to be able to plot the temperature of a thermostat in degrees as a line, vs the setpoint of the thermostats as a step line, vs whether the stat is calling for heat, as a bar chart of either zero or one.  My first issue is getting the temp and set point on the same graph with the set point being a stepped line, ie not a sloping line between points.  Is this possible, or do I need to generate the missing values, as the channel only records values when it changes.  Then, how would I change the 'On' or 'Off' values on the heating field to a 0 or 1 to then plot, and can I do line vs column on the same chart?I am hoping this would be a useful example for others once I can get this working, and then I keen to learn from others what they do.  ie I would love to calculate the number of hours per day that each room is calling for heat (and the total) and plot vs outside temperature / humidity / wind etc.  Thanks,", "num_user_post": " 3", "author": "siclark"}, {"date": "November 10, 2015 - 11:10 am", "content": "siclark,'I was hoping to be able to plot the temperature of a thermostat in degrees as a line, vs the setpoint of the thermostats as a step line'Yes it is possible to create a step line type visualization using the MATLAB Visualizations app and the MATLAB visualization function 'stairs'. For more information and examples, please see the following documentation page: http://www.mathworks.com/help/matlab/ref/stairs.html'how would I change the 'On' or 'Off' values on the heating field to a 0 or 1'One method of achieving this task is writing to the Channel's 'status' field ('on' or 'off') or to one of the other 7 channel fields (0 or 1). For more information on how to update a Channel feed, see the following documentation page: https://thingspeak.com/docs/channels#update_feed'can I do line vs column on the same chart'Yes it is possible to overlay different forms of visualizations on the same plot or figure. Again, using the MATLAB Visualization app, the following MATLAB Code will produce a bar chart with a line chart overlaid on top.bar(1:10);% Retain current plot when adding new plots.hold;plot(10:-1:1) ;Note that the '%' symbol is used to add comments to MATLAB code (http://www.mathworks.com/help/matlab/matlab_prog/comments.html)Documentation:1. bar: http://www.mathworks.com/help/matlab/ref/bar.html2. hold: http://www.mathworks.com/help/matlab/ref/hold.html3. plot: http://www.mathworks.com/help/matlab/ref/plot.html", "num_user_post": " 4", "author": "hans"}, {"date": "November 11, 2015 - 6:00 pm", "content": "Hi,Thanks for all this.  It took  me a while to realise I could just enter the matlab code as I would the thingspeak functions, as thats not clear in the documentation.  However I get an error when using the stairs function  of Input arguments must be numeric.  I guess it doesnt like the date values?This is the code. readChannelID = 64586;fieldID1 = 1;fieldID2 = 2;[data1, time1] = thingSpeakRead(readChannelID, 'Field', fieldID1, 'NumDays',5);[data2, time2] = thingSpeakRead(readChannelID, 'Field', fieldID2, 'NumDays',5);plot(time1, data1);hold;stairs(time2, data2);Also, if I use thingSpeakPlot(time2, data2) I get a proper chart, but it doesnt plot the values if I use plot(time2, data2).   Is there a known reason for this, do the functions behave differently??Thanks", "num_user_post": " 3", "author": "siclark"}, {"date": "November 12, 2015 - 8:54 am", "content": "siclark,'However I get an error when using the stairs function of Input arguments must be numeric. I guess it doesnt like the date values?'Yes, that is correct. According to the 'stairs' documentation, the X and Y input arguments must be numeric values of type 'Data Types: single | double | int8 | int16 | int32 | int64 | uint8 | uint16 | uint32 | uint64 | logical' (http://www.mathworks.com/help/matlab/ref/stairs.html?searchHighlight=stairs#inputarg_X)With additional MATLAB Code, it is possible to convert the MATLAB DateTime object returned by the MATLAB function 'thingSpeakRead' to a numeric value, and have the X or Y Axes label formatted to display a date string. It is possible to convert a DateTime object to a numeric value using the MATLAB Function 'datenum'http://www.mathworks.com/help/matlab/ref/datenum.htmlOnce the figure is plotted, it is possible to change the formatting of the X or Y Axes label using the MATLAB Function 'datetick'http://www.mathworks.com/help/matlab/ref/datetick.htmNote that the MATLAB function accepts a 'dateformat' string as the second argument. Please refer to the the documentation section for more information:http://www.mathworks.com/help/matlab/ref/datetick.html?searchHighlight=stairs%20xtick#inputarg_dateFormatFor example:[data, time] = thingSpeakRead(id, 'Field', field, 'NumPoints', 5);stairs(datenum(time), data);datetick('x', 'mm/dd/yy');'I use thingSpeakPlot(time2, data2) I get a proper chart, but it doesnt plot the values if I use plot(time2, data2)'The interactive ThingSpeak plotting functions such as 'thingSpeakPlot' are incompatible with the static MATLAB plots such as 'plot' or 'stairs' and cannot be combined. Please refer to the 'Troubleshooting' section of the documentation: https://thingspeak.com/docs/troubleshooting", "num_user_post": " 4", "author": "hans"}, {"date": "November 12, 2015 - 5:51 pm", "content": "Thanks.  Its taken a while, as using datenum on the time argument for my first data set worked, but it was the second I wanted to plot as stairs and this still didnt work.The first has many more data points than the second, hence wanting to plot the second as stairs, and I assumed that this would work.However in the end I had to read the original 2nd series, use the matlab analysis to clean up and remove all the nulls from that series and write to a new channel.  Reading that channel in to the visualisation for the step line on top of the line plot from the original channel works well.  Now to work out how to do the On/Off conversion which I think I will also have to clean up and then write to a new channel as well as converting to 0,1", "num_user_post": " 3", "author": "siclark"}]}]}