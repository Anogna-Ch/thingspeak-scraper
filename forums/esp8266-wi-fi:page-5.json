{"url": "https://community.thingspeak.com/forum/esp8266-wi-fi/page-5/", "threads": [{"url": "https://community.thingspeak.com/forum/esp8266-wi-fi/export-all-data-to-the-computer/", "posts": [{"date": "July 9, 2017 - 7:53 am", "content": "Hello everyone;I need to export all my data to a file, but the Data Export button only exports the last 100 entries. How can I export them all?Thanks in advance", "num_user_post": " 2", "author": "Sommoh"}, {"date": "July 9, 2017 - 8:14 pm", "content": "SommohIn my case with windows 10, having one free account in Thimgspeak channels (not the forum one) signed in and the webpage changes a little showingCHANNEL NAMEChannel ID: 000000Author: xxxxxxxAccess: Public (or Private)\u00a0-------------- -------------- ------------------- ----------- --------------------------Private View|Public View|Channel Setting|API Keys|Data Import / Export| \u00a0(5 tabs)----------------------- \u00a0 ------------------------------------|Add Visualizations| |Data Export MATLAB Analysis| (2 buttons)----------------------- \u00a0 ------------------------------------then press the last tab (5th) Data Import / Export NOT any buttonwill change to next screen, you will see 2 zonesImport\u00a0---------|Upload| ( green button)\u00a0---------Export\u00a0------------|Download| ( green button)\u00a0------------press Download green button then it will shows a dialogBox asking for place & name for the .csv file that will be in your machineIn my case:start 18:03 \u00a0-- \u00a0end \u00a018:2731,0 MB (32.518.144 bytes)665907 lines of csv datacreated_at, \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0entry_id,field1,field2,field3,field4,field5,field6,field7,field82016-02-03 00:19:58 UTC,1, \u00a0 \u00a0 \u00a0 \u00a0 5,10,15,15,,,,2016-02-03 00:20:15 UTC,2, \u00a0 \u00a0 \u00a0 \u00a0 5,10,15,15,,,,2016-02-03 00:20:33 UTC,3, \u00a0 \u00a0 \u00a0 \u00a0 5,10,15,15,,,,2016-02-03 00:20:50 UTC,4, \u00a0 \u00a0 \u00a0 \u00a0 5,10,15,15,,,,...2017-07-09 23:24:36 UTC,665904,21.59,66.86,,,,,,2017-07-09 23:25:37 UTC,665905,21.53,66.84,,,,,,2017-07-09 23:26:38 UTC,665906,21.56,67.06,,,,,,Hope this is some helpYou are welcome in advance \ud83d\ude42", "num_user_post": " 91", "author": "piajola"}, {"date": "July 10, 2017 - 9:39 am", "content": "piajola said Sommoh In my case with windows 10, having one free account in Thimgspeak channels (not the forum one) signed in and the webpage changes a little showing CHANNEL NAME Channel ID: 000000 Author: xxxxxxx Access: Public (or Private) \u00a0-------------- -------------- ------------------- ----------- -------------------------- Private View|Public View|Channel Setting|API Keys|Data Import / Export| \u00a0(5 tabs) ----------------------- \u00a0 ------------------------------------ |Add Visualizations| |Data Export MATLAB Analysis| (2 buttons) ----------------------- \u00a0 ------------------------------------ then press the last tab (5th) Data Import / Export NOT any button will change to next screen, you will see 2 zones Import \u00a0--------- |Upload| ( green button) \u00a0--------- Export \u00a0------------ |Download| ( green button) \u00a0------------ press Download green button then it will shows a dialogBox asking for place & name for the .csv file that will be in your machine In my case: start 18:03 \u00a0-- \u00a0end \u00a018:27 31,0 MB (32.518.144 bytes) 665907 lines of csv data created_at, \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0entry_id,field1,field2,field3,field4,field5,field6,field7,field8 2016-02-03 00:19:58 UTC,1, \u00a0 \u00a0 \u00a0 \u00a0 5,10,15,15,,,, 2016-02-03 00:20:15 UTC,2, \u00a0 \u00a0 \u00a0 \u00a0 5,10,15,15,,,, 2016-02-03 00:20:33 UTC,3, \u00a0 \u00a0 \u00a0 \u00a0 5,10,15,15,,,, 2016-02-03 00:20:50 UTC,4, \u00a0 \u00a0 \u00a0 \u00a0 5,10,15,15,,,, . . . 2017-07-09 23:24:36 UTC,665904,21.59,66.86,,,,,, 2017-07-09 23:25:37 UTC,665905,21.53,66.84,,,,,, 2017-07-09 23:26:38 UTC,665906,21.56,67.06,,,,,, Hope this is some help You are welcome in advance \ud83d\ude42\u00a0\u00a0Thank you very much. The Export Data button in Private View won't do it, but this button does the trick.Very nice", "num_user_post": " 2", "author": "Sommoh"}, {"date": "July 10, 2017 - 3:53 pm", "content": "The export data button in Private view will export \u00a0what you see in your private view. \u00a0If you want to export more data, try changing the number of data points on your plot (using the pencil icon on top of the chart), and then the number of data points exported should change accordingly. \u00a0Or you can use the export tab as suggested above.", "num_user_post": " 401", "author": "cstapels"}]}, {"url": "https://community.thingspeak.com/forum/esp8266-wi-fi/retrieve-value-30-writes-ago/", "posts": [{"date": "July 5, 2017 - 3:15 pm", "content": "Hi,on ESP8266 with Arduino, I want to calculate if the temperature went up or down: compare the last write to ThingSpeak with 30 writes ago.Anybody ideas on if it is possible to pull the last entry_ID and the value of field1 of entryID-30?Thanks!", "num_user_post": " 1", "author": "Flying_Dutchman"}, {"date": "July 6, 2017 - 7:58 pm", "content": "Hi\u00a0Flying_Dutchman\u00a0In\u00a0Apps -\u00a0MATLAB AnalysisRun this as is (copy-paste) and see ouput windows\u00a0% semicolon at the end hides data (not shown)readChannelID = YoUrChAnNeLnUmBeR0123;%% Read Data %%%power = thingSpeakRead(readChannelID, 'OutputFormat','table' , 'NumDays', 3);%power = thingSpeakRead(readChannelID, 'OutputFormat','table' , 'Numpoints', 30);power = thingSpeakRead(readChannelID, 'fields',[1] , 'Numpoints', 30)%% Read Data %%%disp(power); another way to view data%% find your Data %%ulti=power(30) % data of interestvieji=power(1) % newest data%% find your Data %%cono=' ^ up';if ulti-vieji < 0 cono=' v down';enddisp(['diff ' num2str(ulti-vieji) cono]) ; % new + or - than old -- your math here%% quick & dirty way%hope this helps?\u00a0", "num_user_post": " 91", "author": "piajola"}, {"date": "July 7, 2017 - 7:59 am", "content": "If you need to do this client-side and cant run the Matlab script the API can be usedsee https://au.mathworks.com/help/thingspeak/get-channel-field-feed.html for the details but the basic API call is something likehttps://api.thingspeak.com/channels/9/fields/1.csv?results=30(You may have to include api_key if your channel is not public).\u00a0Unfortunately there is no way to only read the 30th value ago on its own. \u00a0You can only read all 30 values and pick the one you want. \u00a0", "num_user_post": " 271", "author": "rw950431"}, {"date": "July 7, 2017 - 9:22 am", "content": "if you know the entry ID of the last entry, you can subtract 30 and get it like thisGET https://api.thingspeak.com/channels/CHANNEL_NUMBER/fields/FIELD_NUMBER/'+String(entryID-30)+'.json';If you dont know the entry id of the last entry: read the last \u00a0entry, the JSON object will return the entry id for youGET https://api.thingspeak.com/channels/CHANNEL_NUMBER/feeds/last.json\u00a0The return format is shown here. \u00a0I use\u00a0<ArduinoJson.h> to parse it, there is a bit of overhead with it, but not too bad.", "num_user_post": " 401", "author": "cstapels"}, {"date": "July 9, 2017 - 8:42 am", "content": "@cstapels- nice.. \u00a0Is that documented anywhere?", "num_user_post": " 271", "author": "rw950431"}, {"date": "July 9, 2017 - 8:34 pm", "content": "rw950431,You are not asking me, but gladly I can tell you one of my findingshttps://www.mathworks.com/help/thingspeak/get-a-channel-feed.html?searchHighlight=http%3A%2F%2Fapi.thingspeak.com%2Fchannels%2F&s_tid=doc_srchtitleFriendly\u00a0", "num_user_post": " 91", "author": "piajola"}, {"date": "July 9, 2017 - 11:01 pm", "content": "Thanks piajola- its right at the bottom under the heading 'Get specific entry in channel' for anyone else who overlooked it.", "num_user_post": " 271", "author": "rw950431"}]}, {"url": "https://community.thingspeak.com/forum/esp8266-wi-fi/udp-and-thingspeak-on-8266/", "posts": [{"date": "July 8, 2017 - 2:51 pm", "content": "Hello, I'm using the Arduino IDE with ESP8266. (NodeMCU v1.0)Using WiFiUDP class to get NTP time.ThingSpeak does not work with UDP class. It does work with WiFiClient class.I\u2019m fairly new to this and didn\u2019t see anything on the forums or web. Any workarounds to get ThingSpeak to work with UDP library?", "num_user_post": " 1", "author": "markInSF"}]}, {"url": "https://community.thingspeak.com/forum/esp8266-wi-fi/why-esp8266-can-not-send-more-entries-than-8000/", "posts": [{"date": "July 3, 2017 - 1:39 pm", "content": "The last week I have development a solution with Arduino Uno and the ESP8266 WiFi Module to measure the temperature and humidity of the enviroment.It was working perfect, but when the number of entries reach the 8000, it stopped and I could not save more data at my thingspeak channel.The only solution I found was to save the information and clear the data of the channel, after this, I reset my Arduino and validated that the little station was working again without any problem.Why this happend? I think one of the reasons it is that I am using an a free license/session, after all, I dont know if it is possible to reset the channel and save the data before do that, or maybe do this automatically What else could it be done for this?Does anyone know what can I do to keep recolecting data avoiding this manually reset?Thanks a lot for your help!", "num_user_post": " 1", "author": "Abraham Levy"}]}, {"url": "https://community.thingspeak.com/forum/esp8266-wi-fi/thingspeak-does-not-logs-data-from-sensor-to-server/", "posts": [{"date": "April 18, 2017 - 5:07 am", "content": "I am having this same problem using a DHT11 Sensor. No matter what I try, My thingspeak channel is not at all recording data sent to it. I am working on a IOT Project for my college. I have tried almost 15-19 tutorials on the internet. Using functions like\u00a0ThingSpeak.writeField(channel, 1, t, apiKey), ThinkSpeak.setFields() to using POST methods from arduino etc.\u00a0None Seems to work. I don't know where i am going wrong. However if I type the post method with the api key and field values in the address bar of the browser, the data gets logged into ThinkSpeak.\u00a0Here is my Code: Parts of it, like the network ssid, passwords and API Keys are hidden. I have it in my sketch though.#include#include#include#include#define dht_apin 4// Analog Pin sensor is connected to#define IP '184.106.153.149'DHT dht(dht_apin, DHT11,15);const char* apiKey = '';\u00a0//Hidden due to privacyString apiKey1 = '';\u00a0//Hidden due to privacyunsigned long channel =;\u00a0//Hidden due to privacyconst char* ssid = '//Hidden due to privacy';const char* password = '//Hidden due to privacy';const char* server = 'api.thingspeak.com';int h,t;WiFiClient client;void setup(){Serial.begin(115200);delay(500);//Delay to let system bootdht.begin();delay(1000);//Wait before accessing SensorWiFi.begin(ssid, password);Serial.println();Serial.println();Serial.print('Connecting to ');Serial.println(ssid);WiFi.begin(ssid, password);while (WiFi.status() != WL_CONNECTED) {delay(500);Serial.print('.');}Serial.println('');Serial.println('WiFi connected');ThingSpeak.begin(client);}//end 'setup()'void loop(){//Start of Program// DHT.read11(dht_apin);Serial.print('Current humidity = ');Serial.print(dht.readHumidity());h=dht.readHumidity();Serial.print('% ');Serial.print('temperature = ');Serial.print(dht.readTemperature());t=dht.readTemperature();Serial.println('C ');if (isnan(h) || isnan(t)) {Serial.println('Failed to read from DHT sensor!');return;}This is creating the Headache i think. Please Look into this part of Code specifically.\u00a0if (client.connect(server,80)) { // '184.106.153.149' or api.thingspeak.comSerial.print('Temperature: ');Serial.print(t);ThingSpeak.setField(1,t); Serial.print(' degrees Celcius Humidity: ');Serial.print(h);ThingSpeak.setField(2,h);Serial.println('% send to Thingspeak');String postStr = apiKey;postStr +='&field1=';postStr += String(t);postStr +='&field2='; postStr += String(h);postStr += '';client.print('POST /update HTTP/1.1');client.print('Host: api.thingspeak.com');client.print('Connection: close');client.print('X-THINGSPEAKAPIKEY: '+apiKey1+'');client.print('Content-Type: application/x-www-form-urlencoded');client.print('Content-Length: ');client.print(postStr.length());client.print('');client.print(postStr);// wait for response/*while(!!!client.available()) {delay(10);}*/// Read all the lines of the reply from server and print them to SerialSerial.println('Response: ');while(client.available()){String line = client.readStringUntil('');Serial.print(line);}Serial.println();Serial.println('closing connection');//ThingSpeak.writeField(channel, 1, t, apiKey); //ThingSpeak.writeField(channel, 2, h, apiKey);// Write the fields that you've set all at once.//ThingSpeak.writeFields(channel,apiKey);}else{Serial.print('Cannot connect to the internet. Check Mobile Data');Serial.print('');}client.stop();Serial.println('Waiting\u2026');// thingspeak needs minimum 15 sec delay between updatesdelay(20000);//Fastest should be once every two seconds.}// end loop()\u00a0Thanking YouRegardsSteelBullets", "num_user_post": " 3", "author": "steelbullets"}, {"date": "April 18, 2017 - 9:40 pm", "content": "have you tried the example from here? https://github.com/mathworks/thingspeak-arduino/tree/master/examples/WriteMultipleVoltagesAt the moment your code is confused- for example you assemble a query string like you are going to do a GET but you end up POST-ing instead.\u00a0 I always start with a working example then gradually modify it to work the way I want.", "num_user_post": " 271", "author": "rw950431"}, {"date": "April 19, 2017 - 2:58 am", "content": "rw950431 said have you tried the example from here? https://github.com/mathworks/thingspeak-arduino/tree/master/examples/WriteMultipleVoltages At the moment your code is confused- for example you assemble a query string like you are going to do a GET but you end up POST-ing instead.\u00a0 I always start with a working example then gradually modify it to work the way I want.\u00a0\u00a0I am so much thankful to your advice. I looked into my code and found that I made a mistake of using POST method instead of GET. Thank you so much.Here is the final code i created now: Only the data sending part if (client.connect(IP,80)) { // '184.106.153.149' or api.thingspeak.com Serial.print('Temperature: '); Serial.print(t); ThingSpeak.setField(1,t);  Serial.print(' degrees Celcius Humidity: '); Serial.print(h); ThingSpeak.setField(2,h); Serial.println('% send to Thingspeak'); String postStr = apiKey; postStr +='&field1='; postStr += String(t); postStr +='&field2=';  postStr += String(h); postStr += '';//This is the changed partString cmd = 'GET https://api.thingspeak.com/update?api_key='; cmd += postStr; client.print(cmd);\u00a0Thank you\u00a0rw950431RegardsSteelBullets", "num_user_post": " 3", "author": "steelbullets"}, {"date": "April 19, 2017 - 8:00 am", "content": "It seems that you are combining thingspeak library commands with client write commands. \u00a0It is possible to write to ThingSpeak using the ThingSpeak library - these are the ThingSpeak.setField and ThingSpeak.writeFields etc. commands. \u00a0It is also possible to use your own client and build the HTTP POST call yourself, which is the client.print(cmd) method. \u00a0There are good reasons to use either, but I wouldn't suggest using both\u00a0simultaneously. \u00a0I would recommend using the library, but if you want to use the client version, I think you need a string that says 'api_key=' before you append the actual apikey. \u00a0I haven't checked your code completely so you will want to follow the example closely.\u00a0", "num_user_post": " 401", "author": "cstapels"}, {"date": "June 23, 2017 - 3:50 am", "content": "Hi. I have similar problem. My data does not log to server, when I switch to different Wifi access point (of course SSID and PASSWORD are changed in the code before switching).Here is my code:#include #include #include #include #define ONE_WIRE_BUS 2char ssid[] = 'MY_SSID';char pass[] = 'MY_PASSWORD';WiFiClient client;OneWire oneWire(ONE_WIRE_BUS);DallasTemperature DS18B20(&oneWire);unsigned long myChannelNumber = MY_CHANNEL_NUMBER;const char * myWriteAPIKey = 'MY_API_KEY';void setup() { WiFi.begin(ssid, pass); ThingSpeak.begin(client); pinMode(LED_BUILTIN, OUTPUT);}void loop() { digitalWrite(LED_BUILTIN, HIGH); DS18B20.requestTemperatures(); float temp = DS18B20.getTempCByIndex(0); ThingSpeak.writeField(myChannelNumber, 1, temp, myWriteAPIKey); delay(1000); digitalWrite(LED_BUILTIN, LOW); delay(19000);}", "num_user_post": " 1", "author": "tomski"}, {"date": "June 26, 2017 - 6:16 pm", "content": "Some networks may need more time to connect, I would suggest adding some delay and a loop to trying connection repeatedly. \u00a0You could add it to your main loop in case the device looses connection after start up. The antenna on an ESP8266 is pretty small...Have a look at the methods for connecting to wifi in here.", "num_user_post": " 401", "author": "cstapels"}, {"date": "June 27, 2017 - 7:48 am", "content": "I also built my first Thingspeak project for monitoring temperature using DHT11, but I always send values through URL using POST function like belowsprintf(postUrl, 'update?api_key=%s&field1=%s&field2=%s',api_key,humidStr,tempStr);httpGet('api.thingspeak.com', postUrl, 80);I followed this Arduino temperature monitoring article, and it worked for me as it is. I will try to use ThingSpeak.writeField function next time, till then you can also try to send values to server using POST URL, read the referred article for detailed instruction.", "num_user_post": " 1", "author": "jaysha4"}]}, {"url": "https://community.thingspeak.com/forum/esp8266-wi-fi/mdns-alternative/", "posts": [{"date": "May 22, 2017 - 1:59 pm", "content": "Hi all,\u00a0Need help! The problem is:The user needs to access a webserver web page installed on esp8266 and connected as a client.For this it is necessary to know the IP assigned by the DHCP of the network router.I'm trying to use the mDNS library to access the device as 'mydevice.local'.This is not working. (Even using Bonjour on Win 10, and also does not work on Android 6.0)Does anyone suggest another technique or method to achieve for the same purpose?\u00a0Tks!", "num_user_post": " 5", "author": "avoletta"}]}, {"url": "https://community.thingspeak.com/forum/esp8266-wi-fi/esp8266-and-arduino-ide/", "posts": [{"date": "May 14, 2017 - 5:26 pm", "content": "HiI'm new to this forum and very confused / bewildered.I was excited to find what I thought to be a simple way to log data via the internet. The ESP8266 looked very promising (and simple?).\u00a0I've spent several hours trying to test the RSSI send example and found it impossible to load into my ESP. Code compilation took several minutes, generated some 250k of code, and just could not upload - errors half way.\u00a0Please advise me if I'm missing something:Is it normal that compilation takes forever?Can the code really be >250k?I'm used to programming using PIC micros using the Mikroe development system and it is lightning fast, and generates very economical code.\u00a0I'm really keen to use the ESP, but does it work\u00a0ThanksJohn", "num_user_post": " 1", "author": "TheFossil"}, {"date": "May 14, 2017 - 9:01 pm", "content": "It is quite normal to generate that kind of code size.\u00a0 The Arduino interface is basically an emulator built on top of the expressif SDK so the code is not that efficient.\u00a0 I suspect that you could write much smaller and more efficient code using the native SDK (https://espressif.com/en/support/download/sdks-demos) but you would need to learn a new environment and set up a new toolchain. That being said the ESP8266 is a much more sophisticated and capable board than a Pic or AtMega so code is going to be larger by necessity.\u00a0You may get more assistance with your upload problems on the arduino forums (http://forum.arduino.cc/index.php#c3)", "num_user_post": " 271", "author": "rw950431"}]}, {"url": "https://community.thingspeak.com/forum/esp8266-wi-fi/lm35-sensor-cant-see-data-on-chart/", "posts": [{"date": "April 17, 2017 - 7:32 pm", "content": "Hello everyone, newbie hereI'v started using an ESP8266 12E with an LM35 Temperature sensor, I can read data correctly and show the on my serial monitor, but when I created a new channel on thingspeak and added the API key to my code to show the data, I can't see nothing, Entries value keep incrementing, but I can't see anything on the chart.Help, Thanks.", "num_user_post": " 1", "author": "Khorne666"}, {"date": "April 17, 2017 - 9:34 pm", "content": "Have you had a look at this tutorial? Does following this tutorial give you the right results in your ThingSpeak channel? Can you compare your code with what is in the tutorial to figure out what is different in your code that causes it to not work?", "num_user_post": " 225", "author": "Vinod"}, {"date": "April 18, 2017 - 5:02 am", "content": "Even i am having this same problem using a DHT11 Sensor. No matter what I try, My thingspeak channel is not at all recording data sent to it. I am working on a IOT Project for my college. I have tried almost 15-19 tutorials on the internet. Using functions like\u00a0ThingSpeak.writeField(channel, 1, t, apiKey), ThinkSpeak.setFields() to using POST methods from arduino etc.\u00a0None Seems to work. I don't know where i am going wrong. However if I type the post method with the api key and field values in the address bar of the browser, the data gets logged into ThinkSpeak.\u00a0Here is my Code: Parts of it, like the network ssid, passwords and API Keys are hidden. I have it in my sketch though.#include #include #include #include #define dht_apin 4// Analog Pin sensor is connected to #define IP '184.106.153.149'DHT dht(dht_apin, DHT11,15); const char* apiKey = '';\u00a0//Hidden due to privacy String apiKey1 = '';\u00a0//Hidden due to privacy unsigned long channel =;\u00a0//Hidden due to privacy const char* ssid = '//Hidden due to privacy'; const char* password = '//Hidden due to privacy'; const char* server = 'api.thingspeak.com'; int h,t;WiFiClient client;void setup(){Serial.begin(115200); delay(500);//Delay to let system boot dht.begin(); delay(1000);//Wait before accessing Sensor WiFi.begin(ssid, password); Serial.println(); Serial.println(); Serial.print('Connecting to '); Serial.println(ssid); WiFi.begin(ssid, password);while (WiFi.status() != WL_CONNECTED) { delay(500); Serial.print('.'); } Serial.println(''); Serial.println('WiFi connected'); ThingSpeak.begin(client);}//end 'setup()'void loop(){ //Start of Program// DHT.read11(dht_apin);Serial.print('Current humidity = '); Serial.print(dht.readHumidity()); h=dht.readHumidity(); Serial.print('% '); Serial.print('temperature = '); Serial.print(dht.readTemperature()); t=dht.readTemperature(); Serial.println('C '); if (isnan(h) || isnan(t)) { Serial.println('Failed to read from DHT sensor!'); return; }This is creating the Headache i think. Please Look into this part of Code specifically.\u00a0if (client.connect(server,80)) { // '184.106.153.149' or api.thingspeak.com Serial.print('Temperature: '); Serial.print(t); ThingSpeak.setField(1,t);  Serial.print(' degrees Celcius Humidity: '); Serial.print(h); ThingSpeak.setField(2,h); Serial.println('% send to Thingspeak'); String postStr = apiKey; postStr +='&field1='; postStr += String(t); postStr +='&field2=';  postStr += String(h); postStr += '';client.print('POST /update HTTP/1.1 '); client.print('Host: api.thingspeak.com '); client.print('Connection: close '); client.print('X-THINGSPEAKAPIKEY: '+apiKey1+' '); client.print('Content-Type: application/x-www-form-urlencoded '); client.print('Content-Length: '); client.print(postStr.length()); client.print(' '); client.print(postStr);// wait for response /*while(!!!client.available()) { delay(10); }*/// Read all the lines of the reply from server and print them to Serial Serial.println('Response: '); while(client.available()){ String line = client.readStringUntil(''); Serial.print(line); }Serial.println(); Serial.println('closing connection'); //ThingSpeak.writeField(channel, 1, t, apiKey);  //ThingSpeak.writeField(channel, 2, h, apiKey); // Write the fields that you've set all at once. //ThingSpeak.writeFields(channel,apiKey); } else{ Serial.print('Cannot connect to the internet. Check Mobile Data'); Serial.print(' '); } client.stop();Serial.println('Waiting\u2026'); // thingspeak needs minimum 15 sec delay between updates delay(20000);//Fastest should be once every two seconds.}// end loop()\u00a0Thanking YouRegardsSteelBullets", "num_user_post": " 3", "author": "steelbullets"}]}, {"url": "https://community.thingspeak.com/forum/esp8266-wi-fi/error-while-attempting-http-get-with-sim808-1/", "posts": [{"date": "March 12, 2017 - 10:16 am", "content": "\u00a0im trying to update thinkspeak from sim808 but getting network error . kindly please check below and let me know if this is anything wrong in my methodology. im using terminal.exe to send command via RS232.ATOKAT+CREG?+CREG: 0,5   //connected in roamingAT+SAPBR=3,1,'Contype','GPRS'OKAT+SAPBR=3,1,'APN','www'     //VODAFONE INDIA 'www' is APN (as per the operator)OKAT+SAPBR=3,1,'USER',''       //blank (as per the operator)OKAT+SAPBR=3,1,'PWD',''       //blank  (as per the operator)AT+SAPBR=1,1OKAT+HTTPINITOKAT+HTTPPARA='CID','1'OKAT+HTTPARA='URL','https://api.thingspeak.com/update?api_key=MY_KEY&amp;field1=VALUE'OKAT+HTTPACTION=0+HTTPACTION: 0,603,0 // as per documentnote: while im typing in browser url box, https://api.thingspeak.com/update?api_key=MY_KEY&field1=VALUE, i can able to update my field. i can able make call, send sms, i have internet packPLEASE HELP\u00a0", "num_user_post": " 2", "author": "SankarSaba"}]}, {"url": "https://community.thingspeak.com/forum/esp8266-wi-fi/esp8266-cant-connect-to-thinkspeak/", "posts": [{"date": "February 9, 2017 - 1:23 pm", "content": "I am using this tutorial - [https://www.instructables.com/id/Flowmeter-NodeMcu-Counting-Litres/][1]i am also using a same Node MCU ESP8266i connected it to my home network the local ip address is also displayed but it doesn't connected to my thingspeak channel and it struck at the waiting for the clienti also check a my thingspeak API its correct and my home network is also workingThanks in advance", "num_user_post": " 1", "author": "abhishek123"}, {"date": "February 10, 2017 - 11:28 am", "content": "That sounds like a connectivity problem. Are you using a kind of WiFi security that the microcontroller cannot handle (WPA2 perhaps?) Maybe you can set up a WiFi that does not require authentication?The first step in debugging this would be to see if you can reach the internet from your nodeMCU micro.\u00a0", "num_user_post": " 225", "author": "Vinod"}, {"date": "February 26, 2017 - 12:06 pm", "content": "hello,I cannot send data to thingspeak with esp8266 (I had thingspeak library and added the apikey number in the arduino ide...) ; I get only on my serial monitor the following information :Temperature: 23.00 degrees Celcius Humidity: 42.00% send to ThingspeakWaiting...Failed to read from DHT sensor!but nothing is arriving into my channelWhat could be the causes ? help", "num_user_post": " 2", "author": "herge"}, {"date": "February 26, 2017 - 12:22 pm", "content": "I'd recommend starting from something that works. Try this tutorial modified with your channel info:http://nothans.com/measure-wi-fi-signal-levels-with-the-esp8266-and-thingspeakDoes this work?", "num_user_post": " 225", "author": "Vinod"}, {"date": "February 27, 2017 - 3:54 pm", "content": "I have a very similar issue, I try the DHT sensor, and is taking measurements, and I check if it is connected to the network and it also is, the code get stocked in this line.(from this code source http://www.instructables.com/id/Send-sensor-data-DHT11-BMP180-to-ThingSpeak-with-a/?ALLSTEPS){if (client.connect(thingSpeakAddress, 80)){I review that the variable\u00a0thingSpeakAddress, has the correct address.I'm trying to connect to my plant router, so I can't\u00a0change the security type.I know my network is encrypted in WPA2-Personal with AES.I also set up a webserver in the same network with no issues, I was able to connect to the esp from a different computer in the same network.Hope you can help.Have a nice day.", "num_user_post": " 1", "author": "kgd"}, {"date": "March 1, 2017 - 8:57 am", "content": "kgd,Does your plant router require additional authentication after connecting to the Wi-Fi? \u00a0Often times on an office or business network, there is a captive portal which will not allow any traffic through until a username/password is supplied.If that is the case, then your device won't be able to connect to ThingSpeak.", "num_user_post": " 34", "author": "JasonW"}, {"date": "March 1, 2017 - 3:52 pm", "content": "I just tested the ESP8266 --> ThingSpeak Channel via MKR1000 Wi-Fi\u00a0\u00a0This sketch sends the Wi-Fi Signal Strength (RSSI) of an ESP8266 to a ThingSpeak\u00a0channel using the ThingSpeak API (https://www.mathworks.com/help/thingspeak).\u00a0On my serial monitoe it is OK =RSSI: -56RSSI: -53RSSI: -55RSSI: -55RSSI: -55RSSI: -52RSSI: -53but I see nothing on my channel ; I selected RSSI in Field 1 ; METADATA=JSON ; and Showstatus + SAVEDo I have missed something ? Thanks in advance", "num_user_post": " 2", "author": "herge"}]}, {"url": "https://community.thingspeak.com/forum/esp8266-wi-fi/measure-wi-fi-signal-levels-with-the-esp8266-and-thingspeak/", "posts": [{"date": "February 22, 2017 - 11:21 am", "content": "I created a tutorial that uses the ESP8266 (NodeMCU version from Amazon) and sends data to ThingSpeak. I tried to document all of the steps to get the Arduino IDE configured and use it to program the ESP8266.Here's a link to my tutorial: http://nothans.com/measure-wi-fi-signal-levels-with-the-esp8266-and-thingspeak", "num_user_post": " 402", "author": "Hans"}]}, {"url": "https://community.thingspeak.com/forum/esp8266-wi-fi/problem-with-adafruit-cc3000-wifi-sheild-sending-data-to-thingspeak/", "posts": [{"date": "February 9, 2017 - 10:36 am", "content": "Hello.I am try to send data thingspeak using adafruit cc3000 wifi shield.After 3-4 times it sending off data.Here is the code.I am using Lm35 for sensing temperature....Help me out.Thank you all/*************************************************** * This is a sketch to use the online temperature and humidity sensor using Xively * * Actual code was written by Marco Schwartz for Open Home Automation . ****************************************************/// Libraries#include <Adafruit_CC3000.h>#include <ccspi.h>#include <SPI.h>#include <string.h>#include<stdlib.h>#include 'utility/debug.h'//#include 'DHT.h'#include <avr/wdt.h>// Define CC3000 chip pins#define ADAFRUIT_CC3000_IRQ 3#define ADAFRUIT_CC3000_VBAT 5#define ADAFRUIT_CC3000_CS 10// temperature and humidity sensor//#define DHTPIN 7//#define DHTTYPE DHT11// Create CC3000 instancesAdafruit_CC3000 cc3000 = Adafruit_CC3000(ADAFRUIT_CC3000_CS, ADAFRUIT_CC3000_IRQ, ADAFRUIT_CC3000_VBAT,SPI_CLOCK_DIV2); // you can change this clock speed// WLAN parameters#define WLAN_SSID 'domain'#define WLAN_PASS 'ATR@5645'// Security can be WLAN_SEC_UNSEC, WLAN_SEC_WEP, WLAN_SEC_WPA or WLAN_SEC_WPA2#define WLAN_SECURITY WLAN_SEC_WPA2// Xively parameters// ThingSpeak Settingschar thingSpeakAddress[] = 'api.thingspeak.com';String writeAPIKey = 'MSQA5TY5V7UK1H6X';uint8_t temperature;uint32_t ip;// Variable Setuplong lastConnectionTime = 0;boolean lastConnected = false;int failedCounter = 0;int tempPin = A0;int val;// for themperature and humidity//DHT dht(DHTPIN, DHTTYPE);void setup(void){ // Initialize Serial.begin(115200); ConnectWifi(); //// Connect with Wifi}void loop(void){ // Get data & transform to integers //float h = dht.readHumidity(); val = analogRead(tempPin); float mv = (val/1024.0)*5000; float cel = mv/10; Serial.print('Temperature = '); Serial.println(cel); //Serial.print('Humidity = '); //Serial.println(h);int temperature = (float) cel; //int humidity = (int) h; String tem=String(temperature, DEC); //Thingspeak only data stream is string type //String hum=String(humidity, DEC); // Converting integer data to string Serial.print(F('api.thingspeak.com -> ')); while (ip == 0) { if (! cc3000.getHostByName('api.thingspeak.com', &ip)) { Serial.println(F('Couldn't resolve!, Restarting.....')); wdt_enable(WDTO_8S); // if host does not response wait 8 sec and restart while(1){} } delay(500); } cc3000.printIPdotsRev(ip); Serial.println(F('')); Adafruit_CC3000_Client client = cc3000.connectTCP(ip, 80); // Print Update Response to Serial Monitor if (client.available()) { char c = client.read(); Serial.print(c); }// Update ThingSpeak if(client.connected()) { // Send temperature and humidity data to Thingspeak site updateThingSpeak('1='+tem); delay(20000); // Thingspeak needs a 15s delay between 2 data stream. failedCounter=0;} else { Serial.println(F('Connection failed')); failedCounter++; if (failedCounter==15) { Serial.println(F('Connection failed for 15 times, Restarting......')); wdt_enable(WDTO_8S); // if 10 continuous data upload failed, restart host after 8s. while(1){} } }}void updateThingSpeak(String tsData){ Adafruit_CC3000_Client client = cc3000.connectTCP(ip, 443); Serial.println('Connecting to ThingSpeak...'); Serial.println('Sending Data'); client.print('POST /update HTTP/1.1'); client.print('Host: api.thingspeak.com'); client.print('Connection: close'); client.print('X-THINGSPEAKAPIKEY: '+writeAPIKey+''); client.print('Content-Type: application/x-www-form-urlencoded'); client.print('Content-Length: '); client.print(tsData.length()); client.print('');client.print(tsData); Serial.println(F('Done')); Serial.println(F('Waiting 25 sec for next sending'));}void ConnectWifi(){ Serial.println(F('Initializing...')); if (!cc3000.begin()) { Serial.println(F('Couldn't begin()! Check your wiring?')); while(1); } // Connect to WiFi network cc3000.connectToAP(WLAN_SSID, WLAN_PASS, WLAN_SECURITY); Serial.println(F('Connected!'));/* Wait for DHCP to complete */ Serial.println(F('Request DHCP')); while (!cc3000.checkDHCP()) { delay(100); }}", "num_user_post": " 1", "author": "Rakibul Sharif"}]}]}