{"url": "https://community.thingspeak.com/forum/thingspeak-api/page-22/", "threads": [{"url": "https://community.thingspeak.com/forum/thingspeak-api/tweetcontrol-talkback-and-thinghttp/", "posts": [{"date": "May 24, 2016 - 10:23 am", "content": "hi, i have project that use tweetcontrol, talkback and thinghttp with arduino uno and esp8266. I have setting thingspeak and 3 apps work properly as i only send channel update from my arduino which is connected to 3 sensors. And now i want to control my arduino use tweetcontrol (tweet command) that connect to thinghttp and talkback to control my arduino but i dont know which API that should i use for that case ? can't somebody here tell me what should i do with arduino's code ? please help..", "num_user_post": " 3", "author": "auliandini"}, {"date": "May 27, 2016 - 10:24 pm", "content": "It seems to me that readRaw() is the only way to get talkback responses via the arduino library. There doesnt seem to be much documentation on it, all I can find is this from the sourcehttps://github.com/mathworks/thingspeak-arduino/blob/master/src/ThingSpeak.h\u00a0/** * @brief Read a raw response from a private ThingSpeak channel * @param channelNumber Channel number * @param URLSuffix Raw URL to write to ThingSpeak as a String. See the documentation at https://thingspeak.com/docs/channels#get_feed * @param readAPIKey Read API key associated with the channel. *If you share code with others, do _not_ share this key* * @return Response if successful, or empty string. Use getLastReadStatus() to get more specific information. * @remark This is low level functionality that will not be required by most users. * @code void loop() { String response = ThingSpeak.readRaw(myChannelNumber, String('feeds/days=1'), myReadAPIKey); Serial.print('Response: ');  Serial.print(response); delay(30000); } * @endcode */", "num_user_post": " 271", "author": "rw950431"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/thingspeakexception-update-failed/", "posts": [{"date": "May 21, 2016 - 2:54 pm", "content": "Hello.I have a problem. When I run my program, at the first iteration I can send the datas to ThingSpeak, but in the second iteration I have the following exception:com.angryelectron.thingspeak.ThingSpeakException: Update failed.at com.angryelectron.thingspeak.Channel.update(Channel.java:159)at clases.CanalThingSpeak.enviarDatos(CanalThingSpeak.java:29)at clases.Simulador$5.run(Simulador.java:233)at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)at java.util.concurrent.FutureTask.runAndReset(Unknown Source)at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(Unknown Source)at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)at java.lang.Thread.run(Unknown SourceHow can I fix this?The code is in the following link:Code to send datas to ThingSpeakThanks.Kind regards.", "num_user_post": " 5", "author": "alvarodecadiz9"}, {"date": "May 22, 2016 - 8:50 am", "content": "Is the second update more than 15 seconds after the first?\u00a0 Thingspeak has a hard limit of at least 15 seconds between updates.", "num_user_post": " 271", "author": "rw950431"}, {"date": "May 23, 2016 - 4:51 am", "content": "Yes, the second update is more than 15 seconds after the fist.\u00a0For each iteration, I use the following (as you can see in the code):ScheduledFuture<?> beeperHandle11 = scheduler11.scheduleAtFixedRate(beeper11, 1, 1, TimeUnit.MINUTES);where the second parameter corresponds to the initial delay to run the code, the third parameter is the time you must spend to send data back to ThingSpeak and the last parameter corresponds to the time unit, which in this case are minutes.Therefore, I do not understand why this exception occurs.", "num_user_post": " 5", "author": "alvarodecadiz9"}, {"date": "May 23, 2016 - 10:22 am", "content": "Is it possible that\u00a0even though the device thinks it is sending at every 15 seconds, because of network infrastructure, the\u00a0messages do not hit thingspeak at a once per 15-second rate?What happens if you reduce the rate in your code?", "num_user_post": " 225", "author": "Vinod"}, {"date": "May 23, 2016 - 11:10 am", "content": "I have tried to reduce the time between each iteration but I still dating the same problem. I changed the method by which it is iterated, as follows (but not work for me):ScheduledFuture<?> beeperHandle11 = scheduler11.scheduleWithFixedDelay(beeper11, 60, 60, TimeUnit.SECONDS);It seems that when the first iteration is executed, not waiting for the set time (and \u00a0I do not understand why, because the code I put scheduleAtFixedRate is the method that should run).", "num_user_post": " 5", "author": "alvarodecadiz9"}, {"date": "May 26, 2016 - 11:05 am", "content": "Any ideas of this?Kind regards.", "num_user_post": " 5", "author": "alvarodecadiz9"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/possibility-off-api-change/", "posts": [{"date": "May 22, 2016 - 1:57 pm", "content": "hi,\u00a0i want to learn if there is a possibility of API or the server answers format change.\u00a0because i plan to use the system for 2 years with the same software.if thingspeak change the API or server answer my system won't work forever", "num_user_post": " 1", "author": "Fenestron"}, {"date": "May 23, 2016 - 10:29 am", "content": "There is a lot of effort put in to ensure that\u00a0breaking changes are not introduced in the API with every release.\u00a0There are a number of channels with data that is being collected over a period of years and it is a fair expectation that that this will be continue to be possible.", "num_user_post": " 225", "author": "Vinod"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/unable-to-use-delete-for-clearing-channel-data/", "posts": [{"date": "May 20, 2016 - 5:46 am", "content": "Hi,I am able to clear the channel data by pushing the button in web interface, but when i try to send\u00a0DELETE to https://api.thingspeak.com/channels/my_channel/feeds.json&api_key=my_api_keyI get 406 Not Acceptablemy_channel and\u00a0my_api_key is of course filledany clues?", "num_user_post": " 1", "author": "gezatoth"}, {"date": "May 20, 2016 - 9:24 am", "content": "Try replacing the & with ?https://api.thingspeak.com/channels/my_channel/feeds.json?api_key=my_api_key", "num_user_post": " 402", "author": "Hans"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/help-with-get-command-arduino-thingspeak-esp8266/", "posts": [{"date": "April 27, 2015 - 9:46 am", "content": "Hello,Can you please point me to an example of Arduino code for getting the last value of a Thingspeak channel?I have been able to do that using a web browser, but havent been able to do that with a GET command.Any Arduino Code which shows exactly how it is done, that would be very useful.Eg. I can use the following with my browser, but now an Arduino.http://api.thingspeak.com/channels/28454/fields/field1/last?key=HB20ZLSY5TFAL0P5I tried the following with  Arduino:AT+CIPMODE=0AT+CIPSTART='TCP','184.106.153.149',80AT+CIPSEND=82   // Using word, I see that the command below is 81 characters, so I set the   //send length to 82. After I receive the '>' response,  I send:https://api.thingspeak.com/channels/28454/fields/field2/last?key=HB20ZLSY5TFAL0P5Please help.Abhi", "num_user_post": " 1", "author": "rudraxx"}, {"date": "May 12, 2016 - 11:49 am", "content": "I have exactlysame problem. Can somebody help?", "num_user_post": " 2", "author": "mamic2"}, {"date": "May 12, 2016 - 8:17 pm", "content": "Perhaps change https to http\u00a0 (unsure if ESP8266 can do SSL)\u00a0Also perhaps you need to add the carriage return and line feed characters to the end of your URL like this", "num_user_post": " 271", "author": "rw950431"}, {"date": "May 20, 2016 - 1:01 am", "content": "HelloI have a similar problem (hardware : Arduino, sensor, ESP8266)when I use my 'box' as the wifi access point, everything is OKbut when I use my smartphone as an access point, I get the >, send the GET request, get a SEND OK but data do not appear on my channelwhen I connect my laptop via the smartphone, updating data in the web browser DO work, though...did someone experiment the same problem ? did someone solve it ??", "num_user_post": " 1", "author": "Ariane98"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/getting-the-entries-but-the-data-is-not-displayed/", "posts": [{"date": "May 19, 2016 - 4:28 pm", "content": "here is my code if anyone can help\u00a0#include <stdlib.h>#include <SoftwareSerial.h>int trigPin= A0;int echoPin =A1;//unsigned long myChannelNumber = 82618;//const char * apiKey = 'GZ2I4B8QGO6FI9I6';String apiKey = '6H0LLYGUT4124FD1';SoftwareSerial ser(2,3); // RX, TX//int i=1;void setup() { // put your setup code here, to run once:pinMode(trigPin , OUTPUT); pinMode(echoPin , INPUT); Serial.begin(115200); // delay(2000); // enable debug serial //Serial.begin(115200); // enable software serial ser.begin(115200); // reset ESP8266 ser.println('AT+RST');}void loop() { // put your main code here, to run repeatedly: float duration, distance;digitalWrite(trigPin, LOW); delayMicroseconds(2); digitalWrite(trigPin, HIGH); delayMicroseconds(10); digitalWrite(trigPin, LOW); duration = pulseIn(echoPin, HIGH); distance = (duration/2) / 29.1; Serial.print('LeftSensor');Serial.print(' ='); Serial.print(distance); Serial.println(' cm');// Serial.print('LeftSensor');//Serial.print(' =');////// Serial.print(distance);// Serial.println(' cm');// if (distance<20)// Serial.println( ' WARNING! TOO CLOSE FROM LEFT! ');////String state1=String(distance); char buf[32]; String dis = dtostrf( distance,8, 2, buf); Serial.println(dis); //Serial.println(' cm');// TCP connection String cmd = 'AT+CIPSTART='TCP',''; cmd += '184.106.153.149'; // api.thingspeak.com cmd += '',80'; ser.println(cmd); Serial.println(cmd); if(ser.find('Error')){ Serial.println('AT+CIPSTART error'); return; } // prepare GET string String getStr = 'GET /update?api_key='; getStr += apiKey; getStr +='&field1='; getStr += String(dis); getStr += ''; // send data length cmd = 'AT+CIPSEND='; cmd += String(getStr.length()); ser.println(cmd); Serial.println(cmd);if(ser.find('>')){ ser.print(getStr); Serial.print(getStr); } else{ ser.println('AT+CIPCLOSE'); // alert user Serial.println('AT+CIPCLOSE'); } //ThingSpeak.writeField(myChannelNumber, 1, dis, apiKey); // thingspeak needs 15 sec delay between updates delay(16000);}", "num_user_post": " 1", "author": "Maryam_19"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/read-last-value-from-thingspeak-into-my-website/", "posts": [{"date": "May 8, 2016 - 4:40 am", "content": "Hello,I serched the last hole night to find a solution for my problem:On my website I want to see the last temperature I\u00b4ve logged to ThingSpeak. If I type:https://thingspeak.com/channels/mychannelID/field/1/last.htmlin my browser, I got the last temperature.So I take this link and put it in this code:<html><head><title>Temperatur</title><script type='text/javascript'>function nachladen() {var http = null;if (window.XMLHttpRequest) { http = new XMLHttpRequest();} else if (window.ActiveXObject) { http = new ActiveXObject('Microsoft.XMLHTTP');}if (http != null) { http.open('GET', 'http://thingspeak.com/channels/myChannelID/field/1/last.html', true); http.onreadystatechange = ausgeben; http.send(null);}function ausgeben() { if (http.readyState == 4) { document.getElementById('Ausgabe').innerHTML = http.responseText; }}}window.onload=nachladen;//--></script></head><body>Temperatur:<div id='Ausgabe'></div></body></html>This does not work, because I think this is a link to an external site. If I change the link to an local 'last.html' it works fine.Has anyone a solution for me?I did\u00b4nt want to have an iframe\u00a0Thanks!", "num_user_post": " 5", "author": "turti"}, {"date": "May 8, 2016 - 9:04 pm", "content": "try JSONP", "num_user_post": " 271", "author": "rw950431"}, {"date": "May 11, 2016 - 12:04 pm", "content": "Thank you! This should work. But I don\u00b4t understand that script because I have no knowledges of this topic.Is this the right script?$.ajax({  url: 'http://thingspeak.com/channels/myChannelID/field/1/last.html',  cache: false,  dataType: 'jsonp',  success: function(html){    $('#results').append(html);  }});How du I get my value in html?", "num_user_post": " 5", "author": "turti"}, {"date": "May 12, 2016 - 1:02 am", "content": "You need to define a javascript callback function in your web-page then add the callback parameter to your thingspeak URL to call that function.Your callback function will receive the html response as a string which you can load into a div like your existing ausgeben() function does.", "num_user_post": " 271", "author": "rw950431"}, {"date": "May 12, 2016 - 1:16 pm", "content": "Thanks a lot ", "num_user_post": " 5", "author": "turti"}, {"date": "May 19, 2016 - 12:47 pm", "content": "Sorry, I`m new im HTML and i just made a simple bootstrap page and couldnt undestand how to print the last value into my website.Thank you", "num_user_post": " 1", "author": "rechaugusto"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/data-on-fields-not-displayed/", "posts": [{"date": "May 1, 2016 - 12:31 am", "content": "Hi,\u00a0My private channel shows that there are entries but none of them are being shown on the graph. Please help me!!Channel ID: 112736Code:#include <SPI.h>#include <Ethernet2.h>int thresholdUp = 400;int thresholdDown = 250;int sensorPin = A0;int lightPin = A2;// Local Network Settingsbyte mac[] = { 0x90, 0xA2, 0xDA, 0x10, 0x6C, 0xB6 }; // Must be unique on local network// ThingSpeak Settingschar thingSpeakAddress[] = 'api.thingspeak.com';String writeAPIKey = 'RR5F13P7V4ZHG21N';const int updateThingSpeakInterval = 2 * 1000; // Time interval in milliseconds to update ThingSpeak (number of seconds * 1000 = interval)// Variable Setuplong lastConnectionTime = 0;boolean lastConnected = false;int failedCounter = 0;// Initialize Arduino Ethernet ClientEthernetClient client;void setup(){ // Start Serial for debugging on the Serial Monitor Serial.begin(9600); // Start Ethernet on Arduino startEthernet();}void loop(){ int moisture = analogRead(sensorPin); Serial.print('Moisture = '); Serial.println(moisture);int light = analogRead(lightPin);Serial.print('Light = '); Serial.println(light);delay(500); // Print Update Response to Serial Monitor if (client.available()) { char c = client.read(); Serial.print(c); }// Disconnect from ThingSpeak if (!client.connected() && lastConnected) { Serial.println('...disconnected'); Serial.println(); client.stop(); } // Update ThingSpeak if(!client.connected() && (millis() - lastConnectionTime > updateThingSpeakInterval)) { updateThingSpeak('field1='+ sensorPin); //updateThingSpeak('field2='+ lightPin); } // Check if Arduino Ethernet needs to be restarted if (failedCounter > 3 ) {startEthernet();} lastConnected = client.connected();}void updateThingSpeak(String tsData){ if (client.connect(thingSpeakAddress, 80)) { client.print('POST /update HTTP/1.1'); client.print('Host: api.thingspeak.com'); client.print('Connection: close'); client.print('X-THINGSPEAKAPIKEY: '+writeAPIKey+''); client.print('Content-Type: application/x-www-form-urlencoded'); client.print('Content-Length: '); client.print(tsData.length()); client.print('');client.print(tsData); lastConnectionTime = millis(); if (client.connected()) { Serial.println('Connecting to ThingSpeak...'); Serial.println(); failedCounter = 0; } else { failedCounter++; Serial.println('Connection to ThingSpeak failed ('+String(failedCounter, DEC)+')'); Serial.println(); } } else { failedCounter++; Serial.println('Connection to ThingSpeak Failed ('+String(failedCounter, DEC)+')'); Serial.println(); lastConnectionTime = millis(); }}void startEthernet(){ client.stop();Serial.println('Connecting Arduino to network...'); Serial.println();delay(1000); // Connect to network amd obtain an IP address using DHCP if (Ethernet.begin(mac) == 0) { Serial.println('DHCP Failed, reset Arduino to try again'); Serial.println(); } else { Serial.println('Arduino connected to network using DHCP'); Serial.println(); } delay(1000);}", "num_user_post": " 1", "author": "newbie1994"}, {"date": "May 1, 2016 - 8:05 am", "content": "You are sending sensorPin to ThingSpeak. You need to send the value of sensorPin instead like moisture.\u00a0\u00a0Also make sure to change your write API key since you posted it.\u00a0", "num_user_post": " 402", "author": "Hans"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/cannot-login-with-windows-mobile/", "posts": [{"date": "April 28, 2016 - 2:43 pm", "content": "Hi,\u00a0I have an private channel, and use a windows denim (Lumia 640 XLT) phone frequently to check my channel.\u00a0Everything worked fine until Yesterday / today.\u00a0I cannot login with my Windows phone.\u00a0Wifi is connected, other sites load. There's nothing wrong.\u00a0On my laptop installed with Windows 10(with same Wifi connection) i can login.\u00a0My wife has an Iphone 4, and it is also possible to login.\u00a0Somebody a suggestion?\u00a0Regards Denniske", "num_user_post": " 2", "author": "Dennniske"}, {"date": "April 28, 2016 - 3:22 pm", "content": "Do you happen to have a password saver on the Windows phone like Roboform? Do you have another option for the browser?", "num_user_post": " 402", "author": "Hans"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/resize-iframe/", "posts": [{"date": "April 4, 2016 - 12:37 am", "content": "I am embedding Thingspeak graphs in a filemaker pro solution and I wanted to resize the plots I generated with my data. When I increase the iFrame size, the graph stays the same size, but the frame increases.Is there a way to resize the graph, or to make it occupy a larger area (say 1000px*800px)? Is it possible with matlab visualisations?I wanted to include a large graph on my dashboard, but I can't seem to resize it.Thanks", "num_user_post": " 2", "author": "HugoP"}, {"date": "April 4, 2016 - 11:20 pm", "content": "The 'charts' can take height and width as parameters.Here is more detail: http://www.mathworks.com/help/thingspeak/create-a-chart.html", "num_user_post": " 402", "author": "Hans"}, {"date": "April 4, 2016 - 11:26 pm", "content": "What about the multi-series plugin, how would I scale that one up (I have no javascript knowledge)?", "num_user_post": " 2", "author": "HugoP"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/how-to-display-field-values-as-text-no-visualisations/", "posts": [{"date": "April 3, 2016 - 6:16 am", "content": "I'd like to just display the last updated field values as text within a webpage without any sort of visualisation but I know absolutely nothing about javascript and not much more about html. \u00a0All \u00a0I want to do is have a table of the latest field values rather than using a Google gauge or chart, if someone could provide a working example I'd be most grateful.", "num_user_post": " 1", "author": "terahurts"}]}, {"url": "https://community.thingspeak.com/forum/thingspeak-api/embeding-charts-to-web-page-problems-with-width-of-graph-inside/", "posts": [{"date": "March 29, 2016 - 9:53 am", "content": "Hi!I'm embedding charts to responsive website. I set the iframe tag to 100% width, but the data chart stays default width, 450px.I looked at http://community.thingspeak.com/documentation/api/#charts and checked for the src parameters but the widths are defined in pixels ONLY \ud83d\ude41 Is it possible to set chart width in percent (%)? In this way the graph would stretch to 100% width of the wrapper HTML element.with regards,mitang", "num_user_post": " 2", "author": "mitang"}, {"date": "March 29, 2016 - 9:59 am", "content": "Sorry, I found out that I was looking at old Documentation. I should look at https://www.mathworks.com/help/thingspeak/create-a-chart.html it's written there:- width (integer) Chart width in pixels, iframe width will be 20px larger, default chart width: 400. Set to auto to automatically adjust chart size based on its parent container. (optional)mitang", "num_user_post": " 2", "author": "mitang"}, {"date": "March 29, 2016 - 3:17 pm", "content": "Thanks for noticing that. I added a redirect to the new doc.", "num_user_post": " 402", "author": "Hans"}]}]}