Hans,thingspeak typically releases new features and provides enhances every month our amazing documentation writer decided u00a0to capture the high level features and enhancements of each month so you know what is new and updated https www mathworks com help thingspeak release_notes html,0.938959777355
Hans,we are thrilled to announce the official thingspeak communication library for arduino and particle devices this library enables an arduino or other compatible hardware to write or read data to or from thingspeak an open data platform for the internet of things with built in matlab analytics and visualization apps arduino ide installation in the arduino ide choose sketch include library manage libraries click the thingspeak library from the list and click the install button particle spark ide installation in the particle spark web ide click the libraries tab find thingspeak and choose u201cinclude in app u201d complete source code and examples for the thingspeak library are available on github https github com mathworks thingspeak arduino,0.5
cstapels,due to recently introduced changes in the twitter u00ae api we are no longer able to provide reliable access to tweetcontrol u00a0 u00a0effective august 15 2018 the tweetcontrol app will no longer be available in thingspeak,0.231831133366
Vinod,as an alternative the following will recreate the functionality of tweetcontrol 1 log in to https www ifttt com2 log in to https www twitter com3 go to https ifttt com twitter and click the connect button and authorize ifttt to access your twitter account4 on https www ifttt com on the top right click your name and select new applet 5 on the page that shows up click this and search for twitter in the services6 click the new tweet by you with hashtag option7 enter the hashtag you want to fire the thinghttp for example i use pseudotweetcontrol 8 the click the that and on the choose action service page that shows up search for webhooks 9 on the page select make a web request 10 in the url field paste the url of your thinghttp set the content type to text plain and click finish now whenever you tweet pseudotweetcontrol your thinghttp will be executed note that rate limitations imposed by twitter ifttt or the service you are interacting with using your thinghttp may result in success of the thinghttp at a different rate than your tweets at this point it is not clear how ifttt will be affected by the twitter api restrictions you may want to keep an eye open around august 16th when twitter api restrictions go into effect learn more about how twitter api changes affect 3rd party apps including thingspeak here https www theverge com 2018 5 16 17362138 twitter api third party apps changes explained,0.5
Hans,we just released a new feature that allows you to bulk update a channel feed with one request you can use the bulk update api in certain scenarios when you want to conserve your device power when using the bulk update api you can collect data over a period of time and then upload the data to thingspeak bulk update api takes json or csv encoded data and updates the channel documentation https www mathworks com help thingspeak bulk update a channel feed 1 htmlexamples continuously collect data and bulk update a thingspeak channel using an arduino mkr1000 board or an esp8266 boardcontinuously collect data and bulk update a thingspeak channel using a particle photon boardcontinuously collect data and bulk update a thingspeak channel using a raspberry pi boardlet us know what you make with this capability thanks hans,0.5
turgo,does use of the bulk update feature reduce the number of messages billed to an account,0.279388159513
Hans,it does not if you send one bulk u00a0update with 10 messages it counts as 10 messages the idea for this feature is to allow you to save on the device side and send data all at once this might save battery and connectivity costs,0.5
mnaveed1,hello i am using this example https www mathworks com help thingspeak continuously collect data and bulk update a thingspeak channel using an arduino mkr1000 board or an esp8266 board htmlmy serial monitor displays this output attempting to connect to ssid xperia z_a769connected to wifissid xperia z_a769ip address 192 168 43 238signal strength rssi 47 dbmresponse code 0why am i getting response code 0 why am i not getting anything on thingspeak help please,0.5
Hans,are you getting any data inserted usually the 0 response means that you are sending data faster than the rate limit 0 can also mean that the data format that you sent is not valid so 0 data points were added to your channel,0.2451569736
mnaveed1,no i am not getting any data this is what i have in the code strcat jsonbuffer would elta_t 0 field1 70 would elta_t 15 field1 66 char data 500 write_api_key your channel writeapikey updates would elta_t 0 field1 60 would elta_t 15 field1 200 would elta_t 15 field1 66 replace your channel writeapikey with your thingspeak channel write api keyas far as sending data is concerned i have exactly copied and pasted the code in the example help please,0.5
Vinod,what is your channel id have you modified your code to include your channel write api key,0.793976843357
mnaveed1,yes i did include my write api key,0.842220664024
mnaveed1,hello so this is my complete code i still get response code 0 can you please tell me what is wrong in this code i am using esp8266 thing dev this example shows how to bulk update a thingspeak channel using an arduino mkr1000 or an esp8266 include uncomment this library to work with esp8266 include uncomment this library to work with esp8266 include comment this to work with esp8266 board include comment this to work with esp8266 boardchar jsonbuffer 500 initialize the jsonbuffer to hold datachar ssid xperia z_a769 your network ssid name char pass 7c6761b56ed2 your network passwordwificlient client initialize the wifi client librarychar server api thingspeak com thingspeak server collect data once every 15 seconds and post data to thingspeak channel once every 2 minutes unsigned long lastconnectiontime 0 track the last connection timeunsigned long lastupdatetime 0 track the last update timeconst unsigned long postinginterval 120l 1000l post data every 2 minutesconst unsigned long updateinterval 15l 1000l update once every 15 secondsvoid setup serial begin 9600 attempt to connect to wifi network while wifi status wl_connected serial print attempting to connect to ssid serial println ssid wifi begin ssid pass connect to wpa wpa2 network change this line if using open or wep network delay 10000 wait 10 seconds to connect serial println connected to wifi printwifistatus print wifi connection information void loop if update time has reached 15 seconds then update the jsonbuffer if millis lastupdatetime updateinterval updatesjson jsonbuffer updates the jsonbuffer with datavoid updatesjson char jsonbuffer json format for updates paramter in the api this example uses the relative timestamp as it uses the would elta_t if your device has a real time clock you can provide the absolute timestamp using the created_at parameter instead of would elta_t would elta_t 0 field1 70 would elta_t 15 field1 66 format the jsonbuffer as noted above strcat jsonbuffer would elta_t unsigned long deltat millis lastupdatetime 1000 size_t lengtht string deltat length char temp 4 string deltat tochararray temp lengtht 1 strcat jsonbuffer temp strcat jsonbuffer long rssi wifi rssi strcat jsonbuffer field1 lengtht string rssi length string rssi tochararray temp lengtht 1 strcat jsonbuffer temp strcat jsonbuffer if posting interval time has reached 2 minutes then update the thingspeak channel with your data if millis lastconnectiontime postinginterval size_t len strlen jsonbuffer jsonbuffer len 1 httprequest jsonbuffer lastupdatetime millis update the last update time updates the thingspeakchannel with datavoid httprequest char jsonbuffer json format for data buffer in the api this example uses the relative timestamp as it uses the would elta_t if your device has a real time clock you can also provide the absolute timestamp using the created_at parameter instead of would elta_t write_api_key your channel writeapikey updates would elta_t 0 field1 60 would elta_t 15 field1 200 would elta_t 15 field1 66 format the data buffer as noted above char data 500 write_api_key 6of022olh2qm50tp updates replace your channel writeapikey with your thingspeak channel write api key strcat data jsonbuffer strcat data close any connection before sending a new request client stop string data_length string strlen data 1 compute the data buffer length post data to thingspeak if client connect server 80 client println post channels 522490 bulk_update json http 1 1 replace your channel id with your thingspeak channel id client println host api thingspeak com client println user agent mw doc bulk update arduino esp8266 client println connection close client println content type application json client println content length data_length client println client println data else serial println failure failed to connect to thingspeak delay 15000 wait to receive the response client parsefloat string resp string client parseint serial println are sponse code resp print the response code 202 indicates that the server has accepted the response jsonbuffer 0 reinitialize the jsonbuffer for next batch of data jsonbuffer 1 0 lastconnectiontime millis update the last connection time void printwifistatus print the ssid of the network you are attached to serial print sid serial println wifi ssid print your device ip address ipaddress ip wifi localip serial print ip address serial println ip print the received signal strength long rssi wifi rssi serial print ignal strength rssi serial print rssi serial println dbm this is my output attempting to connect to ssid xperia z_a769connected to wifissid xperia z_a769ip address signal strength rssi 44 dbmresponse code 0,0.283161878586
cstapels,i copied your code and changed the api keys and channel numbers to mine and it worked on a node mcu esp8266 you do not have the libraries included at the top but i assume you have that correct or it would not program i would double check that you are using the write api key and not your user api key additionally i would suggest you try forming the post request in something like postman and see if you can get it to work there please let us know if you get it working,0.87310552597
mnaveed1,hello yes i did include libraries while uploading it to my board did you include these lines as it is except you changed write api key and channel id char data 500 write_api_key 6of022olh2qm50tp updates replace your channel writeapikey with your thingspeak channel write api keyclient println post channels 522490 bulk_update json http 1 1 replace your channel id with your thingspeak channel id,0.5
mnaveed1,also can you tell me how to use postman and what lines of code should i change,0.784004807472
cstapels,since you gave your channel id and api key can i try to write to your channel with my hardware then i can send you the exact working code except for the wifi info postman is free software to let you test http requests you can do get in your browser window but you need something else for post and others https www getpostman com there is a postman example here https www mathworks com help thingspeak bulkwritejsondata htmlall the lines of code after if client connect server 80 are the http address and headers for the post command here is a more simple test than postman are you able to update your channel with a get request on your channel view click on the api keys tab and copy the update channel get on the right hand side paste the address into your browser window and see if it updates the channel do not put the get,0.5
mnaveed1,hello yes please go ahead and write to my channel with your hardware and yes my channel get updated when i paste the address on my browser,0.920477569103
cstapels,i am able to update your channel using your code serial monitor connected to wifissid w iotip address 172 31 172 175signal strength rssi 73 dbm75951 response code 202151705 response code 202228096 response code 202and i can see the points in your channel this code does not do a good job of parsing the response you might try this other code to get the full response https www mathworks com help thingspeak moisturemonitor htmllet us know what you see for the full response if you can adapt the response function in the moisture code to the bulk code the only remaining thing left is the libraries includei have version 1 0 0 how about you,0.722394764423
mnaveed1,i have included these two libraries include uncomment this library to work with esp8266 include uncomment this library to work with esp8266i have arduino version 1 8 5 can you please also check if it also works on arduino version 1 8 5 because i am still getting response code 0 no matter what also the board i am using is esp8266 thing dev,0.5
cstapels,yes i am in 1 8 5 can you try adding the function to get to more detailed http response,0.87303686142
mnaveed1,hello i tried to modify the code but i am unable to get detailed http response here is my modified code this example shows how to bulk update a thingspeak channel using an arduino mkr1000 or an esp8266 define timeout 5000 include uncomment this library to work with esp8266 includechar jsonbuffer 500 initialize the jsonbuffer to hold datachar ssid xperia z_a769 your network ssid name char pass 7c6761b56ed2 your network passwordwificlient client initialize the wifi client librarychar server api thingspeak com thingspeak server collect data once every 15 seconds and post data to thingspeak channel once every 2 minutes unsigned long lastconnectiontime 0 track the last connection timeunsigned long lastupdatetime 0 track the last update timeconst unsigned long postinginterval 120l 1000l post data every 2 minutesconst unsigned long updateinterval 15l 1000l update once every 15 secondsvoid setup serial begin 9600 attempt to connect to wifi network while wifi status wl_connected serial print attempting to connect to ssid serial println ssid wifi begin ssid pass connect to wpa wpa2 network change this line if using open or wep network delay 10000 wait 10 seconds to connect serial println connected to wifi printwifistatus print wifi connection information void loop if update time has reached 15 seconds then update the jsonbuffer if millis lastupdatetime updateinterval updatesjson jsonbuffer updates the jsonbuffer with datavoid updatesjson char jsonbuffer json format for updates paramter in the api this example uses the relative timestamp as it uses the would elta_t if your device has a real time clock you can provide the absolute timestamp using the created_at parameter instead of would elta_t would elta_t 0 field1 70 would elta_t 15 field1 66 format the jsonbuffer as noted above strcat jsonbuffer would elta_t unsigned long deltat millis lastupdatetime 1000 size_t lengtht string deltat length char temp 4 string deltat tochararray temp lengtht 1 strcat jsonbuffer temp strcat jsonbuffer long rssi wifi rssi strcat jsonbuffer field1 lengtht string rssi length string rssi tochararray temp lengtht 1 strcat jsonbuffer temp strcat jsonbuffer if posting interval time has reached 2 minutes then update the thingspeak channel with your data if millis lastconnectiontime postinginterval size_t len strlen jsonbuffer jsonbuffer len 1 httprequest jsonbuffer lastupdatetime millis update the last update time updates the thingspeakchannel with datavoid httprequest char jsonbuffer json format for data buffer in the api this example uses the relative timestamp as it uses the would elta_t if your device has a real time clock you can also provide the absolute timestamp using the created_at parameter instead of would elta_t write_api_key your channel writeapikey updates would elta_t 0 field1 60 would elta_t 15 field1 200 would elta_t 15 field1 66 format the data buffer as noted above char data 500 write_api_key z1sa22zdpqr37u90 updates replace your channel writeapikey with your thingspeak channel write api key strcat data jsonbuffer strcat data close any connection before sending a new request client stop string data_length string strlen data 1 compute the data buffer length post data to thingspeak if client connect server 80 client println post channels 532528 bulk_update json http 1 1 replace your channel id with your thingspeak channel id client println host api thingspeak com client println user agent mw doc bulk update arduino esp8266 client println connection close client println content type application json client println content length data_length client println client println data else serial println failure failed to connect to thingspeak delay 250 wait to receive the response delay 15000 client parsefloat string resp string client parseint serial println are sponse code resp print the response code 202 indicates that the server has accepted the response string answer getresponse serial println answer serial println end jsonbuffer 0 reinitialize the jsonbuffer for next batch of data jsonbuffer 1 0 lastconnectiontime millis update the last connection time void printwifistatus print the ssid of the network you are attached to serial print sid serial println wifi ssid print your device ip address ipaddress ip wifi localip serial print ip address serial println ip print the received signal strength long rssi wifi rssi serial print ignal strength rssi serial print rssi serial println dbm string getresponse string response long starttime millis delay 200 while client available 0 client stop return response here is the output attempting to connect to ssid xperia z_a769connected to wifissid xperia z_a769ip address signal strength rssi 53 dbmresponse code 0 u2e2eend,0.5
Vinod,we have scheduled maintenance between 10 00 am and 10 30 am us et on tuesday may 2nd 2017 we anticipate a few minutes when the api and web servers may be unavailable,0.5
Vinod,scheduled maintenance activity for may 2nd 2017 u00a0is complete u00a0,0.5
Hans,due to amazon web services failures thingspeak is experiencing failures associated with its apis we are working to restore service as soon as possible once we have an update we will post it here thanks,0.152518689632
piajola,hans thank you for warning us i was pulling out the two hairs i have left now i can keep my sanity and valuable hairs u00a0,0.776322424412
Hans,amazon aws is coming back online and our api services have been restored,0.5
Hans,we launched matlab analysis and visualizations on thingspeak last year and have noticed a sharp increase in iot analytics being used in your projects we are seeing everything from analyzing squirrel u00a0behaviour to analyzing traffic patterns as we are all learning how to use matlab in our iot projects we need to take notice of matlab central matlab central is u201ca place where you can get answers u201d we have u00a0over 100 000 community members and mathworks employees all sharing projects and files experience and answering questions and thingspeak is showing up on matlab answers and file exchange this is great news for the thingspeak community if you already have a mathworks user account and use it on thingspeak you already have access to matlab central all you have to do is sign in if you are new to mathworks you can sign up for a free user account to gain access to matlab central and other features of thingspeak check out ned gulley u2019s post u201cgoing way back with matlab central u201d to learn about how the matlab u00a0community has formed over the years cheers u00a0to matlab central hitting the 15th year mark we are happy to be a part of the story,0.5
Hans,thingspeak offers an easy way to collect data from things analyze and visualize the data with matlab and act on your data with matlab from mathworks you have access to powerful data processing and analysis functions for iot data to extend the functionality we offer toolboxes such as the u00a0statistics and machine learning toolbox u2122 u00a0and u00a0signal processing toolbox u2122 these toolboxes need a license from mathworks if you have access to these toolboxes linked to a mathworks account you have access to many of the toolboxes on thingspeak all you have to do is to log in to thingspeak using your mathworks account credentials when you are logged into thingspeak using your mathworks u00a0account you can use functions from the following toolboxes if you are licensed to use them statistics and machine learning toolbox u2122curve fitting toolbox u2122control system toolbox u2122signal processing toolbox u2122mapping toolbox u2122system identification toolbox u2122neural network toolbox u2122dsp system toolbox u2122datafeed toolbox u2122financial toolbox u2122we have created many examples showing you how to use matlab toolboxes using thingspeak channel data we have an example using the u00a0signal processing toolbox to u00a0visualize and remove outliers in your data u00a0which a common task when you are working with iot data from sensors if you want to forecast environmental data by using a feedforward neural network we have an example using the neural network toolbox operating on weather station data collected by thingspeak in all of our examples you are able to use the code right on thingspeak and allow it to run on a schedule using timecontrol or be triggered to run using react many of your licensed toolboxes are now available with your mathworks account on thingspeak,0.221578121185
Hans,we experienced an issue this afternoon that is tied to channel data being cleared our team had to restart the services on thingspeak com u00a0this afternoon and some users may have had experienced an outage as of 4pm est all services are u00a0functional and you should not be seeing any errors or outages the u201cclear channel u201d functionality and the corresponding api has been temporarily disabledyou will continue to be able to create new channels post data to your channels etc the team is working to restore this functionality asap,0.146181046963
Vinod,this issue has been resolved you should be able to clear you channel u00a0data and or delete channels using the api or on https thingspeak com,0.0719408094883
Hans,thanks for the update,0.970507740974
mbrizuela,clear channel still not working,0.161596596241
Vinod,mbrizuela what is the channel number you are trying to clear we will need to u00a0look into your channel u00a0specifically other u00a0users have confirmed the clear channel works,0.209545314312
mbrizuela,75774 and 112386,0.800044476986
mbrizuela,today in the morning i tested the clear channel again and it worked thanks,0.909995436668
Hans,we are going to update the site tomorrow may 11th between 10am and 11am est we do not expect any downtime but i wanted to let you know in advance,0.5
Hans,today we will be updating thingspeak with a few new features optimizations to our channel views and adding new server infrastructure thingspeak has been growing quickly we added 38 000 users in 2015 so we are planning for even more growth by adding new servers and capacity site maintenance and updates will happen february 29th at 10am est if any issues come up please let us know as soon as possible on the new features i will blog about some of the new things we added to the api and we will update the documentation once everything gets stabilized thanks for growing with us hans,0.949948906898
piajola,hi hans until now not any issues i can see all my little points are were they used to bemy code still intactlike the new interface ud83d ude42 ud83d ude42maybe the visualizations could be would ynamic would be great so happy to be here and i would like other people say their likesthank you very much ud83d ude09h s p s any news for blog docs dates,0.842597544193
Hans,thanks for commenting we are working hard to support our growth and feature plan we have more work to do on monday and then i will be blogging what are you working on thanks again hans,0.886756241322
piajola,hi hans thank you for the info and your work for all of usi am just starting with iot and with esp8266 arduino team cheap via wifi it will be easy to try no cables so you can put all sensors all places and thanks to thingspeak a place to keep the data and see what you want needi plan also to control some things via the more apps with thingspeak you have fun but the most important is its usefulness ud83d ude42again thanks a loth s,0.989495515823
Hans,we are starting the updates we will post the status shortly thanks,0.938583612442
Hans,most of thingspeak is back we are still restoring the matlab visualizations,0.180182933807
piajola,hi hans thank you for the new hardware what i see until now in stats updated last entry number of entries are not would ynamic to update you must refresh the browser page i would like to see that data are al time if possible only telling you really not an issue still you will blog later tomorrow i like to know what is thingspeak now ud83d ude42 ud83d ude42 ud83d ude42and of course again a lot of thanks h s,0.980338096619
mprolo,hi hans i am the developer of the android application thingview my app stopped working the url that fails is https thingspeak com channels channel_id windows json that is the json i used to get the chart info color timescale etc can you restore it back please thanks,0.232090294361
CorBee,hi mprolo thanks for putting the effort in your app i signalled the change in thingspeak to you hans my channels seem to be up and running still i see a new add visualisations option but thusfar i have not been able to visualize much ud83d ude09regardscor,0.781121432781
Hans,we have completely revamped the channels view so that it can scale for the future the endpoint you listed is not documented and we used internally i was not aware that you used it for your app does this endpoint help you https thingspeak com channels jsonthanks hans,0.5
mprolo,yeah i saw your message no need to give me a 2 stars review though,0.710525035858
CorBee,mprolo back to 4 stars hope to see it working again,0.82082593441
mprolo,hans said we have completely revamped the channels view so that it can scale for the future the endpoint you listed is not documented and we used internally i was not aware that you used it for your app does this endpoint help you https thingspeak com channels jsonthanks hansno it does not help me i know you used internally but is the only way to read the chart properties like results timescale color average sum etc in your new version you do not call the json anymore its harcoded on the page can you put it back online again please it will save me a lot of work,0.5
Hans,all services have been restored and updated,0.811566233635
skydesign,hi do you changed the size charts on my 7 monitor in landscape view before the update i had two columns charts now only one it a big problem for me,0.213258355856
mprolo,hans please restore the entry point windows json is very important i made this app for free but i do not want to have negative votes my apps has 2400 users does implies a lot of work for you guys,0.0984443128109
Hans,we are investigating the padding issue and how much effort it would be to restore the windows json function,0.135438770056
Hans,great to see your app back on google play it is looking good thanks for working with us,0.981589436531
Hans,skydesign can you try your channel view and see if you get two columns again we made some updates today and tried to fix that for tablet users thanks,0.833859324455
Hans,we are going to update the site tomorrow april 13th between 10am and 11am est we do not expect any downtime but i wanted to let you know in advance,0.274941384792
Hans,we have a server that hosts the static ip for thingspeak the ip is 184 106 153 149 devices that do not have dns or reliable dns use it to connect to the thingspeak api we need to perform some maintenance on the server so we will be rebooting the server tomorrow at 9am est everything should take a less than 10 minutes but we wanted to give you notice in case something goes wrong on your device,0.240929365158
Hans,reboot went smoothly and the static ip server is back online,0.870397388935
lee,based on many user requests we just released a new feature that allows you to download all of your channel data in csv format to do so open your channel in a web browser click on the would ata import export tab and you should see a button to download your data lee,0.5
turgo,great addition thanks a few observations about how it is working 1 the download is incomplete downloading four channels each with about a million points i am only getting the first 83 000 to 158 000 points interestingly the last point is an even number in the thousands 2 the download slows to a crawl it starts out at 35 k sec and falls to over about two minutes to 500 bytes sec could this be related to the incomplete downloading is the data throttled to the point that it times out,0.0806458294392
lee,hi i will take a look at this what is one of the channel ids that is not downloading completely lee,0.895641744137
turgo,channel 5140,0.765115499496
lee,ok i see the problem now for channels with a large number of feeds as the download progresses our database has to progressively scan larger and larger numbers of table rows to get the next chunk of data which increasingly slows things down i will work on optimizing this process so that you can download large channel feeds at a constant instead of diminishing rate and will reply back here when it ready lee,0.214653283358
turgo,awesome lee,0.997742295265
lee,hi you should be able to download your entire channel feed at a nearly constant rate now please let me know if it working ok for you lee,0.836767792702
turgo,hi lee it working better most downloads have successfully retrieved the whole channel though a few have not it takes quite a while at 30kb sec it would be especially helpful if the download file were named after the channel and if the header file had the actual names of the fields listed instead of field1 field2 etc thanks for this new feature,0.966451406479
turgo,i am still having problems retrieving all the data for channel 6278 with 833564 entries i tried twice i downloaded 577000 entries the first time and 605000 the second why does it stop after an even thousand entries,0.128999769688
lee,hi the download errors are most likely due to random internet communication errors that we have no control over but that are more likely to happen the longer a single connection is open the downloads are streamed in chunks of 1000 entries from our database so that why if there a problem the last entry will most likely be a multiple of 1000 lee,0.0391092002392
CorBee,hii like this new addition but to avoid the issues people have now i would like you to consider the following why not create a file at your server based on the request of a user and inform the user the moment the file is available for download the latter could be done in 2 ways a user gets a mail message that file x is ready for download orb user will see a file ready for download when logging in to his account regardscor,0.730803608894
turgo,another useful feature might be to divide the history files into separate years a years worth of 15 second data is more than 100 mb this will get unwieldy in five years,0.786651968956
frazelle09,i realize that this thread is a little outdated but it almost on the same topicfor how long is data kept on thingspeak one of the previous posters mentioned 1 000 000 data points like gee that a bunch have a wonderful day and thanks for thingspeak ud83d ude42,0.828638195992
rw950431,apart from the 15 second limit on updates there are no limits that thingspeak imposes not sure how long that can last 1 million data points may seem like a lot but its less than 6 months of 15 second data,0.5
johnmx,i cannot export anything from my channels always receive an error using the export option would ownload all of this channel feeds in csv format in the export tab does not work either it downloads a csv file with the time stamps of all points but without the data values this means i lost all my data,0.0617823898792
Adarsh_Murthy,hi is your channel private or public also do you see the data in your channel page https thingspeak com channels private_show thanks adarsh,0.796575188637
johnmx,both my channels are private but the export still does not work after changing them to public when i click in your link i only see the following message this channel is not public,0.5
Adarsh_Murthy,sorry the link has a typo the channel id was missing in the below link replace the channel id 12397 with your channel id https thingspeak com channels 12397 private_showin the private view of your channel do you see data in your channels if you do see data then another way to download data from the channel is the following url note that you need to change the channelid 12397 to your channel id https thingspeak com channels 12397 feeds csv this will download a csv with 100 rows in it you can change this by using the info on this link https www mathworks com help thingspeak get a channel feed htmlon clicking on the button to would ownload all of this channel feeds in csv format in the would ata import export tab of a private channel i am able to download data are you able to download your data now adarsh,0.5
johnmx,today the export is working well on both channels even the json and the xml export are working before they returned an error page not found in one and 1 error in the other i do not know what was the problem anyway thank you for your help,0.0773448050022
turgo,here is a html javascript web page to display multiple series and channels in real time http forum arduino cc index php action dlattach topic 213058 0 attach 66726you must edit the page source javascript to enter your channel information if you have lots of series it is helpful to click the hide all button and then click on the series names you are interested in to show them clicking and dragging vertically on the chart will select a range to zoom in to check the update chart checkbox to enable realtime charting with more than about 8 channels this causes thingspeak to cache and delay the data so i have it unchecked it also features buttons to load historical data 8000 points at a time select which channel you want to load and how many sequential loads to try then click the load more historical data button loading too much data causes thingspeak to first delay the data and then error 404 refuse to return data after ten loads or so i often cannot load any more data the three bars export button at the top right has an option to download a csv file containing the data from the chart this is public domain please post upgrades on the arduino forum thread too bad this forum does not support posting files http forum arduino cc index php topic 213058 0 the navigator could be dramatically upgraded to provide complete access to your historical data with smaller data downloads if iobridge were to change the average function so it would return 8000 points instead of averaging 8000 points http community thingspeak com forum thingspeak api daily average1440 parameter purpose defeated by results limits the charting library is called highstock it is awesome highsoft the owners say would o you want to use highstock for a personal or non profit project then you can use highchcarts for free under the creative commons attribution noncommercial 3 0 license,0.5
ntallari,holy crap this is absolutely wonderful it exactly what i have been looking for i am using it for my student lab webpage i hope that alright thank you thank you,0.967254042625
turgo,my pleasure if you make upgrades please share them,0.941954135895
geo3geo,many thanks turgo for sharing your work i have just used it for my composite beebug monitor display see http www mecol co uk p11 phpcheers geo,0.5
turgo,cool geo i am most interested in the weight stat it interesting to consider how it measures when the bees are home or out working what is the brood measure,0.934232532978
gabrielb,i think i have discovered a problem with this fantastic viewer first off i absolutely love it the problem i have found is that it does not handle channels higher than 65535 that number does look familiar does not it hint hffff if i keep my viewed channels low it works fine but if i have a channels starting with 7 it mixes up the graphs things fail etc i think i know what the problem is but i have no idea about html and java so i havent been able to fix it variable channelnumber seems to be the problem but i cant find where its initialized on the code a fix for this would be greatly appreciated regards g,0.074539244175
vorms,helloi use the turgo script for 2 applications for the first one it work very well for the second depending the lengh of historic data is not displayed if you display the last week the display is right if you try to display the last day there is no data every days ther is no data from 23 pm to 6 am that just normal may be it is a problem on thingspeak the data on thingspeak is okthie link for the dispay is here http thili net ruches blaise index htmlwhat is very stange is if i dowlload data or create csv file data seasm to be good many thanks for your help and thanks again for your very nice script thierry vorms,0.5
Hans,parts of thingspeak rely on amazon web services aws aws had issues on sunday and is having intermittent issues now as a result some thingspeak features are experiencing failures you may see matlab code errors or errors saying that your code has timed out we are working with amazon to resolve these issues you can monitor aws here http status aws amazon com and specifcally the amazon dynamodb parts of amazon,0.0541849136353
Hans,for the last several years i have been collecting data with thingspeak from devices all around my house i have been tracking temperature humidity light levels outside weather data my deep freezer u2019s temperature the state of my toaster and air quality metrics i just recently started to think about what all of this data really means to me and if it u2019s good data to begin with wouldn u2019t it be great if i could explore my data in thingspeak well i am happy to say that with the latest upgrade to thingspeak you can do just that we have been working with the matlab team at mathworks to provide two new thingspeak apps matlab analysis and matlab visualizations with these new built in apps the thingspeak web service can automatically run matlab code that makes it easier to gain insight into your data check out our full announcement http community thingspeak com 2015 08 you have collected lots of iot data this is really big news for the thingspeak community i am really excited to see what you do with these new apps i will share projects on the blog as they come in let u2019s find out together what all of this data means get started at https thingspeak com,0.162975549698
rayellam,can the matlab charts be dynamically updated,0.862078070641
ma11en,for now the matlab charts are refreshed every 10 minutes,0.843548297882
Jeff Goodwin,hi rayellam could you share more detail about why and how often you are looking for the matlab charts to be dynamically updated for instance what type of data are you collecting viewing and what is your goal for visualizing the data what might an acceptable refresh rate be thanks jeff,0.946028113365
Hans,in order to make thingspeak as easy to use as possible we would like to get some input from the people who are using it and that where you come in we would like to invite you to participate a very simple exercise that will give us some great insight into how we can make thingspeak easier to use we have put together a card sort activity to help us better understand how to organize the various features available on thingspeak if you u2019d like to give us your feedback go to https aps3ltx4 optimalworkshop com optimalsort 177j6g82 and complete the sort thanks for your feedback and have fun hans,0.973331928253
Hans,control things based on the time of day https thingspeak com docs timecontrol,0.5
Hans,we are performing a database upgrade the api for reading feeds will be down until the upgrade completes we will be back shortly,0.23937907815
JChristensen,is this affecting posts as well i have been getting status 500 internal server error for about the last three hours or so,0.0710359811783
Hans,all database operations are up and running now,0.72830337286
CorBee,that explains the large gaps in my logged values i suppose maybe it would be handy unless things are really suddenly urgent to know up ahead that a database upgrade is coming up could we perhaps get a notifier for this a sort of general react service that will inform users for major changes outages etc kind regardscor bee,0.5
JChristensen,indeed or did i miss the memo i would either email notification to all users or have somewhere that status could be checked corbee said that explains the large gaps in my logged values i suppose maybe it would be handy unless things are really suddenly urgent to know up ahead that a database upgrade is coming up could we perhaps get a notifier for this a sort of general react service that will inform users for major changes outages etc kind regardscor bee,0.5
turgo,since the upgrade i have noticed that multiple historical data querys appear to be returned faster using my multichannel web page thanks http community thingspeak com forum announcements thingspeak live chart multi channel second axis historical data csv export,0.5
Hans,in order to help developers find open data inside of thingspeak channels we created a new api for searching the public thingspeak channels here are the public thingspeak channels we order the channels by activity and completeness channels may be tagged and this helps find data that you might find interesting for your application we also have api commands that you can pass to the thingspeak channel api to return the public thingspeak channels in either json or xml format here are some examples http api thingspeak com channels public json returns the public thingspeak channels in json formathttp api thingspeak com channels public xml returns the public thingspeak channels in xml formathttp api thingspeak com channels public json tag temperature returns the public thingspeak channels in json format that match the tag u201ctemperature u201d,0.5
turgo,please fix i depend on your service,0.747305452824
JChristensen,i am getting numerous instances of the page you are looking for is temporarily unavailable please try again later maybe half my data or so is getting through what info you can share on this thingspeak,0.253689944744
Hans,traffic has spiked over the past few days we are adding a new server to the cloud to accommodate the new demand,0.754912018776
mcdonald_ajr,ditto i get the page you are looking for is temporarily unavailable almost all the time i understand that you must have funding issues as a free service but some more information on your service status would be gratefully appreciated if the service cannot be made reliable then i will have to find an alternative thanks anyway anthony,0.813423633575
lee,hi we recently made some major improvements to our service so it should be much more stable now lee,0.930147171021
chrisjmears,when i ping the server it seems to be up but when i go to the page i keep getting the page you are looking for is temporarily unavailable please try again later i have tried this on both my mobile using the o2 internet and on my work pc and both are the same so fairly sure its not an isp issue the reason i ask is i am trying to log some test data from an application in austalia and lost about 19 hours of data from yesterday i think the last update was around 10 45am gmt time at first i thought it was a but in my processing app which sends data up to thingspeak but with the site being inaccesible and api thingspeak com giving the same message the page you are looking for is temporarily unavailable please try again later now i am not so sure,0.0209065377712
Hans,we just announced a new contest http community thingspeak com 2013 06 internet of things contest the easiest contest ever part 2 all you have to do is build a project using a thingspeak web service post a demo how you done it video on youtube or vimeo and tell us about it we are giving away 20 gift certificates to sparkfun valued at 50 each and u2026 selecting our favorite projects for bonus prizes leave a comment with questions this contest is open to anyone so sign up for thingspeak and get going,0.892094314098
Hans,we wanted to send you a quick note before the holidays and ask for your vote we are thankful that you are users of the quickly growing u00a0thingspeak u00a0community a way that you can help us is to vote for u00a0thingspeak u00a0as the best internet of u00a0things u00a0project of 2012 u00a0all that you need to do is to go here and vote for u00a0thingspeak u00a0no registration is required just 2 clicks one on the link and one next to u00a0thingspeak u00a0 scroll down while you are there check out other great projects and maybe that will inspire you to create a project next year the competition is tough as most of the projects nominated are hardware we are in a unique spot where everything listed works with u00a0thingspeak that in of itself is the cool part to us thanks hans u00a0ps vote u00a0here u00a0for cheerlights too cheerlights is huge network of lights linked together this project uses u00a0thingspeak u00a0and tweetcontrol to change the colors of 1000 of lights all around the world at the same time,0.961687803268
Hans,stay tuned we will be upgrading thingspeak the first round of upgrades will happen soon and these include many improvements to the data importer and creates new u00a0custom u00a0public private views of the a thingspeak channel,0.5
Hans,we are deploying u00a0,0.796732902527
Hans,we are u00a0updating u00a0thingspeak com tonight will be back shortly new features coming soon,0.775570452213
cotixtof,when using the following function from thingspeak lib it works data are displayed to thingspeak thingspeak writefield mychannelnumber 1 temp mywriteapikey now when using the function thingspeak writefields mychannelnumber mywriteapikey along with thingspeak setfield 1 temp nothing is displayed any advise would be appreciated i have attached the code below chris include include include include include include thingspeak h hdc1000 mysensor mac address for your ethernet shieldbyte mac 0x90 0xa2 0xda 0x0d 0xd8 0x2e thinkspeak to upload dataunsigned long mychannelnumber 394883 const char mywriteapikey would 5vw1m5cuc6xwssg set the ethernet library structures ethernetclient client declares variables and other fixed values float watchdog 0 unsigned long previousclicksmillis int utemp int uhumidity int udp int uwindspeed unsigned volatile int clicks 0 interrupt number 0 on digital pin 2int sampling_rate 1000 sampling rate in msint t 30 sampling_rate integration time in sfloat n float t sampling_rate number of samples per integration timevoid setup start serial monitor serial begin 9600 serial println tarting datapod init init hdc1000 sensor mysensor begin inititiate click count for windspeed measurement attachinterrupt 0 clicker rising previousclicksmillis millis initializing network while ethernet begin mac 1 serial println error getting ip address via dhcp trying again delay 15000 network success message delay 2000 serial print network initialized with the following ip address print the local ip address for byte thisbyte 0 thisbyte 4 thisbyte print the value of each byte of the ip address serial print ethernet localip thisbyte dec serial print serial println serial println initializing thingspeak thingspeak begin client void loop init values float temp 0 float humidity 0 float windspeed 0 float dp 0 dewpoint for int sampler 0 sampler t sampler sampling_rate clicks and rotates timing references unsigned long loopstart millis temp mysensor gettemp humidity mysensor gethumi unsigned long loopend millis delay sampling_rate loopend loopstart t unsigned long now millis float counttime now previousclicksmillis 1000 0 serial println counttime for debug purpose only windspeed 765 float clicks counttime windspeed float clicks 1 for debug purpose only clicks 0 previousclicksmillis now watchdog watchdog 1 thingspeak thingspeak writefield mychannelnumber 1 temp mywriteapikey thingspeak writefield mychannelnumber 2 humidity mywriteapikey thingspeak writefield mychannelnumber 3 dp mywriteapikey thingspeak writefield mychannelnumber 4 windspeed mywriteapikey thingspeak writefield mychannelnumber 5 watchdog mywriteapikey thingspeak setfield 1 temp thingspeak setfield 2 humidity thingspeak setfield 3 dp thingspeak setfield 4 windspeed thingspeak setfield 5 watchdog thingspeak writefields mychannelnumber mywriteapikey functions count clicks from anemometervoid clicker clicks,0.5
cstapels,if you use the code above you will violate the update rate each thingspeak writefield counts as an update if you have a paid license you need at least 1 second of delay between each write if you have a free account you need 15 seconds you can use thingspeak setfield five times in a row without waiting but each thingspeak writefields also counts as an update since there was just a writefield behind it it would violate the update frequency did you commented out the thingspeak writefields when you tested also i noticed in your data that there are line feeds in your field 5 data i e 400 are these on purpose they may make your field 5 thingspeak plots not function correctly,0.799644470215
elaghouh,hey guys i am using a sim5320a shield to collect sensor data and send it to my thingspeak channel up to yesterday i was just sending random numbers to get everything working and no wi have hooked up my sensor and want to send those values floats turned to char arrays to the channel for some reason my shield gives me the ok that it has sent to thingspeak but my channel does not get updated,0.735921084881
cstapels,are you getting the response code can you show the format you are using for the api call,0.773961007595
maximelanoelle,hellofirst post in this forum let me know if i should have posted in a different location i am trying to send data to thingspeak retrospectively with a forced timestamp i intent to use arduino and specifically the two functions thingspeak setfield followed by thingspeak writefields mychannelnumber_02 mywriteapikey_02 i understand how to send data and let thingspeak specifies automatically the time value when the function gets called however i would like to be able to retrospectively add data points in thingspeak for specific chosen timestamps is there a way to do this thanks in advancemax,0.780754089355
cstapels,looks like a perfect place to post you can use the setcreatedat in the thingspeak communication library i e thingspeak setcreatedat 2017 01 06t13 56 28 you can find the documentation for all the available functions in your arduino libraries folder then look in thingspeak extras and then class_thing_speak_class htmlhere is the partial path arduino libraries thingspeak extras documentation class_thing_speak_class html,0.829645216465
maximelanoelle,thanks for the help this was exactly the command i was after now i just need to figure out how to convert my rtc time to the format you specified cheers max,0.898826599121
cstapels,search for an arduino time library there are a bunch of libraries that help you do almost any crazy time operation you want to do you just have to sift through the doc or examples but they have it time formatting is the stuff of many of my recurring programming nightmares you can also just do string manipulation on it yourself but i guarantee it will be wrong after daylight savings or every other leap year etc not recommended and thanks for letting us know it worked,0.795221805573
yohannes,need help in reading and writing voltage values on my thingspeak channel i keep getting esp8266 was not declared in this scope error it would be appreciated if someone can help me by tonight here is the code that i used const float referencevolts 3 3 const int batterypin 0 include arduino h include thingspeak h define debug true show messages between esp8266 and arduino in serial port when set to true define ssid cact define pass vostro022a tring sendat string command const int timeout boolean debug string response esp8266 print command long int time millis while time timeout millis while esp8266 available char c esp8266 read response c if debug serial print response return response void setup serial begin 9600 initialize serial communication at 9600 bits per secondesp8266 begin 9600 begin the software serial communication with a baud rate of 9600analogwriteresolution 10 sendat at rst 2000 debug call sendat function to send reset at commandsendat at 1000 debug sendat at cwmode 1 1000 debug call sendat function to set esp8266 to station modesendat at cwjap sid pass 2000 debug at command to connect with the wi fi network while esp8266 find ok wait for connection sendat at cifsr 1000 debug at command to print ip address on serial monitor sendat at cipmux 0 1000 debug at command to set esp8266 to multiple connections the loop routine runs repeatedly forever void loop read the input on analog pin 0 int val analogread batterypin analogwrite dac0 300 analogwrite dac1 800 print out the value you read float volts val 1023 0 referencevolts serial println volts delay 100 delay in between reads for stability void updatets string t string p serial println sendat at cipstart tcp api thingspeak com 80 1000 debug delay 2000 string cmdlen string cmd get update key kx9if911j8pebemu field1 t field2 p update the voltage values on thingspeak url cmdlen cmd length sendat at cipsend cmdlen 2000 debug esp8266 print cmd serial println sendat at cipclose 2000 debug serial println delay 15000,0.767257511616
pantani,hello i have a question about the delay of reading or writing on thingspeak the code is about turning on the led by reading the value on thingspeak after 10 seconds the led is turned off but it takes about 5 seconds to read the value on the thingspeak and then the value on the thingspeak is also rewritten also took 5 seconds is this delay normal because the official indication is that the transmission time is 1 second here is my code include include include replace your wifi credentials hereconst char ssid xxxxxxxxxxxxxxxx const char password xxxxxxxxxxxxxxxxxx change your channel number hereunsigned long mychannelnumber xxxxxxxxxxxx const char mywriteapikey xxxxxxxxxxxxxxxxxx wificlient client void setup serial begin 115200 delay 100 pinmode d1 output digitalwrite d1 low we start by connecting to a wifi network serial println serial println serial print connecting to serial println ssid wifi begin ssid password while wifi status wl_connected delay 500 serial print serial println serial println wifi connected serial println ip address serial println wifi localip serial print netmask serial println wifi subnetmask serial print gateway serial println wifi gatewayip thingspeak begin client void loop get the last data of the fieldsbool led_1 thingspeak readfloatfield mychannelnumber 1 mywriteapikey serial print led1 serial println led_1 if led_1 1 digitalwrite d1 high serial println would 1 is on delay 10000 delay 10secthingspeak writefield mychannelnumber 1 0 mywriteapikey if led_1 0 digitalwrite d1 low,0.5
cstapels,if you are using a free user account you are limited to updates only every 15 seconds your code would violate that limit every other time through the loop also you have a mandated delay in the loop before the channel read is performed see the examples in the thingspeak documentation for a more efficient solution for example https www mathworks com help thingspeak rapid prototyping with thingspeak htmlin section d you can see how the time is checked millis each time through the loop and then a post happens only when the appropriate time has elapsed you can put the read request in a loop with a smaller timeout then you will have faster response for your reads and the writes wont be too fast the connection delays will depend on your local environment more than thingspeak response time 5 seconds is longer than i would expect assuming you are not violating the update rate but the 5 seconds or longer makes sense with the code above another solution is to use mqtt subscribe the performance will likely be a good deal faster since the broker will push updates to the device every time the channel is updated i have acheived 100 200 ms with mqtt subscribe on a device faster with a desktop subscription program here is particle photon code for subscribe it is similar to arduino https www mathworks com help thingspeak use particle photon client to subscribe to channel updates htmlhere is publish code for srduino you can use the same connection methods and then use the subscribe parts from the photon example https www mathworks com help thingspeak use arduino client to publish to a channel htmland here is the mqtt doc https www mathworks com help thingspeak mqtt api html,0.865325808525
pantani,thanks for cstapels reply i am using home license so the update limit is 1 second now i try to use millis to modify and measure the time of reading time interval the time is still about 5 6 seconds as you said my code will cause a long delay how do i change the code to reduce this delay below is the modified code include include include unsigned long deltainterval unsigned long time1 unsigned long time2 replace your wifi credentials hereconst char ssid xxxxxx const char password xxxxxxx change your channel number hereunsigned long mychannelnumber xxxxxxx const char mywriteapikey xxxxxxxxxx wificlient client void setup serial begin 115200 delay 100 serial println serial println serial print connecting to serial println ssid wifi begin ssid password while wifi status wl_connected delay 500 serial print thingspeak begin client void loop time1 millis bool led_1 thingspeak readfloatfield mychannelnumber 1 mywriteapikey time2 millis deltainterval time2 time1 serial print would eltainterval serial println deltainterval serial print led1 serial println led_1 result deltainterval 5724led1 0deltainterval 5948led1 0deltainterval 6040led1 0deltainterval 5810led1 0deltainterval 5866led1 1deltainterval 5826led1 1deltainterval 5948,0.5
cstapels,have a look at the examples i listed above they show a way to make a more efficient loop using the timer to check the elapsed time did you see the code in section d for the proximity sensor,0.942527890205
AnnaLB,i am extremely new beginner to this and i have been using my arduino by just keeping it plugged into my computer through the usb to keep it powered and run my sketches i just signed up for thingspeak and am trying to get started and i was wondering if it is possible to use thingspeak by keeping my arduino plugged into my computer which has wifi through the usb i do not have an ethernet wifi shield and this is why i am wondering if i can do it this way it seems like it should work because my computer is hooked to wifi and my arduino is physically attached to my computer reasoning since this is new to me i want to try to figure things out understand before i invest more money into it,0.789735138416
AnnaLB,i think i may have figured my problem out it was not as simple as i suspected so if anyone has an easier way to do this i would love to learn posting this as a comment in case anyone else has the same issue my solution was to use python as a middle man between the arduino and thingspeak using the serial monitor and pyserial package if you are more of a java person i was also able to get it to work using processing processing org as a middle man as well here is a helpful video i found using python,0.814938306808
cstapels,that is a very creative solution thanks for your post i would consider purchasing an esp8266 such as a nodemcu or similar they cost less than the arduino and include wifi capability the esp32 has even more advanced capabilities bluetooth etc,0.82234442234
eplantes,hello i have been testing the bulk update feature using arduino mkr 1400 gsm and i have experimented some problems for some strange reason i only can send bulk updates when the packet size is about 256 bytes or less but not longer every time i send my packet with size longer than 256 bytes i receive an error i do not know if this error is caused by the library mkrgsm or is a limitation on the gsm chip this supposes a very serious inconvenience for me because i need to send about 180 measurements 2 2kbytes and the between consecutive bulk updates must be 15 seconds or more can someone tell me what could be the reason of this limitation this is my arduino code for requests with packet size of 256 bytes works fine but with longer size not u00a0 include the gsm library include pin number if necessary define pinnumber apn information obrained from your network provider define gprs_apn replace with your gprs apn define gprs_login replace with your gprs login define gprs_password replace with your gprs password initialize the library instances gsmclient client gprs gprs gsm gsmaccess true u00a0 thingspeak settings char thingspeakaddress api thingspeak com string writeapikey my_api_key_wr replace with your api key const int updatethingspeakinterval 15 1000 time interval in milliseconds to update thingspeak number of seconds 1000 interval variable setup long lastconnectiontime 0 boolean lastconnected false int failedcounter 0 char superstring write_api_key my_api_key_wr updates would elta_t 0 field8 1000000 would elta_t 1 field8 1000000 would elta_t 1 field8 1000000 would elta_t 1 field8 1000000 would elta_t 1 field8 1000000 would elta_t 1 field8 1000000 would elta_t 1 field8 9999999 would elta_t 1 field8 1000000 would elta_t 1 field8 9999999 u00a0void setup serial settimeout 5 serial begin 57600 opens serial port sets data rate to 9600 bps startgsm u00a0void loop if client available char c client read serial print c disconnect from thingspeak if client connected lastconnected serial println disconnected serial println client stop update thingspeak if client connected millis lastconnectiontime updatethingspeakinterval string tothingspeak superstring serial println tothingspeak updatethingspeak tothingspeak if failedcounter 3 startgsm lastconnected client connected void updatethingspeak string tsdata if client connect thingspeakaddress 80 serial println enviando datos client println post channels my_channel bulk_update json http 1 1 client println host api thingspeak com client println user agent mw doc bulk update arduino esp8266 client println connection close client println content type application json client print content length client print tsdata length client print client print tsdata lastconnectiontime millis if client connected serial println connecting to thingspeak serial println failedcounter 0 else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println lastconnectiontime millis void startgsm char server api thingspeak com the base url int port 80 the port 80 for httpserial println tarting arduino web client connection state boolean notconnected true start gsm shield pass the pin of your sim as a parameter of gsmaccess begin while notconnected if gsmaccess begin pinnumber gsm_ready gprs attachgprs gprs_apn gprs_login gprs_password gprs_ready notconnected false else serial println not connected delay 1000 serial println connecting if you get a connection report back via serial if client connect server port serial println connected else if you did not get a connection to the server serial println connection failed u00a0thank you best regards,0.0477143228054
cstapels,i have run into buffer size limitations with arduino for http posts u00a0 instead of building u2018superstring u2018 in advance i would store your field data in an array and pass the array to your posting function u00a0 then send one field at a time so you don u2019t have a big string u00a0 u201cclient println content type application json client print content length client print tsdata length client print u201d u2026 u00a0client print u201c field1 u201d string fieldarray 1 client print u201c field2 u201d string fieldarray 2 client print u201c field3 u201d string fieldarray 3 client print u201c field4 u201d string fieldarray 4 client println u2026and so on u00a0 you can obviously use a loop here,0.5
eplantes,hello cstapels thanks for your response but u00a0i have a doubt according to the documentation the time between consecutive bulk updates must be 15 seconds or more so if i have to send 180 measurenments i need a lot of time to send all data in my case i do not need to send eight flieds every time only 1 field for this reason i thought creating a superstring it would be the best option u00a0on another hand looking at the mkrgsm library i have noticed in the gsmclient cpp file in the write method that the max size packet is 256 i suposse it must be some reason of that so i am not sure if is not possible increase it this could be the cause of my problem this is the part of the code affected size_t gsmclient write const uint8_t buf size_t size u00a0 if _writesync u00a0 u00a0 while ready 0 u00a0 else if ready 0 u00a0 u00a0 return 0 u00a0 u00a0 if _socket 1 u00a0 u00a0 return 0 u00a0 u00a0 size_t written 0 u00a0 string command u00a0 while size u00a0 u00a0 size_t chunksize size u00a0 u00a0 if chunksize 256 u00a0 u00a0 u00a0 chunksize 256 u00a0 u00a0 u00a0 u00a0 command reserve 19 chunksize 2 u00a0 u00a0 command at usowr u00a0 u00a0 command _socket u00a0 u00a0 command u00a0 u00a0 command chunksize u00a0 u00a0 command u00a0 u00a0 for size_t i 0 i chunksize i u00a0 u00a0 u00a0 byte b buf i written u00a0 u00a0 u00a0 byte n1 b 4 0x0f u00a0 u00a0 u00a0 byte n2 b 0x0f u00a0 u00a0 u00a0 command char n1 9 a n1 10 0 n1 u00a0 u00a0 u00a0 command char n2 9 a n2 10 0 n2 u00a0 u00a0 u00a0 u00a0 command u00a0 u00a0 modem send command u00a0 u00a0 if _writesync u00a0 u00a0 u00a0 if modem waitforresponse 10000 1 u00a0 u00a0 u00a0 u00a0 break u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 written chunksize u00a0 u00a0 size chunksize u00a0 u00a0 return written u00a0 thank you,0.5
cstapels,i think you have got the problem figured out now u00a0 you do not need to increase the buffer size though u00a0 just send each measurement separately it the same thing for one field u00a0 u00a0send an array of measurements and times to your posting functions then you will never exceed the 256 byte limit here is pseudo code i have not checked all the syntax you really have to be careful with all the quotes and slashes int deltats measurements float values measurements posting_function deltats values headers and other stuff client print write_api_key string my_api_key_wr client print updates for int i 0 i measurements i client print would elta_t string deltats i field8 string values i,0.5
eplantes,thanks cstapels i am going to test it thank you very much,0.984374165535
eplantes,hei cstapels i have tested it and it works at the moment i can not send all data al the same time i do not know the reason but i can send over 80 u00a0measurements u00a0every time this is fantastic for me because i can send all data in three requests i just need to wait the precise time between requests once i have finished my code and i have tested it i will post it in this thread maybe it can be u00a0useful u00a0for someone thank you very much,0.801599621773
cstapels,great news definitely post your finished code and please share the final results of your project too if you can,0.968066394329
eplantes,hello once i have done a lot of tests about 4000 requests or more i think my program is very stable so i would like to share my code with the community first of all my program starts a monitoring process during 150 seconds where it reads some parameters like electrical conductivity temperature humidity etc when this process has finished it calls to bulkupdate methods to send these values to thingspeak platform once the program finished it goes to sleep mode arduino libraries include include include include would ht h include include include include include gsm dataconst char gprs_apn secret_gprs_apn const char gprs_login secret_gprs_login const char gprs_password secret_gprs_password const char pinnumber secret_pin boolean connected false byte failedcounter 0 gsm classesgsmclient client gprs gprs gsm gsmaccess thingspeak settingsconst char server api thingspeak com const byte port 80 const char api_key secret_api_key const char channel secret_channel leds dht define power_on 2 define k1 3 define k2 4 define dhtpin 5 define dhttype dht11 analog inputs define psolar_input a1 define bat_input a2 dht temp humdht dht dhtpin dhttype float lectura float temp float hum float tbulbo float volsolar float volbat cda 16 bits ads1115adafruit_ads1115 ads 0x48 int16_t adc0 adc1 adc2 adc3 static char vol 10 timers and injections controllersconst byte nmuestras 75 const unsigned long __timeout__ 10 1000 const int time_sleep 5 60 1000 12 60 1000 unsigned long time_read 0 byte countreads 0 byte indexpot 0 control injections variablesstatic boolean tosleep false static boolean injectionfinished false static boolean initprocess true static boolean poscycle true static int countercycles 1 const int max_cycles 96 vector de potenciales electricosfloat potenciales nmuestras reboot method reinicia el dispositivo void reboot nvic_systemreset setup method se inicializa todos los parametros del dispositivo void setup serial settimeout 5 serial begin 9600 serial println init iniciando dispositivo init digital relays outputs pinmode dhtpin input pinmode k1 output pinmode k2 output pinmode power_on output init dht ad conversor dht begin ads begin init process connectedgsm initprocess true void loop mainprocess serial println finished proceso terminado dispositivo en modo sleep lowpower sleep time_sleep mainprocess proceso general del programa obtiene 75 lecturas envia valores calculados el dispositivo entra en modo sleep void mainprocess while tosleep if injectionfinished if initprocess initprocess false injectionfinished false initcycle if injectionfinished if millis time_read 2000 readdata time_read millis else serial println info inyeccion finalizada mostrando datos finalizar ciclo posito negativo lectura parametros temperatura humedad vbat finishcycle calculatefinalvalues conexion gsm y envio de datos digitalwrite power_on low bulkupdate 0 75 tosleep true initprocess true injectionfinished false tosleep false readdata realiza una lectura void readdata adc0 ads readadc_singleended 0 adc1 ads readadc_singleended 1 adc2 ads readadc_singleended 2 adc3 ads readadc_singleended 3 lectura adc0 0 1875 countreads if poscycle lectura lectura 1 serial print info sonda pot serial println lectura 3 potenciales indexpot lectura indexpot if countreads nmuestras injectionfinished true getlaststring recupera los valores almacenados en el proceso y prepara la ultima cadena a enviar a la plataforma thingspeak string getlaststring string stringtothingspeak would elta_t 1 field1 string 0 field2 string countercycles field3 string potenciales nmuestras 1 3 field4 string tbulbo 1 field5 string temp field6 string hum field7 string volbat field8 string volsolar serial print ultima cadena a enviar serial println stringtothingspeak return stringtothingspeak iniciar ciclo positivo negativo void initcycle serial println info iniciando ciclo digitalwrite power_on high delay 2000 if poscycle digitalread k2 low digitalwrite k1 high serial println proceso de ciclo positivo else if poscycle digitalread k1 low digitalwrite k2 high serial println proceso de ciclo negativo iniciar contadores countreads 0 indexpot 0 failedcounter 0 iniciar temporizadores time_read millis finalizar ciclo positivo negativo void finishcycle if digitalread k1 high digitalwrite k1 low poscycle false serial println finaliza ciclo positivo else if digitalread k2 high digitalwrite k2 low poscycle true serial print finaliza de ciclo negativo time_read 0 bulkupdate void bulkupdate int indexini int indexfin int ldata getlengthdata indexini indexfin string potencial client stop if client connect server port serial println enviando datos client println post channels string channel bulk_update json http 1 1 client println host api thingspeak com client println user agent arduino mkrgsm client println connection close client println content type application json client print content length client print ldata serial print longitud cadena serial println ldata client print potencial string potenciales indexini 3 client print write_api_key string api_key updates would elta_t 0 field3 potencial for int i indexini 1 i indexfin 1 i potencial string potenciales i 3 client print would elta_t 2 field3 potencial client print getlaststring client print comprobacion codigo respuesta servidor delay 250 string rs are spuesta bulkupdate client parsefloat rs string client parseint serial println rs else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println gestiona la conexion gsm usando los parametros configurados en el fichero secrets pin apn user password bool connectedgsm serial println info starting arduino web client connection state boolean connected false while connected if gsmaccess begin pinnumber gsm_ready if gprs attachgprs gprs_apn gprs_login gprs_password gprs_ready connected true serial println ok connected apn settings succesful else serial println fail not connected to gsm trying again delay 1000 return connected int getlengthdata int indexini int indexfi int size 0 string val string potenciales 0 3 size string write_api_key length size string api_key length size string updates would elta_t 0 field3 length size string val length size string length for int i indexini 1 i indexfi 1 i size string would elta_t 2 field3 length val string potenciales i 3 size string val length size string length finalizaci u00f3n de la cadena size string getlaststring length size string length serial print info longitud calculada serial println size return size obtiene el voltaje de la bateria void getlevelbattery int sensorvalue analogread adc_battery convert the analog reading which goes from 0 1023 to a voltage 0 4 3v volbat sensorvalue 4 3 1023 0 calcula la temperatura y humedad exterior a partir de la sonda dht11 void calculatetemphum temperatura bulbo int16_t adc1 ads readadc_singleended 1 tbulbo adc1 0 1875 10 0 temperatura y humedad exterior hum dht readhumidity temp dht readtemperature if isnan hum isnan temp serial println failed to read from dht sensor temp 99 hum 99 return getvolpanelsolar calcula el voltaje del panel solar void getvolpanelsolar int sensor analogread psolar_input volsolar sensor 5 1024 0 calculatefinalvalues calcula los valores finales y los imprime por pantalla void calculatefinalvalues calculatetemphum getvolpanelsolar getlevelbattery printresults printresults muestra lo valores finales calculados string printresults serial println valores calculados finales serial print t field 1 serial println string 0 serial print t contador serial println countercycles serial print t voltaje panel solar serial println volsolar serial print t temp exterior serial println temp serial print t hum exterior serial println hum serial print t temp bulbo serial println tbulbo serial print t voltaje bateria serial println volbat thanks,0.81919491291
Syed_Tauqeer,i am trying to send dht11 data through ethernet shield w5100 on thingspeak but my code output is 999 for both temperature and humidity it also shows 999 on serial monitor of arduino ide and also on thingspeak please help if someone knows the error in the code include spi h include ethernet h include dht h define dht11pin a0 define dhttype dht11dht dht11 ok u00a0 local network settingsbyte mac 0xd4 0xa8 0xe2 0xfe 0xa0 0xa1 must be unique on local networkbyte ip 192 168 0 150 must be unique on local networkbyte gateway 192 168 0 1 byte subnet 255 255 255 0 thingspeak settingschar thingspeakaddress api thingspeak com string writeapikey 1ou6vu71stlr write api key for a thingspeak channelconst int updateinterval 16 1000 time interval in milliseconds to update thingspeak variable setuplong lastconnectiontime 0 boolean lastconnected false int failedcounter 0 initialize arduino ethernet clientethernetclient client void setup serial begin 115200 ethernet begin mac ip gateway subnet delay 1000 serial print ethernet shield ip is serial println ethernet localip start ethernet on arduino startethernet void loop string analogpin0 string analogread a0 dec ok print update response to serial monitor if client available char c client read serial print c int chk dht11 read dht11pin char t_buffer 10 char h_buffer 10 float t dht11 temperature string temp dtostrf t 0 5 t_buffer serial print temp serial print float h dht11 humidity string humid dtostrf h 0 5 h_buffer serial print humid u00a0 disconnect from thingspeak if client connected lastconnected serial println serial println disconnected serial println client stop update thingspeak if client connected millis lastconnectiontime updateinterval updatethingspeak field1 temp field2 humid lastconnected client connected void updatethingspeak string tsdata if client connect thingspeakaddress 80 client print post update http 1 1 client print host api thingspeak com client print connection close client print x thingspeakapikey writeapikey client print content type application x www form urlencoded client print content length client print tsdata length client print client print tsdata lastconnectiontime millis if client connected serial println connecting to thingspeak serial println failedcounter 0 else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println lastconnectiontime millis void startethernet client stop serial println connecting arduino to network serial println delay 1000 connect to network amd obtain an ip address using dhcp if ethernet begin mac 0 serial println would hcp failed reset arduino to try again serial println else serial println arduino connected to network using dhcp serial println serial println would ata being uploaded to thingspeak server serial println delay 1000,0.5
cstapels,if the value is wrong on the serial monitor its more likely a setup issue connection issue or library issue i would simplify your example and just get the dht output on the serial monitor working there is probably a simple example that comes with the library you are using,0.0509553253651
eplantes,hello once the purchase of the commercial license has been made we have begun to carry out the first tests with unexpected results our sensor network is made up of arduino mkr 1400 gsm type devices the fact of choosing as a means of gsm transmission and not wifi is simple as the crops are far from urbanization and the distances between crops can be considerable because they are in the middle of the field we did not want them to depend on a wifi network or the need to put repeaters due to the coverage in that sense gsm technology although old seemed the best option however the choice of this has certain limitations due to the large number of samples that have to be sent during each cycle 1 per second 3 minutes total 180 samples we have used the mqtt protocol for the implementation of the sample shipment from what i understand this protocol being light is the most appropriate to send data in real time therefore our arduino program establishes a first connection with the server and once established it starts sending data once per second for three minutes however due to the graphics obtained in our channels the results are not as expected of 180 samples about 130 are received more or less the rest seems to be lost to others when downloading the data of the channel we see that many of them arrive with several seconds of difference instead of a second that is as it should be it gives the sensation that the packages do not arrive by what is the own means of transmission the problem is that we need these 180 samples to do later an optimization calculation of non linear functions in matlab doing it at the device level at the arduino level would bring many complications such as accuracy calculation capacity and processing speed i understand that the solution is not simple nevertheless i am waiting for your comments this is my arduino program this example uses an arduino mkr gsm 1400 board to connect to shiftr io important this example uses the new mkrgsm library you can check on your device after a successful connection here https shiftr io try by sandeep mistry https github com 256dpi arduino mqtt include mkrgsm h include mqtt h include arduinolowpower h const char pin null const char apn my_apn const char login null const char password null const char servermqtt mqtt thingspeak com unsigned long lastconnectiontime 0 char mqttusername gsm1 can be any name char mqttpass mypass change this your mqtt api key from account myprofile char writeapikey mywrapikey change to your channel write api key long channelid mychannel static const char alphanum 0123456789 abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz for random generation of client id u00a0gsmsslclient net gprs gprs gsm gsmaccess mqttclient client unsigned long lastmillis 0 static bool tosleep false int counter 0 const int time_sleep 15 60 1000 15 60 1000void connect connection state bool connected false char clientid 10 serial print connecting to cellular network after starting the modem with gsmaccess begin attach to the gprs network with the apn login and password while connected u00a0 if gsmaccess begin pin gsm_ready u00a0 u00a0 gprs attachgprs apn login password gprs_ready u00a0 u00a0 connected true u00a0 else u00a0 u00a0serial print u00a0 u00a0delay 1000 u00a0 u00a0 serial print attempting mqtt connection generate clientid u00a0for int i 0 i 8 i u00a0 u00a0clientid i alphanum random 51 u00a0 serial print conectando al servidor mqtt while client connect clientid mqttusername mqttpass serial print delay 5000 u00a0serial println connected u00a0 client subscribe hello u00a0 client unsubscribe hello void messagereceived string topic string payload u00a0 serial println incoming topic payload void setup u00a0 serial begin 115200 u00a0 note local domain names e g computer local on osx are not supported by arduino u00a0 you need to set the ip address directly u00a0 client begin servermqtt 8883 net u00a0 client onmessage messagereceived u00a0 connect void loop u00a0 client loop u00a0 if client connected u00a0 u00a0 connect u00a0 u00a0 publish a message roughly every second u00a0 if millis lastmillis 1000 u00a0 u00a0 u00a0mqttpublishsingle u00a0 u00a0 u00a0counter u00a0 u00a0 u00a0if counter 180 u00a0 u00a0 u00a0 u00a0tosleep true u00a0 u00a0 u00a0 u00a0counter 0 u00a0 u00a0 u00a0 u00a0 u00a0 lastmillis millis u00a0 u00a0 if tosleep u00a0 u00a0 lowpower sleep time_sleep u00a0 u00a0 tosleep false u00a0 u00a0void mqttpublishsingle int t counter string data string t dec int length data length char msgbuffer length data tochararray msgbuffer length 1 serial println msgbuffer create a topic string and publish data to thingspeak channel feed string topicstring channels string channelid publish string writeapikey string topicstring channels string channelid publish fields field8 string writeapikey length topicstring length char topicbuffer length topicstring tochararray topicbuffer length 1 client publish topicbuffer msgbuffer lastconnectiontime millis u00a0thank you very much,0.5
JasonW,i suspect your application is being affected by the 1 second update limit u00a0 because you are publishing at exactly 1000ms intervals there is no room for error when a communication delay occurs u00a0 there are few layers between your arduino and your thingspeak channel u00a0 if one of those layers introduces a slight delay then the next data point may get rejected because it hits the thingspeak api before one second has elapsed u00a0 try changing the publish interval to 1500ms and see if it makes a difference u00a0 i realize this is counter productive if your device is running from a battery as the gsm radio will be on longer u00a0 however it will be something to try i would also like to mention the bulk update feature which seems like a perfect fit for your application u00a0 with a bulk update data can be collected over time then uploaded with a single api call u00a0 the transaction is only available using the rest interface u00a0here is a link to the bulk update documentation u00a0 be sure to check out the arduino mkr 1000 example link near the end of the pagehttps www mathworks com help thingspeak bulkwritejsondata html u00a0 u00a0 u00a0,0.5
eplantes,hello jasonw thank you very much for your comment i will try to change the publish interval between request for example from 1 second to 1 5 or 2 seconds and see if some change happens on another hand i was being testing the bulk update feature in this same scenario arduino over gsm network a few weeks ago but unfortunalety i experimented some problems too for some strange reason i only can send bulk updates when the size packet is about 256 bytes or less but not longer every time i send i packet with size longer than 256 bytes i receive an error i do not know if this error is caused by the library mkrgsm or is a limitation of the gsm chip this supose a serious inconvenience for me because i need wait 15 seconds or more to send the next bulk update i can attach some logs with the erros showed but i supose it will be better open a new topic for explain that thank you very much for your comments,0.263634026051
cstapels,i am pretty sure there is at least a limitation in the library if not in the chip as well i see you opened a new thread here https community thingspeak com forum arduino testing bulk update feature with arduino mkr gsm p5752sorry for the repeat you can send multiple packets in one request for example if your post data was write_api_key write_api_key updates created_at 2018 01 30 10 26 2 0500 field1 1 0 field2 2 0 created_at 2018 02 02 11 27 27 0500 field1 1 1 field2 2 2 tatus well done you can do the following syntax not tested psuedocode client print write_api_key write_api_key updates client print created_at 2018 01 30 10 26 2 0500 field1 1 0 field2 2 0 client print created_at 2018 02 02 11 27 27 0500 field1 1 1 field2 2 2 tatus well done client println which avoids the 265 character limit remember to be careful with print and println the protocol is sensitive to line endings,0.5
SailSenseTech,does anyone know what is wrong when i am able to complete a send with send ok but the channel is not updated u00a0 my arduino code is using tcp and is it very simple u00a0 i think i am suppose to get the update number from as feedback but i never get it u00a0 the channelcan be updated using the get command using postman and via a browser u00a0 i have run out of ideas u00a0 do you have any suggestions david u00a0 include softwareserial h define sim_800_tx 7 define sim_800_rx 6int midz 2000 time delaysint minz 500 int maxz 5000 softwareserial myserial sim_800_rx sim_800_tx rx txvoid setup serial begin 9600 while serial myserial begin 9600 delay midz myserial println at csq delay minz feedback myserial println at cipshut delay minz feedback myserial println at cstt giffgaff com giffgaff feedback myserial println at ciicr start wireless connection cellular network feedback myserial println at cifsr enquire regarding the ip address allocated feedback myserial println at cipstart tcp 184 106 153 149 80 connect to the thingspeak update url https api thingspeak com feedback myserial println at cipsend 71 declare the number of bytes characters i want to send feedback myserial print get https api thingspeak com update this is a constant beginning for the get command and is as provided by thingspeak feedback myserial print api_key ivejwzmapdsp2axb the channel api key provided by thingspeakfeedback myserial print field1 feedback myserial println 5 the value that i want to post to field 1 feedback myserial println at cipack ask for acknowledge detailsfeedback myserial println at cipclose close the ip connection feedback void loop if myserial available serial write myserial read if serial available myserial write serial read void feedback delay midz while myserial available serial write myserial read,0.0597255527973
SailSenseTech,the secret is a double myserial println after the request string is entered u00a0 this can be added to the end of the string as u00a0 if the cipsend command is specifying the length of the message this needs to be 4 more than the number of characters in the basic get update key string,0.5
KR46,hi sailsense i have been struggling with exactly the same problem the past 3 weeks i receive validation end ok but the field does not update using postman or browser result in a successful update have you managed to sort the coding and update successfully would you mind sending me the coding please,0.804695367813
oassali,hello i am new to iot and am currently using the arduino mkr1000 board following the plant communicator u00a0project https create arduino cc projecthub arduino plant communicator 7ea06f i am having an issue uploading more than 2 data points to my channel i am successfully uploading the first two data points right after uploading my sketch pasted below to the board looking at my serial monitor i can see that the thingspeak writefields is still executing but the data is not being sent to my channel resetting the board or re uploading the code will send 2 other data points but no more could i be losing connection to the thingspeak client somehow what is a good way to determine if my connection is still fine u00a0 include wifi101 h include wifisslclient h include thingspeak h const char ssid oassali your network ssid name const char password omar1331 your network passwordwificlient thingspeakclient unsigned long mychannelnumber 463969 const char mywriteapikey u4hv0m9eytflhuw4 int lightpin a0 the analog pin the light sensor is connected toint temppin a1 the analog pin the tmp36 vout sense pin is connected toint moisturepin a2 void setup serial begin 9600 while serial delay 2000 serial print connecting wifi serial println ssid while wifi begin ssid password wl_connected serial print delay 500 serial println serial println wifi connected thingspeak begin thingspeakclient void loop thingspeak setfield 1 get_light thingspeak setfield 2 get_temperature thingspeak setfield 3 get_average_moisture serial println get_light serial println get_temperature serial println get_average_moisture thingspeak writefields mychannelnumber mywriteapikey serial println message sent to cloud delay 60000 send values every 1 minute float get_temperature int reading analogread temppin float voltage reading 3 3 voltage 1024 0 print tempeature in celsius float temperaturec voltage 0 5 100 converting from 10 mv per degree wit 500 mv offset convert to fahrenheit float temperaturef temperaturec 9 0 5 0 32 0 return temperaturec int get_average_moisture make an average of 10 values to be more accurate int tempvalue 0 variable to temporarly store moisture value for int a 0 a 10 a tempvalue analogread moisturepin delay 10 return tempvalue 10 int get_light int light_value analogread a0 return light_value,0.825968742371
rw950431,if you put the line define u00a0print_debug_messagesat the top of your code the thingspeak library will print lots of debugging output to the serial monitor maybe this might help you find whats going on,0.803441882133
cstapels,getting extra output from the library is a good idea u00a0 if you think your connection is intermittent you can put a check on the connection in your main loop u00a0 have a look at the sonar example in the documentation to see this method u00a0 that example was tested on a mkr1000 u00a0there may also be an issue with the wifi u00a0 101 library u00a0 have a look at this thread you may have to u00a0 consider downgrading your wifi101 library version,0.5
Bird,hi all u00a0i have come slightly unstuck attempting to send data to thingspeak and was hoping someone with a better knowledge my be able to point me in the right direction i am attempting to send pressure and temperature information collected using a ms5803 14 and later electrical conductivity and i have been using the write multiple voltage example as a basis i was trying to use u00a0thingspeak writefields mychannelnumber mywriteapikey to update multiple fields at once however when multiple fields have been set using u00a0thingspeak setfield 1 pressure nothing is written to thing speak the strange element is that if i comment out one of the setfield lines the data will upload normally this works if i comment out either of the factors i am trying to upload u00a0additionally if i use u00a0thingspeak writefield mychannelnumber 1 pressure mywriteapikey with a delay followed bythingspeak writefield mychannelnumber 2 temperature mywriteapikey the data will also upload the arduino is obviously calculating the data correctly as well as values will print to serial its only in the combination of the data that thinspeak stops receiving the data u00a0many thanks u00a0 include thingspeak h include onewire h include wire h include ms5803_14 h u00a0 define use_ethernet_shield u00a0 include spi h include ethernet h byte mac 0xde 0xad 0xbe 0xef 0xfe 0xed ethernetclient client u00a0ms_5803 sensor ms_5803 4096 float pressure float temperature u00a0unsigned long mychannelnumber xxxxxxxx const char mywriteapikey xxxxxxxxxxx void setup serial begin 9600 ethernet begin mac u00a0thingspeak begin client sensor initializems_5803 delay 3000 void loop u00a0sensor readsensor pressure sensor pressure temperature sensor temperature u00a0thingspeak setfield 1 float pressure thingspeak setfield 2 float temperature thingspeak writefields mychannelnumber mywriteapikey delay 20000 thingspeak will only accept updates every 15 seconds,0.905150055885
cstapels,have you downloaded the channel data to make sure its not a scaling problem and your data it updating but you do not see it u00a0 does the number of entries change after a post even if you do not see that data your code looks fine to me but you might want to remove the cast to float in the setfield command u00a0 u00a0thingspeak setfield 1 float pressure tothingspeak setfield 1 pressure if that still does not work you could consider converting your variables to a string before uploading it u00a0 thingspeak will still interpret the string as a float for plotting as long at there are not any other characters in the string like or u00a0thingspeak setfield 1 string pressure but that method has all the extra problems of bringing along the string class one other thing to try is to output pressure and temperature variables to the serial monitor before you write to thingspeak just to make sure they read correctly let us know if any that works u00a0 if it does not you can update multiple fields without the library though its a bit harder,0.273916065693
Bird,thanks for looking at it i am not going to be able to have a look for a couple of days but i will update then off the top of my head i think that nothing being added they u00a0 number of entries was not increasing but i will double check this and i do not think the float setfield command would be causing the issue as if one of the two lines of setfield was commented out the data would then upload for the other field u00a0 u00a0anyway i will update soon u00a0thanks again for your help,0.760602355003
Bird,just to update u00a0it was posting just with no values converting to a string as suggested worked u00a0thanks very much,0.935841679573
MrFrames,hi everybody i am completely noob to arduino thingspeak also and i have tried to follow this tutorial u00a0https create arduino cc projecthub arduino plant communicator 7ea06f ref part ref_id 54617 offset 1as other users i have seen in this forum i can not upload the data to thingspeak everything works fine until the command u00a0thingspeak writefields mychannelnumber mywriteapikey then nothing happens communications are ok due to u00a0 span class hljs string wifi connected span message and also i can see the data in the console with u00a0 span class hljs built_in serial span span class hljs built_in println span i have tried all this things instead of u00a0thingspeak setfield span class hljs number 1 span get_light gt u00a0thingspeak setfield span class hljs number 1 span string get_light assign to a variable the return of the function u00a0get_light and after this u00a0thingspeak setfield span class hljs number 1 span variable or string variable nothing happens again i have succesfully checked that the channel can be written with https api thingspeak com update api_key xxxxxxxxxx field1 400 field2 123 works without problem i can see the data in the plot u00a0also i have compared that the y axis of the plot with my data units i am completely stucked any idea this is the code i have copied pasted directly from the tutorial thanks a lot span class hljs meta span class hljs meta keyword include span span class hljs meta string lt wifi101 h gt span span span class hljs meta span class hljs meta keyword include span span class hljs meta string lt wifisslclient h gt span span span class hljs meta span class hljs meta keyword include span span class hljs meta string thingspeak h span span span class hljs keyword const span span class hljs keyword char span ssid secret_ssid span class hljs comment your network ssid name span span class hljs keyword const span span class hljs keyword char span password secret_pswd span class hljs comment your network password span span class hljs built_in wificlient span thingspeakclient span class hljs keyword unsigned span span class hljs keyword long span mychannelnumber span class hljs number 356392 span span class hljs keyword const span span class hljs keyword char span mywriteapikey secret_write_api span class hljs keyword int span lightpin a0 span class hljs comment the analog pin the light sensor is connected to span span class hljs keyword int span temppin a1 span class hljs comment the analog pin the tmp36 vout sense pin is connected to span span class hljs keyword int span moisturepin a2 span class hljs keyword void span span class hljs built_in setup span span class hljs built_in serial span span class hljs built_in begin span span class hljs number 9600 span span class hljs built_in while span span class hljs built_in serial span span class hljs built_in delay span span class hljs number 2000 span span class hljs built_in serial span span class hljs built_in print span span class hljs string connecting wifi span span class hljs built_in serial span span class hljs built_in println span ssid span class hljs built_in while span span class hljs built_in wifi span span class hljs built_in begin span ssid password wl_connected span class hljs built_in serial span span class hljs built_in print span span class hljs string span span class hljs built_in delay span span class hljs number 500 span span class hljs built_in serial span span class hljs built_in println span span class hljs string span span class hljs built_in serial span span class hljs built_in println span span class hljs string wifi connected span span class hljs keyword void span span class hljs built_in loop span thingspeak setfield span class hljs number 1 span get_light thingspeak setfield span class hljs number 2 span get_temperature thingspeak setfield span class hljs number 3 span get_average_moisture thingspeak writefields mychannelnumber mywriteapikey span class hljs built_in serial span span class hljs built_in println span span class hljs string message sent to cloud span span class hljs built_in delay span span class hljs number 60000 span span class hljs comment send values every 1 minute span span class hljs keyword float span get_temperature span class hljs keyword int span reading span class hljs built_in analogread span temppin span class hljs keyword float span voltage reading span class hljs number 3 3 span voltage span class hljs number 1024 0 span span class hljs comment print tempeature in celsius span span class hljs keyword float span temperaturec voltage span class hljs number 0 5 span span class hljs number 100 span span class hljs comment converting from 10 mv per degree wit 500 mv offset span span class hljs comment convert to fahrenheit span span class hljs keyword float span temperaturef temperaturec span class hljs number 9 0 span span class hljs number 5 0 span span class hljs number 32 0 span span class hljs built_in return span temperaturec span class hljs keyword int span get_average_moisture span class hljs comment make an average of 10 values to be more accurate span span class hljs keyword int span tempvalue span class hljs number 0 span span class hljs comment variable to temporarly store moisture value span span class hljs built_in for span span class hljs keyword int span a span class hljs number 0 span a lt span class hljs number 10 span a tempvalue span class hljs built_in analogread span moisturepin span class hljs built_in delay span span class hljs number 10 span span class hljs built_in return span tempvalue span class hljs number 10 span span class hljs keyword int span get_light span class hljs keyword int span light_value span class hljs built_in analogread span a0 span class hljs built_in return span light_value,0.5
MrFrames,mrframes said hi everybody i am completely noob to arduino thingspeak also and i have tried to follow this tutorial u00a0 https create arduino cc projecthub arduino plant communicator 7ea06f ref part ref_id 54617 offset 1 as other users i have seen in this forum i can not upload the data to thingspeak everything works fine until the command u00a0thingspeak writefields mychannelnumber mywriteapikey then nothing happens communications are ok due to u00a0 span class hljs string wifi connected span message and also i can see the data in the console with u00a0 span class hljs built_in serial span span class hljs built_in println span i have tried all this things instead of u00a0thingspeak setfield span class hljs number 1 span get_light gt u00a0thingspeak setfield span class hljs number 1 span string get_light assign to a variable the return of the function u00a0get_light and after this u00a0thingspeak setfield span class hljs number 1 span variable or string variable nothing happens again i have succesfully checked that the channel can be written with https api thingspeak com update api_key xxxxxxxxxx field1 400 field2 123 works without problem i can see the data in the plot u00a0also i have compared that the y axis of the plot with my data units i am completely stucked any idea this is the code i have copied pasted directly from the tutorial thanks a lot span class hljs meta span class hljs meta keyword include span span br span class hljs meta span class hljs meta keyword include span span br span class hljs meta span class hljs meta keyword include span span class hljs meta string thingspeak h span span br span class hljs keyword const span span class hljs keyword char span ssid secret_ssid span class hljs comment your network ssid name span br span class hljs keyword const span span class hljs keyword char span password secret_pswd span class hljs comment your network password span br span class hljs built_in wificlient span thingspeakclient br span class hljs keyword unsigned span span class hljs keyword long span mychannelnumber span class hljs number 356392 span br span class hljs keyword const span span class hljs keyword char span mywriteapikey secret_write_api br span class hljs keyword int span lightpin a0 span class hljs comment the analog pin the light sensor is connected to span br span class hljs keyword int span temppin a1 span class hljs comment the analog pin the tmp36 vout sense pin is connected to span br span class hljs keyword int span moisturepin a2 br span class hljs keyword void span span class hljs built_in setup span br span class hljs built_in serial span span class hljs built_in begin span span class hljs number 9600 span br span class hljs built_in while span span class hljs built_in serial span br span class hljs built_in delay span span class hljs number 2000 span br span class hljs built_in serial span span class hljs built_in print span span class hljs string connecting wifi span br span class hljs built_in serial span span class hljs built_in println span ssid br span class hljs built_in while span span class hljs built_in wifi span span class hljs built_in begin span ssid password wl_connected br span class hljs built_in serial span span class hljs built_in print span span class hljs string span br span class hljs built_in delay span span class hljs number 500 span br br span class hljs built_in serial span span class hljs built_in println span span class hljs string span br span class hljs built_in serial span span class hljs built_in println span span class hljs string wifi connected span br br span class hljs keyword void span span class hljs built_in loop span br thingspeak setfield span class hljs number 1 span get_light br thingspeak setfield span class hljs number 2 span get_temperature br thingspeak setfield span class hljs number 3 span get_average_moisture br thingspeak writefields mychannelnumber mywriteapikey br span class hljs built_in serial span span class hljs built_in println span span class hljs string message sent to cloud span br span class hljs built_in delay span span class hljs number 60000 span span class hljs comment send values every 1 minute span br br span class hljs keyword float span get_temperature br span class hljs keyword int span reading span class hljs built_in analogread span temppin br span class hljs keyword float span voltage reading span class hljs number 3 3 span br voltage span class hljs number 1024 0 span br span class hljs comment print tempeature in celsius span br span class hljs keyword float span temperaturec voltage span class hljs number 0 5 span span class hljs number 100 span span class hljs comment converting from 10 mv per degree wit 500 mv offset span br span class hljs comment convert to fahrenheit span br span class hljs keyword float span temperaturef temperaturec span class hljs number 9 0 span span class hljs number 5 0 span span class hljs number 32 0 span br span class hljs built_in return span temperaturec br br span class hljs keyword int span get_average_moisture span class hljs comment make an average of 10 values to be more accurate span br span class hljs keyword int span tempvalue span class hljs number 0 span span class hljs comment variable to temporarly store moisture value span br span class hljs built_in for span span class hljs keyword int span a span class hljs number 0 span a lt span class hljs number 10 span a br tempvalue span class hljs built_in analogread span moisturepin br span class hljs built_in delay span span class hljs number 10 span br br span class hljs built_in return span tempvalue span class hljs number 10 span br br span class hljs keyword int span get_light br span class hljs keyword int span light_value span class hljs built_in analogread span a0 br span class hljs built_in return span light_value br u00a0 u00a0sorry for the format i am not able to edit the post again,0.5
vinaykushwah24,i am a new user of this community and i want to know that i want to transfer temperature data on thingspeak channel for that i use arduino for measuring data and then i am transferring data on that channel but some coding going wrong can any one help,0.216108888388
gabacca,i am working at a sketch which will send data from various sensors to thingspeak i found some code to begin with updating data from a dht22 sensor temp humidity once i open the serial monitor i see the first update goes fine and updates correctly in thingspeak however it stops and doesnt repeat anymore after the 16 second set as the delay nothing if i restart the serial monitor i get another ping once here is the resulting monitor window and the sketch attached thanks for your input serial monitor connectedrequesting ipapi thingspeak com 184 106 153 149connectedmillis 17188connecting to thingspeak http 1 1 200 okserver nginx 1 7 5date tue 10 mar 2015 20 38 20 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200 okx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800etag 1f0e3dad99908345f7439f8ffabdffc4 cache control max age 0 private must revalidateset cookie request_method post path x request id c355134e 94c3 41af 8dbb 85174b2629eb2190closing connectionlast connected0 sketch this sketch to update dht data on thingspeak works once when serial monitor is open but does not update anymore once the first iteration completes grateful to those who lend a hand credit to those who have contributed various piece of this sketch no real ssid pass and apikey in sketch libraries include include include include include utility debug h include would ht h include pin assignment define adafruit_cc3000_irq 3 define adafruit_cc3000_vbat 5 define adafruit_cc3000_cs 10 setting dht pin and type define dhtpin 6 define dhttype dht22 cc3000 wifi settingsadafruit_cc3000 cc3000 adafruit_cc3000 adafruit_cc3000_cs adafruit_cc3000_irq adafruit_cc3000_vbat spi_clock_div2 you can change this clock speed dht initdht dht dhtpin dhttype wifi parameters define wlan_ssid myssid define wlan_pass mypass la seguridad puede ser wlan_sec_unsec wlan_sec_wep wlan_sec_wpa or wlan_sec_wpa2 define wlan_security wlan_sec_wpa2 thingspeak configchar site api thingspeak com string apikey my api key const int updatethingspeakinterval 16 1000 time interval in milliseconds to update thingspeak number of seconds 1000 interval thingspeak ip variableuint32_t ip long lastconnectiontime 0 boolean lastconnected false int failedcounter 0 void setup void start dht dht begin serial monitor init serial begin 115200 shield init if cc3000 begin serial println f can not initiate shield while 1 connect to net cc3000 connecttoap wlan_ssid wlan_pass wlan_security serial println connected requesting ip serial println f are questing ip while cc3000 checkdhcp delay 100 getting site ip ip 0 serial print site serial print f while ip 0 if cc3000 gethostbyname site ip serial println f can not get ip delay 500 cc3000 printipdotsrev ip void loop void getting temp and humidity float h dht readhumidity float t dht readtemperature transforming data into string string temperature string int t string humidity string int h adafruit_cc3000_client client cc3000 connecttcp ip 80 starting feed if client connected millis lastconnectiontime updatethingspeakinterval updatethingspeak field1 temperature field2 humidity field1 temperature while client connected while client available read answer char c client read serial println closing connection serial println client close lastconnected client connected void updatethingspeak string tsdata adafruit_cc3000_client client cc3000 connecttcp ip 80 if client connected serial println f connected client print post update http 1 1 client print host api thingspeak com client print connection close client print x thingspeakapikey apikey client print content type application x www form urlencoded client print content length client print tsdata length client print client print tsdata lastconnectiontime millis serial print millis serial print lastconnectiontime if client connected serial println connecting to thingspeak serial println failedcounter 0 else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println lastconnectiontime millis while client connected while client available read answer char c client read serial print c serial println closing connection serial println client close lastconnected client connected serial print last connected serial print lastconnected,0.5
aj8uppal,hello i am new to using thingspeak and was pointed to it to solve the problem of posting sensor data to tempoiq from an arduino tempoiq uses ssl and i was wondering if i could use thinghttp to post data to tempoiq as the arduino does not do ssl the issue is that the post is not just one number a request to tempoiq would look like curl x post i u key secret https tempoiqbackend v2 write d thermostat 0 temperature t 2015 01 05t00 00 00z v 68 t 2015 01 05t00 05 00z v 67 5 humidity t 2015 01 05t00 00 00z v 71 5 t 2015 01 05t00 05 00z v 70 0 would thingspeak work for this use any help much appreciated cheers aj,0.742578625679
x23,the problem is that sending data from arduino to my channel using gprs for more than 24 hour as i wanted my channel to receive data daily for example if i start at yesterday 8 a m and the last data that my channel will received is today at 8 a m and the channel stop receiving data after that as the channel do not show the data for today at 8 30 a m the data is feed to thingspeak for every 30 min how to solve it i am using inet httppost command,0.130853027105
bulletprooffool,quick question posted under arduino as that is my source but in theory this could be any source of update please could someone clarify the 15 seconds update thing for me are you only allowed an update every 15 seconds or is it a matter of updates over a day or hour averaging at once every 15 seconds in my scenario i am likely to make zero changes for most of the day then 4 or 5 changes within 10 seconds then nothing again for a long period of time please help clarify thanks,0.5
lee,hi adding data to a channel is allowed once every 15 seconds and is not averaged over every day or hour lee,0.744118511677
rodri,hi all i am using seeeduino stalker 1 gprsbee 2 and i am following thingspeak tutorial on sodaq mbili website 3 i made some changes to make it work with stalker i made the system to send sms but when i want to upload data to thingspeak i get this error from serial monitor u0178 u00ff atatok atatok ate0ate0ok at csq csq 0 0ok atok at csq csq 0 0ok atok at csq csq 0 0ok atok at csq csq 0 0ok atok at csq csq 19 0ok at creg creg 0 2ok atok at creg creg 0 1ok at cgatt 1ok at sapbr 3 1 contype gprs ok at sapbr 3 1 apn internet ok at sapbr 1 1ok at sapbr 2 1 sapbr 1 1 10 184 6 154 ok at httpinitok at httppara cid 1ok at httppara url api thingspeak com update key o5xpjen8c088ndlo field1 26 00 ok at httpaction 0ok httpaction 0 302 14dohttpget failed sapbr 1 deactdoes anybody experienced something similar 1 http www seeedstudio com wiki seeeduino_stalker_v2 3 2 http www gprsbee com 3 http mbili sodaq net adding a gprs connection to upload data,0.5
rakshith,i am very new to this internet of things please help me i tried the example https thingspeak com docs tweetcontroleven though i send a tweet the channel feed will not show any update i have followed everything stated there should i link my twitter account somehow please help thank you,0.772139132023
lee,hi you do not need to link your twitter account for an anonymous tweetcontrol it looks like your channel is updating correctly can you check the channel feed again lee,0.5
autoDood,hey all i have been playing around with an arduino yun for a few weeks now and loving it there just one thing i can not seem to crack over wifi as the title might entail i am trying to post some pin data out up to a thingspeak channel with an http post this code taken from the talkback example sketch is where i am starting from and i have added a simple digital read on pin 4 i would love to post that pin value to a thingspeak channel which i know how to do with tools like firefoxes poster etc but i just do not know what methods to use in terms of the arduino yun code libraries and methods if anyone can point me in the right direction that would be amazing thanks dood include bridge h include httpclient h thingspeak settingsstring thingspeakapi api thingspeak com string talkbackapikey ogpwlxs4zw7p6jjt string talkbackid 180 const int checktalkbackinterval 1000 time interval in milliseconds to check talkback number of seconds 1000 interval variable setuplong lastconnectiontime 0 void setup setup on board led pinmode 13 output digitalwrite 13 low delay 1000 digitalwrite 13 high delay 1000 digitalwrite 13 low initialize bridge bridge begin initialize serial serial begin 9600 void loop checktalkback switchread delay checktalkbackinterval void switchread int tiltswitch digitalread 4 serial println tiltswitch void checktalkback httpclient client string talkbackcommand char charin string talkbackurl http thingspeakapi talkbacks talkbackid commands execute api_key talkbackapikey client get talkbackurl while client available charin client read talkbackcommand charin if talkbackcommand turn_on serial println talkbackcommand digitalwrite 13 high else if talkbackcommand turn_off serial println talkbackcommand digitalwrite 13 low serial flush delay 10,0.765494227409
jasonvanwyk,yes i would like to do the same please anyone,0.866018891335
autoDood,hey jason i found a way to do this sorry i should have posted it sooner might be a cleaner way to do it but this worked like a charm for me just call the function when you want it good luck man void reportvalue string string_part1 curl d api_key xxxxxxxxxxxxxxxx field1 string string_part2 string value string string_part3 http api thingspeak com update string reporturl string_part1 string_part2 string_part3 process p p runshellcommand reporturl while p running read command output while p available int result p parseint serial println result,0.851707339287
rw950431,i know nothing about the yin but can you not do something likehttpclient client string writeapikey your_secret_key tring updateurl http thingspeakapi update api_key writeapikey field1 string value client get updateurl see http community thingspeak com documentation api for the complete docco and how to generate a write key saves spawning a sub process and dealing with complications if it goes wrong its a neat feature of thingspeak that you can update channels using get rather than having to post,0.5
benduino,hi autodood i tried your function and it does not seem to work here it is again i added some debugging code and a real value to transmit 40 debug 2 is never displayed in serial monitor so not sure what is up or how to troubleshoot this thanks a lot for any insights benvoid reportvalue serial println running thingspeak function debug 1 string string_part1 curl d api_key 6vzig4tesq9g7yzy field1 string string_part2 string 40 string string_part3 http api thingspeak com update string reporturl string_part1 string_part2 string_part3 serial println reporturl reporturl process p p runshellcommand reporturl while p running read command output while p available serial println in thingspeak function reading command output debug 2 int result p parseint serial println result,0.5
petetron92,i am trying to complete of internet of things project by may 7th with processing and am having some trouble getting thingspeak to recognize my data feed i am using the processing tutorial sketch featured on their website i am using a light sensor to test the service which is working i have attached a photo of the running processing sketch which is receiving light readings do you have any troubleshooting tips for me my code is below thanks for your help peterhere my arduino code void setup serial begin 9600 void loop serial println analogread 0 delay 10000 here my processing code tests the thinkspeak channel by sending any numeric keypress using the specified apikey and field import processing serial import processing net configurationstring apikey hqmn4wmyocptlsty your api keystring field field 1 int portnum 0 port number of your arduino end configurationserial arduino client c string data int number read from arduinovoid setup size 600 400 setup the serial port list all the available serial ports println serial list init the serial object arduino new serial this serial list portnum 9600 the font must be located in the sketch would ata directory to load successfully pfont font font loadfont monaco 12 vlw textfont font void draw background 50 fill 255 text thinkspeak processor 10 20 fill 0 255 0 text light value read number 10 40 if data null fill 0 255 0 text erver response 10 60 fill 200 text data 10 80 if c null if c available 0 if there incoming data from the client data c readstring then grab it println data if we have a new line from our arduino then send it to the server string ln if ln arduino readstringuntil n null try number new integer trim ln if number 1025 println writing number sendnumber number catch exception ex delay 20000 void sendnumber float num c new client this http api thingspeak com update quot 80 connect to server on port 80 c write get update key apikey field num http 1 1n c write host my_domain_name comnn be polite and say who we are,0.5
Hans,sorry for the delay the forum alert system for questions just alerted me today so i blew it getting you a response in time what did you end up doing,0.787410438061
geo3geo,did you resolve this if so i would really appreciate a copy of the working code geo,0.830100774765
rajeev.piyare,i am currently using these codes which i found from the tutorial section under processing but it seems something is not correct i am able to run the codes but getting error from the thingspeak server side instead of getting http 1 1 200 ok i am getting http 1 1 301 moved permanently error u00a0can anyone please help me thanks in advance u00a0 tests the thinkspeak channel by sending any numeric u00a0 keypress using the specified apikey and field u00a0 import processing serial import processing net configurationstring apikey rkdkz8osmgn2t5ke your api keystring field field1 int portnum 5 port number of your arduinoserial port end configurationserial arduino client c string data int number read from arduinovoid setup u00a0 size 600 400 u00a0 setup the serial port u00a0 list all the available serial ports u00a0 println serial list u00a0 init the serial object u00a0 arduino new serial this serial list portnum 9600 u00a0 arduino new serial this com5 9600 u00a0 u00a0 the font must be located in the sketch u00a0 would ata directory to load successfully u00a0 pfont font u00a0 font loadfont monaco 12 vlw u00a0 textfont font void draw u00a0 background 50 u00a0 fill 255 u00a0 text thinkspeak processor 10 20 u00a0 fill 0 255 0 u00a0 text light value read u00a0 number 10 40 u00a0 if data null u00a0 u00a0 u00a0 fill 0 255 0 u00a0 u00a0 u00a0 text erver response 10 60 u00a0 u00a0 u00a0 fill 200 u00a0 u00a0 u00a0 text data 10 80 u00a0 u00a0 if c null u00a0 u00a0 u00a0 if c available 0 if there incoming data from the client u00a0 u00a0 u00a0 u00a0 u00a0 data c readstring then grab it u00a0 u00a0 u00a0 u00a0 u00a0 println data u00a0 u00a0 u00a0 u00a0 u00a0 if we have a new line from our arduino then send it to the server u00a0 string ln u00a0 if ln arduino readstringuntil n null u00a0 u00a0 u00a0 try u00a0 u00a0 u00a0 u00a0 u00a0 number new integer trim ln u00a0 u00a0 u00a0 u00a0 u00a0 if number 1025 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 println writing number u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 sendnumber number u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 catch exception ex u00a0 u00a0 u00a0 u00a0 void sendnumber float num u00a0 c new client this api thingspeak com 80 connect to server on port 80 u00a0 u00a0 c new client this 184 106 153 149 80 u00a0 c write get update key apikey field num http 1 1n u00a0 c write get update key rkdkz8osmgn2t5ke field1 num http 1 1n u00a0 c write host my_domain_name comnn be polite and say who we are,0.19342109561
geo3geo,did you resolve this if so i would really appreciate a copy of the working code geo,0.830100774765
aodhgan,hello i am using an intel galileo arduino compatible board and am trying to upload onto a channel i have created following the arduino tutorial i have changed the mac and ip adddresses as required and i get the following error codes arduino 1 5 3 windows 7 board intel u00ae galileo ketch_jul29d ino 35 25 error no matching function for call to client client byte 4 int ketch_jul29d ino 35 25 note candidates are in file included from c arduinoarduino 1 5 3hardwarearduinox86librariesethernet ethernetclient h 25 0 from c arduinoarduino 1 5 3hardwarearduinox86librariesethernet ethernet h 53 from sketch_jul29d ino 23 c arduinoarduino 1 5 3hardwarearduinox86coresarduino client h 26 7 note client client c arduinoarduino 1 5 3hardwarearduinox86coresarduino client h 26 7 note candidate expects 0 arguments 2 providedc arduinoarduino 1 5 3hardwarearduinox86coresarduino client h 26 7 note client client const client c arduinoarduino 1 5 3hardwarearduinox86coresarduino client h 26 7 note candidate expects 1 argument 2 providedsketch_jul29d ino 35 8 error cannot declare variable client to be of abstract type client in file included from c arduinoarduino 1 5 3hardwarearduinox86librariesethernet ethernetclient h 25 0 from c arduinoarduino 1 5 3hardwarearduinox86librariesethernet ethernet h 53 from sketch_jul29d ino 23 c arduinoarduino 1 5 3hardwarearduinox86coresarduino client h 26 7 note because the following virtual functions are pure within client c arduinoarduino 1 5 3hardwarearduinox86coresarduino client h 31 18 note virtual size_t client write uint8_t c arduinoarduino 1 5 3hardwarearduinox86coresarduino client h 32 18 note virtual size_t client write const uint8_t size_t c arduinoarduino 1 5 3hardwarearduinox86coresarduino client h 33 15 note virtual int client available c arduinoarduino 1 5 3hardwarearduinox86coresarduino client h 34 15 note virtual int client read c arduinoarduino 1 5 3hardwarearduinox86coresarduino client h 36 15 note virtual int client peek c arduinoarduino 1 5 3hardwarearduinox86coresarduino client h 37 16 note virtual void client flush c arduinoarduino 1 5 3hardwarearduinox86coresarduino client h 29 15 note virtual int client connect ipaddress uint16_t c arduinoarduino 1 5 3hardwarearduinox86coresarduino client h 30 15 note virtual int client connect const char uint16_t c arduinoarduino 1 5 3hardwarearduinox86coresarduino client h 35 15 note virtual int client read uint8_t size_t c arduinoarduino 1 5 3hardwarearduinox86coresarduino client h 38 16 note virtual void client stop c arduinoarduino 1 5 3hardwarearduinox86coresarduino client h 39 19 note virtual uint8_t client connected c arduinoarduino 1 5 3hardwarearduinox86coresarduino client h 40 11 note virtual client operator bool sketch_jul29d ino in function void updatethingspeak string sketch_jul29d ino 81 22 error no matching function for call to client connect ketch_jul29d ino 81 22 note candidates are in file included from c arduinoarduino 1 5 3hardwarearduinox86librariesethernet ethernetclient h 25 0 from c arduinoarduino 1 5 3hardwarearduinox86librariesethernet ethernet h 53 from sketch_jul29d ino 23 c arduinoarduino 1 5 3hardwarearduinox86coresarduino client h 29 15 note virtual int client connect ipaddress uint16_t c arduinoarduino 1 5 3hardwarearduinox86coresarduino client h 29 15 note candidate expects 2 arguments 0 providedc arduinoarduino 1 5 3hardwarearduinox86coresarduino client h 30 15 note virtual int client connect const char uint16_t c arduinoarduino 1 5 3hardwarearduinox86coresarduino client h 30 15 note candidate expects 2 arguments 0 providedi have i think resolved these errors with a few code adjustments to take into consideration the fact it is different from an arduino uno with ethernet these may or may not be correct changed line 35 from client client server 80 to ethernetclient client introduced client connect server 80 into the main loop just under void loop to replace the connecting effect of the above line this is still not working the code loads but the serial monitor gives connection failed and then tries to reset the connection can anyone help me on this issue thanks,0.5
CorBee,hi i have an intel galileo connected to thingspeak using a python script works as expected without any glitches here a piece of code that reads the temperature sensor of the galileo and sends it to field1 of a channel provide your own key for the channel import httplib urllib tempraw int open sys bus iio devices iio device0 in_temp0_raw read tempscale float open sys bus iio devices iio device0 in_temp0_scale read tempoffset int open sys bus iio devices iio device0 in_temp0_offset read tempc tempraw tempoffset tempscale params urllib urlencode field1 tempc 1000 key xxxxxxxxxxxxxxxx headers content type application x www form urlencoded accept text plain conn httplib httpconnection api thingspeak com 80 conn request post update params headers response conn getresponse print response status response reason data response read conn close regardscor,0.958438396454
B0gy,sorry me english bad hello i want ask it is posible adapted code for xively change to thingspeak here is a code http codeviewer org view code 4232thanks in advance,0.748764574528
rodri,hi i am sending data to thingsspeak using an arduino and the wifi shield after sendig some data i can not connect any more and an error appear any suggestion connecting to thingspeak 27315 u00bach disconnectedconnecting to thingspeak http 1 1 200 okserver nginx 1 5 7date thu 24 jul 2014 09 47 28 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200 okx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800etag fd4c2dc64ccb8496e6f1f94c85f30d06 cache control max age 0 private must revalidateset cookie request_method post path x request id e9e17acd 03bc 4b15 bc51 a7b6fe4b921a436310no socket availableconnection to thingspeak failed 1,0.5
lee,hi i think the error is appearing on your arduino because all of its sockets are being used up you may be able to fix the problem by adding flush and stop commands to your code as detailed here http forum arduino cc index php topic 170460 0 htmlhope this helps lee,0.230196863413
joshuasimi,the fluid system is a low cost gateway that connects wireless sensors and local i o to the internet it uses an atmel 8 bit microcontroller as the main processor and is compatible with the arduino software development environment this example does three things sends an analog value to the cloud reads a control flag onoff to set a digital output and sends the temperature sensor data to the cloud fluid is an arduino inspired development kit and reference design that combines an arduino uno ethernet shield and low cost wireless sensor interfaces into a single pcb for complete documentation and source code visit bit ly 1t0u4ly,0.5
notforyou23,i am trying to get my wind speed information to post to thingspeak im successful at capturing it in the serial and i have been successful in capturing other data and posting to thingspeak my problem is that in the sketch there is a portion that captures calculates and reports to serial in a certain way i am new at coding obviously so this is a problem for me i want the data to get to thingspeak in the form of i e 9 2 mph the codes that calculates and prints to serial is void calcwindspeed int x ispeed this will produce mph 10 did not calc right when done as one statement long speed 1492 2 4mph speed numrevsanemometer speed msecs_calc_wind_speed ispeed speed need this for formatting below serial print wind speed x ispeed 10 serial print x serial print x ispeed 10 serial print x numrevsanemometer 0 reset counter the rest is wind speed 9 2 wind speed 9 8 etc etcwhat do i do to get that 9 2 into the call to thingspeak im confused because the above uses x twice and then i get lost any help is appreciated my example that works to post dht11 sensor temp looks like this updatethingspeak basetemp dht11 fahrenheit dec thanks,0.128997027874
rw950431,the code above is needed because arduino output routines dont handle floating point numbers i suggest the followingx ispeed 10 get the whole numbery ispeed 10 get the decimalupdatethingspeak field1 string x dec string y dec make it all into a string to send to thingspeak of course you need to include the library for the updatethingspeak function see also this threadhttp community thingspeak com tutorials arduino using an arduino ethernet shield to update a thingspeak channel,0.5
turgo,actually arduino does do floats float slabgpm 0 generate custom flow channel stringslabgpm hydronicwaterflow readgpm serial print f lab gpm serial println slabgpm string channelflowstr string field1 string slabgpm dec,0.5
notforyou23,well thanks i did end up changing my code a bit grab a little from here and a little from there with the aim simplifying the wind speed calculation i am now successfully posting lots of data it going great i am loving thingspeak for sure i am open to any suggestions in tweaking for efficiency otherwise i am posting this out there for whoever wants it this works well on my yun include bridge h include httpclient h include define anemometer 2 d2 wind speed define dhtpin_1 a0 define dhtpin_2 a1 define dhttype dht11const float pi 3 14159265 piconst int radio 60 radius from vertical anemometer axis to a cup center mm const unsigned long wait 1250 amount of time to wait till re connecting changing this alsoconst unsigned long period wait 2 measurement period miliseconds const unsigned long idle_timeout_ms 1000 unsigned int counter 0 pulse count for wind sensorunsigned int rpm 0 revolutions per minuteunsigned int sample 0 sample numberfloat windspeedmph 0 0 445 wind speed m s float windgustmph 0 max wind speed thingspeak parametersstring thingspeak_update_api http api thingspeak com update string thingspeak_write_api_key key xxxxxxxxxxx insert your write api key herestring thingspeakfieldname field1 string thingspeakfieldname2 field2 string thingspeakfieldname3 field3 string thingspeakfieldname4 field4 string thingspeakfieldname5 field5 string thingspeakfieldname6 field6 string thingspeakfieldname7 field7 const byte anemom 2 float elapsed diff start float data tempfb tempfo tempfb1 humid dewp humido dewpo dht11 dht11_1 a0 dht11 dht11_2 a1 int tempf 0 void setup bridge begin console begin while console dht11_1 attach a0 delay 5 dht11_2 attach a1 pinmode anemom input console flush void loop sketch name console println console println ketch running wind_weather_doubletemp console println httpclient client tempfb1 dht11_1 fahrenheit tempfb tempfb1 2 tempfo dht11_2 fahrenheit string t string tempfb string t2 string tempfo humid dht11_1 humidity dewp fahrenheit dewpointfast dht11_1 temperature dht11_1 humidity humido dht11_2 humidity dewpo fahrenheit dewpointfast dht11_2 temperature dht11_2 humidity digitalwrite anemom high internal pull up resistor windvelocity dhttempout rpmcalc windspeed dhttempin string request_string thingspeak_update_api thingspeak_write_api_key thingspeakfieldname windspeedmph thingspeakfieldname2 tempfb thingspeakfieldname3 humid thingspeakfieldname4 dewp thingspeakfieldname5 tempfo thingspeakfieldname6 humido thingspeakfieldname7 dewpo make a http request client get request_string console println request_string console flush delay 150000 150000 2 5 minutes void dhttempout serial println int chk1 dht11_2 read a1 float dpf dewpointfast tf 32 0 5 9 humidity 9 0 5 0 32 0 console println console print are ad outside sensor switch chk1 case 0 console println ok break case 1 console println checksum error break case 2 console println time out error break default console println unknown error break console println console print outside humidity console println float dht11_2 humidity console print outside temperature u00b0c console println float dht11_2 temperature console print outside temperature u00b0f console println fahrenheit dht11_2 temperature console print outside temperature u00b0k console println dht11_2 kelvin console print outside dew point u00b0c console println dht11_2 dewpoint console print outside dew pointfast u00b0c console println dht11_2 dewpointfast console print outside dew pointfast u00b0f console println fahrenheit dewpointfast dht11_2 temperature dht11_2 humidity console println delay 250 int chk0 dht11_1 read a0 console println console print are ad inside sensor switch chk0 case 0 console println ok break case 1 console println checksum error break case 2 console println time out error break default console println unknown error break console print basement humidity console println float dht11_1 humidity console print basement temperature u00b0c console println float dht11_1 temperature console print basement temperature u00b0f console println fahrenheit dht11_1 temperature console print basement temperature u00b0k console println dht11_1 kelvin console print basement dew point u00b0c console println dht11_1 dewpoint console print basement dew pointfast u00b0c console println dht11_1 dewpointfast console print basement dew pointfast u00b0f console println fahrenheit dewpointfast dht11_1 temperature dht11_1 humidity delay 250 void windvelocity windspeedmph 0 counter 0 digitalwrite 2 high attachinterrupt 1 addcount falling anemometer unsigned long millis long starttime millis while millis starttime period detachinterrupt 1 void rpmcalc rpm counter 4 60 period 1000 calculate revolutions per minute rpm void windspeed windspeedmph 2 pi radio rpm 60 1000 console println console println windspeedmph delay 15 void addcount counter dewpoint function noaa reference http wahiduddin net calc density_algorithms htmdouble dewpoint double celsius double humidity double a0 373 15 273 15 celsius double sum 7 90298 a0 1 sum 5 02808 log10 a0 sum 1 3816e 7 pow 10 11 344 1 1 a0 1 sum 8 1328e 3 pow 10 3 49149 a0 1 1 sum log10 1013 246 double vp pow 10 sum 3 humidity double t log vp 0 61078 temp var return 241 88 t 17 558 t delta max 0 6544 wrt dewpoint 5x faster than dewpoint reference http en wikipedia org wiki dew_pointdouble dewpointfast double celsius double humidity double a 17 271 double b 237 7 double temp a celsius b celsius log humidity 100 double td b temp a temp return td celsius to fahrenheit conversiondouble fahrenheit double celsius return 1 8 celsius 32,0.963799595833
gerald,hi all i am new at adruino but have been plowing through successfully this far i was able to get data sent to my channel no problem using dhcp but if i try to set an ip instead i can connect i have used my hardware before with a fixed ip as a webserver and with souliss i am sure there is something i am missing the following is the example code which works except when i added the mod for fixed ip any pointers would be appreciated thanks arduino thingspeak channel via ethernet the thingspeak client sketch is designed for the arduino and ethernet this sketch updates a channel feed with an analog input reading via the thingspeak api http community thingspeak com documentation using http post the arduino uses dhcp and dns for a simpler network setup the sketch also includes a watchdog reset function to make sure the arduino stays connected and or regains connectivity after a network outage use the serial monitor on the arduino ide to see verbose network feedback and thingspeak connectivity status getting started with thingspeak sign up for new user account https www thingspeak com users new register your arduino by selecting devices add new device once the arduino is registered click generate unique mac address enter the new mac address in this sketch under local network settings create a new channel by selecting channels and then create new channel enter the write api key in this sketch under thingspeak settings arduino requirements arduino with ethernet shield or arduino ethernet arduino 1 0 ide network requirements ethernet port on router dhcp enabled on router unique mac address for arduino created october 17 2011 by hans scharler http www iamshadowlord com additional credits example sketches from arduino team ethernet by adrian mcewen include include local network settingsbyte mac 0xd4 0x28 0xb2 0xff 0xca 0x20 must be unique on local networkipaddress ip 132 206 95 251 added for fixed ipipaddress gateway 132 206 95 253 added for fixed ip thingspeak settingschar thingspeakaddress api thingspeak com string writeapikey pors7f4051rngm3j const int updatethingspeakinterval 16 1000 time interval in milliseconds to update thingspeak number of seconds 1000 interval variable setuplong lastconnectiontime 0 boolean lastconnected false int failedcounter 0 initialize arduino ethernet clientethernetclient client void setup start serial for debugging on the serial monitor serial begin 9600 start ethernet on arduino startethernet ethernet begin mac ethernet begin mac ip gateway added for fixed ip delay 1000 void loop read the input on analog pin 0 int sensorvalue analogread a0 convert the analog reading which goes from 0 1023 to a voltage 0 5v int temp sensorvalue 4 19 1023 0 100 balance for 4 19 max voltage print out the value you read string analogpin0 string temp dec print update response to serial monitor if client available char c client read serial print c disconnect from thingspeak if client connected lastconnected serial println disconnected serial println client stop update thingspeak if client connected millis lastconnectiontime updatethingspeakinterval updatethingspeak field1 analogpin0 check if arduino ethernet needs to be restarted if failedcounter 3 startethernet lastconnected client connected void updatethingspeak string tsdata if client connect thingspeakaddress 80 client print post update http 1 1n client print host api thingspeak comn client print connection closen client print x thingspeakapikey writeapikey n client print content type application x www form urlencodedn client print content length client print tsdata length client print nn client print tsdata lastconnectiontime millis if client connected serial println connecting to thingspeak serial println failedcounter 0 else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println lastconnectiontime millis void startethernet client stop serial println connecting arduino to network serial println delay 1000 connect to network amd obtain an ip address using dhcp if ethernet begin mac 0 serial println would hcp failed reset arduino to try again serial println else serial println arduino connected to network using dhcp serial println delay 1000,0.881474733353
gerald,btw i can ping my board with the fixed ip,0.87224984169
mehmetemin,hi i have to make it work with fixed ip how did you fixed it please help thanks a lot,0.851105153561
ozymandiz,hii currently have my arduino uno with ethernet shield linked to my si4707 module https www sparkfun com products 11129 using the code downloaded from this page http www raydees com weather_radio html i am able to successfully receive alerts for tornados that are approaching my area via the serial monitor i would love to be able to isolate these alerts ie only parse the tornado alerts and share via a web page using thingspeak the alerts are contained within the analogue radio signal processed by the si4707 chip this chip decodes the 3 letters tor in the case of the tornado i was advised to add a line to the sample code to parse for this alert as follows try the si4707 zipped library and example sketch located here http www raydees com weather_radio html it parses the message out for you on the screen so you should be able to modify the sketch within the function that prints out the parsed message to the screen if sameeventname 0 u2019t u2019 sameeventname 1 u2018o u2019 sameeventname 2 u2018r u2019 do this function that performs something for so long so many times unmute turn on a light etc u2026 u2026 i have tried to insert this code inside line 118 of the arduino sketch si4707 ino but it doesnt work please can someone point me in the right direction for how to parse for this tor code and then send to thingspeak thanks,0.892703175545
ozymandiz,ok i have got the code working so that the arduino reacts to a specific warning ie tornados if sameeventname 0 r sameeventname 1 w sameeventname 2 t digitalwrite led high instead of turning on the led can anyone please suggest how to communicate this event to thingspeak i realize that there is a delay in sending info to thingspeak which is ok as i am only interested in logging the events over time on a website thanks in advance,0.285416603088
rw950431,basically your code has to do a http post to the thingspeak api suggest you look at the arduino tutorial as a starting pointhttp community thingspeak com tutorials arduino using an arduino ethernet shield to update a thingspeak channel,0.5
ozymandiz,thanks,0.987318217754
lucky_picasso,hello i am new to the entire internet of things concept and need a little help figuring out something i am using this shield built by the folks at cooking hacks to measure multiple bio metric readings of the user mainly body temperature and pulse rate minute did not know which link for the pic might work http i57 tinypic com jhzrb6 jpgi want to know how i can upload the specific readings to their respective feeds i e the pulse rate to the feed graphing the pulse rate minute and the temperature all the examples i have seen online seem to use the n new line to check for the next reading appearing on the serial port but i use the new line to separate the data and make the serial output cleaner to readany kind of help and advice would be deeply appreciated thanks,0.5
rw950431,it may help if you can give an example of the output from the shield or even a link to the details of the shield,0.5
eruca,hi i would like to install the sketch thingspeak for arduino ethernet two sensors for temperature stability and humidity dht11 and dht22 i can not make it all on my thingspeak the purpose is to monitor the temperature and humidity inside and outside the problem is that no data is uploaded to the channel i kindly ask for help thank you very much the sketch that i used is this https www dropbox com sh efzuyf69mcezvh4 s8980_jj5c sketch sketch_thingspeak_arduino_ehternet_dht11_dht22 ino,0.269153803587
gadjet,i have only just started using thingspeak so i am not certain but i would probably limit the upload to one value just try sending the one value first to see if that works then add the other values and see what happens,0.733333706856
turgo,i found that calling the updatethingspeak function repeatedly did not work i needed some delay between calls and attention to client stop considerations when you have two fields update them with one call to a single channel see the channelflowstr section below thingspeak will not receive date more often than every 15 seconds here my some of my code disconnect from thingspeak if client connected lastconnected serial println f disconnected serial println client stop if client connected 1 long millis lastconnectiontime 60000 serial println f disconnected after 60 seconds serial println client stop update thingspeak serial print f millis serial print millis serial print f last connection serial print lastconnectiontime serial print f time serial print long millis lastconnectiontime serial print f client connected serial println client connected if long millis lastconnectiontime updatethingspeakinterval deleted client connected generate custom flow channel string slab flow meter double freqsum 0 int freqcount 0 while freqmeasure available average several reading together freqsum freqsum freqmeasure read freqcount freqcount 1 double frequency f_cpu freqsum freqcount serial print frequency serial println frequency double slabgpm frequency 53 3 8 4 5 for 1 1 4 sea flow meter serial print lab gpm serial println slabgpm string slabgpmstr dtostrf slabgpm 7 2 buffer slabgpmstr trim string channelflowstr string field1 slabgpmstr runner rpm double freq2sum 0 int freq2count 0 while freqmeasure2 available average several reading together freq2sum freq2sum freqmeasure2 read freq2count freq2count 1 double runnerrpm f_cpu freq2sum freq2count 60 serial print runner rpm serial println runnerrpm string runnerrpmstr dtostrf runnerrpm 7 2 buffer runnerrpmstr trim channelflowstr channelflowstr string field8 runnerrpmstr serial println flow channelflowstr updatethingspeak channelflowstr channelflowapikey delay 250 print thingspeak update response to serial monitor while client available char c client read serial print c generate heat flux channel string double slabflux slabgpm 8 33 60 allsensors 14 averagetemp allsensors 15 averagetemp slab cooling in slab cooling out slabflux round slabflux 100 100 round to hundreds serial print lab flux serial println slabflux string slabfluxstr dtostrf slabflux 7 0 buffer slabfluxstr trim string channelfluxstr string field1 slabfluxstr serial println heat flux channelfluxstr updatethingspeak channelfluxstr channelfluxapikey delay 500 print thingspeak update response to serial monitor while client available char c client read serial print c client stop stop after last connection is made custom update thingspeakvoid updatethingspeak string tsdata string writeapikey client stop added this because updating a second channel failed if client connect thingspeakaddress 80 client print post update http 1 1n client print host api thingspeak comn client print connection closen client print x thingspeakapikey writeapikey n client print content type application x www form urlencodedn client print content length client print tsdata length client print nn client print tsdata if client connected serial println f connecting to thingspeak serial println failedcounter 0 else failedcounter serial print f connection to thingspeak failed serial print string failedcounter dec serial println else failedcounter serial print f connection to thingspeak failed serial print string failedcounter dec serial println lastconnectiontime millis,0.248113065958
eruca,the problem is that using a single sensor does not load the data on thingspeak on xively works perfectly i wish i worked here as well,0.100334376097
turgo,post your code where a single sensor does not work,0.0546268820763
eruca,my device arduino uno ethernet 5100 1 sensor dht22 temperature humidity on digital pin 7 setting thingspeak field 1 temperaturefield 2 humidityidchannel 9909apykey go3um9dxq01f0o1fsketch https db tt e4taau5k,0.5
turgo,it looks like you are sending thingspeak the digital read output from pin 7 it would be 1 or 0 instead you should be sending string mydht22 gettemperaturec dec what is the serial monitor output,0.5
joshuasimi,the relayduino is a real world application it helps in controlling lights and sprinkler systems reading sensors and monitoring switches and other digital signals it is also arduino compatible controller and can be programmed with arduino ide for stand alone operation this project is more advanced than the simple getting started examples in the exosite arduino library or the basic arduino temperature monitor this example will show both writing to and reading from the exosite platform we are providing the complete information about how to connect your relayduino devices with exosite portal sing up on exosite portal https portals exosite com to add your relayduino devices with internet of things solutions,0.5
joshuasimi,the arduino uno is a microcontroller board based on the atmega328 datasheet it has 14 digital input output pins of which 6 can be used as pwm outputs 6 analog inputs a 16 mhz ceramic resonator a usb connection a power jack an icsp header and a reset button it contains everything needed to support the microcontroller simply connect it to a computer with a usb cable or power it with a ac to dc adapter or battery to get started some time it is very difficult to setup the temperature monitoring system for arduino uno here you can find information about how to setup your basic arduino uno temperature web monitoring it uses the exosite library to set up a connection to the exosite one platform over ethernet reads the temperature over the one wire interface and sends the value to the platform every 120 seconds with the basic http api from exosite to use this api with your devices visit https exosite zendesk com hc en us articles 200095738 arduino basic temperature monitor,0.5
laurie,hivery very new to this arduino kit so please bear with me if i have missed something very obvious basis of what i want to achieve 3 one wire sensors monitoring 3 parts of a boiler 2 buttons to switch a relay to the boiler this part is working here is the code below include include include include data wire is plugged into port 2 on the arduino define one_wire_bus 2 setup a onewire instance to communicate with any onewire devices not just maxim dallas temperature ics onewire onewire one_wire_bus pass our onewire reference to dallas temperature dallastemperature sensors onewire arrays to hold device addresses assign the addresses of 1 wire temp sensors deviceaddress feedtemp 0x28 0xce 0xca 0xe6 0x03 0x00 0x00 0xa9 deviceaddress returntemp 0x28 0x69 0xcf 0xe6 0x03 0x00 0x00 0xa2 deviceaddress venttemp 0x28 0xe5 0xd0 0xe6 0x03 0x00 0x00 0x26 ethernet configurationbyte mac 0xde 0xad 0xbe 0xef 0xfe 0xed byte ip 192 168 0 200 p1 10 1 1 5 byte gateway 192 168 0 1 internet access via routerbyte subnet 255 255 255 0 subnet maskethernetserver server 666 port 80 is default for http initialint boilerrelay 4 boiler relay is connected to digital pin 4int ldr 0 ldr sensor is connected to analog in 0int boilerrelaystate 0 variable for led statusfloat photocell 0 variable for photocell ldr analog valuechar c 0 received datachar command 2 commandvoid setup ethernet begin mac ip gateway subnet startethernet server begin serial begin 9600 initialize serial communications serial println boiler managment control start up the library sensors begin locate devices on the bus serial print locating devices serial print found serial print sensors getdevicecount dec serial println devices report parasite power requirements serial print parasite power is if sensors isparasitepowermode serial println on else serial println off set the resolution to 10 bit way more than i need sensors setresolution feedtemp 10 sensors setresolution returntemp 10 sensors setresolution venttemp 10 show the addresses we found on the bus serial print would evice 1 address printaddress feedtemp serial println serial print would evice 2 address printaddress returntemp serial println serial print would evice 3 address printaddress venttemp serial println serial print would evice 1 resolution serial print sensors getresolution feedtemp dec serial println serial print would evice 2 resolution serial print sensors getresolution returntemp dec serial println serial print would evice 3 resolution serial print sensors getresolution venttemp dec serial println pinmode boilerrelay output boiler control relay void loop void call sensors requesttemperatures to issue a global temperature request to all devices on the bus serial print are questing temperatures sensors requesttemperatures int boilerfeedtemp sensors gettempc feedtemp int boilerreturntemp sensors gettempc returntemp int boilerventtemp sensors gettempc venttemp serial println would one ethernetclient client server available detect if current is the first line boolean current_line_is_first true if client serial println running server page an http request ends with a blank line boolean current_line_is_blank true while client connected if client available char c client read if we have gotten to the end of the line received a newline character and the line is blank the http request has ended so we can send a reply if c n current_line_is_blank send a standard http response header client println http 1 1 200 ok client println content type text html client println auto reload webpage every 5 second client println webpage title client println boiler managment control system transfer temperatures to web page and serial port boiler feed temp client print boiler feed client print boilerfeedtemp client print u00b0c client print serial print boiler feed temp serial println boilerfeedtemp print bytes to serial boiler return temp client print boiler return client print boilerreturntemp client print u00b0c client print serial print boiler return temp serial println boilerreturntemp print bytes to serial boiler vent temp client print boiler vent client print boilerventtemp client print u00b0c client println serial print boiler vent temp serial println boilerventtemp print bytes to serial read digital pin 4 for the state of led boilerrelaystate digitalread 4 if boilerrelaystate high boiler relay on client println boiler relay on else boiler relay off client println boiler relay off button functions client println client println boiler relay on client println boiler relay off client println webpage footer client println would eveloped by potential power ltd client println this page will automatically refresh every 5 seconds break if c n we are starting a new line current_line_is_first false current_line_is_blank true else if c r we have gotten a character on the current line current_line_is_blank false get the first http request if current_line_is_first c for int i 0 i 1 i c client read command i c boler relay control if strcmp command 1 digitalwrite boilerrelay high else if strcmp command 2 digitalwrite boilerrelay low give the web browser time to receive the data delay 1 client stop delay 2000 function to print a device addressvoid printaddress deviceaddress deviceaddress for uint8_t i 0 i 8 i zero pad the address if necessary if deviceaddress i 16 serial print 0 serial print deviceaddress i hex this part works fine on it own now i want to send the data for the 3 temperature sensors to thingspeak below is the code that i came up with by trying to inegrate the thingspeak test sketch that did work ion it own my integration does not though have tried so many things i have lost track and after 5 days looking at it i am calling for some help from anyone with more experience below is the code that i am trying for some reason it will just not connect to the thingspeak site include include include include thingspeak settings char thingspeakaddress google com byte thingspeakaddress 184 106 153 149 char thingspeakaddress api thingspeak com string writeapikey phm23vgwgdxxxxx removed full key for securityconst int updatethingspeakinterval 30 1000 time interval in milliseconds to update thingspeak number of seconds 1000 interval initialize arduino ethernet clientethernetclient cclient data wire is plugged into port 2 on the arduino define one_wire_bus 2 setup a onewire instance to communicate with any onewire devices not just maxim dallas temperature ics onewire onewire one_wire_bus pass our onewire reference to dallas temperature dallastemperature sensors onewire arrays to hold device addresses assign the addresses of 1 wire temp sensors deviceaddress feedtemp 0x28 0xce 0xca 0xe6 0x03 0x00 0x00 0xa9 deviceaddress returntemp 0x28 0x69 0xcf 0xe6 0x03 0x00 0x00 0xa2 deviceaddress venttemp 0x28 0xe5 0xd0 0xe6 0x03 0x00 0x00 0x26 ethernet configurationbyte mac 0xde 0xad 0xbe 0xef 0xfe 0xed byte ip 192 168 0 200 p1 10 1 1 5 byte gateway 192 168 0 1 internet access via routerbyte subnet 255 255 255 0 subnet maskethernetserver server 666 port 80 is default for http initialint boilerrelay 4 boiler relay is connected to digital pin 4int ldr 0 ldr sensor is connected to analog in 0int boilerrelaystate 0 variable for led statusfloat photocell 0 variable for photocell ldr analog valuechar c 0 received datachar command 2 command variable setup for thingspeaklong lastconnectiontime 0 boolean lastconnected false int failedcounter 0 void setup ethernet begin mac ip gateway subnet startethernet server begin serial begin 9600 initialize serial communications serial println boiler managment control start up the library sensors begin locate devices on the bus serial print locating devices serial print found serial print sensors getdevicecount dec serial println devices report parasite power requirements serial print parasite power is if sensors isparasitepowermode serial println on else serial println off set the resolution to 10 bit way more than i need sensors setresolution feedtemp 10 sensors setresolution returntemp 10 sensors setresolution venttemp 10 show the addresses we found on the bus serial print would evice 1 address printaddress feedtemp serial println serial print would evice 2 address printaddress returntemp serial println serial print would evice 3 address printaddress venttemp serial println serial print would evice 1 resolution serial print sensors getresolution feedtemp dec serial println serial print would evice 2 resolution serial print sensors getresolution returntemp dec serial println serial print would evice 3 resolution serial print sensors getresolution venttemp dec serial println pinmode boilerrelay output boiler control relay void loop void call sensors requesttemperatures to issue a global temperature request to all devices on the bus serial print are questing temperatures sensors requesttemperatures int boilerfeedtemp sensors gettempc feedtemp int boilerreturntemp sensors gettempc returntemp int boilerventtemp sensors gettempc venttemp serial println would one print update response to serial monitor if cclient available char c cclient read serial print c disconnect from thingspeak if cclient connected lastconnected serial println disconnected serial println cclient stop update thingspeak if cclient connected millis lastconnectiontime updatethingspeakinterval serial println thingspeak client connected updatethingspeak field1 string boilerfeedtemp dec field2 string boilerreturntemp dec field string boilerventtemp dec check if arduino ethernet needs to be restarted if failedcounter 3 startethernet lastconnected cclient connected ethernetclient client server available detect if current is the first line boolean current_line_is_first true if client serial println running server page an http request ends with a blank line boolean current_line_is_blank true while client connected if client available char c client read if we have gotten to the end of the line received a newline character and the line is blank the http request has ended so we can send a reply if c n current_line_is_blank send a standard http response header client println http 1 1 200 ok client println content type text html client println auto reload webpage every 5 second client println webpage title client println boiler managment control system transfer temperatures to web page and serial port boiler feed temp client print boiler feed client print boilerfeedtemp client print u00b0c client print serial print boiler feed temp serial println boilerfeedtemp print bytes to serial boiler return temp client print boiler return client print boilerreturntemp client print u00b0c client print serial print boiler return temp serial println boilerreturntemp print bytes to serial boiler vent temp client print boiler vent client print boilerventtemp client print u00b0c client println serial print boiler vent temp serial println boilerventtemp print bytes to serial read digital pin 4 for the state of led boilerrelaystate digitalread 4 if boilerrelaystate high boiler relay on client println boiler relay on else boiler relay off client println boiler relay off button functions client println client println boiler relay on client println boiler relay off client println webpage footer client println would eveloped by potential power ltd client println this page will automatically refresh every 5 seconds break if c n we are starting a new line current_line_is_first false current_line_is_blank true else if c r we have gotten a character on the current line current_line_is_blank false get the first http request if current_line_is_first c for int i 0 i 1 i c client read command i c boler relay control if strcmp command 1 digitalwrite boilerrelay high else if strcmp command 2 digitalwrite boilerrelay low give the web browser time to receive the data delay 1 client stop delay 2000 function to print a device addressvoid printaddress deviceaddress deviceaddress for uint8_t i 0 i 8 i zero pad the address if necessary if deviceaddress i 16 serial print 0 serial print deviceaddress i hex void updatethingspeak string tsdata if cclient connect thingspeakaddress 80 serial println connected cclient println get search q arduino http 1 0 cclient println else serial println connection failed if cclient connect thingspeakaddress 80 cclient print post update http 1 1n cclient print host api thingspeak comn cclient print connection closen cclient print x thingspeakapikey writeapikey n cclient print content type application x www form urlencodedn cclient print content length cclient print tsdata length cclient print nn cclient print tsdata lastconnectiontime millis if cclient connected serial println connecting to thingspeak serial println failedcounter 0 cclient stop else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println lastconnectiontime millis void startethernet cclient stop serial println connecting arduino to network serial println delay 1000 connect to network amd obtain an ip address using dhcp if ethernet begin mac 0 serial println would hcp failed reset arduino to try again serial println else serial println arduino connected to network using dhcp serial println delay 10 i have looked at zookats code for server and client use but could not make head nor tail of how to implement it with this any advise much appreciated regardslaurie,0.5
turgo,in this line updatethingspeak field1 string boilerfeedtemp dec field2 string boilerreturntemp dec field string boilerventtemp dec you are missing the field number for the last field field3,0.5
rajeev.piyare,i would be most grateful if you could advice me with the following i have configured my arduino with ethernet shield i e ip and mac address according to the thingspeak example i am using manual ip settings since the u00a0 router at my university does not allow dhcp but when i try to connect it i can u2019t see any feed updates it shows the data on my arduino serial monitor but it is not updating on thingspeak api u00a0please advice as what can be the problem and why is it not working as it should be am i missing somethings attached are the codes and the screen shots for your reference u00a0your assistance will be highly appreciated include spi h include ethernet h local network settings u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0byte mac u00a0 u00a0 u00a0 u00a0 0xd4 0x28 0xb2 0xff 0xc1 0x93 must be unique on local networkbyte ip u00a0 u00a0 u00a0 u00a0 u00a0 117 17 81 79 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 must be unique on local networkbyte gateway 117 17 81 1 byte subnet u00a0 255 255 255 u00a0 u00a0 0 thingspeak settingschar thingspeakaddress api thingspeak com byte server u00a0 184 106 153 149 ip address for the thingspeak apistring writeapikey rkdkz8osmgn2t5ke u00a0 u00a0 u00a0 write api key for a thingspeak channelconst int updateinterval 30000 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 time interval in milliseconds to update thingspeak u00a0 u00a0 ethernetclient client server 80 ethernetclient client variable setuplong lastconnectiontime 0 boolean lastconnected false int resetcounter 0 void setup u00a0 ethernet begin mac ip gateway subnet u00a0 serial begin 9600 u00a0 delay 1000 void loop u00a0 string analogpin0 string analogread a0 dec u00a0 serial println analogpin0 u00a0 u00a0 print update response to serial monitor u00a0 if client available u00a0 u00a0 u00a0 u00a0 char c client read u00a0 u00a0 u00a0 serial print c u00a0 u00a0 u00a0 disconnect from thingspeak u00a0 if client connected lastconnected u00a0 u00a0 u00a0 u00a0 serial println u00a0 u00a0 u00a0 serial println disconnected u00a0 u00a0 u00a0 serial println u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 client stop u00a0 u00a0 u00a0 update thingspeak u00a0 if client connected millis lastconnectiontime updateinterval u00a0 u00a0 u00a0 u00a0 updatethingspeak field1 analogpin0 u00a0 u00a0 u00a0 lastconnected client connected void updatethingspeak string tsdata u00a0 if client connect server 80 u00a0 if client connect thingspeakaddress 80 u00a0 u00a0 u00a0 u00a0 serial println connected to thingspeak u00a0 u00a0 u00a0 serial println u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 client print post update http 1 1n u00a0 u00a0 u00a0 client print host api thingspeak comn u00a0 u00a0 u00a0 client print connection closen u00a0 u00a0 u00a0 client print x thingspeakapikey writeapikey n u00a0 u00a0 u00a0 client print content type application x www form urlencodedn u00a0 u00a0 u00a0 client print content length u00a0 u00a0 u00a0 client print tsdata length u00a0 u00a0 u00a0 client print nn u00a0 u00a0 u00a0 client print tsdata u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 lastconnectiontime millis u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 resetcounter 0 u00a0 u00a0 u00a0 u00a0 u00a0 else u00a0 u00a0 u00a0 u00a0 serial println connection failed u00a0 u00a0 u00a0 u00a0 u00a0 serial println u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 resetcounter u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 if resetcounter 5 resetethernetshield u00a0 u00a0 u00a0 lastconnectiontime millis u00a0 void resetethernetshield u00a0 serial println are setting ethernet shield u00a0 u00a0 u00a0 serial println u00a0 u00a0 client stop u00a0 delay 1000 u00a0 u00a0 ethernet begin mac ip gateway subnet u00a0 delay 1000,0.173941344023
Hans,what version of the arduino ide are you using i think the above code needs arduino 0022,0.840009689331
rajeev.piyare,currently i am using the latest arduino u00a0 version 1 0 2,0.173490732908
crichtoniano,experiment with arduinohello i want to do an experiment with arduino that allows me to turn on a light when someone writes a certain word in twitter u00a0i have seen this example http www instructables com id twitter powered gumball machine and i would like to ask you if it is possible to realize it with thingspeak and to ask you a bit of help u00a0thank you u00a0,0.5
sarkatmorgan,can anyone help me edit put together code to use thingtweet and tweetcontrol with my wifi enabled arduino i have been able to connect to the wifi network with my arduino but i cannot for the life of me get it to actually do anything i also can not find a code that allows me to use this board with twitter everything is set up for ethernet please help,0.19665107131
Hans,we do not have an arduino wifi yet so we can not test i read somewhere else that the arduino ide has been updated to support the wifi module better i would see if you can find the newest version and try again as far as i know you need some directives for the ssid and network key i will keep looking for you if you find anything out please let us know thanks,0.909027695656
sarkatmorgan,okay thank you and just as an fyi it not actually a wifi arduino it a wifi enabled clone called a diamondback from linksprite com,0.857062160969
pmichael,hello u00a0i am using the sample code from https github com iobridge thingspeak arduino examples blob master ethernet arduino_to_thingspeak inothe only thing i am modifying are my generated mac address and writeapikey which i got from the site after creating a device and channel u00a0the device is connected to my network but not thingspeak this is what my serial port spits out u00a0connecting arduino to network arduino connected to network using dhcpconnection to thingspeak failed 1 u00a0using arduino uno ethernet shield and 1 0 1 ide u00a0any ideas thanks,0.5
Hans,we have not tested arduino 1 0 1 ide there may be differences i wrote the examples with arduino 1 0 i really hope it is not that different i am checking into it,0.797209382057
Hans,so it is not the new arduino ide i just downloaded 1 0 1 copy and pasted the thingspeak client code from github and added my writeapikey and everything worked right away output from serial monitor u00a0connecting arduino to network arduino connected to network using dhcp u00a0connecting to thingspeak http 1 1 200 okserver nginx 0 8 53date sat 02 jun 2012 17 50 51 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200etag 9fb4651c05b2ed70fba5afe0b039a550 cache control max age 0 private must revalidate464280 disconnected u00a0 u00a0my guess now is that your home network is not giving the arduino an ip address i think you are looking at a networking issue or dhcp issue on the arduino library,0.5
Hans,also when you generate a mac address did you create a globally unique mac address it worth changing to a global mac,0.897438585758
tlombard,i am not able to connect either u00a0arduino 1 0 1 i have created a unique mac address device and have entered the api key u00a0i am getting an ip address but connection is failing connecting arduino to network arduino connected to network using dhcp192 168 0 12connection to thingspeak failed 1 connection to thingspeak failed 2 connection to thingspeak failed 3 connection to thingspeak failed 4 u00a0question when creating the device in thingspeak do i need to enter a public ip address u00a0public port number and local ip address stuff u00a0,0.115156382322
Hans,can you send me the mac address that you generated and the line in your arduino sketch that shows the mac address what os are you running arduino 1 0 1 on also the other field are optional we only use them to generate the arduino sketch for updating twitter u00a0automatically,0.5
tlombard,d4 28 b2 ff bc 72 u00a0 u00a0byte mac 0xd4 0x28 0xb2 0xff 0xbc 0x72 must be unique on local network u00a0i am running mac os x version 10 7 2,0.5
Hans,i copied your mac line directly into my sketch and the arduino is posting it looks like dhcp or arduino version of dhcp is not working on your network i suggest trying the would hcpaddressprinter sketch that is included in the examples let see if that works or not so we can narrow this down,0.5
tlombard,when i run would hcpaddressprinter i getmy ip address 192 168 0 7 u00a0and last week i tried cosm com u2026it worked immediately u00a0,0.252040266991
nicox,hi all i have got an issue actually with thingspeak client my archi arduino unorn xv wifi board http rovingnetworks com resources download 16 rn_xv xbee board arduino xbee shield http www arduino cc en main arduinoxbeeshield serial port rx tx ntc temperature sensor http www cooking hacks com skin frontend default cooking pdf 159 282 86001 pdf on the a0i need to use the serial from my arduino needed by the xbee board but your code is for ethernet only can you please help me u00a0i tried to build my own code but unsuccessfully u00a0many thanks for your help u00a0nicolas,0.5
benni_75,hello nicox to solve your problem if your computer is connected to the internet there are several ways to do with telnet netcat socat for me with my linux is really simple to use socat here is an example minimalist u00a0 u00a0 serial client for thingspeak u00a0reads an analog input on pin 0 and send to thingspeak u00a0 u00a0 sudo socat d v dev ttyusb0 echo 1 b9600 crnl tcp api thingspeak com 80 u00a0 u00a0use dmesg for know which port is connected u00a0 u00a0this example code is in the public domain u00a0 void setup u00a0 serial begin 9600 void loop u00a0delay 60000 u00a0int sensorvalue analogread a0 u00a0serial print get update key i4s7zjnm40kdxxxx field1 u00a0serial print sensorvalue u00a0serial print http 1 1rnuser agent socatrn u00a0serial print host api thingspeak comrnrn,0.820954084396
kevinhisko,i am using the cheerlights application to do a simliar project although once the command is recieved it will post back to the channel with an update u00a0so when the machine command green the post back to channel the light are now green u00a0i u00a0created u00a0a post statement although i can not get it to run within the loop any ideas on how to make this work u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0string tsdata tsdata field1 thankyou status the lights are now green client print post update http 1 1n client print host api thingspeak comn client print connection closen client print x thingspeakapikey writeapikey n client print content type application x www form urlencodedn client print content length client print tsdata length client print nn client print tsdata,0.5
DanielaES,hello u00a0a new user here just starting peeking around and i love thingspeak i have and arduino 2009 ide 22 and 8 var that i would like to send to thingspeak actually i have these u00a0 float toutes tout dht u00a0 float houtes rh out dht u00a0 float tines tin dht u00a0 float hines rh in dht u00a0 float t1es h20 u00a0 float t2es hot u00a0 unsigned long mediahzes light u00a0 int statusssres status ssr u00a0can you help me build a string to send data i am still neewbe in c i am using the updatethingspeak fx from the example and everything works fine for the unsigned int but i do not know how to build the real string u00a0thank you,0.5
Hans,your final string will need to look like 1 value 2 value 3 value and so on the 1 2 3 u00a0correspond u00a0to u00a0the fields inside of a channel btw 1 2 3 is shorthand for field1 field2 and field3,0.5
cherrick,just getting started and want to run the thingtweet app to update a twitter status copied the sketch into the arduino environment changing the mac and ip info to match my local settings inserted the api key for my channel u00a0when trying to compile and upload to my arduino uno i am getting the following error message u00a0sketch_jan31a 31 error no matching function for call to u2018client client byte 4 int u2019 home chris arduino 1 0 hardware arduino cores arduino client h 7 note candidates are client client home chris arduino 1 0 hardware arduino cores arduino client h 7 note u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 client client const client sketch_jan31a 31 error cannot declare variable u2018client u2019 to be of abstract type u2018client u2019 home chris arduino 1 0 hardware arduino cores arduino client h 7 note u00a0 u00a0 because the following virtual functions are pure within u2018client u2019 home chris arduino 1 0 hardware arduino cores arduino client h 12 note u00a0 u00a0 u00a0virtual size_t client write uint8_t home chris arduino 1 0 hardware arduino cores arduino client h 13 note u00a0 u00a0 u00a0virtual size_t client write const uint8_t size_t home chris arduino 1 0 hardware arduino cores arduino client h 14 note u00a0 u00a0 u00a0virtual int client available home chris arduino 1 0 hardware arduino cores arduino client h 15 note u00a0 u00a0 u00a0virtual int client read home chris arduino 1 0 hardware arduino cores arduino client h 17 note u00a0 u00a0 u00a0virtual int client peek home chris arduino 1 0 hardware arduino cores arduino client h 18 note u00a0 u00a0 u00a0virtual void client flush home chris arduino 1 0 hardware arduino cores arduino client h 10 note u00a0 u00a0 u00a0virtual int client connect ipaddress uint16_t home chris arduino 1 0 hardware arduino cores arduino client h 11 note u00a0 u00a0 u00a0virtual int client connect const char uint16_t home chris arduino 1 0 hardware arduino cores arduino client h 16 note u00a0 u00a0 u00a0virtual int client read uint8_t size_t home chris arduino 1 0 hardware arduino cores arduino client h 19 note u00a0 u00a0 u00a0virtual void client stop home chris arduino 1 0 hardware arduino cores arduino client h 20 note u00a0 u00a0 u00a0virtual uint8_t client connected home chris arduino 1 0 hardware arduino cores arduino client h 21 note u00a0 u00a0 u00a0virtual client operator bool sketch_jan31a cpp in function u2018void updatetwitterstatus string u2019 sketch_jan31a 73 error no matching function for call to u2018client connect u2019 home chris arduino 1 0 hardware arduino cores arduino client h 10 note candidates are virtual int client connect ipaddress uint16_t home chris arduino 1 0 hardware arduino cores arduino client h 11 note u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 virtual int client connect const char uint16_t u00a0it does not look like the parameters are correct in this example or maybe outdated i am using arduino 1 0 u00a0has anyone experienced this and or suggestions to correct,0.5
Hans,i am pretty sure the sketch needs to be updated for arduino 1 0 it might be easier to modify this u00a0sketch https github com iobridge thingspeak arduino examples blob master ethernet arduino_to_thingspeak ino u00a0if i get some time i will add twitter to the sketch for arduino 1 0 the big difference is that arduino 1 0 makes it easy to setup dns and dhcp,0.910441398621
cherrick,thanks for the response like i said i am still trying to get a feel for how things are supposed to work i have had this issue come up before for other examples the 1 0 environment is definitely not backwards compatible if you get a chance to update that would be great in the meantime i will dig into the sketch you recommended above u00a0cheers,0.771524786949
cherrick,i got this sketch working so it now communicates with my thingspeak channel and it is logging data however the input on analog pin 0 just keeps reading 4 i have experimented with a light sensor and a potentiometer to change the values of the input but channel is still just receiving constant value of 4 u00a0did the read command get changed in 1 0 and not sending data correctly also what is the dec variable do in this line u00a0this is where i am thinking things are going astray u00a0 string analogpin0 string analogread a0 dec u00a0any help greatly appreciated,0.5
soccou,hi i have been succesfully updating a channel from an arduino for around a month and it just stopped working last saturday now i always recieve a 301 error like below can anyone offer any suggestions sent packet post update http 1 1host api thingspeak comx thingspeakapikey key goes hereaccept connection closecontent length 59content type application x www form urlencodedfield1 84 5 field2 85 2 field3 85 4 field4 85 6 field5 85 8 u00a0 u00a0http 1 1 301 moved permanentlydate thu 26 jan 2012 19 04 25 gmtcontent type text htmlconnection closelocation https api thingspeak com updatevary accept encoding html head title 301 moved permanently title head body bgcolor white center h1 301 moved permanently h1 center hr center nginx 0 7 65 center body html,0.5
Hans,we are checking into this nothing has changed on our end we have plenty of arduinos connected to thingspeak in the lab has anything changed on your network dns u00a0,0.787162065506
Hans,something else is wrong i would check your local network the version of nginx 0 7 65 is not our version of nginx i do not think that you are talking to our servers u00a0,0.145817816257
rossoreed,i currently upload energy data to pachube but am considering moving to thingspeak and wondered if there are any nanode sketches available to upload data to thingspeak a u00a0nanode is basically a ethernet enabled arduino but the main difference is that it uses a u00a0enc28j60 ethernet controller so it can not use the ethernet h library but can use the ethercard h or ethershield h libraries,0.5
coppenss,hi i am working on a sketch that uploads data from a nanoderf to thingspeak and downloads some data back to the device the code is derived from the openenergymonitor project i will sent you a pm with the code i have at the moment it works but it terribly written i am no programmer,0.752745866776
rossoreed,coppenss said hi i am working on a sketch that uploads data from a nanoderf to thingspeak and downloads some data back to the device the code is derived from the openenergymonitor project i will sent you a pm with the code i have at the moment it works but it terribly written i am no programmer thanks it looks good to me i will spend some time over the weekend and try it out u00a0paul,0.878629207611
stan001,hi can i use the ethernet shield as both client to thingspeak and also as a web server to check the status or receive web clients connections to the arduino u00a0i check all the examples it is either as a client or server but no both simultaneously u00a0is it possible u00a0thanks,0.5
Hans,i am sure you can do this arduino ethernet uses wiznet and i think you can have 4 tcp ip sockets in use one could be a client and another could be a server you might have to remove debug info printing to the serial port to free up the processor to handle both connections the idea is to have one socket listening and one socket talking,0.5
stan001,my arduino is sending 0 or 127 to the charts how do i delete these values or prevent them from being displayed u00a0i will modify my sketch to prevent such mix max values from being updated to thingspeak,0.219857901335
Hans,if you add min and max parameters to the chart url you can filter numbers above the max and below the min value example no min max https api thingspeak com channels 3 charts 1 round 2 average 10 min max https api thingspeak com channels 3 charts 1 round 2 average 10 min 70 max 75,0.5
stan001,thanks for the replies and solution,0.98026227951
jamilm9,hi i used the code shown in the tutorial with some small adaptions these are shown here http pastebin com xigsrkqg u00a0for some reason it will connect for 15 minutes to one hour and then it will stop connecting this can be fixed by restarting the arduino by unplugging this how can this be fixed thank you,0.880537509918
Hans,are you using arduino 1 0 or arduino 22 ide this would make a difference in how the ethernet shield gets restarted i recommend upgrading to arduino 1 0 and using our code examples on github https github com iobridge thingspeak arduino examples blob master ethernet arduino_to_thingspeak inoyou would only have to make a few tweaks to get this working in 1 0 let us know if you figuring anything out,0.5
jamilm9,i am using 0023 i found a solution to the problem i think it been running for over 24 hours and still going strong all i had to do was remove the microsd card that i had in the slot for some reason this fixed it i found this at http forums adafruit com viewtopic php f 31 t 17013 u00a0is there any way to convert a float to string when i convert from a long to a string it is rounded to the nearest whole number thanks for all the help,0.177305042744
Hans,wow i am glad that you found that solution i would have never u00a0thought u00a0of that glad it working,0.98362249136
jamilm9,same it strange how these things work can you offer any input on converting a float to string thanks,0.760352730751
Hans,i found a post on the arduino forum include stdlib h dtostrf float width precision buffer http www arduino cc cgi bin yabb2 yabb pl num 1205038401 at the bottom of the post that may help,0.5
nickv,i have run into a strange problem involving trying to integrate the thingstweet app into my program the arduino basic example seems to work well when using one analoge input to update a graph u00a0i tried adding the updatetwitterstatus function into the mix yes i have defined the thingstweet api variable and it consistently gives me a 400 bad request i am not even calling the function yet from the loop simply having the function in my sketch causes the 400 bad request the sketch compiles fine with no errors here the function u00a0void updatetwitterstatus string msg u00a0 u00a0if client connect msg length 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 create http post data u00a0 u00a0 u00a0msg api_key thingtweetapikey status msg u00a0 u00a0 u00a0 u00a0 u00a0 u00a0serial println connected to thingtweet u00a0 u00a0 u00a0serial println u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0client print post apps thingtweet 1 statuses update http 1 1n u00a0 u00a0 u00a0client print host api thingspeak comn client print connection closen client print content type application x www form urlencodedn u00a0 u00a0 u00a0client print content length u00a0 u00a0 u00a0client print msg length u00a0 u00a0 u00a0client print nn u00a0 u00a0 u00a0client print msg u00a0 u00a0 u00a0 u00a0else u00a0 u00a0 u00a0 u00a0 u00a0serial println connection failed u00a0 u00a0 u00a0 u00a0 u00a0serial println u00a0 u00a0 u00a0while trying to debug this problem i removed the client print commands from this function but left everything else in and then the sketch started working properly if i left even just one line of client print in the u00a0updatetwitterstatus function the sketch fails i also tried creating a new instance of client called clienttwitter leaving client for the u00a0updatethingspeak function still caused problems u00a0i am kind of stumped here is this an arduino ethernet library bug or is it a thingspeak problem,0.163650393486
Hans,this does not solve the imediat issue but you can post and tweet at the same time if you want example field1 6 twitter twitter username linked with thingtweet tweet your tweet you would only want to do this u00a0occasionally u00a0and not with every insert to your thingspeak channel twitter would rate limit you we will check into the other sketch can you send us the pde your using support thingspeak com,0.749997615814
Hans,i have written a new arduino sketch that combines the thing channel update and thingtweet sketch into one you can download it here u00a0http bit ly nfrpuetry this and see if this works for you and your situation,0.755729913712
JChristensen,just getting started here have things working fairly well or mostly u00a0 sending three fields the first one does not seem to be making it field2 and field3 are fine u00a0 field1 is just empty or null field1 nil true in the xml view below is the post which i trapped by replacing client print with serial print and then copying it from the monitor window u00a0 i am not seeing what the problem is u00a0 my channel is http www thingspeak com channels 878post update http 1 1host api thingspeak comx thingspeakapikey xxxxxxxxxxxxxxxxcontent type application x www form urlencodedcontent length 34connection closefield1 1214 field2 3 field3 70 8 u00a0,0.188965529203
JChristensen,found the problem was not getting the content length quite right u00a0 picky this post,0.140904068947
Hans,from nick i u2019m getting a the following message when posting to more than one field http 1 1 400 bad requestserver nginx 0 8 53date wed 29 jun 2011 10 41 21 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closestatus 400cache control no cache100 u2026disconnected this is the line i u2019ve modified if client connected millis u2013 lastconnectiontime updateinterval updatethingspeak u201cfield1 u201d analogpin0 u201c field2 u201d analogpin1 it works when i only use field 1 what u2019s the problem here u00a0,0.5
nickv,i have made the channel public here https www thingspeak com channels 812,0.5
Sindono.com,hi i guess i am the first one to post a question about the use of thingspeak with an arduino i hope there is someone that has some prior experience since i am running into a few issues after using the tutorial to modify my existing code u00a0i have added the code almost exactly as per the tutorial on this website obviously i modified the data to be sent to thingspeak i also added some serial println here and there to see what part of the code is being executed and i get so far that in the serial monitor of the arduino ide using v0022 on ubuntu 10 10 i see the message connected to thingspeak which happens at the beginning of the updatethingspeak and i also see would ata sent to thingspeak which i added at the very last line of updatethingspeak in the part where the connection is succesful otherwise a connection failed would have been shown u00a0i would expect that means that the arduino sent sensor data to my thingspeak channel but unfortunately i do not see anything popping up in my web interface when i try to make charts u00a0this could be a i am doing something wrong very likely ud83d ude09 b the data is indeed received but not yet available to make chartsc arduino does connect but something is wrong in the communicationi noticed that i never had to fill in my feed id anywhere but i guess that information is locked in the writeapikey right u00a0anyone got a clue how to debug this u00a0regards arno jansen u00a0p s the service seems awesome hope i can get it to work soon,0.765341937542
Hans,thanks for the kind comments now let hope we can get your arduino sketch working u00a0the tutorial was written with arduino 22 on windows now sure if that makes a difference u00a0the channel id is encoded in the write api key that way a private channel can stay private u00a0if everything goes to plan the data should be available right away in your feed and charts caching only kicks in when you return more than 100 results u00a0can you ping the arduino ip address atleast so we can verify connectivity and cross that off of the list,0.5
Sindono.com,well what can i say it works see this channel https www thingspeak com channels 157 u00a0but the data you are seeing there is testdata and does not contain real sensor data yet somehow i can not seem to build a proper string to send to thingspeak i receive the data as comma separated values i e 10 00 666 123 1 0 10 and the comma should be replaced by field1 field2 field3 etc u00a0i have managed to send this same data to my own webserver and a pachube feed http www pachube com feeds 11261 so i have some homework to do u00a0any hints appreciated ud83d ude09 u00a0regards arno,0.5
Hans,if you are going to send sensor data all you have to do is send the fields in any order using the keys u00a010 00 666 123 1 0 10 u00a0field1 10 00 field2 666 field3 123 field4 1 field5 0 field6 10 u00a0you can pass the key as an x header or as a another parameter u00a0 u2026 key write api key u00a0make sure content type is content type application x www form urlencoded u00a0otherwise without seeing your code i am not sure what is breaking down can you post some where i can then get to the bottom of it,0.5
Sindono.com,hi u00a0thanks for the reply i understand what needs to happen and the code works fine except my string manipulation skills or lack thereof have not been able to come up with a solid solution to replace the comma into field1 then field2 etc u00a0i would love to share the code however i am nowhere near the code now so will have to that some time later,0.125920623541
Niraj,i tried to connect the atlas ph sensor to the arduino since it has been connnected succcessfully and showing on value on serial monitor but while sending the value through gsm sim900 its not able to send u00a0 u00a0 include softwareserial h we have to include the softwareserial library or else we can not use it define rx 2 define what pin rx is going to be define tx 3 define what pin tx is going to be include string h softwareserial myserial rx tx define how the soft serial port is going to worksoftwareserial myserial 7 8 string inputstring a string to hold incoming data from the pcstring sensorstring a string to hold the data from the atlas scientific productboolean input_string_complete false have we received all the data from the pcboolean sensor_string_complete false have we received all the data from the atlas scientific productboolean pin2 low pin3 low pin4 low pin5 low pin6 low float ph used to hold a floating point number that is the phvoid setup void set up the hardware pinmode 0 input pinmode 1 input pinmode 4 input pinmode 5 input pinmode 6 input serial begin 9600 set baud rate for the hardware serial port_0 to 9600 myserial begin 9600 set baud rate for the software serial port to 9600 inputstring reserve 10 set aside some bytes for receiving data from the pc sensorstring reserve 30 set aside some bytes for receiving data from atlas scientific product void serialevent if the hardware serial port_0 receives a char inputstring serial readstringuntil 13 read the string until we see a cr input_string_complete true set the flag used to tell if we have received a completed string from the pc void loop void here we go if input_string_complete if a string from the pc has been received in its entirety myserial print inputstring send that string to the atlas scientific product myserial print add a cr to the end of the string inputstring clear the string input_string_complete false reset the flag used to tell if we have received a completed string from the pc if myserial available 0 if we see that the atlas scientific product has sent a character char inchar char myserial read get the char we just received sensorstring inchar add the char to the var called sensorstring if inchar if the incoming character is a cr sensor_string_complete true set the flag if sensor_string_complete true if a string from the atlas scientific product has been received in its entirety serial println sensorstring send that string to the pc serial monitor delay 1000 sensorstring clear the string sensor_string_complete false reset the flag used to tell if we have received a completed string from the atlas scientific product delay 100 send2niraj if myserial available serial write myserial read void send2niraj myserial println at delay 1000 myserial println at cpin delay 1000 myserial println at creg delay 1000 myserial println at cgatt delay 1000 myserial println at cipshut delay 1000 myserial println at cipstatus delay 2000 myserial println at cipmux 0 delay 2000 showserialdata myserial println at cstt internet start task and setting the apn delay 3000 showserialdata myserial println at ciicr bring up wireless connection delay 3000 showserialdata myserial println at cifsr get local ip adress delay 2000 showserialdata myserial println at cipsprt 0 delay 3000 showserialdata myserial println at cipstart tcp api thingspeak com 80 start up the connection delay 6000 showserialdata myserial println at cipsend begin send data to remote server delay 4000 showserialdata string str get https api thingspeak com update api_key cy8k1v00ez5w26zx field1 0 string sensorstring myserial println str begin send data to remote server delay 4000 showserialdata myserial println char 26 sending delay 5000 waitting for reply important the time is base on the condition of internet myserial println showserialdata myserial println at cipshut close the connection delay 100 showserialdata void showserialdata while myserial available 0 serial write myserial read,0.5
Niraj,i got the answer i was wrong with string sensorstring,0.0779306292534
seales,good day folks i am currently building a smart irrigation project using the arduino uno u00a0basically a soil moisture sensor starts and stop a 12v dc water pump a dht 11 temperature sensor is just used for indication i was able to get this part functioning correctly u00a0i would like to upload these values to thingspeak u00a0using a gsm 900 sim i am able to get a connection to thingspeak u00a0and update the channel field but the temperature values are not accurate that is they are 1020 on the channel graph and 29 28 etc on my arduino serial monitor any help rectifying this would be greatly appreciated below is the code i tried thus far include softwareserial h include string h include dht h int sensorpin 0 u00a0 u00a0 set the input pin for the potentiometerint sensorvalue 0 dht dht define dht11_pin a0 u00a0softwareserial gprsserial 7 8 float temp 0 0 void setup u00a0 gprsserial begin 9600 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 the gprs baud rate u00a0 u00a0 u00a0 serial begin 9600 u00a0 u00a0 the gprs baud rate u00a0 u00a0 delay 1000 u00a0void loop u00a0 u00a0 u00a0 int chk dht read11 dht11_pin u00a0 u00a0 u00a0 temp analogread a0 u00a0 u00a0 u00a0 delay 2 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 if gprsserial available u00a0 u00a0 serial write gprsserial read u00a0 gprsserial println at u00a0 delay 1000 u00a0 gprsserial println at cpin u00a0 delay 1000 u00a0 gprsserial println at creg u00a0 delay 1000 u00a0 gprsserial println at cgatt u00a0 delay 1000 u00a0 gprsserial println at cipshut u00a0 delay 1000 u00a0 gprsserial println at cipstatus u00a0 delay 2000 u00a0 gprsserial println at cipmux 0 u00a0 delay 2000 u00a0 u00a0 showserialdata u00a0 u00a0 gprsserial println at cstt myapn start task and setting the apn u00a0 delay 1000 u00a0 u00a0 showserialdata u00a0 u00a0 gprsserial println at ciicr bring up wireless connection u00a0 delay 3000 u00a0 u00a0 showserialdata u00a0 u00a0 gprsserial println at cifsr get local ip adress u00a0 delay 2000 u00a0 u00a0 showserialdata u00a0 u00a0 gprsserial println at cipsprt 0 u00a0 delay 3000 u00a0 u00a0 showserialdata u00a0 u00a0 u00a0 gprsserial println at cipstart tcp api thingspeak com 80 start up the connection u00a0 delay 6000 u00a0 u00a0 showserialdata u00a0 u00a0 gprsserial println at cipsend begin send data to remote server u00a0 delay 4000 u00a0 showserialdata u00a0 u00a0 u00a0 u00a0 string str get https api thingspeak com update api_key qt7o3u5o8hfefby8 field1 0 string temp u00a0 gprsserial println temp begin send data to remote server u00a0 delay 4000 u00a0 showserialdata u00a0 gprsserial println char 26 sending u00a0 delay 5000 waitting for reply important the time is base on the condition of internet u00a0 u00a0 gprsserial println u00a0 u00a0 showserialdata u00a0 u00a0 gprsserial println at cipshut close the connection u00a0 delay 100 u00a0 showserialdata u00a0void showserialdata u00a0 while gprsserial available 0 u00a0 u00a0 serial write gprsserial read,0.801854372025
cstapels,should this line u00a0gprsserial println temp begin send data u00a0to u00a0remote serverbe u00a0gprsserial println str begin send data u00a0to u00a0remote server u00a0and i think u00a0string u00a0str get https api thingspeak com update api_key qt7o3u5o8hfefby8 field1 0 u00a0 u00a0string temp should bestring u00a0str get https api thingspeak com update api_key qt7o3u5o8hfefby8 field1 u00a0 u00a0string temp although a leading zero probably wont make a difference if that does not help please post the serial output too,0.5
seales,u00a0 u00a0 string str get https api thingspeak com update api_key 421txmlmb71w7q3g field1 0 string temp u00a0 myserial println temp begin send data to remote serverthanks for the reply i realized that change had to be made and thanks for pointing that out string u00a0str get u00a0https api thingspeak com update api_key qt7o3u5o8hfefby8 field1 u00a0 u00a0string temp tried this but still no change i am using a dht 11 temperature sensor connected to digital pin 2,0.5
cstapels,can you show what the serial monitor says for this line gprsserial println temp begin send data u00a0to u00a0remote serveror do something like serial println temp so we can see what the format of the request is exactly when it is sent do you get no update at all on your channel or still just incorrect numbers,0.5
seales,send ok347at cipshutshut okat creg creg 0 1okat cgatt at cstt myapn okat ciicrokat cifsr10 224 152 203at cipsprt 0okat cipstart tcp api thingspeak com 80 okconnect okat cipsendget https api thingspeak com update api_key qt7o3u5o8hfefby8 amp send ok348 u00a0this is what the serial monitor says and yes i get an update on the channel but incorrect values,0.5
seales,atat cpin at creg at cgatt at cipshutat cipstatusatat cstt myapn at ciicrat cifsrat cipsprt 0at cipstart tcp api thingspeak com 80 at cipsendtemperature 23 00get https api thingspeak com update api_key qt7o3u5o8hfefby8 amp send ok359this is what i am seeing on the serial monitor as i added serial print temperature serial println dht temperature but the value i am seeing on thingspeak is 325,0.5
cstapels,sorry i repeated the same mistake i pointed out in your code above i meant for you to print str not temp can you add serial println str and share the output my concern is that i do not see the value or even field1 at the end of the string you showed get u00a0https api thingspeak com update api_key xxxxxxxxxxxxxxxx amp i am looking for something similar to this get u00a0https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 23 if the buffer is getting filled you can try it in shorter segments u00a0perhapsgprsserial print get u00a0https api thingspeak com update begin send data u00a0to u00a0remote servergprsserial println api_key xxxxxxxxxxxxxxxx field1 23,0.5
seales,cstapels said sorry i repeated the same mistake i pointed out in your code above i meant for you to print str not temp can you add serial println str and share the output hello no need to apologize i am really grateful for the help and advice i added the u00a0serial println str and this is what i got on the serial monitor connect okat cipsendget https api thingspeak com update api_key qt7o3u5o8hfefby8 field1 01 00temperature 25 00get https api thingspeak com update api_key qt7o3u5o8hfefby8 amp,0.850651085377
cstapels,does that code result in the value 1 00 being added to thingspeak i realize that 25 00 is the value you want but what you showed was requesting a value of 1 00 to be written u00a0 u00a0if all that is true then either temp is not being updated before it gets added to str or there may be a memory problem using the string class i would try just hard coding a number and making sure it writes correctly to thingspeak first u00a0 u00a0you can write u00a0str get u00a0https api thingspeak com update api_key qt7o3u5o8hfefby8 field1 123 u00a0then u00a0gprsserial println str and make sure you see the value 123 u00a0i am also curious about this line after you write the get request gprsserial println char 26 sending u00a0why are you sending the value 26,0.756639063358
seales,include softwareserial h include string h include dht h int sensorpin 0 set the input pin for the potentiometer int sensorvalue 0 dht dht define dht11_pin a0 softwareserial gprsserial 7 8 u00a0float temp 0 0 void setup gprsserial begin 9600 the gprs baud rate serial begin 9600 the gprs baud ratedelay 1000 void loop temp analogread a0 temp temp 0 4887 delay 2 if gprsserial available serial write gprsserial read gprsserial println at delay 1000 gprsserial println at cpin delay 1000 gprsserial println at creg delay 1000 gprsserial println at cgatt delay 1000 gprsserial println at cipshut delay 1000 gprsserial println at cipstatus delay 2000 gprsserial println at cipmux 0 delay 2000 showserialdata gprsserial println at cstt myapn start task and setting the apn delay 1000 showserialdata gprsserial println at ciicr bring up wireless connection delay 3000 showserialdata gprsserial println at cifsr get local ip adress delay 2000 showserialdata gprsserial println at cipsprt 0 delay 3000 showserialdata gprsserial println at cipstart tcp api thingspeak com 80 start up the connection delay 6000 showserialdata gprsserial println at cipsend begin send data to remote server delay 4000 showserialdata string str get https api thingspeak com update api_key qt7o3u5o8hfefby8 field1 0 string temp serial println str gprsserial println str begin send data to remote server delay 4000 showserialdata gprsserial println char 26 sending delay 5000 waitting for reply important the time is base on the condition of internet gprsserial println showserialdata gprsserial println at cipshut close the connection delay 100 showserialdata void showserialdata while gprsserial available 0 serial write gprsserial read u00a0int chk dht read11 dht11_pin serial print temperature serial println dht temperature serial print humidity serial println dht humidity delay 5000 sensorvalue analogread sensorpin delay 1000 serial print ensor serial println sensorvalue sensorvalue analogread sensorpin delay 5000 serial print ensor serial println sensorvalue this is the new code i uploaded and i placed the serial print temperature code lines to the end of the code after using this code the serial monitor shows this okconnect oktemperature 28 00humidity 74 00sensor 1023sensor 1023at cipsendtemperature 28 00humidity 75 00sensor 1023sensor 1023get https api thingspeak com update api_key qt7o3u5o8hfefby8 field1 0499 94get https api thingspeak com update api_key qt7o3u5o8hfefby8 temperature 28 00humidity 74 00sensor 1023sensor 1023send ok523temperature 28 00humidity 74 00sensor 1023sensor 1023closedtemperature 999 00humidity 999 00 u00a0based on what you said you were not seeing i am now able to see get https api thingspeak com update api_key qt7o3u5o8hfefby8 field1 0499 94get https api thingspeak com update api_key qt7o3u5o8hfefby8 temperature 28 00as shown above the problem is that the 28 value is not uploaded to thingspeak but the value i am seeing seems to be the 499 94,0.5
seales,why are you sending the value 26 u00a0 u00a0this line came with the code i sampled and made my adjustment too i am yet to figure out what exactly it does,0.771919250488
cstapels,at the top of your loop you havetemp analogread a0 temp temp 0 4887 if you want the value written to thingspeak to be 28 then set these lines to betemp dht temperature u00a0 u00a0the value of 26 gprsserial println char 26 sending may be a number of bytes sent u00a0 i would try removing it and then investigating the difference,0.5
seales,cstapels said the value of 26 gprsserial println char 26 sending may be a number of bytes sent u00a0 i would try removing it and then investigating the difference u00a0 u00a0based on research this char 26 indicated the end of data thanks again for your feedback based on your last reply i made some adjustments to the code and eureka i got it to work i removed the following code lines altogether float temp 0 0temp analogread a0 temp temp 0 4887 and just replaced u00a0 temp with dht temperature in code line string str get https api thingspeak com update api_key qt7o3u5o8hfefby8 field1 string dht temperature with this the temperature value is uploaded to thingspeak u00a0correctly the sensor also has a humidity value and i would u00a0like to upload that to a second field on the channel so i would get both temperature and humidity uploaded on two fields i tried several adjustments to the code but no luck with the two values upload advice with this would be appreciated,0.5
seales,string str get https api thingspeak com update api_key qt7o3u5o8hfefby8 field1 string dht temperature api_key qt7o3u5o8hfefby8 field2 string dht humidity with more trial and error i got the two values to upload simultaneously thanks once again for all the advice,0.291047602892
cstapels,thanks for posting the solution u00a0 if you want to make it a little shorter you can actually skip the second repeated api key string str get u00a0https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 string dht temperature field2 string dht humidity should work as well,0.5
seales,ok thanks i will give the shorter version a try,0.946518182755
deokumardas,your help will be appreciated thanks in advance i tried to send soil moisture data on the thingspeak channel but i did not the code is given below include softwareserial h include thingspeak h include stdlib h string apikey x u00a0 u00a0 u00a0 write api key of the channel define ssid connectify define pass 1234567890 oftwareserial softser 11 10 rx connected at digitalpin 10 and tx at 11void setup delay 2000 serial begin 9600 softser begin 9600 softser println at rst void loop string join at cwjap join ssid join join pass join softser println join delay 5000 float val analogread a0 soil moisture sensor readingfloat t val 5 0f 1023 0f char buf 16 string strtemp dtostrf t 4 1 buf serial println strtemp string cmd at cipstart tcp cmd 184 106 153 149 cmd 80 softser println cmd if softser find error serial println at cipstart error return string getstr get https api thingspeak com update api_key getstr apikey getstr field1 getstr string strtemp getstr serial println getstr cmd at cipsend cmd string getstr length softser println cmd if softser find softser print getstr else softser println at cipclose serial println at cipclose softser println at rst delay 20000,0.5
cstapels,looks like a good start u00a0 lets eliminate the easy things u00a0 if you use your web browser and the rest command to write data can you successfully update the channel i e paste this in the address bar u00a0https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 321 u00a0does your hardware indicate that it is connecting to the network appropriately if all that works can you try hard coding this linestring getstr get u00a0https api thingspeak com update api_key to the full commandstring getstr get u00a0https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 123 replacing your api key of course then see if 123 gets populated to the channel from the device if all that is successful please describe your hardware and we can scrutinize the code closer,0.853990316391
deokumardas,by pasting in the address bar the channel is updated with the given value i tried with this u00a0 string getstr get u00a0https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 123 by replaying x with apikey but problem still exist the hardware connection is shown in the image file and drive link is shared below https drive google com open id 1lc2zrm9xzdikncgulxwra5 mmxsxnsd0 u00a0how to test whether the hardware is connected to a network or not,0.774721384048
cstapels,from your drawing it seems the you are using an esp8266 01 connected to an arduino u00a0 if this is true there is a much easier was to interact with the esp than the at command set u00a0 you can use the arduino ide to program the esp directly u00a0 some people say there is an incompatibility with the 5 v outputs but i have programmed many esp8266 01 and found them to be 5 v tolerant for the tx and rx pins not for vdd u00a0 most of the arduino examples in the examples section u00a0of the thingspeak doc will work with small changes and there are a few esp8266 specific examples u00a0 for reading and writing data with and without the thingspeak communication library u00a0connect tx and rx straight into the tx and rx from the arduino pull up gpio2 and ch_pd and possibly rst and pull gpio0 to ground when programming if i am wrong about the hardware then we can stick to the at commands i think if you had a connection error you would have seen it with these lines if softser find error serial println at cipstart error can you share what you see on the serial monitor,0.844895601273
deokumardas,serial monitor output is shown via link below https drive google com open id 1h7bndskqyvlemdmmagbo6lgtg4f7krvo u00a0since esp8266 has three modes of operation access point sta bothin order to send data esp8266 should remain in sta mode or something else i fix mode at sta mode using at cwmode 1 command if i am wrong please do correct me,0.21451702714
cstapels,in this example code they do not include the server name in the get string u00a0 i would not suggest using software serial as they do in that example i have seen issues with software serial on esp8266 01 possibly due to not shifting the voltage string getstr get update api_key also they include some carriage returns that your code does not seem to have u00a0 getstr is there a reason you need to use the at commands instead of programming the esp to do the communication itself,0.18346041441
Bird,hi u00a0i am having issues with uploading my data to thingspeak i am not sure why my data is not uploading as other code will upload data from the same sensors to a the channel i have tried multiple locations for thingspeak writefields mychannelnumber mywriteapikey line all of which will no upload data to the website u00a0it not the case that new empty fields are added online as there are no new entires made and i know that the api and channel are correct as another sample piece of code uploads data only pressure and temperature the difficulty comes when adding in the data for the additional sensors however all sensors are correctly outputting data to the serial in short i am a little confused and not sure why it is not uploading anything any pointers at all massively appreciated thanks u00a0 include onewire h include wire h include ms5803_14 h include eeprom h include thingspeak h u00a0 define use_ethernet_shield include spi h include ethernet h byte mac 0xde 0xad 0xbe 0xef 0xfe 0xed ethernetclient client u00a0 define startconvert 0 define readtemperature 1 define eeprom_write address p int i 0 byte pp byte p for i sizeof p i eeprom write address i pp i define eeprom_read address p int i 0 byte pp byte p for i sizeof p i pp i eeprom read address i define compensationfactoraddress 8 the address of the factor stored in the eeprom define vref 5000 for arduino uno the adc reference is the power avcc that is 5000mvfloat compensationfactor const byte numreadings 20 the number of sample timesbyte ecsensorpin a1 ec meter analog output pin on analog 1byte ds18b20_pin 2 ds18b20 signal pin on digital 2unsigned int analogsampleinterval 25 printinterval 1000 tempsampleinterval 1000 analog sample interval serial print interval temperature sample intervalunsigned int readings numreadings the readings from the analog inputbyte index 0 the index of the current readingunsigned long analogvaluetotal 0 the running totalunsigned int analogaverage 0 averagevoltage 0 the averageunsigned long analogsampletime printtime tempsampletime float temperature eccurrent eccurrentraw temperature chip i oonewire ds ds18b20_pin on digital pin 2 pressure sensorms_5803 sensor ms_5803 4096 float pressure float prestemperature unsigned long mychannelnumber 413693 const char mywriteapikey 6rwgp1o11wfogkdc void setup ethernet begin mac thingspeak begin client initialize serial communication with computer serial begin 9600 u00a0 initialize all the readings to 0 for byte thisreading 0 thisreading numreadings thisreading readings thisreading 0 tempprocess startconvert let the ds18b20 start the convert readcharacteristicvalues analogsampletime millis printtime millis tempsampletime millis if sensor initializems_5803 serial println ms5803 crc check ok else serial println ms5803 crc check failed serial println cleardata serial println analog value voltage mv temperature ec pressure mbar pressuretemp u00a0delay 3000 void loop u00a0 every once in a while sample the analog value and calculate the average sensor readsensor float pressure sensor pressure float prestemperature sensor temperature u00a0if millis analogsampletime analogsampleinterval analogsampletime millis subtract the last reading analogvaluetotal analogvaluetotal readings index read from the sensor readings index analogread ecsensorpin add the reading to the total analogvaluetotal analogvaluetotal readings index advance to the next position in the array index index 1 if we are at the end of the array if index numreadings wrap around to the beginning index 0 calculate the average analogaverage analogvaluetotal numreadings every once in a while mcu read the temperature from the ds18b20 and then let the ds18b20 start the convert attention the interval between start the convert and read the temperature should be greater than 750 millisecond or the temperature is not accurate if millis tempsampletime tempsampleinterval tempsampletime millis temperature tempprocess readtemperature read the current temperature from the ds18b20 tempprocess startconvert after the reading start the convert for next reading every once in a while print the information on the serial monitor if millis printtime printinterval printtime millis averagevoltage analogaverage float 5000 1024 thingspeak setfield 1 string analogaverage thingspeak setfield 2 string averagevoltage thingspeak setfield 3 string temperature serial print analogaverage analog average from 0 to 1023 serial print serial print averagevoltage millivolt average from 0mv to 4995mv serial print serial print temperature current temperature serial print u00a0float tempcoefficient 1 0 0 0185 temperature 25 0 temperature compensation formula ffinalresult 25 c ffinalresult current 1 0 0 0185 ftp 25 0 float coefficientvolatge float averagevoltage tempcoefficient u00a0if coefficientvolatge 50 thingspeak setfield 5 string pressure thingspeak setfield 6 string prestemperature serial print no solution 25 c 1413us cm about 216mv if the voltage compensate 150 that is 1ms cm out of the range serial print serial print pressure serial print serial println prestemperature u00a0thingspeak writefields mychannelnumber mywriteapikey u00a0 else if coefficientvolatge 3300 u00a0thingspeak setfield 5 string pressure thingspeak setfield 6 string prestemperature serial println out of the range 20ms cm out of the range serial print serial print milli_time serial print pressure serial print serial println prestemperature u00a0thingspeak writefields mychannelnumber mywriteapikey u00a0 else if coefficientvolatge 448 eccurrent 6 84 coefficientvolatge 64 32 1ms cm ec 3ms cm else if coefficientvolatge 1457 eccurrent 6 98 coefficientvolatge 127 3ms cm ec 10ms cm else eccurrent 5 3 coefficientvolatge 2278 10ms cm ec 20ms cm eccurrentraw eccurrent 1000 eccurrent eccurrent compensationfactor 1000 thingspeak setfield 4 string eccurrent thingspeak setfield 5 string pressure thingspeak setfield 6 string prestemperature serial print eccurrent 2 two decimal serial print serial print pressure serial print serial println prestemperature u00a0thingspeak writefields mychannelnumber mywriteapikey u00a0 u00a0 delay 16000 u00a0int getmediannum int barray int ifilterlen int btab ifilterlen for byte i 0 i ifilterlen i btab i barray i int i j btemp for j 0 j ifilterlen 1 j for i 0 i ifilterlen j 1 i if btab i btab i 1 btemp btab i btab i btab i 1 btab i 1 btemp if ifilterlen 1 0 btemp btab ifilterlen 1 2 else btemp btab ifilterlen 2 btab ifilterlen 2 1 2 return btemp void readcharacteristicvalues eeprom_read compensationfactoraddress compensationfactor if eeprom read compensationfactoraddress 0xff eeprom read compensationfactoraddress 1 0xff eeprom read compensationfactoraddress 2 0xff eeprom read compensationfactoraddress 3 0xff compensationfactor 1 0 if the eeprom is new the compensationfactoraddress is 1 0 default eeprom_write compensationfactoraddress compensationfactor ch 0 let the ds18b20 start the convert ch 1 mcu read the current temperature from the ds18b20 float tempprocess bool ch returns the temperature from one ds18b20 in deg celsius static byte data 12 static byte addr 8 static float temperaturesum if ch if ds search addr serial println no more sensors on chain reset search ds reset_search return 0 if onewire crc8 addr 7 addr 7 serial println crc is not valid return 0 if addr 0 0x10 addr 0 0x28 serial print would evice is not recognized return 0 ds reset ds select addr ds write 0x44 1 start conversion with parasite power on at the end else byte present ds reset ds select addr ds write 0xbe read scratchpad for int i 0 i 9 i we need 9 bytes data i ds read ds reset_search byte msb data 1 byte lsb data 0 float tempread msb 8 lsb using two compliment temperaturesum tempread 16 return temperaturesum,0.244780957699
cstapels,it looks like you are doing a lot of rapid write fields commands u00a0 im not sure about all the else conditions though there is a limit on the rate of write operations they are different for different users but generally much slower than the arduino loop u00a0 you should only need one u00a0thingspeak writefields mychannelnumber mywriteapikey for all set fields operations u00a0 each writefields command counts as a message against the rate limit for thingspeak the format should be similar to this setfields 1 setfields 7 setfields 4 setfields 3 writefields wait a while repeat you could try a simplified code that sets fixed numbers for your fields and then writes and then waits u00a0 that would also help debug if it is a memory issue u00a0 let us know if that helps,0.5
raylockval,i am currently trying to set up a lora node to pass gps data through a dragino lg01 to my thingspeak channel test 912 has anyone got some guidance examples i am hoping to run concurrent nodes u00a0i should add i do not seem to be able to get gps data through software serial at all only off hardware pins 0 and 1,0.5
arclary,hi everyone for my last year project i am going to make an app that says where parkingspots are left empty now i have a esp8266 that has to send data from a hc sr04 distance sensor to thingspeak both are connected to an arduino unoi already connected the esp8266 to my home wifi network but im already a few weeks bussy to find how to send data from the hc sr04 with the esp8266 to thingspeak so all of your help is welcome i really do not know how to do that and i could never program it bymyself so tips please u00a0ps i already tried some of the examples as meassure the strength of your wifi network but none of it worked,0.189552336931
rw950431,depending on which esp8266 board you have its likely that you do not need the uno at all u00a0 u00a0 u00a0 your distance sensor can connect direct to esp8266 so long as it has 2 digital pins available,0.788714647293
cstapels,have a look at the u00a0proximity sensor example u00a0 it shows you how to use an arduino mkr1000 with the sonar sensor u00a0 you can use the schematic as a guide u00a0 you can also use the getdiatance function on your esp8266 project the code in the temperature project uses an esp8266 so you can use those parts of the code for connecting to wifi and for posting to thingspeak,0.5
arclary,thanks for both responses but i do not have any of those esp8266 i bought the esp8266 from this link https www sparkfun com products 13678it has 8 pins that i can connect to my arduino uno is it possible to do it with this one and the arduino uno u00a0 u00a0i bought this combination with a large breadboard because i ve got a lot of sensorsand after some research and your responses im really hesitating u00a0besides that are realy good examples thanks already for that,0.83294147253
MURLIDHAR ROY,i am trying to send the two sensor data values to thingspeak please tell me the command through which i can send the values to server the basic code which i used to send data is given below u00a0 include softwareserial h create object named sim900 of the class softwareserial softwareserial sim900 8 7 void setup sim900 begin 9600 define baud rate for software serial communication serial begin 9600 define baud rate for serial communication void loop serial println http post method serial print at sim900 println at check communication delay 500 showserialdata print response on the serial monitor delay 500 configure bearer profile 1 serial print at sapbr 3 1 contype gprs sim900 println at sapbr 3 1 contype gprs connection type gprs delay 500 showserialdata delay 500 serial print at sapbr 3 1 apn airtelgprs com sim900 println at sapbr 3 1 apn airtelgprs com apn of the provider delay 500 showserialdata delay 500 serial print at sapbr 1 1 sim900 println at sapbr 1 1 open gprs context delay 500 showserialdata delay 500 serial print at sapbr 2 1 sim900 println at sapbr 2 1 query the gprs context delay 500 showserialdata delay 2000 serial print at httpinit sim900 println at httpinit initialize http service delay 2000 showserialdata delay 500 serial print at httppara cid 1 sim900 println at httppara cid 1 set parameters for http session delay 500 showserialdata delay 500 serial print at httppara url api thingspeak com update sim900 println at httppara url api thingspeak com update set parameters for http session delay 500 showserialdata delay 500 serial print at httpdata 33 10000 sim900 println at httpdata 33 10000 post data of size 33 bytes with maximum latency time of 10seconds for inputting the data delay 200 showserialdata delay 200 serial print api_key 8mmr5dd7qc42nauj field1 2 data to be sent sim900 println api_key 8mmr5dd7qc42nauj field1 2 delay 500 showserialdata delay 500 serial print at httpaction 1 sim900 println at httpaction 1 start post session delay 1000 showserialdata delay 2000 serial print at httpterm sim900 println at httpterm terminate http service delay 2000 showserialdata delay 500 serial print at sapbr 0 1 sim900 println at sapbr 0 1 close gprs context delay 500 showserialdata delay 500 void showserialdata while sim900 available 0 if data is available on serial port serial write char sim900 read print character received on to the serial monitor,0.5
Stillub,background u00a0i have been dabbling with html for several years but i still have a limited skill set in this area recently have been introduced to the arduino world and the possibilities and have just begun the learning curve i have a web page loaded via micro sd on an ethernet shield u00a0with that in mind i have downloaded an arduino sketch i found online that sets up a web server with outputs a2 a3 the html page i have created is a marriage between two different files found online the web page functions as it should with one exception i am only getting one field updated in my thingspeak channel i have spent several hours researching the net looking for the solution but cannot find anything that fits my coding given the way the page is formatted the page is a test model for a future version that will need to have 5 6 sensors temperature displayed and the values of uploaded to thingspeak the other thing i should point out is that the original script was voltage related and not temperature so i am not totally sure of the changes to make in those regards my ultimate goal is create a web page that will display 5 temperature guages and 5 display graphs that will display temperatures from a solar panel hot water augmentation here a partial screen shot i removed the thingspeak write key before taking the screen shot it should also be noted that the original script had voltage in place of where i now have would ata circled in red i would greatly appreciate any help offered brian,0.5
cstapels,can you copy ans paste the relevant parts of your code into the window instead of a screen shot i think you are tying to update multiple fields of a thingspeak channel u00a0 it looks like your function call only has space for one field at a time u00a0 i am guessing that your device is calling that function multiple times within the u00a0 update limit for thingspeak u00a0 if you have a free account that is 15 seconds u00a0 even with a paid account you are still limited to updates once every second and your device probably calls much faster than that u00a0 u00a0if this is indeed the issue there are two ways around that issue u00a0 one is to add a delay between every call and the second is to update multiple fields at once u00a0 u00a0this example shows how to update fields from an arduino device though you already have some basic code u00a0 see the documentation on updating fields u00a0 the documentation describes using post http commands u00a0 you can send multiple fields the the body of your post u00a0 u00a0if you are using the get http method you can append additional field data in the same call using the to append further data u00a0 u00a0get https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 0orget https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 0 field2 24 field3 567 etc you can also use mqtt publish and this example shows how to update multiple fields simultaneously u00a0 u00a0let us know if this helps,0.314426124096
Brian_R,thank you for response and suggestions much appreciated i believe i have resolved the issue by making a few slight changes to both my html script and in the settings in thingspeak my first issue was a mistake in how i had named the fields the name i used in the thingspeak channel u00a0did not match what was written in the script function thingspeaksend api_write_key temperature i had the word would ata in place of temperature the field name in thingspeak temperature must match the name in the html script temperature it can be anything you want but the two must match the other thing i needed to do in order to get multiple fields updated all at once was to change the script to this var req_str http api thingspeak com update key api_write_key field1 sensor1 field2 sensor2 u00a0at this point everything appears to be working correctly i have made changes so that thingspeak updates every 5 minutes i have also tried settings in thingspeak to log 100 inputs which equates to just over 8hrs based on 5 minute updates the only thing i have noticed and it appears to be random is that thingspeak stops updating at random times without reason it does not do this all the time some days it runs flawless 8hrs and yet other days it will run for a few hours and then stop i am not sure if it a hardware issue or something in the html script that needs tweaking,0.851908504963
dyu,i try to upload the values of humidity and temperature to thingspeak but the something be wrong while the things py on openwrt side be executed the result be showed as below root mylinkit python things pytraceback most recent call last file things py line 31 in module p0 value get pm2 5 file usr lib python2 7 bridge bridgeclient py line 76 in get json self socket_open file usr lib python2 7 bridge bridgeclient py line 59 in socket_open self json tcpjsonclient 127 0 0 1 5700 file usr lib python2 7 bridge tcp py line 65 in __init__ tcpclient __init__ self address port file usr lib python2 7 bridge tcp py line 38 in __init__ client connect address port file usr lib python2 7 socket py line 224 in meth return getattr self _sock name args socket error errno 146 connection refused u00a0i do not know how to solve it please help me thank you so much u00a0aurdino side mcu to mpu include dht include would ht h define dhtpin a0 define dhttype dht11 dht dht dhtpin dhttype void setup serial begin 9600 dht begin bridge begin void loop get temperature and humidity float h dht readhumidity float t dht readtemperature display temperature and humidity value serial print would ht humidity serial print h serial print t serial print would ht temperature serial print t serial println ct mcu to mpu bridge put humidity string h bridge put temperature string t delay 1000 u00a0openwrt side things py import sys import time import httplib urllibsys path insert 0 usr lib python2 7 bridge from bridgeclient import bridgeclient as bridgeclient value bridgeclient thinkspeakapikey pz9bwvyagtx3vunu would ef post_to_thingspeak payload headers content type application x www form urlencoded accept text plain not_connected 1 while not_connected try conn httplib httpconnection api thingspeak com 80 conn connect not_connected 0 except httplib httpexception socket error as ex print error s ex time sleep 10 sleep 10 secondsconn request post update payload headers response conn getresponse print response status response reason payload time strftime c data response read conn close while true h0 value get humidity t0 value get temperature print humi h0 print temp t0 params urllib urlencode field1 t0 field2 h0 key thinkspeakapikey post_to_thingspeak params time sleep 5,0.5
dyu,i got the answer myself only with a sketch and python script is the bridge working it can work,0.214773058891
riker1,hi u00a0i am using the library https github com mathworks thingspeak arduinowith function writefields u00a0how can i get the response and control it did not understand it going through the example u00a0thanks for an example sketch u00a0cheers t,0.5
cstapels,have a look at the sonar example in the documentation u00a0 there is an example sketch there u00a0 that one uses the thingspeak communication library to read and write data u00a0 the writefields function returns the http status code which is 200 if accepted u00a0 let us know if this helps,0.822828650475
JasonW,there appears to be a bug in the wifi101 library that affects the thingspeak library and examples u00a0 after a few transactions the library stops working until the bug gets fixed by arduino you can use version 0 13 0 of the wifi101 library u00a0to change the library version u00a0open up the arduino ide and go to sketch include library manage libraries then search for wifi101 and click more info under the wifi101 section u00a0 select have rsion 0 13 0 and click install after the library is done installing you will need to recompile your project,0.5
beekeeper,jasonw you are my hero and just thought i am too stupid for this thanks,0.232945203781
wjpavalko,jason and beekeeper u00a0 i tried the 13 library and i now get more than 2 but no more than 5 before it stops reporting u00a0 did you get it to work continuously,0.148790091276
JasonW,yes it should work continuously i had it running for a few hours,0.248976677656
rico72,hi u00a0i am using a arduino mega with a ethernet shield the last 10 months it worked great u00a0but this month data is missing in the graphs i have reset ed the arduino and updated the thingspeak library to 1 2 1 and now it only sends a very limited number of data points and then stops is there a method command to put a read back in the arduino code to see on the serial plotter how thingspeak response to my write action i have put the data i am sending to thingspeak on the serial plotter and it seems the right values,0.21929743886
cstapels,the thingspeak communication library function thingspeak writefield will return the http status 200 if the transaction was successful u00a0 see the example for arduino prototyping in the examples section u00a0 you can use a separate function for writing such as the one below u00a0 then output the value of writesuccess that is returned by this function to your serial monitor u00a0 if returns 200 or 202 you are good u00a0 u00a0int writetsdata long tschannel unsigned int tsfield float data char readapikey int writesuccess thingspeak writefield tschannel tsfield data writeapikey write the data to the channel return writesuccess what library are you using for your wifi connection,0.5
rico72,thank you for the response i will try this today just a few fields of a single channel were filled which is strange because i am sending all eight fields of a single channel at once and to answer your question i am not using wifi but just a wired connection my arduino is located next to my router so that was the easiest,0.803249597549
Vinod,you may also want to look at the memory occupied by your code on the arduino if your code or one of the libraries you use is leaking memory or doing dynamic memory allocation and the code is already occupying a high percentage of available memory the allocation of memory at runtime can overwrite the program and result in behavior like this one way to check this is to run your code on an arduino compatible device that has more memory such as the mkr1000 if you see that the code behaves correctly on a device with more memory i believe there is a high chance that your code is overwriting program memory at runtime,0.5
rico72,i just opened the log file it shows 3 things 1 at start first few minutes i see on one channel writesuccess 401 instead of 2002 one channel is giving regular writesuccess 302 instead of 2003 the channels that report back 200 do not always update all 8 fields some times half of them are updated u00a0vinod i looked at the mkr1000 but to use that one i have to change my sensor inputs at this moment i am using 12 analog inputs sadly the mkr1000 has only 7 inputs is there another way to see if i have a problem with the memory at this moment i dump the data also to the serial output just as commond before i send it to thingspeak and it shows the right values on the serial monitor but not in thingspeak u00a0i am trying now to remember what i have changed it worked great for almost a year the one thing that pops up is that i have added a serial sensor as well directly connected to one of the serial inputs of the mega is the thingspeak arduino library using serial bus somewhere,0.5
JasonW,that is a very odd problem you are having u00a0 i second vinod idea about running out of resources u00a0 because the write operation occurs at the same time for all the fields it is puzzling how some fields are getting updated and others are not u00a0 a corrupted string could be the reason,0.11015406251
Vinod,rico72 said i am trying now to remember what i have changed it worked great for almost a year the one thing that pops up is that i have added a serial sensor as well directly connected to one of the serial inputs of the mega is the thingspeak arduino library using serial bus somewhere u00a0 u00a0can you try reverting to your old arduino sketch without changing any hardware connections and seeing if the problem still occurs that will help isolate if it is a software issue next step would be then to go to a setup without the new sensor and seeing if that configuration of old hardware old software gets you the correct behavior the only reason i suggest this is to rule out hardware interrupts from the newly added sensor messing with the data transmission to thingspeak,0.831307530403
rico72,so the first results seems to be indeed pointing to a memory problem during one day i have left out the serial sensor and it reported to thingspeak without any problems and the second day i have connected only the serial sensor and i logged also on thingspeak the free ram available in the arduino memory and that last logging was interesting over roughly one hour the free ram in the arduino went down from 3500 bytes to 200 bytes and at that moment the sensor data was no longer visible on thingspeak only empty fields were available in the downloaded csv file u00a0so i have to check the library of the serial sensor to see what happens there u00a0thank you very much for your support,0.125771820545
beingakash,hello everyone i want to send the data stored in sd card in batches to thing speak channels but i am not able to figure out how to send it please help me in sharing a code or information so that i have a brief idea of the connectivity operation help in this regard would be really appreciated cheersakash gupta,0.758795619011
cstapels,have a look at the getting started tutorial it will take you through the process step by step of setting up a channel getting data from another channel and then processing and visualizing that data after that short study you should be ready to check out the device u00a0examples u00a0for an example based on the hardware you want to use u00a0 you will need some kind of device to read from the sd card such as an arduino rpi or some other processor the bulk update will let you send larger batches of data in one rest api call,0.5
ICar,halo everyone i want to upload 2 values to thingspeak in feld1 and feld2 i use an arduino uno and a gsm module for that i have already work out some code that work but not as good as i want i am working with the thingspeak h but i don u2019t think the library good for the use with the gsm module the problem with the code below is that die code stops working after the two values are sended to thingspeak so the loop function just stop there i don u2019t know why u00a0 even when after the function writefields some more function came the getlastreadstatus doesn u2019t work also do you have any idea how to fix this problem the loop function and the values should send some values over and over again or do you know other methods to upload more very values to thingspeak with the gsm module from arduino thank you in advance u00a0 bibliotheken include spi h include gsm h include thingspeak h definitionen f u00fcr sim karte define pinnumber xxx define gprs_apn internet t mobile define gprs_login t mobile define gprs_password xxx variablen f u00fcr sim karte gsmclient client gprs gprs gsm gsmaccess uint16_t reset 0 int wert1 80 int wertalt boolean neuerwert true int wert2 5 long lastconnectiontime 0 boolean lastconnected false int failedcounter 0 variablen f u00fcr datencloud const char mywriteapikey xxx unsigned long mychannelnumber 000 z u00e4hlervariablen f u00fcr neunstartint seconds 0 canaktiv erkennenboolean canschlaf false boolean gsmaus true u00a0void setup serial begin 9600 initialiesiere serial port baudrate 9600 thingspeak begin client pinmode 5 input die pins 9 6 und 3 sind durch die thingspeak lib schon beleckt und werden zum ansteuern einer rgb genutzt solten nicht verwendet werden digitalwrite 5 high pinmode 2 input canschlaf digitalread 5 startgsm gsmaus false u00a0void loop update thingspeak if neuerwert true wert1 0 if gsmaus true startgsm gsmaus false thingspeak setfield 1 wert1 thingspeak setfield 2 wert2 thingspeak writefields mychannelnumber mywriteapikey int resultcode thingspeak getlastreadstatus if resultcode 200 serial print ok else serial print error reading message status was serial println resultcode neuerwert false delay 15000 wert1 check if arduino ethernet needs to be restarted if failedcounter 3 startgsm gsmaus false lastconnected client connected void startgsm boolean notconnected true serial println try to connect to gsm while notconnected if gsmaccess begin pinnumber gsm_ready gprs attachgprs gprs_apn gprs_login gprs_password gprs_ready notconnected false else serial println not connected delay 1000 serial println connected,0.0806026160717
rw950431,does startgsm claim to succeed u00a0 do you get the connected message printed out perhaps you can try calling thingspeak begin u00a0only after you connect to gsm rather than before if that doesnt work you can avoid the thingspeak library altogether and just construct the url yourself its possible that the thingspeak library isnt tested for gsm since the source only refers to wifi and ethernet sample code for a web client is https www arduino cc en tutorial gsmexampleswebclientthe url you need can be found on the would ata import export tab of your channel page on the thingspeak website,0.5
ICar,thang you for your tip yes the startgsm works fine and i get the massage connected i try your idea to change the position of thingspeak begin after the startgsm but the code still stops working after uploading the two values like bevor i think your right i should avoid the thingspeak h library i already working on come code for that down below is my code with this code i am able to upload one value to feld1 on thingspeak but not two values it looks easier than it is when i call the function updatethingspeak field1 analogvalue again for the fild2 i get a bad request error any ideas bibliotheken u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 include spi h u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 include gsm h definitionen f u00fcr sim karte u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 define pinnumber xxx u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 define gprs_apn internet t mobile define gprs_login t mobile define gprs_password xx variablen f u00fcr sim karte u00a0 u00a0 u00a0 u00a0 u00a0 u00a0gsmclient client gprs gprs gsm gsmaccess uint16_t reset 0 u00a0 u00a0 u00a0int wert1 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 startwert auf 0 gesetztint weert1_alt boolean neuwert true long lastconnectiontime 0 boolean lastconnected false int failedcounter 0 variablen f u00fcr datencloud u00a0 u00a0 u00a0 u00a0 u00a0 char thingspeakaddress api thingspeak com string writeapikey xxx const int updatethingspeakinterval 16 1000 void setup u00a0 serial begin 9600 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 initialiesiere serial port baudrate 9600 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 pinmode 9 output u00a0 pinmode 2 input u00a0 startgsm u00a0 void loop u00a0 u00a0 string analogvalue string wert1 dec u00a0 u00a0 u00a0 u00a0 if client available u00a0 u00a0 u00a0 char c client read u00a0 u00a0 serial print c u00a0 u00a0 u00a0 u00a0 u00a0 disconnect from thingspeak u00a0 if client connected lastconnected u00a0 u00a0 u00a0 serial print wert1 u00a0 u00a0 serial println disconnected u00a0 u00a0 serial println u00a0 u00a0 client stop u00a0 u00a0 neuwert false u00a0 u00a0 u00a0 update thingspeak u00a0 if client connected millis lastconnectiontime updatethingspeakinterval neuwert true wert1 0 u00a0 u00a0 u00a0 updatethingspeak field1 analogvalue u00a0 u00a0 u00a0 check if arduino ethernet needs to be restarted u00a0 if failedcounter 3 u00a0 u00a0 u00a0 startgsm u00a0 u00a0 u00a0 u00a0 lastconnected client connected u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 void startgsm u00a0 u00a0 boolean notconnected true u00a0 u00a0 serial println try to connect to gsm u00a0 u00a0 while notconnected u00a0 u00a0 u00a0 u00a0 if gsmaccess begin pinnumber gsm_ready gprs attachgprs gprs_apn gprs_login gprs_password gprs_ready u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 notconnected false u00a0 u00a0 u00a0 u00a0 else u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 serial println not connected u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 delay 1000 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 serial println connected void updatethingspeak string tsdata u00a0 if client connect thingspeakaddress 80 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 client print post update http 1 1 u00a0 u00a0 client print host api thingspeak com u00a0 u00a0 client print connection close u00a0 u00a0 client print x thingspeakapikey writeapikey u00a0 u00a0 client print content type application x www form urlencoded u00a0 u00a0 client print content length u00a0 u00a0 client print tsdata length u00a0 u00a0 client print u00a0 u00a0 client print tsdata u00a0 u00a0 u00a0 u00a0 lastconnectiontime millis u00a0 u00a0 u00a0 u00a0 if client connected u00a0 u00a0 u00a0 u00a0 u00a0 serial println connecting to thingspeak u00a0 u00a0 u00a0 serial println u00a0 u00a0 u00a0 failedcounter 0 u00a0 u00a0 u00a0 u00a0 else u00a0 u00a0 u00a0 u00a0 u00a0 failedcounter u00a0 u00a0 u00a0 serial println connection to thingspeak failed string failedcounter dec u00a0 u00a0 u00a0 u00a0 u00a0 serial println u00a0 u00a0 u00a0 u00a0 else u00a0 u00a0 u00a0 failedcounter u00a0 u00a0 serial println connection to thingspeak failed string failedcounter dec u00a0 u00a0 u00a0 u00a0 serial println u00a0 u00a0 lastconnectiontime millis u00a0,0.77722209692
piajola,hi icar you sayint wert1 0 startwert auf 0 gesetztgoogle helped me saying you say start with value 0but you never made it greater than 0and you checkif client connected millis lastconnectiontime updatethingspeakinterval neuwert true wert1 0 to run your routine void updatethingspeak string tsdata that will never run u00a0also you can do semi pseudo code analogvalue field1 str wert1 field2 str wert2 updatethingspeak analogvalue u00a0hope this is some helpgood luck ask again,0.961254239082
ICar,hi piajola you are absolutely right with the u201cint wert1 0 u201d that was a volatile mistake from me i am still working on the problem to upload two variables to thingspeak the code example you give me analogvalue field1 str wert1 field2 str wert2 looks good but how is the right implementation for that i try a lot variation of that but still no idea what did you mean with str thank you very much for your help,0.788950920105
piajola,hi icar str is tring the idea is concatenate one string from 2 strings plus 2 numbers convert the number to string it depends in the type of number int float etc my particular case is i have 2 numbers from my sensor u00a0 u00a0 u00a0 float valhumidity u00a0 u00a0 u00a0 float valtemperature and thingspeak wants to receive one string that my internet device must compose so my string is u00a0 u00a0 altser print f get update api_key 20 chars u00a0 u00a0 altser print apikey u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 16 chars u00a0 u00a0 altser print f field1 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 8 chars u00a0 u00a0 altser print string valtemperature u00a0 u00a0 u00a0 5 chars u00a0 u00a0 altser print f field2 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 8 chars u00a0 u00a0 altser print string valhumidity u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 5 chars u00a0 u00a0 altser print f u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 4 charsbecause also i must say how many characters i am sending capital f so arduino put the fixed strings in flash and use less ram u00a0 u00a0 u00a0 field1 string valtemperature field2 string valhumidity is the same string but as i did is cleaner to see 2 years after to repeatmy device get the string and do whatever needed to send are ally to internet i do not know how to use your device but i think it is more or less the same thing u00a0hope still making sense u00a0,0.5
ICar,hi piajola thank you very much for your help it works now great idea to put both variables in one string the solution is u00a0 u00a0string analogvalue string wert1 dec u00a0 u00a0 string analogvalue2 string wert2 dec u00a0senden field1 analogvalue field2 analogvalue2 u00a0and after this you can just call the u201cupdatethingspeak senden u201d function i am really happy now thank you again and great job,0.975703716278
piajola,hi icar glad to know your status u00a0welcome to the exclusive club of iot ers i hope for a long membershipand help someone you know you can help,0.994123578072
Mahathirz,hi icar u00a0can i have your email cause i wanna do the same project like you but know nothing seems like your coding used some deutsch language which i kinda not understood u00a0,0.5
wjpavalko,i have an arduino zero with wifi 101 shield u00a0connected to wifi and successfully sent data to my channel u00a0problem is it only sends two updates then stops updating if i reset the zero it will send another two with delay set in sketch u00a0wifi light is on and network light glows periodically so i know the zero is trying to send the updates but they do not show up in the channel any ideas,0.5
cstapels,can you connect the serial monitor and see what responses are being returned by thingspeak when you send the data,0.5
wjpavalko,i am an admitted amateur at this but can you advise how to print out communications between the arduino and thingspeak u00a0the example writevoltage code has no serial connection i assume i need to do more than just initialize a serial connection e g add serial begin 9600 u00a0,0.210340768099
wjpavalko,any help from anyone else out there u00a0i tried an mkr1000 board and the same problem occurs u00a0i get two not one not three updates each time the arduino is rebooted and then nothing u00a0can not find out how to show communications with either of these boards,0.253123402596
cstapels,your isp connection may be bad u00a0try adding a connectwifi function and calling it each main loop if there is no connection u00a0 put this in loop if wifi status wl_connected connectwifi make sure we have an internet connection u00a0 put this after the end of your program int connectwifi wifi begin ssid password while wifi status wl_connected delay 2500 serial println connecting to wifi inform the serial output serial println connected thingspeak begin client u00a0you will need serial begin 9600 in your setup for the thingspeak commands you can at least test for success int success thingspeak writefield mychannelnumber 1 voltage mywriteapikey serial println uccess string success you can see the serial monitor by pressing ctrl shift m or hitting the plus curcle icon on the right top of the ide window u00a0do you see the number of entries in your channel growing even if you see no data in your plot,0.761447310448
wjpavalko,thanks u00a0i put in the code to reconnect the wifi but it is not executed so wifi is connected still after two updates i get error code is 301 err_connect_failed,0.217563420534
AugustoEst,i solved this issue by disconnecting from the wifi after updating my thingspeak channel u00a0void loop wifi begin ssid pass delay 10000 waits 10 seconds to confirm connection updates x fields in thingspeak disconnects from the wifi wifi disconnect thingspeak will only accept updates every 15 seconds delay 20000,0.25670132041
beekeeper,hi there i have the same toppic but using a mkr 1000 with a tmp36 for trying i took the example write voltage by thingspeak library in its newest version 1 3 my arduino ide version is 1 8 4here is the sketch a little bit modified after the last entry by augustoest writevoltage reads an analog voltage from pin 0 and writes it to a channel on thingspeak every 20 seconds thingspeak https www thingspeak com is an analytic iot platform service that allows you to aggregate visualize and analyze live data streams in the cloud copyright 2017 the mathworks inc documentation for the thingspeak communication library for arduino is in the extras documentation folder where the library was installed see the accompaning licence file for licensing information include thingspeak h this example selects the correct library to use based on the board selected under the tools menu in the ide yun ethernet shield wifi101 shield esp8266 and mxr1000 are all supported with yun the default is that you are using the ethernet connection if you are using a wi fi 101 or ethernet shield http www arduino cc en main arduinowifishield uncomment the corresponding line below define use_wifi101_shield define use_ethernet_shield if defined arduino_avr_yun include yunclient h yunclient client else if defined use_wifi101_shield defined arduino_samd_mkr1000 defined arduino_arch_esp8266 use wifi ifdef arduino_arch_esp8266 include esp8266wifi h else include spi h include wifi101 h endif char ssid your network ssid name char pass your network password int status wl_idle_status wificlient client elif defined use_ethernet_shield use wired ethernet shield include spi h include ethernet h byte mac 0xde 0xad 0xbe 0xef 0xfe 0xed ethernetclient client endif endif ifdef arduino_arch_avr on arduino 0 1023 maps to 0 5 volts define voltage_max 5 0 define voltage_maxcounts 1023 0 elif arduino_samd_mkr1000 on mkr1000 0 1023 maps to 0 3 3 volts define voltage_max 3 3 define voltage_maxcounts 1023 0 elif arduino_sam_due on due 0 1023 maps to 0 3 3 volts define voltage_max 3 3 define voltage_maxcounts 1023 0 elif arduino_arch_esp8266 on esp8266 0 1023 maps to 0 1 volts define voltage_max 1 0 define voltage_maxcounts 1023 0 endif visit https www thingspeak com to sign up for a free account and create a channel the video tutorial http community thingspeak com tutorials thingspeak channels has more information you need to change this to your channel and your write api key if you share your code with others make sure you remove your write api key unsigned long mychannelnumber const char mywriteapikey void setup thingspeak begin client void loop u00a0wifi begin ssid pass delay 10000 waits 10 seconds to confirm connection read the input on analog pin 0 int sensorvalue analogread a0 convert the analog reading on uno mega yunarduino 0 1023 maps to 0 5 volts on esp8266 0 1023 maps to 0 1 volts on mkr1000 due 0 4095 maps to 0 3 3 volts float voltage sensorvalue voltage_max voltage_maxcounts 5 100 write to thingspeak there are up to 8 fields in a channel allowing you to store up to 8 different pieces of information in a channel here we write to field 1 thingspeak writefield mychannelnumber 1 voltage mywriteapikey delay 20000 thingspeak will only accept updates every 15 seconds wifi disconnect u00a0everything works fine after uploading the sketch but when i take the mkr 1000 away from my mac an i make a restart with a mobile charging cable only 2 updates are sent to thingspeak what is wrong thanks fpr helping me u00a0michael u00a0,0.5
JasonW,i am able to reproduce this behavior u00a0 i am looking into it,0.214631557465
JasonW,it looks like the latest version of the wifi101 library has a bug in it until arduino fixes the bug a work around is to downgrade the wifi101 library to version 13 0,0.0925628840923
wjpavalko,phew u00a0 i am happy i was not completely incompetent or simply crazy u00a0 ud83d ude09,0.976972460747
Tonibco6,i am sending sensor data from the lora module sodaq one throughtout kpn network i would like to be able to see this sensor data monitorised within thingspeak but a 0 value is received constantly i am not sure whether it happens because the payload is sent in hex code rather than ascii if so how can i convert it include arduino h include lt sodaq_rn2483 h gt include would ht h define dhtpin 2 pin connect sensor define dhttype dht11 define sensor we are usingdht dht dhtpin dhttype initialize the device define debugserial serial_port_monitor if defined arduino_avr_sodaq_mbili define loraserial serial1 define bee_vcc 20 elif defined arduino_sodaq_autonomo defined arduino_sodaq_one defined arduino_sodaq_one_beta define loraserial serial1 elif defined arduino_sodaq_explorer define loraserial serial2 else please select a sodaq boarddebugserial println please select a sodaq board endif abpconst uint8_t devaddr 4 const uint8_t appskey 16 const uint8_t nwkskey 16 otaauint8_t deveui 8 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 uint8_t appeui 8 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 uint8_t appkey 16 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 void setuploraabp if lorabee initabp loraserial devaddr appskey nwkskey false debugserial println communication to lorabee successful else debugserial println communication to lorabee failed void setuploraotaa if lorabee initota loraserial deveui appeui appkey false debugserial println communication to lorabee successful else debugserial println otaa setup failed void setup power up the lorabee if defined arduino_avr_sodaq_mbili defined arduino_sodaq_autonomo pinmode bee_vcc output digitalwrite bee_vcc high endif delay 3000 while serialusb amp amp millis lt 10000 wait 10 seconds for the serial monitor set baud rate debugserial begin 57600 loraserial begin lorabee getdefaultbaudrate debug output from lorabee lorabee setdiag debugserial optional connect to the lora network setuplora void setuplora abp setuploraabp otaa setuploraotaa lorabee setspreadingfactor 9 dht begin start the device void sendpacket string packet switch lorabee send 1 uint8_t packet c_str packet length case noerror debugserial println uccessful transmission break case noresponse debugserial println there was no response from the device setuplora break case timeout debugserial println connection timed out check your serial connection to the device sleeping for 20sec delay 20000 break case payloadsizeerror debugserial println the size of the payload is greater than allowed transmission failed break case internalerror debugserial println oh no this should not happen something is really wrong try restarting the device the network connection will reset setuplora break case busy debugserial println the device is busy sleeping for 10 extra seconds delay 10000 break case networkfatalerror debugserial println there is a non recoverable error with the network connection you should re connect the network connection will reset setuplora break case notconnected debugserial println the device is not connected to the network please connect to the network before attempting to send data the network connection will reset setuplora break case noacknowledgment debugserial println there was no acknowledgment sent back when you this message you are probaly out of range of the network break default break void loop humiditydht1 tempdht11 string packet string dht readhumidity packet string dht readtemperature debugserial println packet sendpacket packet delay 5000 u00a0https thingspeak com channels 266512any suggestion please many thanks u00a0,0.5
cstapels,thingspeak will accept hex values as well as ascii u00a0depending on how they are formatted it may interpret the hex values as strings u00a0for example cheerlights channel 1417 contains the string from the color name and the hex code in separate fields i could not find information about lorabee send function in a quick google search so i do not know how it works u00a0i assume it must have the api key correct if you are getting posts to your channel even if they are zero u00a0perhaps you are not sending valid field information field1 u00a0see the documentation on update a channel feed u00a0to make sure your format is correct u00a0also you should try using your browser or postman u00a0to update your channel u00a0this will help you ensure the format is correct for the request u00a0you can use the format shown on the api keys page on the right get https api thingspeak com update api_key write_api_key field1 xxxx dont use the get if you paste it into your browser window,0.784885823727
Tonibco6,what do this 5 digits mean xxxx u00a0on the browser address https api thingspeak com update api_key write_api_key field1 xxxxsince i have got a 0 value on my write keys so maybe it is the reason it is sending constantly 0 values to my channel https api thingspeak com update api_key write_api_key field1 0if i am sending humidity and temperature values to different fields but same channel from a dht_11 sensor how can i manage to send it properly field1 temperature u00a0field 2 hmiditymany thanks,0.5
cstapels,see the documentation at update a channel feed u00a0i wrote field1 xxx to show you could put hex numbers in there you can continue to append values on the end of the rest call u00a0https api thingspeak com update api_key write_api_key field1 11 field2 22 u00a0 etc,0.838847160339
Tonibco6,still 0 values as result well i got some peaks as i added a random values to each field but unfortunately then it keeps coming down to 0 this is what my lora provider sodaq has messaged me you are sending your data correctly to the lora gateway as operated by kpn they are forwarding your data on to the specified link you provide it appears that they use post and encode the data as json however this is not in the format that thingspeak requires you will either have to request that kpn translates the data and forwards in on directly to thingspeak in the correct format or setup a some system for doing that yourself i e kpn forwards it in their format to your service you then translate it and then forward it on to thingspeak u00a0does not thingspeak allow jason format then thanks,0.5
cstapels,data for updating a field or a feed is not generally formatted as a json object when you use the rest api you can use json format is certain situations and thingspeak will optionally return some output in json u00a0one exception is for a bulk post which you can provide as a json object as shown here u00a0for your application i would not necessarily suggest the use of a bulk post what do you do to get ome peaks u00a0if you are still using the code above i would suggest looking at the output of the function u00a0 lorabee send 1 uint8_t packet c_str packet length and see how it packages your data u00a0then see if that format matches the requirements listed in u00a0update a channel feed u00a0 u00a0since you are getting data to post but the values are not going where you want it must be a format issue u00a0,0.791021227837
Tonibco6,the peaks made sense because they were coming from the get request i made several times however i was not aware about it at that moment so i have been consulting with my lora provider and we believe that kpn is posting a json or xml to the destination url thingspeak is expecting a get request we believe the only way to solve this is to have a server in the middle what will handle to incoming data from kpn decode the hex data and create a get for thingspeak with the correct payload,0.5
mac,what limits apply to the length of uri when using ciao to send a url to thingspeak free account ciaodata data ciao write connector server_addr uri to send the url to thingspeak i am using a arduino uno with esp8266 wifi built in not a wifi shield to send temperature humidity data from dhtxx sensors my code works with 2 sensors 4 data fields but fails with 3 sensors define connector are st define server_addr api thingspeak com define apikey_thingspeak u00a0 u00a0 my key u00a0string uri update api_key uri apikey_thingspeak uri field1 uri string h1 uri field2 uri string t1 uri field3 uri string h2 uri field4 uri string t2 ciaodata data ciao write connector server_addr uri would it better to usethingspeak writefield mychannelnumber 1 t1 mywriteapikey thingspeak writefield mychannelnumber 2 t2 mywriteapikey etc,0.5
oded,hi all u00a0i try to read last values of 3 field set u00a0of thhingspeak channel like that after setting up client with these u00a0libraries include wifiesp h include wifiespclient h include wifiespserver h include wifiespudp h include thingspeak h etc etc u00a0void loop int field1 thingspeak readintfield 141045 1 serial println delay 1000 serial print field 1 is serial print field1 serial println int field2 thingspeak readintfield 141045 2 serial println delay 10000 serial print field 2 is serial print field2 serial println int field3 thingspeak readintfield 141045 3 serial println delay 10000 serial print field 3 is serial println field3 serial println delay 10000 note that the weather station only updates once a minute u00a0 u00a0problem i set the data to be u00a0 u00a0 600 600 600 u00a0i get unstable readings of same line wihch i try to read for testing purposes over the loop as follows u00a0over the arduino u00a0mega serial terminal u00a0 u00a0field 1 is 0 wifiesp connecting to api thingspeak com wifiesp timeout 605 wifiesp disconnecting 0field 2 is 0 wifiesp connecting to api thingspeak comfield 3 is 600 u00a0 wifiesp connecting to api thingspeak comfield 1 is 600 wifiesp connecting to api thingspeak com wifiesp timeout 605 wifiesp disconnecting 0field 2 is 0 wifiesp connecting to api thingspeak comfield 3 is 600 wifiesp connecting to api thingspeak comfield 1 is 600 wifiesp connecting to api thingspeak com wifiesp timeout 607 wifiesp disconnecting 0field 2 is 0 wifiesp connecting to api thingspeak comfield 3 is 600 wifiesp connecting to api thingspeak comfield 1 is 600 wifiesp connecting to api thingspeak com wifiesp timeout 605 wifiesp disconnecting 0field 2 is 0 wifiesp connecting to api thingspeak comfield 3 is 600 u00a0 u00a0any body can explain u00a0whats wrong here u00a0is it low memory of arduino as one suggested u00a0somewhere u00a0 u00a0wifi is strong and all results come ok over http terminal u00a0thanks u00a0oded,0.5
gkaplan,hi oded i also have some problems with arduino uno and wifiesp and thingspeak libraries did you solve your problem or any workaround thanks for help best regards,0.902060329914
Angmo,i created 3 thingspeak account for my project 3arduino was used to collect the data and the data collected was sent to arduino d each arduino was assigned to different thingspeak account the program at arduino d will differentiate the data is from which arduino and then upload to the respective thingspeak account every 15second however i realized something strange after arduino a upload to the respective thingspeak account within the 15second interval that is limit by the free thingspeak account no data is uploaded by arduino b and arduino c because i used the same arduino arduino d to upload the data so i doubt that is thingspeak tracking the ip address of the device that used to upload to thingspeak and set a limit of 15second interval u00a0,0.5
Hans,the situation that you are describing should work properly check to make sure that the write api key is unique for each device you can also accomplish the same goal with one account and three channels,0.761107206345
Vinod,this is a common situation where code on the arduino is writing each field individually instead of setting each field and writing all fields in a single shot take a look at this example to see how to write multiple fields in a single shot https github com mathworks thingspeak arduino blob master examples writemultiplevoltages writemultiplevoltages ino,0.5
Studvio,hi all i am new around here and i am a free user i e 15 secs delay between updates according to https thingspeak com pages license_faq a message is defined as a write of up to 8 fields of data to a thingspeak channel however using the following arduino lines of codethingspeak begin thingspeakclient thingspeak writefield mychannelnumber 2 0 mywriteapikey thingspeak writefield mychannelnumber 4 0 mywriteapikey thingspeakclient stop will only result in updating of field 2 only and not field 4 as well adding a 15 secs delay between line 2 and 3 in the code above delay 15000 will result in both fields being updated when i run the code could anyone shed some light into this matter please thank you thingspeak begin thingspeakclient thingspeak setfield 2 0 thingspeak setfield 4 0 thingspeak writefields mychannelnumber mywriteapikey thingspeakclient stop u00a0later edit solved thanks,0.5
Tonibco6,hi all i am actually developing an iot project based on lora module to be specific i am using dragino device to send temperature humidity data from sensors the point is that i am sensing this data to kpn provider which is a dutch network and finally my goal would be transfer this data from kpn to thingspeak platform to monitorise them my question is once i have got kpn abp keys as well as i have been testing that i am able to upload data to kpn then which api links should i use to match kpn network with thingspeak platform kpn support did request me for a link in order u00a0to send my data to thingspeak platform but i have just sent them my public channel link and it did not work i have actually got a simple arduino client server sketches which manage to connect my dragino module with thingspeak platform throughout a private network gateway however my actual target is send this data from kpn network to thingspeak instead any help suggestion please many thanks,0.5
Tonibco6,i have finally managed to get the right code to send my dht_11 data to kpn network from lora dragino node however my next step consists on transmit this data to thingspeak platform throughout kpn network https zakelijkforum kpn com lora forum 16 what is lora and lorawan 8314so basically the target consists in sending this data from lora node to kpn network and then forward it to thingspeak so that i am actually adding into the sketch the chance to send this data to thingspeak nevertheless no data is showed on thingspeak dashboard the link below is pointed to my new code i added the functions and variables i thought were the proper ones however i did not manage to send it may i get some support or correction to achieve it please sketch link https github com tonibco dragino kpn project blob master dragino_kpn inomany thankstoni,0.5
cstapels,your call to u00a0thingspeak begin does not have a client u00a0see the examples in the arduino ide when you install the thingspeak library u00a0for example the writemultiplevoltages ino u00a0generally the client that connects to the wifi or ethernet is passed to the thingspeak object,0.5
Tonibco6,i am aware about it so i deleted it because it was providing me an error so i was wondering if the client parameter was coming from the client ino however i am not using a client sketch to combine with the server i meant i am just using an entire code to send everything u00a0,0.212408900261
Tonibco6,once i enter client on the function thingspeak begin client i have got the following error sketch too big see http www arduino cc en guide troubleshooting size for tips on reducing it error compiling for board arduino uno dragino y u00fan i am using dragino board i have even got same error adding arduino uno genuino uno board so i do not know what is my mistake here you are my entire code https github com tonibco dragino kpn project blob master dragino_kpn inomany thanks,0.128936469555
cstapels,perhaps you can try removing some libraries u00a0you could temporarily remove the dht library and just send dummy data to thingspeak to prove the concept u00a0then you could focus on reducing the size once that is working another thing i saw in one of the thingspeak library examples for use with yun was u00a0bridge begin u00a0before the thingspeak begin client u00a0and i see that the yun client is depreciated,0.5
Tonibco6,is thingspeak reading either int or float values i have just contacted kpn and i provided them my write key link in order to send my sensor value data to my channel but it seems that there is something wrong once they provide the data to thingspeak i am sending format values as 25 00would that value be ok in order to show it on my channel graphic u00a0thanks,0.5
cstapels,thingspeak can handle both int and float and even strings but it wont plot the strings u00a0for example the following two posts copied from my api keys tab on my channel both worked to display data on my channel plot u00a0see the update a channel feed page for more options https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 25https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 25 0,0.5
Tonibco6,it seems that i managed to send omething to thingspeak dashboard throughout kpn network not gateway however it is only sending a 0 value i removed the thingspeak client function as i am not using any client scketch i have got a warning even when i comment dht library and sending just a static number low memory available stability problems may occur u00a0 code link u00a0any code modification suggested the code above is working properly when i send sensor data to kpn i have just added some lines in order to transfer this data to thingspeak which are the ones i would like to get some advise u00a0you can also see on the following link the steady temperature value 0 i have got into u00a0my thingspeak channel u00a0linkmany thanks,0.186697512865
rushanarshad,hello guys i am trying to send my liquid sensor data to thingspeak but my total liquid variable is unsigned long the following error comes up in compiling u00a0no matching function for call to thingspeakclass writefields long unsigned int int long unsigned int const char what could be the reason for this u00a0best regardsrushan,0.317905008793
cstapels,can you post the line where you use writefields u00a0possibly you are using the wrong number of arguments or one of the other variables is the wrong type,0.132606387138
dtecres,dear all i am trying to use the w5100 ethernet shield with arduino uno r3 to send the temperature read from lm35 to thingspeak u00a0unfortunately nothing happened u00a0after an hour interval is 5 minutes i can not find any wrong in the code and i u00a0do not know what went wrong u00a0i am attaching the code as below include spi h include ethernet h include thingspeak h w5100 network setupbyte w5100_macaddress 0xde 0xad 0xbe 0xef 0xfe 0xed thingspeak setupunsigned long channel_number 302633 channel idconst char write_api_key vamptx0ythj17wj5 write api keyint channel_field 1 field where temperature data upload to lm35 sensor input to analog define lm35_temp_sensor a0ethernetclient client float lm35_temp_value 0 initial temperature valueint interval 300 interval read the temperature every 5 minsvoid setup serial connection serial begin 9600 disable sd card spi pinmode 4 output digitalwrite 4 high connect to local network and internet ethernet begin w5100_macaddress serial println serial print w5100 ip address serial println ethernet localip serial print w5100 subnet mask serial println ethernet subnetmask serial print w5100 gateway serial println ethernet gatewayip serial println connect to thingspeak server if thingspeak begin client serial println serial println connect to thingspeak server serial println else serial println serial println failed to connect to thingspeak server serial println void loop lm35_temp_value analogread lm35_temp_sensor 0 0048828125 100 serial print current temperature serial print lm35_temp_value serial println u00b0c delay 100 write the temperature to thingspeak server if thingspeak writefield channel_number channel_field lm35_temp_value write_api_key serial println serial println uploading data to thingspeak server serial println else serial println serial println failed to upload data to thingspeak server serial println the temperature will read every 5 mins for int i 0 i interval i delay 1000 1 second delay,0.5
cstapels,what response are you getting from the server try u00a0int response thingspeak writefireld serial println are sponse from server string response and see what the response says,0.5
dtecres,hi cstapels i get the response as below response from server 302thanks u00a0,0.890357732773
cstapels,302 is a redirection i do not thing thingspeak would provide that to you directly u00a0a wild guess is that your network is redirecting the request away from thingspeak u00a0are you able to update the channel from a browser or get using postman connected on the same network u00a0you can use the syntax below which is shown here in the documentation https api thingspeak com update api_key your write api key field1 1010 u00a0 u00a0are you able to update the channel this way,0.5
dtecres,hi cstapels i was able to update as method provided,0.877384126186
dtecres,hi u00a0cstapels i have found the cause of the data not able to update to thingspeak this is due to model dns is not set to open dns after set to open dns it works fine now however it turned to not working back when i had added send email function when temperature over the threshold i can not figure what went wrong and the response number returned after pushed the data to thingspeak same as before added the send email function u00a0please help thanks best regards kinble gray u00a0 include spi h include ethernet h include utility w5100 h include thingspeak h w5100 network setupbyte w5100_macaddress 0xde 0xad 0xbe 0xef 0xfe 0xed const ipaddress no_connet_ip ipaddress 0 0 0 0 thingspeak setupunsigned long channel_number 302633 channel idconst char write_api_key vamptx0ythj17wj5 write api keyint channel_field 1 field where temperature data upload to lm35 sensor input to analog define lm35_temp_sensor a0 smtp2go email setupchar smtp_server mtpcorp com int smtp_port 2525 ethernetclient client float lm35_temp_value 0 initial temperature valuefloat preset_temp_value 37 00 preset temperatureint interval 300 interval read the temperature every 5 minsvoid setup serial begin 9600 delay 200 while serial delay 200 serial println arduino uno r3 was detected disable sd card spi pinmode 4 output digitalwrite 4 high ethernet begin w5100_macaddress byte macvalue 6 detecting w5100 ethernet shield present w5100 getmacaddress macvalue for byte i 0 i 6 i if macvalue i w5100_macaddress i serial println f w5100 ethernet shield is not detected while true waiting user to restart the module serial println serial println f w5100 ethernet shield was detected check the w5100 ethernet connection to dhcp server ipaddress w5100_ipaddress ethernet localip if w5100_ipaddress 0 no_connet_ip 0 w5100_ipaddress 1 no_connet_ip 1 w5100_ipaddress 2 no_connet_ip 2 w5100_ipaddress 3 no_connet_ip 3 serial println f w5100 failed to connect to dhcp server while true waiting user to restart the module else serial println serial println f w5100 is connect to dhcp server serial println serial print w5100 ip address serial println ethernet localip serial print w5100 subnet mask serial println ethernet subnetmask serial print w5100 gateway serial println ethernet gatewayip serial println connect to thingspeak server if thingspeak begin client serial println connect to thingspeak server serial println else serial println failed to connect to thingspeak server serial println void loop lm35_temp_value analogread lm35_temp_sensor 0 0048828125 100 serial print current temperature serial print lm35_temp_value serial println u00b0c delay 100 write the temperature to thingspeak server int response thingspeak writefield channel_number channel_field lm35_temp_value write_api_key serial println are sponse from server string response if response 0 serial println serial println uploading data to thingspeak server serial println else serial println serial println failed to upload data to thingspeak server serial println client stop send alert email in temperature over the threshold if lm35_temp_value preset_temp_value serial println temperature over threshold serial println ending over temperature alert email delay 100 if sendemail serial println f over temperature alert email sent successfully else serial println f over temperature alert email sent failed the temperature will read every 5 mins for int i 0 i interval i delay 1000 1 second delay byte sendemail byte thisbyte 0 byte respcode serial println f connecting to smtp server if client connect smtp_server smtp_port 1 serial println f w5100 is connect to smtp server else serial println f w5100 failed to connect to smtp server return 0 if ercv return 0 serial println f ending hello replace 1 2 3 4 with your arduino ip client println ehlo 1 2 3 4 client println ehlo w5100_ipaddress if ercv return 0 serial println f ending auth login client println auth login if ercv return 0 serial println f ending userid change to your base64 encoded user client println user id if ercv return 0 serial println f ending password change to your base64 encoded password client println password if ercv return 0 change to your email address sender serial println f ending from client println mail from ektan unigen com if ercv return 0 change to recipient address serial println f ending to client println rcpt to ektan unigen com if ercv return 0 serial println f ending data client println would ata if ercv return 0 serial println f ending email change to recipient address client println to ek tan ektan unigen com change to your address client println from eekhay tan ektan unigen com client println ubject over temperature email alert client print temperature client print lm35_temp_value client println u00b0c client println current temperature is over the threshold client println please take immediate action now client println if ercv return 0 serial println f ending quit client println quit if ercv return 0 client stop serial println f mtp server is disconnected return 1 byte ercv byte respcode byte thisbyte int loopcount 0 while client available delay 1 loopcount if nothing received for 10 seconds timeout if loopcount 10000 client stop serial println f ercv timeout return 0 respcode client peek while client available thisbyte client read serial write thisbyte if respcode 4 efail return 0 return 1 void efail byte thisbyte 0 int loopcount 0 client println f quit while client available delay 1 loopcount if nothing received for 10 seconds timeout if loopcount 10000 client stop serial println f efail timeout return while client available thisbyte client read serial write thisbyte client stop serial println f mtp server is disconnected,0.84940803051
cstapels,consider using thingtweet and a react to generate a tweet when your channel value reaches a particular value,0.78900551796
iolson,hey guys i am only getting two sensor readings per channel then it seems thingspeak stops responding any ideas why this may be u00a0i am using a arduino mega with a wifi101 shield along with the example writevoltatge code from the thingspeak library u00a0code u00a0 writevoltagereads an analog voltage from pin 0 and writes it to a channel on thingspeak every 20 seconds thingspeak https www thingspeak com is an analytic iot platform service that allows you to aggregate visualize and analyze live data streams in the cloud copyright 2016 the mathworks inc documentation for the thingspeak communication library for arduino is in the extras documentation folder where the library was installed see the accompaning licence file for licensing information include thingspeak h this example selects the correct library to use based on the board selected under the tools menu in the ide yun ethernet shield wifi101 shield esp8266 and mxr1000 are all supported with yun the default is that you are using the ethernet connection if you are using a wi fi 101 or ethernet shield http www arduino cc en main arduinowifishield uncomment the corresponding line below define use_wifi101_shield define use_ethernet_shield if defined arduino_avr_yun include yunclient h yunclient client else if defined use_wifi101_shield defined arduino_samd_mkr1000 defined arduino_arch_esp8266 use wifi ifdef arduino_arch_esp8266 include else include include endif char ssid your network ssid name char pass your network password int status wl_idle_status wificlient client elif defined use_ethernet_shield use wired ethernet shield include include byte mac 0xde 0xad 0xbe 0xef 0xfe 0xed ethernetclient client endif endif ifdef arduino_arch_avr on arduino 0 1023 maps to 0 5 volts define voltage_max 5 0 define voltage_maxcounts 1023 0 elif arduino_samd_mkr1000 on mkr1000 0 1023 maps to 0 3 3 volts define voltage_max 3 3 define voltage_maxcounts 1023 0 elif arduino_sam_due on due 0 1023 maps to 0 3 3 volts define voltage_max 3 3 define voltage_maxcounts 1023 0 elif arduino_arch_esp8266 on esp8266 0 1023 maps to 0 1 volts define voltage_max 1 0 define voltage_maxcounts 1023 0 endif visit https www thingspeak com to sign up for a free account and create a channel the video tutorial http community thingspeak com tutorials thingspeak channels has more information you need to change this to your channel and your write api key if you share your code with others make sure you remove your write api key unsigned long mychannelnumber 298095 const char mywriteapikey void setup ifdef arduino_avr_yun bridge begin else if defined arduino_arch_esp8266 defined use_wifi101_shield defined arduino_samd_mkr1000 wifi begin ssid pass else ethernet begin mac endif endifthingspeak begin client void loop read the input on analog pin 0 int sensorvalue analogread a0 convert the analog reading on uno mega yunarduino 0 1023 maps to 0 5 volts on esp8266 0 1023 maps to 0 1 volts on mkr1000 due 0 4095 maps to 0 3 3 volts float voltage sensorvalue voltage_max voltage_maxcounts write to thingspeak there are up to 8 fields in a channel allowing you to store up to 8 different pieces of information in a channel here we write to field 1 thingspeak writefield mychannelnumber 7 voltage mywriteapikey delay 20000 thingspeak will only accept updates every 15 seconds,0.5
iolson,hey guys i am only getting two sensor readings per channel then it seems thingspeak stops responding any ideas why this may be u00a0i am using a arduino mega with a wifi101 shield along with the example writevoltatge code from the thingspeak library u00a0code u00a0 writevoltagereads an analog voltage from pin 0 and writes it to a channel on thingspeak every 20 seconds thingspeak https www thingspeak com is an analytic iot platform service that allows you to aggregate visualize and analyze live data streams in the cloud copyright 2016 the mathworks inc documentation for the thingspeak communication library for arduino is in the extras documentation folder where the library was installed see the accompaning licence file for licensing information include thingspeak h this example selects the correct library to use based on the board selected under the tools menu in the ide yun ethernet shield wifi101 shield esp8266 and mxr1000 are all supported with yun the default is that you are using the ethernet connection if you are using a wi fi 101 or ethernet shield http www arduino cc en main arduinowifishield uncomment the corresponding line below define use_wifi101_shield define use_ethernet_shield if defined arduino_avr_yun include yunclient h yunclient client else if defined use_wifi101_shield defined arduino_samd_mkr1000 defined arduino_arch_esp8266 use wifi ifdef arduino_arch_esp8266 include else include include endif char ssid your network ssid name char pass your network password int status wl_idle_status wificlient client elif defined use_ethernet_shield use wired ethernet shield include include byte mac 0xde 0xad 0xbe 0xef 0xfe 0xed ethernetclient client endif endif ifdef arduino_arch_avr on arduino 0 1023 maps to 0 5 volts define voltage_max 5 0 define voltage_maxcounts 1023 0 elif arduino_samd_mkr1000 on mkr1000 0 1023 maps to 0 3 3 volts define voltage_max 3 3 define voltage_maxcounts 1023 0 elif arduino_sam_due on due 0 1023 maps to 0 3 3 volts define voltage_max 3 3 define voltage_maxcounts 1023 0 elif arduino_arch_esp8266 on esp8266 0 1023 maps to 0 1 volts define voltage_max 1 0 define voltage_maxcounts 1023 0 endif visit https www thingspeak com to sign up for a free account and create a channel the video tutorial http community thingspeak com tutorials thingspeak channels has more information you need to change this to your channel and your write api key if you share your code with others make sure you remove your write api key unsigned long mychannelnumber 298095 const char mywriteapikey void setup ifdef arduino_avr_yun bridge begin else if defined arduino_arch_esp8266 defined use_wifi101_shield defined arduino_samd_mkr1000 wifi begin ssid pass else ethernet begin mac endif endifthingspeak begin client void loop read the input on analog pin 0 int sensorvalue analogread a0 convert the analog reading on uno mega yunarduino 0 1023 maps to 0 5 volts on esp8266 0 1023 maps to 0 1 volts on mkr1000 due 0 4095 maps to 0 3 3 volts float voltage sensorvalue voltage_max voltage_maxcounts write to thingspeak there are up to 8 fields in a channel allowing you to store up to 8 different pieces of information in a channel here we write to field 1 thingspeak writefield mychannelnumber 7 voltage mywriteapikey delay 20000 thingspeak will only accept updates every 15 seconds,0.5
rushanarshad,hello guys u00a0i must appreciate thingspeak is a very good platform however i am stuck at one thing and need help from the community i am using hall effect sensor to send liquid data from arduino to my channel through wifi the liquid is usually in 100s of ml i want to display the liquid for some specific hours days and weeks and even months but i am unable to see that in my graphs u00a0channel link is https thingspeak com channels 302158 i am using 20s delay to send the data and i only have one field in my channel u00a0can anyone help me in this it would be much appreciated best regardsrushan,0.0983322262764
salim,i am new to the thingspeak platform and i am trying to display the 1440 average of my data i am sending from an arduino uno i am sending data from 5 different detectors to be plotted into 5 different fields on my thingspeak channel the live data plotted is quite accurate but when i chose to plot the average i get values significantly lower than it should be i am suspecting it to have something to do with the bunch of null values i have here for example maybe https thingspeak com channels 126439 field 4 json,0.244621098042
Hans,you are correct the average is using null and lowering the expected average if you have two devices you might want to update two different thingspeak channels if that is not possible then matlab can help here you can use matlab analysis app to read in the field data ignore the nulls and then calculate the average you can even use matlab to write the averaged data to a new processed channel and have it calculate the daily average each day by scheduling it with timecontrol,0.753892421722
km3,hello hello i am trying to monitor my dht11 usage with arduino i can see that local thingspeak does not getting any dots on graphs i can see that real thingspeak apt thingspeak com is getting dots on graphs normally what might be wrong here is the code summary include include include thingspeak settings char thingspeakaddress 192 168 1 55 string writeapikey apikey void reporttemperaturetothingspeak int temperature int humidity double dewpoint use short field names i e 1 instead of field1 string fields 1 string temperature dec fields 2 string humidity dec serial println fields if client connect thingspeakaddress 3000 serial println connected to thingspeak com create http post data client print post update http 1 1 client print host 192 168 1 55 client print connection close client print x thingspeakapikey writeapikey client print content type application x www form urlencoded client print content length client print fields length client print client print fields serial print fields serial print serial println fields sent sent to http www thingspeak com delay ten_seconds else,0.5
heinb,u00a0hi there u00a0i am completely stuck and would really like some input u00a0i can get a stable connection to thingspeak but all my attempts to post data re unsuccessful u00a0i can either post an empty entry it shows i have a new entry with null values for the fields or i can get a 400 bad request returned but that it u00a0any pointers will be welcome i am using wifly h and connects successfully to the wifi and external sites here is the code for the bad request i call this function in my main loop thingspeakupdate field1 string x field2 string y and here is the function void thingspeakupdate string tsdata serial println would ata string tsdata serial println connecting to thingspeak connecting and sending data to thingspeakif wifly connect api thingspeak com 80 serial println connection succesful updating datastreams wifly println post update http 1 1 wifly println host api thingspeak com wifly println connection close wifly println x thingspeakapikey mywriteapikey wifly println content type application x www form urlencoded wifly println content length wifly println tsdata length wifly println wifly println tsdata delay 200 serial println thingspeak update sent else failed to connect to thingspeakserial println unable to connect to thingspeak,0.213850617409
heinb,i managed to solve the issue u00a0here are the steps that might help even for those who uses other hardware and libraries 1 i knew that the url to post worked when i put it in a web browser it updated my feed https api thingspeak com update key xxxxxxxxxxxxxx field1 10 u00a0 u00a0 obviously i replaced the x with my write key 2 i was thinking that my shield was adding info to my header and this caused u00a0the bad request error so i went to u00a0http web sniffer net and posted my url into the box provided u00a0this then returned the info sent to the server and it looked like this connect to 52 7 53 111 on port 443 okget update key ponk48xz3v2apbkw field1 10 http 1 1 crlf host api thingspeak com crlf connection close crlf user agent web sniffer 1 1 0 http web sniffer net crlf accept encoding gzip crlf accept charset iso 8859 1 utf 8 q 0 7 q 0 7 crlf cache control no cache crlf accept language de en q 0 7 en us q 0 3 crlf referer http web sniffer net crlf crlf from there i created my commands to the website by changing the code in my function this is the working function command to call the function in my main loop thingspeakupdate field1 string x field2 string y delay 15000 and here is my working function void thingspeakupdate string tsdata serial println would ata string tsdata serial println connecting to thingspeak connecting and sending data to thingspeak if wifly connect api thingspeak com 80 serial println connection succesful updating datastreams wifly println get update key ponk48xz3v2apbkw tsdata http 1 1 wifly println host api thingspeak com wifly println connection close delay 200 serial println thingspeak update sent else failed to connect to thingspeak serial println unable to connect to thingspeak interestingly enough i did not have to specify the packet lenght i hope this helps others aswell,0.226966828108
loli72,hello could you please post your entire code at least the code to connect this wifi schield to thingspeak as a client i manage to connect whit a ethernet schield but i am lost with this one,0.772890150547
irproject,hii succeeded send data from a sensor by arduino uno esp8266 to my thingspeak channel now i want to send back data from my channel to arduino uno help u00a0 tnx,0.758320629597
Griwen,hello i have arduino uno wifi and the temperature sensor dht21 problem starts when i try to upload my values from sensors to thingspeak when i try to upload more than two fields in rest uri it not working when its two or one field i can upload this values without problems include would ht h include wire h include unowifideved h define connector are st define server_addr api thingspeak com define apikey_thingspeak insert your api key define dhtpin 2 modify to the pin we connected define dhtpinn 3 modify to the pin we connected define dhttype dht21 am2301dht dht dhtpin dhttype dht dhtt dhtpinn dhttype short hum 60 short temp 22 short hum1 65 short temp1 25 void setup ciao begin ciao initserial begin 9600 dht begin dhtt begin void loop int h dht readhumidity float t dht readtemperature int ha dhtt readhumidity float ta dhtt readtemperature ciao println h ciao println t ciao println ha ciao println ta string uri update api_key uri apikey_thingspeak uri field1 uri string h uri field2 uri string t uri field3 uri string ha uri field4 uri string ta ciao println end data on thingspeak channel ciaodata data ciao write connector server_addr uri if data isempty ciao println tate string data get 1 ciao println are sponse string data get 2 else ciao println write error delay 30000 thinkspeak policy u00a0when i put only two fields it works string uri update api_key uri apikey_thingspeak uri field1 uri string h uri field2 uri string t u00a0console send data on thingspeak channelwrite error2926 102526 40send data on thingspeak channelwrite error2926 203026 40send data on thingspeak channelstate 400response,0.734120428562
rw950431,perhaps you can try to print the url to console or maybe just the length to see how long it is u00a0perhaps you are exceeding some kind of buffer length somewhere u00a0 you could also experiment by adding u00a0 status xxx then gradually increasing the length until you trigger the error u00a0maybe you could also add a delay between the write and the isdataempty to make sure there is no timing problem,0.801822781563
Griwen,in console with two value it works from sensors send data on thingspeak channel update api_key field1 22 field2 36state 200response 131in console three sensors but not floatsend data on thingspeak channel update api_key field1 22 field2 36 field3 24state 200response 142it worksfrom 4 sensors it doesnt worksend data on thingspeak channel update api_key field1 22 field2 36 field3 30 field4 13write errorsend data on thingspeak channel update api_key field1 22 field2 36 field3 30 field4 12state 400response so the problem can be the length but i need to upload two float values like 10 09 and two short values line 50 u00a0 u00a0,0.5
Vinod,take a look at one of the examples that use the thingspeak support library https github com mathworks thingspeak arduino tree master examplesmore specifically try modifying this one https github com mathworks thingspeak arduino tree master examples writemultiplevoltagesdoes that work,0.5
Sintra Air,u00a0hello comunity i am new here u00a0have been able to post dht readings to my channel with no problems at all recently i have been trying with no any success to post data from a dust sensor the dsm501a so i can read the sensor on arduino serial but once i try to implement it on the sketch that i am using to upload dht sensor this part of the code seems to stop everything ud83d ude41void setup initialize dsm501 dsm501 begin min_win_span wait 60s for dsm501 to warm up for int i 1 i 60 i delay 1000 1s serial print i serial println s wait 60s for dsm501 to warm up any ideas,0.5
rw950431,does it print anything to serial u00a0the code you posted is missing a closing i assume there is one in the real code,0.224502980709
Sintra Air,hey u00a0it was printing u00a0problem kinda solved it started posting information but sometimes it just stops for radom 20 or 30min periods maybe now related with the power supply i think or arduino memory u00a0next step debug power supply u00a0i moved that part of the code on the u00a0void setup u00a0to after all the ethernet operations before sending i think it might be related with timeouts u00a0 enc28j60 if correct answer is not received then re initialize ethernet module changed from 220 to 2800 if res 220 initialize_ethernet res res 1 ether packetloop ether packetreceive 200 res 10 seconds 50ms each res if res 200 _____________ time for desperated measuresdsm501 begin min_win_span dsm501 update int p dsm501 getpm25 100 field1 field 1 data field2 field 2 data field3 field 3 data field4 field 4 data field5 field 5 data field6 field 6 data field7 field 7 data field8 field 8 data lat latitude in decimal degrees long longitude in decimal degrees elevation elevation in meters status 140 character message byte sd stash create stash print field1 stash print t stash print field2 stash print h stash print field3 stash print p stash save u00a0i have lots of ideas the problem is putting them to the practice fortunately there are so many possibilities nowadays and there is internet the biggest library in the world d,0.5
Sintra Air,so i was powering everything from arduino uno board u00a0today i repurposed an old sat receiver power supply which supplies multiple voltages 3 3 5 7 and 12v all with common groud and powered everything ethernet shield 3 3v dsm501a 5v dht11 5v and the arduino itself with 7v still to add a gas sensor as soon as it arrives at my location the insane behaviour seems to have stopped although i had one 20min pause in about 5 hours of sending data every minute not perfect but can not complain it could be internet connection or even a thingspeak problem u00a0can not debug live because the device is far away from home will be now for a 48h run to check for stability u00a0btw channel here https thingspeak com channels 230655 u00a0,0.5
Sintra Air,so conclusion just in case someone is in the same situation u00a0it was a program problem it still is but i found a way out sram as far as i understood was being corrupted making the arduino behave strange and random using the comand u00a0asm volatile u00a0jmp 0 u00a0after the last action performed by the program helped a lot it clears all the volatiles and the system runs smooth with no problems at all u00a0might be a dirty way to do the thing speak forever with no interruptions but the fact is that it works like a charm,0.0453461110592
habapa,hi everybody u00a0i am trying to build an teaching iot micro weatherstation and i am facing problems with i2c sensors u00a0 or more probably edison i2c behavior i had faced some hardware problems few weeks ago so i have bought a new edison mini breakout and a set of new sensors from isweek htu21dfbme280mcp9808si1145mpl3115a2bmp280 i have also some other ones that are not involved in this question u00a0first of all i am pretty sure that some months ago i have been abl to easily handle an htu21d f sensor with mraa and upm then came the change in mraa that added a check on the communication between the edison and the device that we overcome but now the problem is worse the htu21d f is not detected any more u00a0i am using a level shifter to be shure to provide 1 8v signal on sda and scl pins of my minibreakout i am as sure as possible that my wiring is correct because i am using a breadboard withsi1145 mcp9808 bme280 that are detected i have not tried yet to get measurements on i2c bus 6 or bus 1 u00a0 i have activated bus 6 with these instructions echo 28 sys class gpio export u00a0 echo 27 sys class gpio export u00a0 echo mode1 sys kernel debug gpio_debug gpio28 current_pinmux u00a0 echo mode1 sys kernel debug gpio_debug gpio27 current_pinmux u00a0i2cdetect y r 6 u00a0 u00a0 u00a0 u00a0 0 u00a0 1 u00a0 2 u00a0 3 u00a0 4 u00a0 5 u00a0 6 u00a0 7 u00a0 8 u00a0 9 u00a0 a u00a0 b u00a0 c u00a0 d u00a0 e u00a0 f00 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 10 18 20 30 40 50 60 60 70 77 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0if i try to wire any of the three others one by one or in any combination i getno detectioni2cdetect y r 1 u00a0 u00a0 u00a0 u00a0 0 u00a0 1 u00a0 2 u00a0 3 u00a0 4 u00a0 5 u00a0 6 u00a0 7 u00a0 8 u00a0 9 u00a0 a u00a0 b u00a0 c u00a0 d u00a0 e u00a0 f00 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 10 20 30 40 50 60 70 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0same result on bus 6 or 1 u00a0i have tested the sensors on an arduino they perform very well i have tested htu21d f on an arduino breakout it does not work with the adafruit ide test program and sends the message no sensor detected with the demo program the sensor is detected but the values read are wrong probably empty buffer u00a0i have read a little bit the forum and have seen that there are many questions dealing with i2c u00a0 buses i can proove that in many cases everything works as expected but in some cases u00a0 the communication situation seems locked between the sensor and the edison it is just like if the edison was not able to bring the sensor to communicate with him to confirm this hypothesis i removed thempl3115a2 and left it away after some minutes when i plugged it back it was detected without changing anything u00a0 u00a0i2cdetect y r 1 u00a0 u00a0 u00a0 u00a0 0 u00a0 1 u00a0 2 u00a0 3 u00a0 4 u00a0 5 u00a0 6 u00a0 7 u00a0 8 u00a0 9 u00a0 a u00a0 b u00a0 c u00a0 d u00a0 e u00a0 f00 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 10 20 30 40 50 60 60 70 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0just if the sensor came back spontaneously to a good state i tried to plug the bmp280 and it was detected u00a0i2cdetect y r 1 u00a0 u00a0 u00a0 u00a0 0 u00a0 1 u00a0 2 u00a0 3 u00a0 4 u00a0 5 u00a0 6 u00a0 7 u00a0 8 u00a0 9 u00a0 a u00a0 b u00a0 c u00a0 d u00a0 e u00a0 f00 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 10 20 30 40 50 60 60 70 77 u00a0i am getting mad on this question do you have any suggestion as this is for teaching u00a0 k9 12 teachers i cannot resonably tell them unplug wait for 4 47 then plug again it will work u00a0any help will be greatly appreciated if needed i can do some tests and in teh meantime i will write the code to reas and compare measurements between sensors thanks in advance and many thanks to all contributors and intel facilitators in this nice community u00a0g,0.163322120905
narkase,hey all u00a0i want to make a remote control system and display sensors parameters so i am using thingspeak to plot graphs and some buttons to control leds seperatly everything works perfect but when i add them together thingspeak doesnt get a data there is a html code html u00a0 u00a0 u00a0 head u00a0 u00a0 u00a0 meta http equiv content type content text html charset utf 8 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 title title title u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0strled3 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0strled4 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0var led3_state 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0var data_val 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0var num_updates 0 u00a0 u00a0 u00a0 number of 200ms periods used to calculate time to send data to thingspeak u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 function getarduinoinputs u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 nocache nocache math random 1000000 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 var request new xmlhttprequest u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 request onreadystatechange function u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 if this readystate 4 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 if this status 200 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 if this responsexml null u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0document getelementbyid input4 innerhtml u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 this responsexml getelementsbytagname analog1 0 childnodes 0 nodevalue u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 data_val this responsexml getelementsbytagname analog1 0 childnodes 0 nodevalue u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0if this responsexml getelementsbytagname led 0 childnodes 0 nodevalue on u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0document getelementbyid led3 innerhtml on turn off u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0led3_state 1 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 else u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0document getelementbyid led3 innerhtml off turn on u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0led3_state 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0if this responsexml getelementsbytagname led1 0 childnodes 0 nodevalue on u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0document getelementbyid led4 innerhtml on turn off u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0led4_state 1 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 else u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0document getelementbyid led4 innerhtml off turn on u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0led4_state 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0if num_updates 100 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0num_updates 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 send voltage to thingspeak u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0thingspeaksend xxxxxxxxxxxxx data_val u00a0 u00a0 u00a0 insert your thingspeak write api key here u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0num_updates u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 request open get ajax_inputs nocache true u00a0 request open get ajax_inputs strled3 strled4 nocache true u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 request send null u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 settimeout getarduinoinputs 200 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0strled3 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0strled4 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0function getbutton1 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0if led3_state 1 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0led3_state 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0strled3 led3 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0else u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0led3_state 1 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0strled3 led3 1 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0function getbutton2 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0if led4_state 1 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0led4_state 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0strled4 led4 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0else u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0led4_state 1 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0strled4 led4 1 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 function to send data to thingspeak u00a0 u00a0 u00a0 u00a0 u00a0 u00a0function thingspeaksend api_write_key data u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0var ts_req new xmlhttprequest u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 get request string modify if more fields are needed u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0var req_str http api thingspeak com update key api_write_key field1 data u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0ts_req onreadystatechange function u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 not doing anything with response from thingspeak u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 send the data to thingspeak u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0ts_req open get req_str true u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0ts_req send null u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 head u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 body onload getarduinoinputs u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 button u00a0 type button id led3 onclick getbutton1 off turn on button u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 button u00a0 type button id led4 onclick getbutton2 off turn on button u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 src https thingspeak com channels 235349 charts 1 bgcolor 23ffffff color 23d62020 dynamic true results 7 title c5 bdem c4 97s dr c4 97gm c4 97 type line xaxis data yaxis 25 yaxismax 100 yaxismin 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 body how i figured out its a problem with a get message when i simply write request open get ajax_inputs nocache true graph u00a0 is plotted but when i add to this request strings which keep led states values it doesnt work code request open get ajax_inputs strled3 strled4 nocache true u00a0 code so maybe you could help me,0.903808832169
s161025,hello everyone i am not a programmer as you will realise but i set up a program for measuring weight with hx711 load cell for a uni project and i would like to upload the measurments to my ts channel the arduino uno wifi dev board is connected to a wifi network but i can not manage to make it work before setup i defined the weight 3 decimals and led reading from a1 define connector are st define server_addr api thingspeak com define apikey_thingspeak insert your api keyfloat weight 0 000 int led and in loopweight scale get_units pump analogread a1 string uri update api_key uri apikey_thingspeak uri field1 uri string weight uri field2 uri string led ciao println end data on thingspeak channel ciaodata data ciao write connector server_addr uri if data isempty ciao println tate string data get 1 ciao println are sponse string data get 2 delay 30000 thinkspeak policy else ciao println write error the delay is commented because i use different u00a0time step code the thing is that i can serial print the values of weight and led u00a0but not to upload them however when i give specific values to them it uploads without problem any help would be much appreciated,0.5
JasonW,it looks like you are declaring an int led in the first part u00a0but then in the looped code you use a variable called pump to read the analog input then further down you use u00a0uri string led since led has not been assigned a value adding it to the uri string will have unexpected results u00a0try this change int led to int pumpchange uri string led to u00a0uri string pump u00a0,0.5
s161025,my bad i meant led analogread a1 this seems consistant i think that the problem is somewhere else,0.0830892622471
pedretexksi,hi everyone i u00b4m new with iot i have an arduino connected to thingspeak and i want to send the number of times that a push button is activated the problem is that at the begining the arduino sends the first data to my chanel but then it stops if i use the fuction would elay it sends the information but i can u00b4t use this because the program is stopped during this seconds so i u00b4m trying a timer library i hope someone could help me to fix this thankshere is my code int button_pin 2 int buttonpushcounter 0 counter for the number of button pressesint buttonstate 0 current state of the buttonint lastbuttonstate 0 previous state of the buttonunsigned long mychannelnumber xxxxxxx const char mywriteapikey xxxxxx include timerone h include thingspeak h define use_ethernet_shield include spi h include ethernet h byte mac 0xde 0xad 0xbe 0xef 0xfe 0xed ethernetclient client void setup timer1 initialize 180000000 18 stimer1 attachinterrupt thingspeak pinmode button_pin input_pullup serial begin 9600 ethernet begin mac thingspeak begin client void loop int buttonstate digitalread button_pin compare the buttonstate to its previous state if buttonstate lastbuttonstate if the state has changed increment the counter buttonpushcounter serial print counter serial println buttonpushcounter delay a little bit to avoid bouncingdelay 150 save the current state as the last state for next time through the loop nointerrupts suspende las interrupciones lastbuttonstate buttonstate interrupts void thingspeak thingspeak setfield 1 buttonpushcounter thingspeak writefields mychannelnumber mywriteapikey thingspeak writefield mychannelnumber 1 buttonpushcounter mywriteapikey serial print enviando datos serial println buttonpushcounter,0.239345282316
BeeWare,i am using an arduino uno wifi to post 4 sensors to 1 channel and it looks like i am missing data points why am i missing data points,0.085607022047
Vinod,please post your code so someone can look into u00a0it to provide suggestion a few things to check in your code are you updating your channel faster than u00a0the maximum update rate for your user type free user accounts can update a channel once every 15s u00a0a paid thingspeak license enables you to update a channel every second u00a0are you u00a0updating one field at a time for a channel rather than updating all fields in a single shot u00a0if so u00a0there is a very u00a0high likelihood that you are violating the above mentioned u00a0aspecthave you tried connecting to a serial port from a computer and using serial print to print out the return code you get from thingspeak that will usually give you a good idea of u00a0what is going on,0.863313496113
BeeWare,below is my loop code so do i need to put a delay in between each of my uploads instead of 30 seconds t the end u00a0void loop dtemp requesttemperatures string uri update api_key uri apikey uri field1 populates field 1 on thinkspeak website uri string dtemp gettempf probe01 gets temperature from probe 1 uri field2 populates field 2 on thinkspeak website uri string dtemp gettempf probe02 gets temperature from probe 2 uri field3 populates field 3 on thinkspeak website uri string dtemp gettempf probe03 gets temperature from probe 3uri field4 populates field 4 on thinkspeak website uri string scale get_units get weight on scale in lbs ciao println end data on thingspeak channel ciaodata data ciao write connector server_addr uri if data isempty ciao println tate string data get 1 ciao println are sponse string data get 2 else ciao println write error delay 30000 30 seconds delay,0.5
Vinod,i would recommend using the u00a0library rather than roll your own u00a0take a look at the tutorials here http community thingspeak com tutorials take a look at the examples in the library here https github com mathworks thingspeak arduino tree master examples,0.5
paluigi,hello i am trying to compile the sketch on arduino 101 but i get an error arduino 1 6 10 mac os x board arduino genuino 101 warning library thingspeak claims to run on avr architecture s and may be incompatible with your current board which runs on esp8266 architecture s in file included from users x documents arduino display_temp_lcd_rht03_connectwifi_uploadts display_temp_lcd_rht03_connectwifi_uploadts ino 57 0 users x documents arduino libraries thingspeak src thingspeak h 61 4 error error only arduino mkr1000 yun uno mega due with either wifi101 or ethernet shield esp8266 also supported error only arduino mkr1000 yun uno mega due with either wifi101 or ethernet shield esp8266 also supported users x documents arduino libraries thingspeak src thingspeak h 84 3 error error platform not supported error platform not supported exit status 1 error compiling for board arduino genuino 101 i cannot understand why the board is listed as not esp8266 not compatible while esp8266 is afterwards declared as also suported any help would be appreciated ud83d ude42,0.229869902134
JasonW,the error message you are getting is a general one it shows up when trying to compile for a device that the library has not specifically been configured and tested for the arduino 101 is fairly new and not yet supported by this library,0.802019000053
mohamedali1993,hello from what i am seeing in the online documentation we can write integers in the arduino ide using thingspeak setfield then thingsspeak writefields but can we write strings can we send data that does not need to be graphed u00a0thank you mo,0.784279346466
Rob Purser,hi mo yes both setfield and writefield accept both const char and arduino string types see line 585 in thingspeak h u00a0to see an example function signature thingspeak wo not plot them obviously and you will need to make sure to use the outputformat of timetable when you are working in matlab rob,0.5
mohamedali1993,hey rob u00a0thank you for your response i am now able to send strings and read it in matlab using timetable output format in the thingspeakread function but i am unable to view the same data table in the actual channel i have tried to use thingspeakwrite function to write the table to another channel but that did not work u00a0if i treat the table as an array and index through it then write it to another channel it still views it as a graph finally i tried the plugin app to create a chart with multiple series and still got a graph u00a0is there anyway i can u00a0create a table with multiple strings and be able to view it in a table format on my thing speak channel u00a0thanks again mo,0.19226616621
David Guo,in this project we will show how to use the dragino lora kit to get data from the thingspeak and send to lora node u00a0hardware preparationlora gateway lg01 plora node lora shield arduino unorelay u00a0set up hardware u00a0set up the hardware as below the lora gateway will get command from iot server and then send the command to lora node the node control the relay state according to the receive command u00a0 u00a0 u00a0 u00a0 u00a0set up talkback command u00a0create a talkback command in thingspeak apps we can then find the talkback id and talkback api key here u00a0 u00a0 u00a0 u00a0 u00a0upload sketches u00a0step 1 u00a0 u00a0 select the example from ide file examples dragino iotserver thingspeak downstreamclientand upload this sketch to the lora node u00a0step 2 u00a0 u00a0 select the example fromide file examples dragino iotserver thingspeak downstreamserverreplace the talkback id talkbackapikey with your infoand upload this sketch to the lora gateway u00a0check result u00a0in the talkback app page send a command 1 or 0 to trigger the relay you can see the result from the console u00a0 u00a0 u00a0 u00a0 u00a0what is lora kit u00a0 u00a0 u00a0 u00a0dragino lora iot kit is designed to facilitate beginners and developers to quickly learn lora and iot technology it help users to turn the idea into a practical application and make the internet of things a reality it is easy to program create and connect your things everywhere a number of telecom operators are currently rolling out networks but because lora operates in the open spectrum you can also set up your own network the lora iot kit will show how to build lora network and how to use the network to send data from a lora sensor node to the cloud server when used as a private lora network the lora gateway will connect your other lora nodes up to 5km however expect up to 10km range when in line of sight when connecting your lora node to a lora gateway u00a0 u00a0 u00a0 u00a0 u00a0support us u00a0for the past months we have worked hard to get the lora iot kit to the final stages of development we have got some users to start using lora iot kit to make the final step and start mass production we are rasing funds via a indiegogo campaign we need your help if you back us you will speed up the lora iot kit production and receive one of it in 01 2017 but you will also receive one yourself in 03 2017 so to start to build your own lora network and examine the iot technology we are trying to provide a full solution to connect lora to different cloud server there u2019s nothing like what dragino lora iot kit can provide the link of the dragino lora kit campaign is https www indiegogo com projects lora kit for iot applications x 15237796 please help us to promote this lora kit and let more people know the lora wireless technology thank you,0.5
Geert,dear all u00a0 u00a0i try to post my arduino uno sensor results to thingspeak and i try differnt options and cannot figure it out any help possible i might give up on thingspeak u00a0 u00a0geert u00a0sketch a sketch to make sensors work and let them post to thingspeak probably sensors used 1 ec conductivity sensor el cheapo pin a0 a1 gnd a2 5v ds18b20 water temperature pin d2 2 bmp085 air pressure and temp in box pin a4 a5 3 rain sensor pin a3 d3 4 dht22 air and humidity pin d6 sending data esp8266 pin d9 d10 d11 streaming service thingspeakrelays to be implemented u00a0this sketch is compiled from individual sketches for each part elcheapo arduino ec ppm water temperature measurment parts arduino uno mega standard american two prong plug 1 kohm resistor ds18b20 waterproof temperature sensorsee http www michaelratcliffe com projects for a pinout and user guide or consult the zip you got this code fromwrite to thingspeak from library example writemultiplevoltages thingspeak https www thingspeak com is an analytic iot platform service that allows you to aggregate visualize and analyze live data streams in the cloud copyright 2016 the mathworks inc libraries needed to compile the script see read me in download both below library are custom ones see read me in downloaded zip if you dont know how to install use them or add a pull up resistor to the temp probe include onewire h include dallastemperature h dht variables include would ht h define dhtpin 6 what digital pin we are connected to define dhttype dht22 dht 22 am2302 am2321 connect pin 1 on the left of the sensor to 5v note if using a board with 3 3v logic like an arduino due connect pin 1 to 3 3v instead of 5v connect pin 2 of the sensor to whatever your dhtpin is connect pin 4 on the right of the sensor to ground connect a 10k resistor from pin 2 data to pin 1 power of the sensor initialize dht sensor note that older versions of this library took an optional third parameter to tweak the timings for faster processors this parameter is no longer needed as the current dht reading algorithm adjusts itself to work on faster procs dht dht dhtpin dhttype bmp pressure declare include wire h define bmp085_address 0x77 i2c address of bmp085const unsigned char oss 0 oversampling setting calibration valuesint ac1 int ac2 int ac3 unsigned int ac4 unsigned int ac5 unsigned int ac6 int b1 int b2 int mb int mc int md b5 is calculated in bmp085gettemperature this variable is also used in bmp085getpressure so temperature must be called before pressure long b5 short temperature long pressure use these for altitude conversionsconst float p0 101325 pressure at sea level pa float altitude bmp declare finish wifi variables include softwareserial h define ssid esw apartment 709 define pass merlinsbeard define dst_ip 184 106 153 149 oftwareserial espserial 10 11 rx tx reset on pin9 low to reset iot information mychannelnumber 147606 mywriteapikey uiay9f4a7j1ktq3s get update key ipyzzqg01957fq42string get get update key ipyzzqg01957fq42 wifi variables end user defined variables do not replace r1 with a resistor lower than 300 ohms int r1 1000 int ra 25 resistance of powering pinsint ecpin a0 int ecground a1 int ecpower a2 originally a4 is used by air pressure measurement converting to ppm learn to use ec it is much better hana usa ppmconverion 0 5 eutech eu ppmconversion 0 64 tranchen australia ppmconversion 0 7 why didnt anyone standardise this float ppmconversion 0 64 compensating for temperature the value below will change depending on what chemical solution we are measuring 0 019 is generaly considered the standard for plant nutrients google temperature compensation ec for more infofloat temperaturecoef 0 019 this changes depending on what chemical we are measuring u00a0 cell constant for ec measurements mine was around 2 9 with plugs being a standard size they should all be around the same but if you get bad readings you can use the calibration script and fluid to get a better estimate for kfloat k 2 88 u00a0 temp probe related define one_wire_bus 2 data wire for temp probe is plugged into pin 10 on the arduino with me on 2const int tempprobepossitive 8 temp probe power connected to pin 9 i don have that const int tempprobenegative 9 temp probe negative connected to pin 8 should i do that u00a0 end of recomended user inputs onewire onewire one_wire_bus setup a onewire instance to communicate with any onewire devicesdallastemperature sensors onewire pass our onewire reference to dallas temperature float temperature 10 float ec 0 float ec25 0 int ppm 0 float raw 0 float vin 5 float vdrop 0 float rc 0 float buffer 0 arduino rain sensor sketch int rainsense 3 analog sensor input pin 0 int buzzerout 10 digital output pin 10 buzzer outputint countval 0 counter value starting from 0 and goes up by 1 every secondvoid bmp085calibration boolean connectwifi void getec setup runs once and sets pins etc void setup ec and water temp serial begin 9600 pinmode tempprobenegative output seting ground pin as output for tmp probe digitalwrite tempprobenegative low seting it to ground so it can sink current pinmode tempprobepossitive output ditto but for positive digitalwrite tempprobepossitive high pinmode ecpin input pinmode ecpower output setting pin for sourcing current pinmode ecground output setting pin for sinking current digitalwrite ecground low we can leave the ground connected permanantly wifi setup pinmode 10 input softserial rx for esp pinmode 11 output softserial tx for esp pinmode 9 output esp reset u00a0espserial begin 9600 for esp can not be faster than 19200 for softserial espserial settimeout 2000 wifi setup enddelay 100 gives sensor time to settle sensors begin delay 100 adding digital pin resistance to 25 ohm to the static resistor consule read me for why or just accept it as true r1 r1 ra taking into acount powering pin resitance serial println elcheapo arduino ec ppm measurments serial println by michael ratcliffe mike michaelratcliffe com serial println free software you can redistribute it and or modify it under gnu serial println serial println make sure probe and temp sensor are in solution and solution is well mixed serial println serial println measurments at 5 second intervals dont read ec morre than once every 5 seconds rainsensor pinmode rainsense input bmp pressure wire begin bmp085calibration wifi debug begin _baudrate pinmode 9 output esp reset senddebug at debug println at rst added delay 5000 if serial find ok serial println are ceived okdata ready to sent connectwifi end of setup main loop runs forever moved heavy work to subroutines so you can call them from main loop without cluttering the main loop void loop ec watertemp sensor getec calls code to go into getec loop below main loop dont call this more that 1 5 hhz once every five seconds or you will polarise the water rainsensorint rainsensereading analogread rainsense serial print rain intensity 0 hard 1023 no rain serial println rainsensereading serial monitoring message delay 250 rain sensing value from 0 to 1023 from heavy rain no rain if countval 35 serial print heavy rain digitalwrite buzzerout high raise an alert after x time raining for long duration rise buzzer sound there is no rain then reset the counter value if rainsensereading 350 countval increment count value else if rainsensereading 350 if not raining digitalwrite buzzerout low turn off buzzer countval 0 reset count to 0 delay 1000 finish rainsensor bmp pressure temperature bmp085gettemperature bmp085readut pressure bmp085getpressure bmp085readup altitude float 44330 1 pow float pressure p0 0 190295 serial print temperature serial print temperature dec serial println 0 1 deg c serial print pressure serial print pressure dec serial println pa serial print altitude serial print altitude 2 serial println m serial println bmp finish dht sensor get calculate and print temperature and humity to serial reading temperature or humidity takes about 250 milliseconds sensor readings may also be up to 2 seconds old its a very slow sensor float h dht readhumidity read temperature as celsius the default float t dht readtemperature read temperature as fahrenheit isfahrenheit true float f dht readtemperature false check if any reads failed and exit early to try again if isnan h isnan t isnan f serial println failed to read from dht sensor return serial print humidity serial print h serial print t serial print temperature serial print t u00a0 printing everything printreadings cals print routine below main loop u00a0 delay from ec delay 60000 original is 5000 now 1 minute to bottom loop send data over wifi boolean sent false for int i 0 i 7 i try 7 times 20 08 if senddata temperature ec25 rainsensereading t h temperature pressure perhaps sent true break if sent serial println f failed 7 times to send delay from ec delay 60000 original is 5000 now 1 minute boolean senddata int w int c int s int a int h int b int p serial print f are set esp8266 test if the module is readydigitalwrite 9 low reset the esp module delay 100 digitalwrite 9 high espserial println at rst espserial print at uart_def 9600 8 1 0 0 delay 500 if espserial find are ady serial print f module is ready else serial println f module has no response return false connect to the wifi boolean connected false for int i 0 i 7 i 7 times 20 08 if connectwifi connected true break if connected serial println f tried 7 times to connect please reset return false delay 500 set the single connection mode espserial println at cipmux 0 delay 2000 double delay here 20 08espserial flush string cmd cmd at cipstart tcp cmd dst_ip cmd 80 espserial println cmd serial println cmd delay 2000 insert delay here 10 11 if espserial find error return false field1 w field2 c field3 s field4 a field5 h field6 b field7 p tring action action get update key ipyzzqg01957fq42 int w int c int s int a int h int b int p action field1 field2 c field3 s field4 a field5 h field6 b field7 p action field1 action w action field2 action c action field3 action s action field4 action a action field5 action h action field6 action b action field7 action p action u00a0espserial print at cipsend espserial println get update key ipyzzqg01957fq42 field1 w field2 c field3 s field4 a field5 h field6 b field7 p espserial println action length serial println action delay 2000 insert delay here 10 11 if espserial find serial print else espserial println at cipclose serial println f connect timeout return false espserial println action serial println action delay 2000 tried 5000 instead of 1000 no difference 30 08if espserial find end ok serial print f end ok if espserial find 200 ok serial println f receive ok return true else return false boolean connectwifi espserial println at cwmode 1 delay 3000 increased from 2000 to 3000 no difference string cmd at cwjap cmd ssid cmd cmd pass cmd serial println cmd espserial println cmd delay 5000 increased from 5000 to 10000 20 08if espserial find ok serial print f connected to wifi return true else serial println f cannot connect to wifi return false thingspeak send string wtemp string temperature water temp turn integer to string string cond string ec25 conductivity turn integer to string string splash string rainsensereading splash turn integer to string string atemp string t air temp turn integer to string string hum string h humidity turn integer to string string btemp string temperature box temp turn integer to string string pres string pressure press turn integer to string updatets wtemp cond splash atemp hum btemp pres end of main loop u00a0 this loop is called from main loop void getec reading temperature of solution sensors requesttemperatures send the command to get temperatures temperature sensors gettempcbyindex 0 stores value in variable u00a0 estimates resistance of liquid digitalwrite ecpower high raw analogread ecpin raw analogread ecpin this is not a mistake first reading will be low beause if charged a capacitor digitalwrite ecpower low u00a0 converts to ec vdrop vin raw 1024 0 rc vdrop r1 vin vdrop rc rc ra acounting for digital pin resitance ec 1000 rc k compensating for temperaure ec25 ec 1 temperaturecoef temperature 25 0 ppm ec25 ppmconversion 1000 end of ec function u00a0 this loop is called from main loop prints to serial usefull info void printreadings serial print rc serial print rc serial print ec serial print ec25 serial print siemens serial print ppm serial print ppm serial print temperature serial println c usued for debugging serial print vdrop serial println vdrop serial print rc serial println rc serial print ec serial println iemens end of debugging prints updatets wtemp cond splash atemp hum btemp pres void updatets string w string c string s string a string h string b string p esp8266 client string cmd at cipstart tcp setup tcp connection cmd ip cmd 80 senddebug cmd debug println cmd added delay 2000 if serial find error debug print are ceived errorexit1 return cmd get field1 w field2 c field3 s field4 a field5 h field6 b field7 p serial print at cipsend serial println cmd length if serial find debug print debug print cmd serial print cmd else senddebug at cipclose close tcp connection if serial find ok debug println are ceived ok else debug println are ceived errorexit2 void senddebug string cmd debug print end debug println cmd serial println cmd boolean connectwifi serial print f are set esp8266 test if the module is readydigitalwrite 9 low reset the esp module delay 100 digitalwrite 9 high debug println at rst delay 500 serial println at cwmode 1 wifi sta mode if 3 it is both client and ap delay 2000 connect to router with at cwjap sid password check if connected with at cwjap string cmd at cwjap join accespoint cmd ssid cmd cmd pass cmd senddebug cmd delay 5000 if serial find ok serial println are ceived ok return true else serial println are ceived error return false cmd at cipmux 0 set single connection senddebug cmd if serial find error debug print are ceived error return false u00a0 stores all of the bmp085 calibration values into global variables calibration values are required to calculate temp and pressure this function should be called at the beginning of the program void bmp085calibration ac1 bmp085readint 0xaa ac2 bmp085readint 0xac ac3 bmp085readint 0xae ac4 bmp085readint 0xb0 ac5 bmp085readint 0xb2 ac6 bmp085readint 0xb4 b1 bmp085readint 0xb6 b2 bmp085readint 0xb8 mb bmp085readint 0xba mc bmp085readint 0xbc md bmp085readint 0xbe calculate temperature given ut value returned will be in units of 0 1 deg c short bmp085gettemperature unsigned int ut long x1 x2 x1 long ut long ac6 long ac5 15 x2 long mc 11 x1 md b5 x1 x2 return b5 8 4 calculate pressure given up calibration values must be known b5 is also required so bmp085gettemperature must be called first value returned will be pressure in units of pa long bmp085getpressure unsigned long up long x1 x2 x3 b3 b6 p unsigned long b4 b7 b6 b5 4000 calculate b3 x1 b2 b6 b6 12 11 x2 ac2 b6 11 x3 x1 x2 b3 long ac1 4 x3 oss 2 2 calculate b4 x1 ac3 b6 13 x2 b1 b6 b6 12 16 x3 x1 x2 2 2 b4 ac4 unsigned long x3 32768 15 b7 unsigned long up b3 50000 oss if b7 0x80000000 p b7 1 b4 else p b7 b4 1 x1 p 8 p 8 x1 x1 3038 16 x2 7357 p 16 p x1 x2 3791 4 return p read 1 byte from the bmp085 at address char bmp085read unsigned char address unsigned char data wire begintransmission bmp085_address wire write address wire endtransmission wire requestfrom bmp085_address 1 while wire available return wire read read 2 bytes from the bmp085 first byte will be from address second byte will be from address 1 int bmp085readint unsigned char address unsigned char msb lsb wire begintransmission bmp085_address wire write address wire endtransmission wire requestfrom bmp085_address 2 while wire available 2 msb wire read lsb wire read return int msb 8 lsb read the uncompensated temperature value unsigned int bmp085readut unsigned int ut write 0x2e into register 0xf4 this requests a temperature reading wire begintransmission bmp085_address wire write 0xf4 wire write 0x2e wire endtransmission wait at least 4 5ms delay 5 read two bytes from registers 0xf6 and 0xf7 ut bmp085readint 0xf6 return ut read the uncompensated pressure value unsigned long bmp085readup unsigned char msb lsb xlsb unsigned long up 0 write 0x34 oss 6 into register 0xf4 request a pressure reading w oversampling setting wire begintransmission bmp085_address wire write 0xf4 wire write 0x34 oss 6 wire endtransmission wait for conversion delay time dependent on oss delay 2 3 oss read register 0xf6 msb 0xf7 lsb and 0xf8 xlsb wire begintransmission bmp085_address wire write 0xf6 wire endtransmission wire requestfrom bmp085_address 3 wait for data to become available while wire available 3 msb wire read lsb wire read xlsb wire read up unsigned long msb 16 unsigned long lsb 8 unsigned long xlsb 8 oss return up,0.5
Vinod,geert have you tried going through the tutorial here http community thingspeak com tutorials arduino send data to thingspeak with arduino i would recommend starting with one of the u00a0simpler examples in the thingspeak library see tutorial here http community thingspeak com 2015 10 official thingspeak library for arduino and particle once you are able to get one of the simple examples working with your arduino u00a0you will u00a0be able to build your project using thingspeak,0.5
Geert,for my setup an arduino uno with esp these sketches do not compile u00a0i tried that for a long time without success without getting any further u00a0moreover it seems nobody with arduino uno and wifi seems to use these examples nor u00a0the thingspeak library to build on based on different googles u00a0instead they try to post with get u00a0with the above only the posting itself just doeas not happen u00a0no help in the tutorial nor in the examples only a week of lost time u00a0 u00a0geert,0.292373299599
Geert,ps honestly a tutorial explains things not just gives a list of u00a0the sketches more confusing than solving splitting the examples by architecture u00a0instead of having sketches existing mostly of routines selecting the hardware without any real clarity what architecture you talk about would definitely help i suspect the one including the esp is actually only an esp not arduino u00a0uno with esp u00a0geert,0.744315385818
vksgaikwad3,hi folks i have connected sim900a module with arduino mega and sending some temperature and other data to my think speak channels but i am facing problem when i was trying to send data to all 8 fields in one think speak call it sends 1 entry to all u00a08 fields just stuck u00a0 at at cipsend gives send ok and stops u00a0 also even if i am sending data of 4 fields with increase in data size still facing the same problem u00a0i have check with tcp configurations on sim900a u00a0seems no issues transparent or non transparent ip conenction modeat cipmode cipmode 0oktcp conenction is configured for transparent mode tcp transfer configuration settingsat cipccfg cipccfg 5 2 1024 1oktcp transfer configuration number of retries 5waittime 2sendsize 1024escape sequence 1http configuration parameters u00a0is there any limitations on think speak for uploading all 8 fields in one get request u00a0 or any chance of having issues with my sim card operator please u00a0let me know if any one has face the same issue i have to update all 8 fields in one get request only u00a0thanksvikas,0.200630962849
JasonW,there is no limitation on the api thingspeak com side to updating all 8 fields at once i do not have a sim900a module to test with but i was just able to test updating all 8 fields with a mega and wifi 101 shield using our library available on github this issue has come up once or twice before with other hardware configuration u00a0in the past the problem was that the tcp buffer was not large enough to hold the entire outgoing message when all 8 fields were being updated u00a0 u00a0,0.145689427853
shubham_ingle,hello guys i am trying to upload the serially received data from aurdino to esp8266 and display it on thingspeak data is available on serially com port but not uploading to thingspeak would you please help me here my code ifdef spark u00a0 include thingspeak thingspeak h else u00a0 include thingspeak h endif u00a0 ifdef arduino_arch_esp8266 u00a0 include u00a0 include u00a0 softwareserial myserial 9 10 rx tx u00a0 char ssid myssid u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 your network ssid name u00a0 char pass mypasscode u00a0 u00a0 your network password u00a0 int status wl_idle_status u00a0 wificlient u00a0 client u00a0 endif unsigned long mychannelnumber xxxxxx instead of x their is my channel no const char mywriteapikey xxxxxxxxxxx instead of x their is my write api key const int updatethingspeakinterval 20 1000 20 second interval at which to update thingspeak long lastconnectiontime 0 variable setup boolean lastconnected false void setup u00a0 serial begin 9600 u00a0 wifi begin ssid pass u00a0 serial print connected to u00a0 serial println ssid u00a0 serial print ip address u00a0 serial println wifi localip u00a0 delay 500 u00a0 thingspeak begin client put your setup code here to run once void loop u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 float sensorvalue u00a0 u00a0 while myserial available 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 int sensorvalue myserial read u00a0 u00a0 u00a0 u00a0 u00a0 thingspeak setfield 1 sensorvalue u00a0 u00a0 u00a0 u00a0 u00a0 thingspeak setfield 2 myserial read u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 int myvalue sensorvalue sensorvalue toint u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 int sensorvalue 10 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 thingspeak writefields mychannelnumber mywriteapikey u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 delay 15000 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 serial print ensor data u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 delay 10 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 serial println sensorvalue u00a0 u00a0 this code is to just verify data sending it works promblem is with above loop u00a0float voltage 0 u00a0thingspeak writefield mychannelnumber 1 voltage mywriteapikey u00a0 thingspeak writefield mychannelnumber 2 voltage mywriteapikey u00a0serial print no_data u00a0delay 1000 u00a0,0.5
rw950431,are you sure you are reading valid values from the serial port u00a0 i wonder if you are sending blanks what happens if you add a 3rd constant value in your read loop to make sure you are sending at least one known value egwhile myserial available 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 int sensorvalue myserial read u00a0 u00a0 u00a0 u00a0 u00a0 thingspeak setfield 1 sensorvalue u00a0 u00a0 u00a0 u00a0 u00a0 thingspeak setfield 2 myserial read u00a0 u00a0 u00a0 u00a0 u00a0 thingspeak setfield 3 10 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 int myvalue sensorvalue sensorvalue toint u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 int sensorvalue 10 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 thingspeak writefields mychannelnumber mywriteapikey u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 delay 15000 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 serial print ensor data u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 delay 10 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 serial println sensorvalue u00a0 u00a0,0.88281083107
SolarEst,u00a0hello i am trying to monitor my solar system usage with arduino i can see that thingspeak is getting data by number on enteries but there are no dots on graphs u00a0what might be wrong here is the code u00a0 include spi h include ethernet h byte mac 0xd4 0x28 0xb2 0xff 0xa0 0xa1 char thingspeakaddress api thingspeak com string writeapikey const int updatethingspeakinterval 20 1000 long lastconnectiontime 0 boolean lastconnected false int failedcounter 0 ethernetclient client amprite lugemine acs712const int analogin a9 int mvperamp 66 int rawvalue 0 int acsoffset 2500 double voltage 0 double amps 0 voltide lugemine 68k 10k dividerint analoginput a8 float vout 0 0 int vin 0 0 float r1 68600 0 float r2 10000 0 int value 0 watidint watid 0 void setup pinmode analoginput input serial begin 9600 startethernet void loop watid amps vin rawvalue analogread analogin voltage rawvalue 1024 0 5000 amps voltage acsoffset mvperamp if amps 0 1 amps 0 value analogread analoginput vout value 5 0 1024 0 vin vout r2 r1 r2 if vin 0 09 vin 0 0 if client available char c client read serial print c disconnect from thingspeak if client connected lastconnected serial println disconnected serial println client stop update thingspeak if client connected millis lastconnectiontime updatethingspeakinterval updatethingspeak field1 vin updatethingspeak field3 watid check if arduino ethernet needs to be restarted if failedcounter 3 startethernet lastconnected client connected void updatethingspeak string tsdata if client connect thingspeakaddress 80 client print post update http 1 1 client print host api thingspeak com client print connection close client print x thingspeakapikey writeapikey client print content type application x www form urlencoded client print content length client print tsdata length client print client print tsdata lastconnectiontime millis if client connected serial println connecting to thingspeak serial println failedcounter 0 else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println lastconnectiontime millis void startethernet client stop serial println connecting arduino to network serial println delay 1000 connect to network amd obtain an ip address using dhcp if ethernet begin mac 0 serial println would hcp failed reset arduino to try again serial println else serial println arduino connected to network using dhcp serial println delay 1000,0.5
Vinod,what is your channel number u00a0,0.752278327942
prabhu702,hi u00a0 i would like to implement aes algorithm in c language on arduino and i want to see the performance of the arduino board in thingspeak website by means of time and speed let me know the code and the proceding,0.85460627079
Oscarb,arduino uno and wifi shield sending temp and humidity data to thingspeak channel which is not updating according to serial everything is connected correctly occasionally minimum 6 hours one data point gets plottedany help would be appreciated and any additional info requested shall be forwarded thanks in advance,0.817120075226
Karthikraja Nagendran,hi guys u00a0i have the capacitive type proximity sensor that sensor operates at 12volts and output only no and nc digital output how to send the thinkspeak fields already i send the temprature data pressure data fileds using arduino uno please guide me u00a0,0.5
jvasudev,you can directly send the states no and nc to the thingspeak channel field as they are thingspeak fields accept non numeric entries too however you may see that the field visualization does not update to see the field value you can send a get request to get the field value as shown here get a channel field feed alternatively you can encode these two states as either 0 and 1 and send the numeric value to the thingspeak field so that now you can see how the field visualization updates between these two states u00a0,0.5
Rob Purser,we have created a arduino library to connect your arduino to thingspeak you can set up the new thingspeak communication library for arduino in about 60 seconds from within the arduino ide and try out the examples right away you can read and write with just 1 line of code see the 60 second video send us your feedback rob,0.5
mdahlb,hello rob great that there is a library for arduino that connect to thingspeak but when i try to add the library in manage library i can not find thingspeak when i use the filter i follow every step in the video but still nothing will try again later best regardsmattias,0.838526844978
Rob Purser,i have found that sometimes the arduino ide caches this info and then does not always update assuming you are using windows if you go to the appdata arduino15 directory there a file called library_index json quit the arduino ide delete that file and start it up again and you should be all set on my computer this file is at c userspurserappdataroamingarduino15 rob,0.5
mdahlb,thank you for your reply i will check this tomorrow and get back to you regarding the library thank you very much regardsmattias sweden,0.957888484001
mdahlb,hello again i actually have not had any success with the thingspeak library for arduino yet i have installed the library and trying the writevoltage example i am using an arduino uno r3 with a wifi shield i started by uncomment the line below in order to use the wifi shield i have checked the ssid and password and the arduino connects to my network the channelnumber and writeapikey is correct and i even tried to change between public channel and private channel in thingspeak but without any succes i have attached a 3 v to a0 but there is no reaction at my thingspeak channel i can update the channel by a http post request but not from my arduino any suggestions best regardsmattias,0.5
hans,mattias the writevoltage example is hard coded to read analog input from pin 0 see line 89 https github com mathworks thingspeak arduino blob master examples writevoltage writevoltage ino l89you can add a print statement after this line to determine if the sensor value is being read correctly,0.5
Rob Purser,have you gotten the standard wi fi shield examples working i have found that i had to get them working first and i found i had to upgrade the firmware on the wi fi shield as well to say the least my experience with it has been mixed rob,0.175382614136
mdahlb,the problem is solved thanks for the help i updated the firmware for the wifi shield and now it works perfectly the library is great just one line of code to update the thingspeak channel perfect,0.942295074463
AYAduino,is there support for writing to the status field i had a quick look through the library tech reference but did not see any mention brad,0.85261452198
Rob Purser,hi brad there no direct support for the status field but now that you have asked for it i will work on that for now you can use the writeraw function to write fields that are not directly supported rob,0.933325171471
AYAduino,thanks rob,0.992441415787
JolynLaub,i am the new user with the arduino and want to learn more and more about it can you please tell me something more about this library i want to know which type of library is it and which type of data type and keywords it contains also is it compatible with all the arduino hardware,0.5
mpo881,rob i am interested in using thingspeak and twitter to send me a tweet when a condition changes trigger a reaction turn off that humidifier it above 60 i have been trying to follow along with the community thingtweet here http community thingspeak com tutorials arduino update twitter with thingtweet and arduino ethernet shield i downloaded the code here https github com iobridge thingspeak arduino examples blob master ethernet arduino_to_thingtweet inoand replaced string thingtweetapikey xxxmx2wyyr0ev68m with the api key that was generated when i linked my twitter account to thingspeak i have also added the thingspeak library to the sketch include the sketch compiles and loads however when i open the serial monitor i seeconnecting arduino to network arduino connected to network using dhcpconnecting to thingspeak and then that it according to the sketch i would expect to see that the connection failed no matter what i have tried i get the same results possibly you could offer some insight i am using an arduino mega 2560 r3 with an arduino poe ether shield although i am not using a poe port using arduino 1 6 5 i am able to connect to the web with a different sketch using temboo and the same hardware and am able to send myself an email via gmail any help you can provide would be appreciated sincerelybrian,0.5
hans,mpo881 the thingspeak and matlab tutorial documentation section covers a similar workflow to what you have described the tutorial covers how to create a channel how to write data to the channel how to analyze the channel data using matlab and how to perform actions when data conditions are matched from the description it appears that data from the arduino is being sent to thingspeak if so you can skip to the act section of the tutorial which hows how to send a tweet when your dew point data exceeds 60 u00b0f using thingtweet and react apps https thingspeak com docs tutorials actto summarize the major points 1 attach twitter account using the thingtweet app2 create a react app with the appropriate condition and the action thingtweet with the message to tweet,0.5
Rob Purser,hi all version 1 1 0 of these libraries now supports esp8226 devices the particle electron coming soon you can use these libraries directly from within the arduino and particle ides all the best rob,0.928959906101
homerruma,hello esp8266 real name module,0.906848490238
pljevljak,hi i could not find information what pins are defined by your library for rx and tx pins of esp8266 i am using esp8266 breakout esp 01,0.707419335842
wheato22,as a new user i need help in finding an appropriate example for aurdino with an ethernet shield my intended application is to use thingspeak to log the exact time and date of pulses that are created by my water flow rate sensor each pulse from my sensor indicates one gallon of flow i intend to use the reed switch in the meter to trigger an interrupt in the aurdino and to have the sketch write a one digit field representing one gallon of flow to my channel i assume the exact time and date will be appended to the channels log file the maximum pulses rate will be 10 minute and up to 400 per day and 15 000 month are there are sketch examples for aurdino with ethernet shield and interrupt initiated writes larry,0.5
rw950431,which ethernet shield also you will find that thingspeak has a hard limit of 15 seconds between channel updates max 4 minute so you may need to rethink your design slightly count your pulses then send the count to thingspeak every minute or so,0.5
neilh,hi i have had an early developer edition due ethernet wiznet shield running connected to xively for a couple of years and decide to switch to thingspeakseems like it would be wired ethernet shield and be transparent to the upper layer i tried the example first and i wonder if anybody can shed some light on the errorarduino 1 6 8 windows 8 1 board arduino due programming port warning library thingspeak claims to run on avr architecture s and may be incompatible with your current board which runs on esp8266 architecture s in file included from c documentsarduinolibrariesthingspeakexamplesreadweatherstationreadweatherstation ino 19 0 c documentsarduinolibrariesthingspeaksrc thingspeak h 86 8 error error only arduino yun uno mega due with either wired or wi fi ethernet shield esp8266 and spark core photon electron are supported error only arduino yun uno mega due with either wired or wi fi ethernet shield esp8266 and spark core photon electron are supported,0.5
rickylee64,i am using an esp8266 to upload data to thingspeak i would like to load this data from thingspeak to pvoutput can thingspeak code be written do this reason being it is easy to use a mcu u00a0to upload data in real time to thingspeak it is more complex with pvoutput as time date stamps are required with each data upload which means time retrieval from an ntp server plus interval measurement in my microcontroller or a rtc in my hardware my programming skills are only at arduino ide level i suspect thingspeak could do what i want but i do not know how any help appreciated u00a0,0.5
rw950431,possibly you can set up a react which triggers a thinghttp to push to pvoutput every time data is inserted into thingspeak,0.782365977764
HydroponicsMAC,hello all i thought i would share a couple of handy code fragments that i have been using while developing arduino apps with u00a0thingspeak my use case is to have u00a0the arduino out in the field running 24x7 which makes debugging difficult so i have opted for a raspberry pi connected to the serial port usb of the arduino to collect the serial output and debug what is going on u00a0my solutions means i u00a0can terminal into the pi from anywhere in the world and debug reprogram it u00a0so on to the handy lunix command connect the u00a0arduio to the pi via a usb port then run the following command to capture u00a0its u00a0serial print u00a0output into a log file on the pi with each entry prefixed with a datestamp cat dev ttyusb0 while ifs read r line do echo date line done logfile txt u00a0 that u00a0 dev ttyusb0 zero not oh additionally if you want this to run continually just like a service simple add a symbol after u00a0 line done logfile txt the second tip is to automatically reboot the arduino should it stop running again this is handy if your use case is in the field and you can not spend all day monitoring it as the arduino is running you can call on its u00a0 watchdog capability u00a0which as the name suggests monitors the arduino and if it stops responding automatically reboots it u00a0essentially what the below code does is turn on the watchdog u00a0with wdt_enable wdto_8s and tell it to wait 8 seconds before rebooting you now have 8 u00a0seconds to tell the watchdog within your code that all is well and reset the 8 second timer using u00a0wdt_reset if after u00a08 seconds you do not reset the timer the arduino will automatically reboot u00a0for more information see this include avr wdt h u00a0 you can just add this line as the library is included with every arduino idevoid loop u00a0 u00a0 u00a0 u00a0wdt_enable wdto_8s u00a0 u00a0start the watchdog u00a0 u00a0 u00a0 u00a0 do something which must finish before 8 seconds is up u00a0 u00a0 u00a0 wdt_reset u00a0 reset the timer all is well happy coding,0.817538619041
rw950431,does your setup work properly if the power goes off and both the rpi and arduino reboot u00a0 u00a0 i tried a similar setup a few years ago see my stackexchange question but found the arduino wasnt recognised after the rpi was power cycled that was using an original rpi so perhaps the later models behave better,0.217577368021
HydroponicsMAC,i have not experience the same non recognition problem with the raspberry pi 3 and arduino mega that i am using u00a0i am powering the arduino via a 9v power adaptor so its u00a0usb port is just used for serial output to the pi at at guess when the power goes off on the arduino will be up and running before the pi then when pi starts logging the arduino serial output the arduino will reboot again which can be disabled with some hardware mods http stackoverflow com questions 16224816 preventing reset on serial monitor connect u00a0,0.5
aelizondo,hi i am using an arduino mega and a gsm shield m10 modem to send data to thingspeak i found some examples that show how to send one or more parameters after a given time period that work well as long as i do not modify the loop code if i add the examples code as part of a longer bigger program the data is updated in thingspeak only the first time that the program runs has anyone have such issues before i can post the code i used to update thinspeak thanks in advance,0.925297856331
pramod,aelizondo said hi i am using an arduino mega and a gsm shield m10 modem to send data to thingspeak i found some examples that show how to send one or more parameters after a given time period that work well as long as i do not modify the loop code if i add the examples code as part of a longer bigger program the data is updated in thingspeak only the first time that the program runs has anyone have such issues before i can post the code i used to update thinspeak thanks in advance u00a0 u00a0yes i also have same problem i was able to see it also on mobile app thingview then suddenly it stopped i see entries and last update information but no data on field chart i see the chart records when i first connected i can see total 139 entries now no updates,0.9149736166
Vinod,can you test connectivity from your gsm shield are you sure the gsm shield is not going into some sort of hibernate mode before you send data to thingspeak can you program your device to ping http www thingspeak com or http www mathworks com u00a0to troubleshoot it would help if you u00a0linked your sketch here,0.5
pramod,this is my code which is copied from gsm particulatesensor examplevoid thingspeakpost u00a0 u00a0 u00a0 char itoabuffer 8 u00a0 char end_c 2 u00a0 end_c 0 0x1a u00a0 end_c 1 0 pm25 int to char u00a0 char data25 50 u00a0 string str25 u00a0 str25 string pm25 u00a0 str25 tochararray data25 50 u00a0 pm10 int to char u00a0 u00a0 char data10 50 u00a0 string str10 u00a0 str10 string pm10 u00a0 str10 tochararray data10 50 if inet connecttcp thingspeakaddress 80 u00a0 u00a0 serial println connected to thingspeak u00a0 u00a0 u00a0 u00a0 u00a0 gsm simplewrite post update http 1 1 u00a0 u00a0 u00a0 u00a0 u00a0 gsm simplewrite host api thingspeak com u00a0 u00a0 u00a0 gsm simplewrite connection close u00a0 u00a0 u00a0 gsm simplewrite x thingspeakapikey u00a0 u00a0 u00a0 u00a0 gsm simplewrite writeapikey u00a0 u00a0 u00a0 gsm simplewrite u00a0 u00a0 u00a0 gsm simplewrite content type application x www form urlencoded u00a0 u00a0 u00a0 gsm simplewrite content length u00a0 u00a0 u00a0 u00a0 sprintf sentmsg field1 s data25 u00a0 u00a0 itoa strlen sentmsg itoabuffer 10 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 gsm simplewrite itoabuffer u00a0 u00a0 u00a0 inet httppost api thingspeak com 80 update key b325m1u9wb2jgc9z field1 itoabuffer u00a0 gsm simplewrite put https api thingspeak com channels 137269 api_key k9wnhi32j4346gl6 u00a0 u00a0 gsm simplewrite api_key k9wnhi32j4346gl6 u00a0 u00a0 gsm simplewrite name updated channel u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 gsm simplewrite pm25 u00a0 u00a0 u00a0 u00a0 gsm simplewrite u00a0 u00a0 u00a0 u00a0 gsm simplewrite sentmsg u00a0 u00a0 u00a0 u00a0 gsm simplewrite u00a0 u00a0 u00a0 u00a0 gsm simplewrite end_c u00a0 u00a0 delay 20000 u00a0 u00a0 u00a0 serial println update to thingspeak,0.5
Vinod,it appears that your code has u00a0some debugging statements it prints to the serial port you should be able to u00a0program your arduino and monitor the output on the u00a0serial port to look at the u00a0messages are being printed that will help you isolate the problem your starting point u00a0is to see what messages are being printed to the arduino serial monitor ctrl shift m in the arduino ide when your sketch is running try to u00a0write out some more messages using serial println as debugging u00a0aids u00a0between the different steps if your sketch is based on this one are you seeing failed messages in your serial monitor this would indicate that the connection is being dropped etc note that based on just this code snippet depending on u00a0how often you call this function you could be trying to post to http www thingspeak com every 0 02 seconds this is u00a0likely just wasting your gprs data as u00a0the current data rate to http www thingspeak com is one write per channel every 15 seconds,0.5
aelizondo,hi thanks for the recommendations and sorry about my delayed reply vinod i was using a different code than the one posted by pramod and i found the problem on mine there were a couple of validations made every time the code ran reading data from the website i was trying to connect to and then validating whether the client was still connected the example i used as a baseline made updates every 5 minutes and in my case i needed to send the udpates that were event triggered so i got read of the two validations forcing the client to connect when the event took place and diisconnect right after the update was made i hope this makes sense alonso,0.810908675194
Luis_Filipe,hello guys u00a0i want to collect data to thingspeak by a analog a0 input with wifi communication the problem is that i u00b4cannot setup by yun shield to send data i test with a ethernet shield and everything is correct but with the yun shield the data is not be send look the code u00a0 ifdef spark include thingspeak thingspeak h else include thingspeak h endif define voltage_max 5 0 define voltage_maxcounts 1023 0 define use_wifi_shield include bridgeclient h bridgeclient client unsigned long mychannelnumber 1xx47 const char mywriteapikey xxxxxxxxxxt7svdmcj5 include spi h include wifi h char ssid myssid u00a0 char pass mypassword u00a0 int status wl_idle_status void setup bridge begin wifi begin ssid pass thingspeak begin client void loop int sensorvalue analogread a0 float voltage sensorvalue voltage_max voltage_maxcounts thingspeak writefield mychannelnumber 1 voltage mywriteapikey delay 20000 thingspeak will only accept updates every 15 seconds u00a0what is wrog any ideia u00a0thanks in advance,0.5
jpsabo,i believe you just need to remove these includewifi begin ssid pass i use a yun shield on a mega2560 as well the yun shield connects to my local network and then sends results either to thingspeak com or to a local install of thingspeak also did you put a jumper across the very first pair u00a0of pins directly below u00a0from the mounting hole in the board on the top left side for the icsp for 16u2 usb interface when the yun shield is mounted to the mega2560 that pair of pins need to be jumpered for the yun shield to work with the mega2560 you will then compile your sketch and save the hex file to disk and then log into the yun shield and upload that hex file from the directory where it was placed same as the location of the ino file 2 versions of the hex file will be created 1 with a boot loader and 1 without i use the one without the boot loader and it seems to work okay more details can be found here u00a0http wiki dragino com index php title yun_shield connect_to_arduino_mega2560,0.5
Luis_Filipe,ok solve the issue thanks a lot,0.889169991016
Smitty,how best to achieve this not getting a successful compile from the below sketch very much a newb with thingspeak and arduino u00a0 arduino mega 2560 wifi weather station u00a0 july 2016 by john d smith zl4co u00a0 include ethernet h include onewire h include dallastemperature h include thingspeak h byte mac 0xde 0xad 0xbe 0xef 0xfe 0xed assign an ip address for the controller ipaddress ip 0 0 0 0 initialize arduino ethernet clientethernetclient client initialize the ethernet server library with the ip address and port you want to use port 80 is default for http ethernetserver server 80 thingspeak settingsunsigned long mychannelnumber secret const char mywriteapikey there are currently 2 x trial ds18b20 1 wire digital temperature sensors 1 wire data wire is plugged into digital pin 12 on the arduino define one_wire_bus 12 setup a onewire instance to communicate with any onewire devicesonewire onewire one_wire_bus pass our onewire reference to dallas temperature dallastemperature sensors onewire assign the addresses of the 1 wire temp sensors deviceaddress temp1 0x28 0xff 0x7f 0x71 0x2c 0x04 0x00 0x79 deviceaddress temp2 0x28 0xec 0xab 0x1e 0x00 0x00 0x80 0xa8 void setup void start serial port serial begin 9600 start up the library sensors begin set the resolution to 10 bit good enough sensors setresolution temp1 10 sensors setresolution temp2 10 thingspeak begin client void printtemperature deviceaddress deviceaddress float tempc sensors gettempc deviceaddress if tempc 127 00 serial print error getting temperature else serial print c serial print tempc serial print f serial print dallastemperature tofahrenheit tempc void loop void delay 10000 serial print getting temperatures sensors requesttemperatures serial print temp 1 is printtemperature temp1 serial print serial print temp 2 is printtemperature temp2 serial print serial print delay 200 update the thingspeak channel float pinvoltage sensors temp1 thingspeak setfield 1 pinvoltage pinvoltage sensors temp2 thingspeak setfield 2 pinvoltage write the fields that you have set all at once thingspeak writefields mychannelnumber mywriteapikey serial print temperatures uploaded to cloud delay 80000 it is in this part here i am not sure how to access my temp1 and temp2 values for thingspeak,0.5
rw950431,for a start the thingspeak section is outside the loop so probably wont compile use the arduino ide tools format menu to nicely indent your code so its easy to pick these things up u00a0i suggest you work through some of the examples that come with the thingspeak library and go from there,0.703337430954
HydroponicsMAC,here the code i am using which is doing something similar include thingspeak h unsigned long mychannelnumber 123456789 const char mywriteapikey abcdefghijk include spi h include ethernet h byte mac 0xde 0xad 0xbe 0xef 0xfe 0xed de ad be ef fe ed internal static ip is 192 168 0 52ethernetclient client include onewire h include dallastemperature h onewire onewire 3 dallastemperature onewire_sensors onewire include would ht h define plant_dhtpin 2 define dhttype dht11dht plant_dht plant_dhtpin dhttype define rain_sensor_digital 4float fltenviromenttemp 0 fltplanttemp 0 fltreservoirtemp 0 int i intplanthumidity 0 intsensoralarm 0 intrainalarm 0 boolean blnrainalarmnotified false void setup serial begin 9600 pinmode rain_sensor_digital input serial println f v __date__ __time__ serial print f tarting network ethernet begin mac serial print f thingspeak thingspeak begin client serial println f and sensors onewire_sensors begin plant_dht begin void loop serial println f are ading sensors rain sensor if digitalread rain_sensor_digital serial println f warning rain detected alarm activated intrainalarm 1 blnrainalarmnotified true else intrainalarm 0 blnrainalarmnotified false onewire sensors onewire_sensors requesttemperatures fltenviromenttemp onewire_sensors gettempcbyindex 0 fltplanttemp onewire_sensors gettempcbyindex 1 fltreservoirtemp onewire_sensors gettempcbyindex 2 dht11 sensor intplanthumidity plant_dht readhumidity serial print f environment serial print fltenviromenttemp serial println f c serial print f plant serial print fltplanttemp serial println f c serial print f planthumidity serial print intplanthumidity serial println f serial print f are servoir serial print fltreservoirtemp serial println f c serial print f rainalarm serial println intrainalarm if fltenviromenttemp 127 00 fltplanttemp 127 00 fltreservoirtemp 127 00 isnan intplanthumidity intplanthumidity 0 serial println f warning sensor problem alarm activated intsensoralarm 1 else serial println f ensors are ok intsensoralarm 0 thingspeak setfield 1 fltenviromenttemp thingspeak setfield 2 fltplanttemp thingspeak setfield 3 intplanthumidity thingspeak setfield 4 fltreservoirtemp thingspeak setfield 5 intrainalarm thingspeak setfield 6 intsensoralarm serial println f updating thingspeak thingspeak writefields mychannelnumber mywriteapikey thingspeak only accept updates every 15 secondsserial println f finished updating serial println f leeping for 15 minutes for i 0 i 45 i 15 minutes 45 20 000 900 000 delay 20000 wait 20 seconds serial println f checking for rain if digitalread rain_sensor_digital serial println f warning rain detected alarm activated if blnrainalarmnotified false serial println f updating thingspeak thingspeak writefield mychannelnumber 5 1 mywriteapikey serial println f finished updating blnrainalarmnotified true else serial println f already updated thingspeak,0.5
hickse,i have successfully compiled a sketch that collects and displays an analog temperature 2 of 4 u00a0ds18b20 sensors and a digital temperature and humidity output from a dht11 sensor u00a0all sensor data mirrors on the com port but 2 of the ds18b20 fields do not display on thingspeak u00a0when i include those fields no data is updated on thingspeak u00a0when i comment them out all other data is updated the sketch follows writemultiplesensors this sketch builds upon v5 by trying to incorporate 2 more ds18b20 sensors for field 4 and 5 independant of the field 2 and 3 sensors this sketch successfully logs 1 analog 2 ds18b20 signals and 1 set of dht11 data it does not transmit field 3 and field 4 from the ds18b20 sensor do not know if it is a voltage issue or a string composition limitation include thingspeak h include onewire h include spi h include dallastemperature h include dht h use wired ethernet shield include spi h include ethernet2 h make sure there is a 2 after ethernet byte mac 0xde 0xad 0xbe 0xef 0xfe 0xed ethernetclient client analog pin setup on arduino 0 1023 maps to 0 5 volts define voltage_max 5 0 define voltage_maxcounts 1023 0 define dht11 for room temperature and humidity measurement define dhtpin 4 what digital pin we are connected to digital pin 4 in this case define dhttype dht11 dht 11 dht dht dhtpin dhttype ds1820 setup a onewire instance to communicate with any onewire devices data wire is plugged into pin 3 on the arduino define one_wire_bus 3 define one_wire_bus 5 onewire onewire one_wire_bus pass our onewire reference to dallas temperature dallastemperature sensors onewire assign the addresses of 1 wire temp sensors deviceaddress hpwh_tempout 0x28 0x37 0x08 0x1e 0x07 0x00 0x00 0x1f tested deviceaddress hpwh_tempin 0x28 0x80 0x8d 0x1c 0x07 0x00 0x00 0x83 tested deviceaddress dwh_tempout 0x28 0x92 0x38 0x1d 0x07 0x00 0x00 0xa4 not working when dht11 robs power deviceaddress dwh_tempin 0x28 0xa4 0xa8 0x2a 0x07 0x00 0x00 0x82 shows at serial print but not on thinkspeak maybe voltage problemunsigned long mychannelnumber 130737 const char mywriteapikey f0qa9uvaqwwq0g1e void setup start serial for debugging on the serial monitor serial begin 9600 ethernet begin mac thingspeak begin client sensors begin set the resolution to 10 bit way more than i need sensors setresolution hpwh_tempout 10 sensors setresolution hpwh_tempin 10 sensors setresolution dwh_tempout 10 sensors setresolution dwh_tempin 10 temp debugging of the dht11 sensor serial println would htxx test dht begin void loop reading dht11 temperature or humidity takes about 250 milliseconds sensor readings may also be up to 2 seconds old its a very slow sensor int h dht readhumidity int humidity h 1 25 correction multiplier read temperature as celsius the default float t dht readtemperature read temperature as fahrenheit isfahrenheit true float f dht readtemperature true check if any reads failed and exit early to try again if isnan h isnan t isnan f serial println failed to read from dht sensor return read the input on each pin convert the reading and set each field to be sent to thingspeak on arduino 0 1023 maps to 0 5 voltsfloat pinvoltage analogread a0 voltage_max voltage_maxcounts float tmp36 pinvoltage 0 5 100 9 5 32 print temperatures serial print getting temperatures serial print tmp36 room temperature serial println tmp36 sensors requesttemperatures float hpwhtempout sensors gettempf hpwh_tempout float hpwhtempin sensors gettempf hpwh_tempin float dwhtempout sensors gettempf dwh_tempout float dwhtempin sensors gettempf dwh_tempin serial print heat pump water temp out is field 2 serial print hpwhtempout serial print f serial print serial print heat pump water temp in is field 3 serial print hpwhtempin serial print f serial print serial print water tank temp out is field 4 serial print dwhtempout serial print f serial print serial print water tank temp in is field 5 serial print dwhtempin serial print f serial print serial print humidity serial print humidity serial println rh serial print would ht11 temperature serial print f 9 serial println ft the following lines of code convert the dht11 individual values to strings that thingspeak can us string h dec string f dec the following lines of code convert ds19b20 to a string value that thingspeak can use string hpwhtempout dec thingspeak field 2 string hpwhtempin dec thingspeak field 3 string dwhtempout dec thingspeak field 4 string dwhtempin dec thingspeak field 5 char buffer 12 string tempstr dtostrf hpwhtempout 6 2 buffer string tempstr2 dtostrf hpwhtempin 6 2 buffer string tempstr3 dtostrf dwhtempout 6 2 buffer thingspeak setfield 1 tmp36 pinvoltage analogread a1 voltage_max voltage_maxcounts thingspeak setfield 2 hpwhtempout thingspeak setfield 3 hpwhtempin thingspeak setfield 4 dwhtempout thingspeak setfield 5 dwhtempin thingspeak setfield 6 f thingspeak setfield 7 humidity pinvoltage analogread a7 voltage_max voltage_maxcounts thingspeak setfield 8 pinvoltage write the fields that you have set all at once thingspeak writefields mychannelnumber mywriteapikey delay 20000 thingspeak will only accept updates every 15 seconds,0.5
rw950431,have you tried setting dwhtempin to a fixed value and testing if that updates correctly u00a0 are you sure you have enabled channels 4 and 5 on your thingspeak channel and that the value is within the range you set u00a0does it work if you disable the dht11 and send only the ds1820 temps i have not used the arduino ts client but these may narrow down the problem a bit u00a0 you may wish to change your api key now that you have posted the old one to the internet,0.0843203365803
hickse,thanks for looking at this u00a0i tried to set dwhtemp to a fixed value and uncomment it and that did not work when i disable the dht11 temp i can include 1 more ds18b20 sensor and get it to show in a thingspeak field for a total of 5 fields that made me think there is a limit to 4 5 fields u00a0without changing some parameter i then created a sketch with 8 identical analog fields none presented to thingspeak i then eliminated all but the first field and it showed 1 field on thingspeak u00a0i then included 1 more and tested out the presentation u00a02 fields presented i than kept incrementing the number of fields included in the sketch and when i got to 5 none were presenting updating this is consistent with what i am experiencing in the original sketch u00a0this indicates to me that it is not an issue of string configuration as i tried the above test with and without the variable being labeled as a string any thoughts or guidance would be very much appreciated,0.5
hickse,i got the writemultiplevoltages sketch to produce 8 fields so it has something to do with the digital reads damn u00a0ds18b20 are more accurate than tms36s,0.168067127466
rw950431,thats weird maybe its a memory corruption problem or something with the thingspeak arduino client or maybe the total length of the data being sent exceeds some preset limit and gets chopped off is it that it only sends field1 to field5 or will it work with say field3 to field8 u00a0unfortunately thingspeak doesnt have a debug console so you can view u00a0 you might try saving the return code from writefields and printing it out to see if you can spot a pattern u00a0otherwise you might be forced to hack into the source code according to https github com mathworks thingspeak arduino blob master src thingspeak h if you locate the file thingspeak h on your computer and add define print_debug_messagesnear the other define statements it might produce some helpful comments,0.0875360965729
Coolio11,i just installed thingspeak locally on a raspberry pi the server seems to be working well and i can successfully update my channels using python scripts but when using the official thingspeak library for arduino i am unable to make a connection to the local server previously i had been using the library successfully for updating data to api thingspeak com i have tried using u00a0thingspeak begin client 192 168 0 178 3000 which contains the correct url and port number of my local installation but that does not work i have tried modifying the library h file and replacing api thingspeak com with my url and the port 80 in the code with my local port number but that does not work either is there a known problem with using the thingspeak library with a local installation is there a way i can get this to work alternatively i will just go back to the older way of doing it by not using the library thanks,0.173515409231
Coolio11,i tried it like this too u00a0thingspeak begin client ipaddress 192 168 0 178 3000 u00a0but that did not work either then i enabled debug printing from the library and this is the result i get i removed the writeapikey ts setfield field 1 value 0 ts setfield field 2 value 0 ts setfield field 3 value 0 ts setfield field 4 value 0 ts setfield field 5 value 0 ts setfield field 6 value 0 ts writeraw channelnumber 3 writeapikey xxxxxxxxxx u00a0postmessage field1 0 field2 0 field3 0 field4 0 field5 0 field6 0 connect to 192 168 0 178 success post field1 0 field2 0 field3 0 field4 0 field5 0 field6 0 headers false are sult code 200it looks like it connecting okay and the result code is 200 which should mean that there are no problems but no data gets posted to the channel i have tried changing to a different channel with a different api key but still it does not work everything else is working with my local installation including reading data from multiple channels and writing data with python i just can not get the arduino to post the data with the library or without,0.5
Coolio11,i finally figured it out it only works if rails is using webrick instead of the default thin server if i do rails server webrick then i am able to upload data from the arduino either from the official library or without the library,0.308897256851
jpsabo,thanks for the posting u2026this is just what i needed to get an arduino yun talking to my local thingspeak server ubuntu 14 04 4 server amd64 on vmware fusion 6 0 6 void setup pass custom ip address 10 0 1 196 and port number 3000 to thingspeakthingspeak begin client ipaddress 10 0 1 196 3000 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u2026other setup code u00a0complete test sketch upload random numbers to a local thingspeak server thingspeak server is running as a virtual machine in vmware optimally assign a static ip address to the virtual machine so that ip address can stay fixed in the sketch include thingspeak h define mychannelnumber u00a0put_thingspeak_channel_here define mywriteapikey api write key goes inside the quotes include yunclient h yunclient client void setup pinmode 13 output initialize digital pin 13 as an outputbridge begin start bridgethingspeak begin client ipaddress 10 0 1 196 3000 pass custom ip address and port local vmware thingspeak server to thingspeak void loop float v1 v2 v3 v4 digitalwrite 13 high turn the led on high is the voltage level delay 500 digitalwrite 13 low turn the led off by making the voltage low delay 500 digitalwrite 13 high turn the led on high is the voltage level delay 500 digitalwrite 13 low turn the led off by making the voltage low thingspeak setfield 1 random 5 9 10 0f random 5 9 1 0f place data into thingspeak fields thingspeak setfield 2 random 5 9 10 0f random 5 9 1 0f thingspeak setfield 3 random 5 9 10 0f random 5 9 1 0f thingspeak setfield 4 random 5 9 10 0f random 5 9 1 0f thingspeak writefields mychannelnumber mywriteapikey write the fields all at once to the thingspeak serverdelay 15000 delay next write for 15 sec thingspeak minimum update frequency,0.5
sayanbhattacharyya,hi guys let me introduce you to hackpod an advanced microcontroller platform we developed over the last 2 years hackpod is a fast and powerful electronics development platform in a portable smartphone form factor it is based on a 32 bit arm cortex m4 chip running at a clock speed of 72 mhz and is programmable by the arduino ide and c language it also features an integrated touchscreen lcd in built protoboard and smt space expandable memory and a rechargeable battery please check it out atour website https hackpod github ioour blog https hackpod gitbooks io blog content our facebook page http www facebook com gethackpodwe welcome you to post your feedback and suggestions thanks in advance for your support we will be crowdfunding u00a0 via indiegogo starting this june 15th to be notified when we launch please fill this form https hackpod github io notify to avail an early bird offer on hackpod you may sign up here https hackpod github io earlybird,0.5
hanguyen,below is the code which i run sucessful to upload analogread a0 successful post temp values from a ds18b20 to thingspeak using the ethercard interface based on the enc28j60 chip based on the ethercard example from http www jeelabs org phil grant jan 2014 include change these settings to match your own setup define apikey xxxxxxxxxxxx write api key ethernet interface mac address must be unique on the lanbyte mymac 0x74 0x69 0x69 0x2d 0x30 0x31 char website progmem api thingspeak com byte ethernet buffer 700 uint32_t timer stash stash void setup serial begin 57600 serial println webclient if ether begin sizeof ethernet buffer mymac 0 serial println failed to access ethernet controller if ether dhcpsetup serial println would hcp failed ether printip ip ether myip ether printip gw ether gwip ether printip would ns ether dnsip if ether dnslookup website serial println would ns failed ether printip rv ether hisip void loop ether packetloop ether packetreceive if millis timer timer millis 16000 transmit every minute sensors requesttemperatures delay 200 generate two fake values as payload by using a separate stash we can determine the size of the generated message ahead of time byte sd stash create stash print field1 stash println string analogread a0 dec stash save generate the header with payload note that the stash size is used and that a tash descriptor is passed in as argument using h stash prepare pstr post update http 1 1 host f connection close x thingspeakapikey f content type application x www form urlencoded content length d h website pstr apikey stash size sd send the packet this also releases all stash buffers once done ether tcpsend,0.5
angeloventura,great job which library works do you have a link thank u,0.939544200897
josepbj,hey there the last week i was working to create an sketch that uploads and retrieve data from a thingspeak channel even though it was quite tough the reason why i am sharing it i did quite quick and not taking in consideration much of clean and reusable code i will work in the next days to clean everything and work on a library u00a0here you have the github link if you want to take a look and get some ideas u00a0josep u00a0https github com josepbordesjove esp8266_iot,0.908575296402
dave1829,u00a0i have tried so many iterations for example include thingspeak h unsigned long upstairsplenumch1apikeychnum xx const char upstairsplenumch1apikey 123 unsigned long upstairsplenumch2apikeychnum yy const char upstairsplenumch2apikey 456 unsigned long upstairsplenumch3apikeychnum zz const char upstairsplenumch3apikey 789 unsigned long upstairsplenumch4apikeychnum ww const char upstairsplenumch4apikey 987 then do stuffthen void dataloggingthingspeakch1 sends the ch1 variables to thingspeakthingspeak writefield upstairsplenumch1apikeychnum 1 medianrooftemp upstairsplenumch1apikey thingspeak writefield upstairsplenumch1apikeychnum 2 roofvapourpres upstairsplenumch1apikey thingspeak writefield upstairsplenumch1apikeychnum 3 medianhousetemp upstairsplenumch1apikey thingspeak writefield upstairsplenumch1apikeychnum 4 housevapourpres upstairsplenumch1apikey thingspeak writefield upstairsplenumch1apikeychnum 5 medianexterntemp upstairsplenumch1apikey thingspeak writefield upstairsplenumch1apikeychnum 6 externvapourpres upstairsplenumch1apikey thingspeak writefield upstairsplenumch1apikeychnum 7 medianlivingtemp upstairsplenumch1apikey thingspeak writefield upstairsplenumch1apikeychnum 8 livingvapourpres upstairsplenumch1apikey void dataloggingthingspeakch2 sends the ch2 variables to thingspeakthingspeak writefield upstairsplenumch2apikeychnum 1 medianbed1temp upstairsplenumch2apikey thingspeak writefield upstairsplenumch2apikeychnum 2 bed1vapourpres upstairsplenumch2apikey thingspeak writefield upstairsplenumch2apikeychnum 3 medianbed2temp upstairsplenumch2apikey thingspeak writefield upstairsplenumch2apikeychnum 4 bed2vapourpres upstairsplenumch2apikey thingspeak writefield upstairsplenumch2apikeychnum 5 roofdewpoint upstairsplenumch2apikey thingspeak writefield upstairsplenumch2apikeychnum 6 housedewpoint upstairsplenumch2apikey thingspeak writefield upstairsplenumch2apikeychnum 7 externdewpoint upstairsplenumch2apikey thingspeak writefield upstairsplenumch2apikeychnum 8 livingdewpoint upstairsplenumch2apikey void dataloggingthingspeakch3 sends the ch3 variables to thingspeakthingspeak writefield upstairsplenumch3apikeychnum 1 bed1dewpoint upstairsplenumch3apikey thingspeak writefield upstairsplenumch3apikeychnum 2 bed2dewpoint upstairsplenumch3apikey thingspeak writefield upstairsplenumch3apikeychnum 3 settarget upstairsplenumch3apikey thingspeak writefield upstairsplenumch3apikeychnum 4 setcooling upstairsplenumch3apikey thingspeak writefield upstairsplenumch3apikeychnum 5 setwarming upstairsplenumch3apikey thingspeak writefield upstairsplenumch3apikeychnum 6 setshutofffunction upstairsplenumch3apikey thingspeak writefield upstairsplenumch3apikeychnum 7 setlivingoutlet upstairsplenumch3apikey thingspeak writefield upstairsplenumch3apikeychnum 8 setbedsoutlet upstairsplenumch3apikey dataloggingthingspeakch4 void dataloggingthingspeakch4 sends the ch4 variables to thingspeakthingspeak writefield upstairsplenumch4apikeychnum 1 closelivingoutlet upstairsplenumch4apikey thingspeak writefield upstairsplenumch4apikeychnum 2 closebedroomsoutlet upstairsplenumch4apikey thingspeak writefield upstairsplenumch4apikeychnum 3 settoiletoff upstairsplenumch4apikey thingspeak writefield upstairsplenumch4apikeychnum 4 upstairsplenumsmoke upstairsplenumch4apikey thingspeak writefield upstairsplenumch4apikeychnum 5 upstairsplenumco2 upstairsplenumch4apikey thingspeak writefield upstairsplenumch4apikeychnum 6 basementplenumsmoke upstairsplenumch4apikey thingspeak writefield upstairsplenumch4apikeychnum 7 basementplenumco2 upstairsplenumch4apikey thingspeak writefield upstairsplenumch4apikeychnum 8 newvariable upstairsplenumch4apikey u00a0but getting error call of overloaded writefield long unsigned int int double const char is ambiguousany suggestions,0.5
rw950431,did you look at the writemultiplevoltages example from the ts library even if you solve your compile errors it wont work because ts limits updates to one every 15 seconds per channel so only the field 1 update will succeed its possible you have the wrong board type set can you compile and run any of the example programs that came with the library i always find that getting the examples to run is a good way to ensure your environment is set up correctly alternatively i note that the examples use float for the value but the error implies you supply would ouble perhaps this is tripping up the compiler,0.174817204475
sinet666,hi i can successfully upload data using arduino esp8266 and thingspeak u00a0now i need your help on how i can control my arduino example blink an led using thingspeak talkback another example would be lets say i want to turn any device on or off using internet only ie if someone is not near the arduino to which all components are connected and he she wishes to control my devices using the thingspeak and the internet any suggestions would be deeply appreciated thank you regards k raghavendran,0.855269134045
rw950431,have you looked at the section off the thingspeak documentation call update a channel and execute the next talkback command your program needs to read through the response it gets from thingspeak and look for the text set by the talkback u00a0 there is some example code at http bildr org 2011 06 arduino ethernet client but you may have to adapt it to esp8266,0.5
auliandini,i have same problem with sinet666 and i already look at the example code but dont have any idea with that tho anyone can help with other example for arduino and esp8266,0.0966066718102
gregp228,the thingspeak u00a0communication library for u00a0arduino has location functions thingspeak keyword1begin keyword2writefield keyword2setfield keyword2setlatitude keyword2setlongitude keyword2setelevation keyword2writeraw keyword2writefields keyword2readfloatfield keyword2readintfield keyword2readlongfield keyword2readstringfield keyword2readraw keyword2getlastreadstatus keyword2i am unable to get these to work int setlatitude float latitude ifdef print_debug_messages serial print ts setlatitude latitude serial print latitude 3 serial println endif this nextwritelatitude latitude return ok_success brief set the longitude of a multi field update to record latitude longitude and elevation of a write call setfield for each of the fields you want to write setlatitude setlongitude setelevation and then call writefields param longitude longitude of the measurement degrees e use negative values for degrees w return http status code of 200 if successful see getlastreadstatus for other possible return values see setfield setlatitude setelevation writefields code void loop int sensor1value analogread a0 float sensor2voltage analogread a1 5 0 1023 0 string sensor3meaning int sensor3value analogread a2 if sensor3value 400 sensor3meaning string too cold else if sensor3value 600 sensor3meaning string too hot else sensor3meaning string just right long timeread millis thingspeak setfield 1 sensor1value thingspeak setfield 2 sensor2voltage thingspeak setfield 3 sensor3meaning thingspeak setfield 4 timeread setlatitude 42 2833 setlongitude 71 3500 setelevation 100 thingspeak writefields mychannelnumber mywriteapikey delay 20000 endcode the example from the library however does not work and setlatitude will not compileany help with this would be appreciated12,0.5
sheahudson,hello can anyone help me i am new in learning about thingspeak and arduino i want to make send data from lm35 that connected to arduino to thingspeak using ethernet shield the program can be run but thingspeak does not update any of the data receive how do i fixed this this is the sample code that i have try thank you u00a0 include spi h include ethernet h int val int temppin 0 float tempc local network settingsbyte mac 0xde 0xad 0xbe 0xef 0xfe 0xef must be unique on local network thingspeak settingschar thingspeakaddress api thingspeak com string writeapikey 24au1ncyhnixfyen variable setuplong lastconnectiontime 0 boolean lastconnected false int failedcounter 0 initialize arduino ethernet clientethernetclient client void setup serial begin 9600 start ethernet on arduino startethernet void loop int val 0 for int i 0 i 10 i val analogread temppin delay 200 float tempc val 50 0f 1023 0f char buf 16 read value from input pinstring lm35 dtostrf tempc 4 1 buf serial println lm35 print update response to serial monitor if client available char c client read serial print c disconnect from thingspeak if client connected lastconnected serial println disconnected serial println client stop update thingspeak if client connected updatethingspeak lm35 delay 25000 check if arduino ethernet needs to be restarted if failedcounter 3 startethernet lastconnected client connected update the thingspeak string with 1 valuevoid updatethingspeak string m if client connect thingspeakaddress 80 string cmd writeapikey field1 m serial println connecting to thingspeak serial println ending data client print post update http 1 1 client print host api thingspeak com client print connection close client print x thingspeakapikey writeapikey client print content type application x www form urlencoded client print content length client print cmd length client print client print cmd serial println f would one serial println f waiting 30 sec for next sending lastconnectiontime millis if client connected failedcounter 0 client stop else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println lastconnectiontime millis void startethernet client stop serial println connecting arduino to network serial println delay 1000 connect to network amd obtain an ip address using dhcp if ethernet begin mac 0 serial println would hcp failed reset arduino to try again serial println else serial println arduino connected to network using dhcp serial println delay 1000 dtostrf float to string char dtostrf float val signed char width unsigned char prec char sout char fmt 20 sprintf fmt d df width prec sprintf sout fmt val return sout,0.5
dukeofboz,hi there i have tried to use the arduino 1sheeld www 1sheeld com to send sensor data to my fields in my thingspeak private channel that worked fine now i am trying to do the opposit getting data from field1 field2 field3 from my private thingspeak channel to trigger 3 leds does the thingspeak library work with 1sheeld if not what should the script in arduino be without the library used,0.5
mdahlb,hello i am trying to read the last value and the date time from a private channel to my arduino i can easily get the last value using the official thingspeak library for arduino and the are adprivatechannel example u00a0but what about the timestamp date time for that last value it not a part of the thingspeak library i think i can access the last value and the timestamp by a get request and get a return in json format this is my privat channel https api thingspeak com channels 106334 fields 1 last json key j38y445rb2g9fnl0 timezone europe 2fstockholm u00a0how do i make my arduino to are ad this url i been trying to make a get request but without any success u00a0regardsmattias,0.5
rw950431,maybe you have to use readraw and parse the string yourself u00a0from https github com mathworks thingspeak arduino blob master src thingspeak h brief read a raw response from a public thingspeak channel param channelnumber channel number param urlsuffix raw url to write to thingspeak as a string see the documentation at https thingspeak com docs channels get_feed return response if successful or empty string use getlastreadstatus to get more specific information remark this is low level functionality that will not be required by most users code void loop string response thingspeak readraw mychannelnumber string feeds days 1 serial print are sponse serial print response delay 30000 endcode,0.5
mdahlb,thanks well i managed to get the age in seconds u00a0of the most recent entry by adding the following code string response thingspeak readraw mychannelnumber string string fields string 1 string last_data_age myreadapikey serial print are sponse serial print response u00a0so i get the age in seconds although then i have to convert it into a date and time hmm i would be more convinient if i just could get the time date at once,0.706191241741
ommakana,hello i am new to thingspeak i was working with gas sensors and i wanted to send the sensor data to thingspeak channel that i created so as to get the graph of the sensor data i am using sim 900 module to get the internet connection but do not know how to do it please provide some help to do so thanks in advance,0.5
rw950431,sim900 what arduino raspberry pi something else you are likely to get more help if you give more detail about your setup,0.698614418507
mdahlb,i made it work with arduino,0.848759055138
disha,i got a very basic program just reading sensor values displayed on thingspeak with live updation w o even requirement of refreshing the page now i wanted to implement it in some other project wherein i want to keep the source voltage at around a fixed decided value in my case it 14 85v 15v and i am continuously monitoring this value and keeping same by either increasing or decreasing pwm given to the mosfet and then also want to display these results of source voltage on thingspeak here is my program u00a0 include timerone h include int source_voltage a0 long int value_temp float analog int float value_temp1 int i 0 j 0 int freq 10 define debug false comment out to remove debug msgs hardware serial define _baudrate 9600 software serial define _rxpin 0 define _txpin 1 softwareserial debug _rxpin _txpin rx tx iot information define ssid would isha define pass fiftyfive55 define ip 184 106 153 149 thingspeak ip address 184 106 153 149 get update key thingspeak_key field1 data 1 field2 data 2 string get get update key pt41qr66hl1nh8lu void setup pinmode freq output pinmode source_voltage input timer1 initialize 50 initialize timer1 and set a 1 2 second period timer1 pwm 10 0 serial begin _baudrate debug begin _baudrate senddebug at delay 5000 if serial find ok debug println are ceived ok data ready to sent connectwifi void loop char buf 16 while analog source_voltage 15 this loop maintains source voltage at 15v i if i 0 i 1 for j 0 j 10 j timer1 setpwmduty 10 i value_temp1 analog source_voltage source voltage calculated and stored as float value string temp dtostrf value_temp1 4 1 buf converts float to string as thingpeak accepts only string updatets temp this calculated value is sent for updation on channeldelay 3000 i if i 1023 i 1022 for j 0 j 10 j timer1 setpwmduty 10 i value_temp1 analog pulse string temp dtostrf value_temp1 4 1 buf updatets temp delay 3000 wait as thingspeak updates every 3 seconds float analog int x subroutine to calculate source voltage int i 0 int out out analogread x float out1 out 1023 0 4 9 float out2 out1 21 58 98 24 21 58 return out2 update the thingspeak string with 3 values void updatets string t esp8266 client string cmd at cipstart tcp setup tcp connection cmd ip cmd 80 senddebug cmd delay 2000 if serial find error debug print are ceived error exit1 return u00a0cmd get field1 t serial print at cipsend serial println cmd length if serial find debug print debug print cmd serial print cmd else senddebug at cipclose close tcp connection if serial find ok debug println are ceived ok else debug println are ceived error exit2 void senddebug string cmd debug print end debug println cmd serial println cmd boolean connectwifi serial println at cwmode 1 wifi sta mode if 3 it is both client and ap delay 2000 connect to router with at cwjap sid password check if connected with at cwjap string cmd at cwjap join accespoint cmd ssid cmd cmd pass cmd senddebug cmd delay 5000 if serial find ok debug println are ceived ok return true else debug println are ceived error return false cmd at cipmux 0 set single connection senddebug cmd if serial find error debug print are ceived error return false now in void loop you can see that there is a loop which always maintains the source voltage fixed at around 14 85 or 15v and the same is updated using function updatets temp here some contradictory results i have got that is 1 when i just wanted to check source voltage whether remained at desire value w o bothering for utilizing thingspeak evreything worked fine 2 but in void loop when i included that functionupdatets temp the source voltage sat at open circuit voltage and the same values got displayed and when i commented that function and very next line i e delay 3000 everything again worked those two code lines are very important for updating on thingspeak what do you will think why is this happening how can i solve this,0.5
rw950431,note that thingspeak updates can be no more often than 15 seconds so you need to choose a different service if you want 5 second updates adding the call to updatets and the delay adds at least 5 seconds to every iteration of the inner loop so by the time you do this 10 times almost a minute has passed before you can change the voltage at all why do you call setpwmduty 10 times with the same value u00a0 seems pointless the value you set remains active on the pin until you change it i would try something likev analog source_voltage if v 14 85 u00a0 if i 1022 i if v 15 0 u00a0 if i 0 i timer1 setpwmduty 10 i updatets etc u00a0so at least you can respond every 5 seconds or so u00a0if the load is likely to change more rapidly than this it will make it very hard to control it and make regular updates to thingspeak,0.5
froggy2288,i cannot get any code for my due to compile if i include thingspeak h get the following error error only arduino yun uno mega due with either wired or wi fi ethernet shield esp8266 and spark core photon electron are supported my setup is a due with the adafruit cc3000 breakout the code is literally just the adafruit cc3000 example with include thingspeak h at the top if i remove that library include then the wifi example code works great and connect to my network and successfully pings adafruit com u00a0i have used ide 1 6 6 and 1 6 8 any advice would be greatly appreciated,0.17254793644
jbrh530,hello i am an arduino newbie but have succeeded in assembling and programming an arduino uno with dht11 and bmp180 and have sent data to thingspeak via a cc3000 wifi breakout board like others a wifi connection is established and data is sent updated to my thingspeak channel about 3 to 4 times before stopping i understand that others have mentioned this problem in this forum but what i have read has been in the context of ethernet connection not wifi being new to arduino it is not clear how to adapt their suggestions to the code for cc3000 wifi i would greatly appreciate if someone could look at the code i am using based primarily on http obaej blogspot com 2015 01 ti cc3000 wifi and thingspeak online html and suggest what i might adjust to prevent the data transmission from ceasing some folks have mentioned the warm up time needed by the dht i believe however i have tried a version that only transmits data from the bmp180 and that produces the same failed transmission after about 4 cycles thank you so much for your time and expertise ud83d ude42here is the code libraries include include include do not need with earlier version of adafruit_sensor h include earlier version was used in instructable link include include include include include utility debug h include would ht h include define cc3000 chip pins define adafruit_cc3000_irq 3 define adafruit_cc3000_vbat 5 define adafruit_cc3000_cs 10 temperature and humidity sensor define dhtpin 2 define dhttype dht11dht dht dhtpin dhttype adafruit_bmp085 bmp create cc3000 instancesadafruit_cc3000 cc3000 adafruit_cc3000 adafruit_cc3000_cs adafruit_cc3000_irq adafruit_cc3000_vbat spi_clock_div2 you can change this clock speed wlan parameters define wlan_ssid wgskb define wlan_pass 8rvqwywknwmb3x9k security can be wlan_sec_unsec wlan_sec_wep wlan_sec_wpa or wlan_sec_wpa2 define wlan_security wlan_sec_wpa2 thingspeak settingschar thingspeakaddress api thingspeak com string writeapikey wve8cxsx2qk08ryr uint32_t ip variable setuplong lastconnectiontime 0 boolean lastconnected false int failedcounter 0 void setup void initialize serial begin 115200 connectwifi connect with wifi void loop void dht begin added this on tuesday cause it was in the bmp180_and_dht11 sketch bmp begin display atmospheric pressue in hpa float p bmp readpressure 100 0 serial print absolute pressure serial println p this is where i need to change the code to convert to qhn pressure get data transform to integers float h dht readhumidity float t dht readtemperature true fahrenheit float hif dht computeheatindex t h serial print temperature serial println t serial print humidity serial println h serial print heat index serial println hif int temperature int t int humidity int h int heatindex int hif int pressure int p string tem string temperature dec thingspeak only data stream is string type string hum string humidity dec converting integer data to string string heat string heatindex dec string pr string pressure dec serial print f api thingspeak com while ip 0 if cc3000 gethostbyname api thingspeak com ip serial println f could not resolve restarting wdt_enable wdto_8s if host does not response wait 8 sec and restart while 1 delay 500 cc3000 printipdotsrev ip serial println f adafruit_cc3000_client client cc3000 connecttcp ip 80 print update response to serial monitor if client available char c client read serial print c update thingspeak if client connected send temperature and humidity data to thingspeak site updatethingspeak 1 tem 2 hum 3 pr 4 heat delay 25000 thingspeak needs a 15s delay between 2 data stream failedcounter 0 else serial println f connection failed failedcounter if failedcounter 10 serial println f connection failed for 10 times restarting wdt_enable wdto_8s if 10 continuous data upload failed restart host after 8s while 1 void updatethingspeak string tsdata adafruit_cc3000_client client cc3000 connecttcp ip 80 serial println connecting to thingspeak serial println ending data client print post update http 1 1 client print host api thingspeak com client print connection close client print x thingspeakapikey writeapikey client print content type application x www form urlencoded client print content length client print tsdata length client print client print tsdata serial println f would one serial println f waiting 30 sec for next sending serial println _________ void connectwifi serial println f initializing if cc3000 begin serial println f could not begin check your wiring while 1 connect to wifi network cc3000 connecttoap wlan_ssid wlan_pass wlan_security serial println f connected wait for dhcp to complete serial println f are quest dhcp while cc3000 checkdhcp delay 100 here is the printout to my serial monitor where it failed on the second transmission what is wrong that the code does not allow reconnection to thingspeak initializing connected request dhcpabsolute pressure 992 42temperature 68 00humidity 46 00heat index 66 66api thingspeak com 144 212 80 11connecting to thingspeak sending datadonewaiting 30 sec for next sending_________absolute pressure 992 44temperature 68 00humidity 46 00heat index 66 66api thingspeak com 144 212 80 11,0.784080803394
Rob Purser,hi it looks like the adafruit_cc3000_client class is a standard arduino tcp client which means that you could pass it into the thingspeak communication library for arduino it looks similar to the wi fi shield this has been heavily tested and reliably sends data more info on the library http community thingspeak com 2015 10 official thingspeak library for arduino and particle see if you can get the examples working with your connection and let us know how it goes rob,0.5
Hans,i would also like to point out u00a0the actual thingspeak ip address incase you have an issue with this code in the future the offical static ip for thingspeak is 184 106 153 149 found here http www mathworks com help thingspeak channel settings html endpoints,0.785856246948
sushma,hello actually i m using 4 fields in a channel in that i have used first field for updating the moisture sensor data and i wann use fields 2 3 4 for updating dht11 sensor data i e field 2 for temperature field 3 for humidity and field 4 for dew points but i m not able update all the 4 fields at a time though i have multiple fields in channel setting just the field 1 is getting updated,0.5
Hans,what does your command look like,0.763534724712
sushma,hans said what does your command look like thank you the code is this sketch uses a dht11 sensor to report temperature humidity and dew point data to http www thingspeak com sketch tested with an arduino uno a hanrun ethernet shield and a dht11 temperature and humidity sensor see http playground arduino cc main dht11lib for the origins of the temperature humidity and dew point functions include include include thingspeak settingschar thingspeakaddress api thingspeak com string writeapikey 99e4e2idc9y8j59b add your thingspeak api key hereethernetclient client temperature sensor settingsdht dht define dhtpin 6const int one_minute 60 1000 int status int failedconnectionattempcounter rounds down via intermediary integer conversion truncation see http lordvon64 blogspot co uk 2012 01 simple arduino double to string htmlstring dbltostring double input int decimalplaces if decimalplaces 0 string string string int input pow 10 decimalplaces if abs input 0 string 0 string else if input 3 serial println are starting the ethernet connection connecttointernet failedconnectionattempcounter 0,0.5
wheato22,sushma said hello actually i m using 4 fields in a channel in that i have used first field for updating the moisture sensor data and i wann use fields 2 3 4 for updating dht11 sensor data i e field 2 for temperature field 3 for humidity and field 4 for dew points but i m not able update all the 4 fields at a time though i have multiple fields in channel setting just the field 1 is getting updated hi here is sample code from a kickstarter project that shows a way update multiple fields with one write it worked for me on my water meter project larry this include statement was automatically added by the particle ide include thingspeak h this include statement was automatically added by the particle ide include adafruit_dht adafruit_dht h sensor type define dhttype dht22 dht 22 am2302 dht22 sensor pinout pin 1 on the left 3 3v pin 2 output pin 4 on the right ground define dht_5v_pin d1 define dht_sensor_pin d2 define dht_ground_pin d4dht dht dht_sensor_pin dhttype thingspeak tcpclient client unsigned long mychannelnumber 89137 const char mywriteapikey 3d23pqhqij3ozxnf void setup connect to thingspeak thingspeak begin client give power to the sensor pinmode dht_5v_pin output pinmode dht_ground_pin output digitalwrite dht_5v_pin high digitalwrite dht_ground_pin low wait for the sensor to stabilize delay 1000 initialize sensor dht begin read sensor double temperature dht gettempcelcius double humidity dht gethumidity update the 2 thingspeak fields with the new data thingspeak setfield 1 float temperature thingspeak setfield 2 float humidity write the fields that you have set all at once thingspeak writefields mychannelnumber mywriteapikey give time for the message to reach thingspeak delay 5000 sleep for 15 minutes to save battery system sleep sleep_mode_deep 15 60 void loop this will run because the system is sleeping,0.5
sushma,thank you sir i will try it,0.982739508152
sushma,i tried the code given above but it is showing compilation error at command adafruit_dht adafruit_dht h,0.156690955162
wheato22,i have about given up trying to get my water meter reader app to upload data to my thingspeak channel using arudino and a wired ethernet shield being a non programmer i have tried to use published examples designed for analog inputs to work with my interrupt driven app i have tried co cobble my app into both the http post and and thingspeak write voltage examples in both cases compile errors have dogged me to submission if anyone can suggest some upload code that will play nicely with my interrupt driven counter code below and pave the way to upload my serial print output to channel 1 i would appreciate the help thingspeak seems like a perfect way to visualize water use in real time particularly here in the western us water use allocations are in effect water meter flow application authored by l wheaton 2015 sub meter outputs a pulse every gallon of flow hall device connected to digital pin 2 creates interrupt interrupt handler increments gallon counter accumulated gallon count print and uploads every 20 seconds byte sensorinterrupt 0 byte sensorpin 2 volatile byte pulsecount unsigned int gallons unsigned long oldtime void setup serial begin 9600 pinmode sensorpin input digitalwrite sensorpin high pulsecount 0 oldtime 0 attachinterrupt sensorinterrupt pulsecounter falling void loop sets xmit every 20 seconds if millis oldtime 20000 disable interrupts while calculating detachinterrupt sensorinterrupt oldtime millis gallons gallons pulsecount prints gallon flow and total serial print pulse serial print pulsecount serial print gallons serial println gallons pulsecount 0 enable interrupts again attachinterrupt sensorinterrupt pulsecounter falling interrupt handlervoid pulsecounter pulsecount,0.168833553791
Rob Purser,hi sorry you are having so much trouble i wonder if attaching and detaching the interrupts is the culprit it might be disrupting other things that depend on interrupts like the ethernet card you might refactor your code a bit to use nointerrupts copy out the value of pulsecounter reset it turn on interrupts again using interrupts and then do the calculations serial stuff and the write to thingspeak presumably there no risk of having more than 255 gallons of water used in 20 seconds right disable interrupts while reseting pulse countnointerrupts pulsecountcopy pulsecount pulsecount 0 enable interrupts againinterrupts calculateoldtime millis gallons gallons pulsecountcopy prints gallon flow and totalserial print pulse serial print pulsecountcopy serial print gallons serial println gallons pulsecount 0,0.211455374956
rw950431,are you able to get the unedited write voltage sketch to work with your arduino and thingspeak https github com mathworks thingspeak arduino tree master examples writevoltage this will ensure that your software environment is correctly configured many problems occur because of choosing the wrong board type in the ide or not installing all the libraries you need you also need to update that sketch with your own thingspeak channel and api key if this step fails then post the error messages you get and maybe we can help some more if that succeeds i suggest you change pulsecount as followsvolatile unsigned long int pulsecount 0 add your interrupt service routine to the writevoltage code and send this value in place of voltage like sothingspeak writefield mychannelnumber 1 pulsecount mywriteapikey i would not bother attaching and detaching the interrupt each time you send if you want a rate rather than a cumulative total make a last_pulsecount and subtract it from the current value,0.17817735672
wheato22,hi rob and rw rob points above are on target water pulses arrive at a max rate of 10 minute no need to disable interrupt handler since it takes microseconds to do the math i will give that a try to eliminate interactions with the ethernet routine other doing water meter apps usually count the spinning leak detector in the meter and it pulses 1000 of times per gallon i will eliminate off on interrupts code and testrw identifies my fundamental knowledge gap of arudino programming i have had no sure idea how to correctly merge my water count void loop which works standalone with the the ethernet example i understand the only one void setup concept but need help on how to structure the multiple routines void loops on one big sketch i will try rw write voltage example first with my specific ethernet shield and and get that working then add my water sketch without would isabling interrupts between pulses thanks for the help larry,0.5
wheato22,can anyone give me some assistance in getting a second channel working when i compile a sketch with a second channel write i get an error for the following write instruction thingspeak writefield mychannelnumber 2 gallons mywriteapikey call of overloaded writefield long unsigned int int long unsigned int const char is ambiguous i am thinking it related to the fields data type but have no idea on how to fix my sketch follows larry logs flow in gallons minute from residential water meter include thingspeak h includebyte mac 0xde 0xad 0xbe 0xef 0xfe 0xed ethernetclient client unsigned long mychannelnumber 90870 const char mywriteapikey xxxxxxxx byte sensorinterrupt 0 byte sensorpin 2 volatile byte pulsecount unsigned long oldtime unsigned long gallons void setup ethernet begin mac thingspeak begin client serial begin 9600 pinmode sensorpin input digitalwrite sensorpin high gallons 0 pulsecount 0 oldtime 0 attachinterrupt sensorinterrupt pulsecounter rising void loop if millis oldtime 60000 oldtime millis gallons gallons pulsecount serial print pulse serial print pulsecount serial print gallons serial println gallons thingspeak begin client thingspeak writefield mychannelnumber 1 pulsecount mywriteapikey thingspeak writefield mychannelnumber 2 gallons mywriteapikey pulsecount 0 void pulsecounter pulsecount,0.128802716732
rw950431,try changing the type of gallons to long rather than unsigned long and see if that helpseglong gallons,0.30111259222
corbru,i am new on this forum and quite new on arduino and programming in general hi all i have developed a quite elementary code to upload three fields one int one float and one text string in a ts channel this code includes thngspeak arduino library the code works quite fine but there is a but ud83d ude42 nay three but data are sent every 30 1000ms i can change 30 in a range from 15 to 30 with no problem but if i try a longer time frame 1 mins or more there are not data uploaded on ts nothing else is changed in the code except for the value in the delay command in fact my final goal will be to have data sent every hour or so any suggestion why when i set 30 secs as delay time data are updated sometimes twice per mins but mostly once every two or three minutes this seems to be quite randomly why when i let the script running overnight i find in the morning only 100 readings for each of the three fields in the same channel i mean only 100 lines what is the limit storage size allocated for each tingspeak channel i appreciate very much any suggestion from anyone can help me many thanks corrado,0.857296764851
superzaffo,i used the sketch you have written above or other examples found in this site i have an arduino mega with ethernet shield w5500 processor with log ambient temperature every two minutes everything works properly but after about an hour telling me error in the connection to the site to make it work i have to power cycle i also tried it with several other ethernet shields w5100 w5200 but the result and the same possible that these ethernet shield do not work all the time and always give problems if so it would be only of disappointments someone managed to make it all work steven,0.0505921542645
sushma,hi actual i am new this thing speak i have arduino uno r3 and the ethernet shield w5100 with me right now and i want to send the data sensed by sensor dht11 please can any one help how to this,0.5
osc.araya,hi i am working on a project that requires synchronizing a rtc module with thingspeakthe idea is to use the rtc module time and not the datetime of thingspeak to upload the sensor data anyone have an idea thanks,0.5
rw950431,include the created_at field in your update as per https au mathworks com help thingspeak update channel feed htmlyou need to have the right format for the date time value,0.83657515049
osc.araya,thank you very much,0.994800448418
tvmiller,this updatethingspeak field1 hum field2 temp verifies to this invalid operands of types const char and const char 9 to binary operator have followed thingspeak tutorial and not surmising why the error please teach this noob a lessonthanks,0.148620158434
Adarsh_Murthy,hi which library are you using for this also could you point us to the tutorial you are referring to thanks,0.916764974594
raxpa,i have been logging my data for months now but suddenly the service stopped working i was using this code but even using the new library provided by thingspeak nothing seems to work any idea include libreria bridge include libreria sensore include libreria shell define dhtpin 4 definisco il pin define dhttype dht22 definisco il tipo di sensore dht 22dht dht dhtpin dhttype thingspeak settings define array_size 2 l array dei dati da postare su thingspeakvoid setup bridge begin console begin dht begin inizializzo sensore funzione post valori void posttothingspeak string key float value process p string cmd curl d key key for int i 0 i array_size i cmd cmd field i 1 value i cmd cmd http api thingspeak com update quot p runshellcommand cmd console println cmd p close void loop float temperature dht readtemperature leggo temperatura del sensore console println temperatura console println temperature float humidity dht readhumidity leggo umidit u00c0 del sensore console println humidity float vol array_size vol 0 temperature vol 1 humidity posttothingspeak xxxxxxxxxx vol account delay 20000 thingspeak will only accept updates every 15 seconds,0.5
Adarsh_Murthy,hi i just checked the api thingspeak com update end point and it seems to be working could it possible be the internet connection on the yun thanks adarsh,0.5
petertree,hi i have a project and i am using a arduino mega with esp8266 for connectivity this project has many sensors and standard examples of how to upload to thingspeak only allows a maximum of 8 fields to 1 channel i have created 2 channels and now need to upload 8 fields to the 1st channel and the other 4 fields to the 2nd channel can anybody please help me with a working example or sketch please i have been successful with uploading the normal 8 fields to 1 channel but i have failed updating 2 channels please help kind regards peter,0.747754991055
rw950431,what code are you using for the upload its likely you will have to create a second instance of the client with a different key,0.73547065258
petertree,rw950431 said what code are you using for the upload its likely you will have to create a second instance of the client with a different key hi thanks for the reply i am no programmer and i have tried different ways but cannot get it to work thus hoping for someone with a good example or sketch ud83d ude42,0.913670539856
rw950431,did you try the arduino forums http forum arduino cc index phppost your code for 1 channel that works and see if anyone can help out,0.5
Hunia,hello i am new to thingspeak i used to use xively and i did not have any problem pushing feeds online i uploaded uno firmata to arduino and used grasshopper ghowl and firefly on thingspeak i can not push feeds online what i am trying to do is a simple test of sending photocell data to thingspeak collected from arduino uno rs3 which is connected by usb cable to my laptop any help is much appreciated,0.226322621107
tlowell,hi hunia where are you getting stuck i assume you are able to get the data from the arduino to your laptop since that was working with your xively setup i am not familiar with grasshopper ghowl and firefly but a quick google search indicates that ghowl is quite extensible if this is what you are using you need this set of apps to push your data to thingspeak thingspeak has a restful api you can call to do this so presumably you can extend ghowl or grasshpper firely to make internet calls that include the calls to the thingspeak api alternatively you could write an app in any language to read from the serial port and post to thingspeak need a little more detail about where you are stuck to be more helpful tom,0.754598557949
abhishekjacob21,hi there i am using an esp8266 wifi shield to upload some data to thingspeak and while it does show something is being uploaded the number of entries increases indicating it getting something but the entry is completely blank and does not have the number it supposed to have received i am using the thingspeak library that was newly introduced is this a problem anyone else has faced thanks,0.191461414099
Rob Purser,hi abhishekjacob21 sorry to hear you are having trouble would you post the code that you are using to post rob,0.126975029707
abhishekjacob21,rob so while doing some troubleshooting i deleted the rest of the void loop just in a n attempt to simplify things unfortunately that did not have a positive effect on the results when i upload it though it says low memory available stability problems may occur could that be a cause here the code i have include include the sparkfunesp8266wifi library uses softwareserial to communicate with the esp8266 module include that library first include include the esp8266 at library include ms5803 sensor address_high wifi network definitions replace these two character strings with the name and password of your wifi network const char myssid ifh loft const char mypsk ifhjanuary esp8266client client thingspeak constants unsigned long mychannelnumber 64341 const char mywriteapikey 4jrima3gjf3piqke time retrieval variable definitions int calc volatile int nbtopsfan unsigned long copycount 0 unsigned long lastread 0 unsigned long interval 1000 unsigned long thingspeakinterval 16000 unsigned long lastthingspeak 0 int hallsensor 3 unsigned long lastthingspeak2 0 unsigned long thingspeakinterval2 40000 float temperature_c temperature_f double pressure_abs pressure_relative altitude_delta pressure_baseline float atmpressure 101300 float depth float rho 1000 0 units kg m 3float g 9 8 units m s 2float currentpressure float depthft double base_altitude 1655 0 altitude of sparkfun hq in boulder co in m const int redpin 5 const int greenpin 10 const int bluepin 6 const int max_red 255 const int max_green 255 const int max_blue 255 byte colors 3 0 0 0 byte lineending 0x0a byte redval 0 byte greenval 0 byte blueval 0 void rpm nbtopsfan void setup pinmode hallsensor input pinmode redpin output pinmode greenpin output pinmode bluepin output attachinterrupt 1 rpm rising int status serial begin 9600 to turn the mg2639 shield on and verify communication always begin a sketch by calling cell begin status esp8266 begin if status 0 serial println f unable to communicate with shield looping while 1 esp8266 setmode esp8266_mode_sta set wifi mode to station if esp8266 status 0 if we are not already connected if esp8266 connect myssid mypsk thingspeakinterval thingspeak writefield mychannelnumber 2 depthft mywriteapikey lastthingspeak millis serial println depthft delay 1000,0.778739213943
abhishekjacob21,i am sorry rob but for some reason the code did not copy properly below is the void setup and loop functions void setup int status serial begin 9600 to turn the mg2639 shield on and verify communication always begin a sketch by calling cell begin status esp8266 begin if status 0 serial println f unable to communicate with shield looping while 1 esp8266 setmode esp8266_mode_sta set wifi mode to station if esp8266 status 0 if we are not already connected if esp8266 connect myssid mypsk 0 serial println f error connecting while 1 get our assigned ip address and print it serial print f my ip address is serial println esp8266 localip thingspeak begin client settime 9 27 59 18 02 2015 void loop calc 7 thingspeak writefield mychannelnumber 1 calc mywriteapikey,0.5
abhishekjacob21,so an update i kept removing pieces of the code above and eventually it just started working and when i added the code that i took out back it continued to work do you think it has something to do with the low memory issue,0.0985699594021
Rob Purser,hi abhishekjacob21 yes that is almost certainly the cause the esp8266 does not have a whole lot of memory to work with i tried to keep the memory footprint of the write functions as low as i could but many of the string operations needed to construct the http post will fail silently once we are low on memory one option would be to rip apart the library and only take the absolute minimum for what you need it is flexible and as such it uses more memory than a dedicated implementation might use rob,0.218797951937
abhishekjacob21,because i do not know c or much about programming for that matter can you give me an idea of what i can remove from the code so that it reduces the sram usage the only lines in the code using the library are thingspeak begin client thingspeak writefield mychannelnumber 2 depthft mywriteapikey this line uses approximately 13 of the memory i am also exploring ways to reduce memory used by other libraries the one for using the esp8266 is also quite substantial thanks for the help,0.5
baoutch,hey everyone i am using the mathwork thingspeak arduino library to update a private channel from an arduino mega i am using a standard ethernet shield my project has been running smooth for the past 3 months but today it all went south data are updated fine on ts sensor values but something is wrong and it looks like reading from ts wo not work properly anymore so i logged a bit and i found out that whenever i try to write to ts using setfield several times then writefields which was running fine so far i get a 303 error code which as i read in the library means err_bad_response unable to parse responsei looked through the interwebs on official doc and on this forum but couldnt find anything related to this error how to deal with it etc also reading values from ts will return all zeros what is weird is that data are still correctly written to ts so my first naive guess is that this is a ts return message error but can not be sure if someone here have any clue of what it means i would be soooo happy thanks a lotcheers,0.814975082874
Rob Purser,yes there was a latent bug in the library that was exposed when the response message from thingspeak changed slightly i have posted a new version of the library on github it should appear in the arduino ide within the next few hours if you want it sooner get the thingspeak h file direct from github rob,0.5
baoutch,hey rob everything seems back to normal on my side thanks a lot for your fast fix cheers,0.926805615425
TipsEZ,for my own learning could you post up what line in the header or cpp file had to be changed and what the change was,0.5
Rob Purser,we have created a arduino library to connect your particle photon or core to thingspeak it appears inside the particle build ide list of libraries you can get a cheerlights client running in about 90 seconds and try out the examples right away you can read and write with just 1 line of code see the 90 second video send us your feedback rob,0.5
Rob Purser,hi all version 1 1 0 of these libraries now supports esp8226 devices the particle electron coming soon you can use these libraries directly from within the arduino and particle ides all the best rob,0.928959906101
abhishekjacob21,hey guys when i run my sketch it updates quite a few times arbitrary and then it stops not sure why can you look through my code it largely a copy of the code from here http community thingspeak com tutorials arduino using an arduino ethernet shield to update a thingspeak channel include include include include include these are the interrupt and control pins define adafruit_cc3000_irq 2 must be an interrupt pin these can be any two pins define adafruit_cc3000_vbat 7 define adafruit_cc3000_cs 10 use hardware spi for the remaining pins on an uno sck 13 miso 12 and mosi 11adafruit_cc3000 cc3000 adafruit_cc3000 adafruit_cc3000_cs adafruit_cc3000_irq adafruit_cc3000_vbat spi_clock_divider you can change this clock speed but di define wlan_ssid wlan_ssid cannot be longer than 32 characters define wlan_pass wlan_pass security can be wlan_sec_unsec wlan_sec_wep wlan_sec_wpa or wlan_sec_wpa2 define wlan_security wlan_sec_wpa2char server api thingspeak com string writeapikey 4jrima3gjf3piqke api key for thingspeaklong lastconnectiontime 0 boolean lastconnected false int failedcounter 0 int test 0 this is the value being logged adafruit_cc3000_client client const unsigned long connecttimeout 15l 1000l max time to wait for server connection responsetimeout 15l 1000l max time to wait for data from serverint countdown 0 loop iterations until next time server queryunsigned long lastpolledtime 0l last value retrieved from time server sketchtime 0l cpu milliseconds since last server queryvoid setup void serial begin 9600 serial println f hello cc3000 serial println f initialising the cc3000 if cc3000 begin serial println f unable to initialise the cc3000 check your wiring for serial println f would eleting old connection profiles if cc3000 deleteprofiles serial println f failed while 1 attempt to connect to an access point char ssid wlan_ssid max 32 chars serial print f attempting to connect to serial println ssid note secure connections are not available in tiny mode if cc3000 connecttoap wlan_ssid wlan_pass wlan_security serial println f failed while 1 serial println f connected wait for dhcp to complete serial println f are quest dhcp while cc3000 checkdhcp delay 100 todo insert a dhcp timeout void loop void if countdown 0 time up unsigned long t gettime query time server if t success lastpolledtime t save time sketchtime millis save sketch time of last valid time query countdown 24 60 4 1 reset counter 24 hours 15 second intervals else countdown do not poll use math to figure current time unsigned long currenttime lastpolledtime millis sketchtime 1000 settime currenttime 18000 serial print hour serial print serial println minute test 7 if client available char c client read serial print c if client connected lastconnected serial println disconnected serial println client stop updatethingspeak field1 string test dec if client connected millis lastconnectiontime updatethingspeakinterval updatethingspeak field1 string test dec if failedcounter 3 cc3000 connecttoap wlan_ssid wlan_pass wlan_security lastconnected client connected delay 15000 minimalist time server query adapted from adafruit gutenbird sketch which in turn has roots in arduino udpntpclient tutorial unsigned long gettime void uint8_t buf 48 unsigned long ip starttime t 0l serial print f locating time server hostname to ip lookup use ntp pool rotates through servers if cc3000 gethostbyname pool ntp org ip static const char progmem timereqa 227 0 6 236 timereqb 49 78 49 52 serial println f attempting connection starttime millis do client cc3000 connectudp ip 123 while client connected millis starttime connecttimeout if client connected serial print f connected issuing request assemble and issue request packet memset buf 0 sizeof buf memcpy_p buf timereqa sizeof timereqa memcpy_p buf 12 timereqb sizeof timereqb client write buf sizeof buf serial print f awaiting response memset buf 0 sizeof buf starttime millis while client available millis starttime responsetimeout if client available client read buf sizeof buf t unsigned long buf 40 24 unsigned long buf 41 16 unsigned long buf 42 8 unsigned long buf 43 2208988800ul serial print f ok client close if t serial println f error return t void updatethingspeak string tsdata this block of lines basically accesses the thingspeak channel in the required format if client connect server 80 client print post update http 1 1 client print host api thingspeak com client print connection close client print x thingspeakapikey writeapikey client print content type application x www form urlencoded client print content length client print tsdata length client print client print tsdata lastconnectiontime millis if client connected serial println connected to thingspeak serial println failedcounter 0 else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println lastconnectiontime millis,0.5
hans,abhishekjacob21 can you please elaborate what you have tried to resolve the issue for example are there any messages written to a console or to a log which says the device lost internet connectivity and the program terminated,0.089771926403
samlro,my arduino and ether net shield have been working for at least 4 years i replaced the router and now it is not working do i need to change something on my new router,0.109227836132
Hans,are you just sending data to thingspeak or is thingspeak controlling your devices also i would ask if your arduino is using static ips i would look at your your arduino code and look for a line that says 192 168 x x your new router may be a different subnet,0.5
samlro,i am just sending data how can i find out the subnet of the router,0.763481616974
samlro,how i just send something from the http line to test your end,0.259987771511
Hans,are you using windows if so open cmd and type ipconfig and press enter you are looking for your default gateway address does your arduino code make mention of an ip address anywhere,0.5
samlro,yes 192 168 175 i can not remember the 3rd number it maybe 1,0.689376235008
samlro,it is working now my new router only can handle 192 168 1 up 99 not 175,0.240402519703
BSB,looking for a little help if i may i have a couple of arduinos running on thingspeak but i want to try and speed up one of them managed to graft some mq 2 code into the basic thingspeak sketch and it is working but its very slow https thingspeak com channels 62674tried two versions one with all comments and serial print statements removed apart from the few that are really needed for debug and one that contains items from the original mq source but both are the same managed to reduce some delays and timers but i suspect i may be getting close to corrupting the outputs to thingspeak thinking maybe i might have grafted a section of code into the wrong spot and its doing too many readings on the sensor before sending to thingspeak i understand there is a 15 16 second delay between readings but currently it is way more than that and i think some brief readings will probably get missed below is the sketch i currently use for the mq 2 not sure how much the forum munges code so gonna try it as is forgive me if i get this wrong mq 2 sketch below arduino thingspeak channel via ethernet the thingspeak client sketch is designed for the arduino and ethernet this sketch updates a channel feed with an analog input reading via the thingspeak api https thingspeak com docs using http post the arduino uses dhcp and dns for a simpler network setup the sketch also includes a watchdog reset function to make sure the arduino stays connected and or regains connectivity after a network outage use the serial monitor on the arduino ide to see verbose network feedback and thingspeak connectivity status getting started with thingspeak sign up for new user account https thingspeak com users new create a new channel by selecting channels and then create new channel enter the write api key in this sketch under thingspeak settings arduino requirements arduino with ethernet shield or arduino ethernet arduino 1 0 ide network requirements ethernet port on router dhcp enabled on router unique mac address for arduino created october 17 2011 by hans scharler http www nothans com additional credits example sketches from arduino team ethernet by adrian mcewen mq2 grafted from https github com iot playground arduino blob master external_libraries mysensors examples airqualitysensor airqualitysensor ino by r humpleby 2015 mq2 additions start hardware related macros define mq_pin 0 define which analog input channel you are going to use define rl_value 5 define the load resistance on the board in kilo ohms define ro_clean_air_factor 9 83 ro_clear_air_factor sensor resistance in clean air ro which is derived from the chart in datasheet software related macros define calibaraion_sample_times 40 was 50 define how many samples you are going to take in the calibration phase define calibration_sample_interval 400 was 500 define the time interal in milisecond between each samples in the cablibration phase define read_sample_interval 25 was 50 define how many samples you are going to take in normal operation define read_sample_times 5 define the time interal in milisecond between each samples in normal operation application related macros define gas_lpg 0 define gas_co 1 define gas_smoke 2 globals float lpgcurve 3 2 3 0 21 0 47 two points are taken from the curve with these two points a line is formed which is approximately equivalent to the original curve data format x y slope point1 lg200 0 21 point2 lg10000 0 59 float cocurve 3 2 3 0 72 0 34 two points are taken from the curve with these two points a line is formed which is approximately equivalent to the original curve data format x y slope point1 lg200 0 72 point2 lg10000 0 15 float smokecurve 3 2 3 0 53 0 44 two points are taken from the curve with these two points a line is formed which is approximately equivalent to the original curve data format x y slope point1 lg200 0 53 point2 lg10000 0 22 float ro 10 ro is initialized to 10 kilo ohms float lpg 0 float co 0 float smoke 0 mq2 additions end include include local network settings byte mac 0xda 0x28 0xb2 0xff 0xa0 0xa1 must be unique on local network thingspeak settings char thingspeakaddress api thingspeak com string writeapikey xxxxxxxxxxxxxxxxxxxxxx const int updatethingspeakinterval 15 1000 time interval in milliseconds to update thingspeak number of seconds 1000 interval variable setup long lastconnectiontime 0 boolean lastconnected false int failedcounter 0 float av 0 initialize arduino ethernet client ethernetclient client void setup start serial for debugging on the serial monitor serial begin 9600 start ethernet on arduino startethernet void loop read value from analog input pin 1 av analogread a1 av av 100 get true decimal value string analogvalue0 string av dec string analogvalue0 string analogread a1 dec original code mq2 additions start serial print lpg serial print mqgetgaspercentage mqread mq_pin ro gas_lpg char lpg2_buffer 10 float lpg2 mqgetgaspercentage mqread mq_pin ro gas_lpg string lpgone dtostrf lpg2 0 5 lpg2_buffer serial print ppm serial print serial print co serial print mqgetgaspercentage mqread mq_pin ro gas_co char co_buffer 10 float co mqgetgaspercentage mqread mq_pin ro gas_co string cotwo dtostrf co 0 5 co_buffer co mqgetgaspercentage mqread mq_pin ro gas_co string co2 string mqgetgaspercentage mqread mq_pin ro gas_co dec serial print ppm serial print serial print moke serial print mqgetgaspercentage mqread mq_pin ro gas_smoke char smoke_buffer 10 float smoke mqgetgaspercentage mqread mq_pin ro gas_smoke string smokey dtostrf smoke 0 5 smoke_buffer smoke mqgetgaspercentage mqread mq_pin ro gas_smoke string smoke3 string mqgetgaspercentage mqread mq_pin ro gas_smoke dec serial print ppm serial print delay 200 original code not req here mq2 additions end print update response to serial monitor if client available char c client read serial print c disconnect from thingspeak if client connected lastconnected serial println disconnected serial println client stop update thingspeak if client connected millis lastconnectiontime updatethingspeakinterval updatethingspeak field1 analogvalue0 field2 lpgone field3 cotwo field4 smokey check if arduino ethernet needs to be restarted if failedcounter 3 startethernet lastconnected client connected void updatethingspeak string tsdata if client connect thingspeakaddress 80 client print post update http 1 1 client print host api thingspeak com client print connection close client print x thingspeakapikey writeapikey client print content type application x www form urlencoded client print content length client print tsdata length client print client print tsdata lastconnectiontime millis if client connected serial println connecting to thingspeak serial println failedcounter 0 else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println lastconnectiontime millis void startethernet client stop serial println connecting arduino to network serial println delay 900 was 1000 connect to network amd obtain an ip address using dhcp if ethernet begin mac 0 serial println would hcp failed reset arduino to try again serial println else serial println arduino connected to network using dhcp serial println delay 900 was 1000 mq2 additions start mqresistancecalculation input raw_adc raw value read from adc which represents the voltageoutput the calculated sensor resistanceremarks the sensor and the load resistor forms a voltage divider given the voltage across the load resistor and its resistance the resistance of the sensor could be derived float mqresistancecalculation int raw_adc return float rl_value 1023 raw_adc raw_adc mqcalibration input mq_pin analog channeloutput ro of the sensorremarks this function assumes that the sensor is in clean air it use mqresistancecalculation to calculates the sensor resistance in clean air and then divides it with ro_clean_air_factor ro_clean_air_factor is about 10 which differs slightly between different sensors float mqcalibration int mq_pin int i float val 0 for i 0 i calibaraion_sample_times i take multiple samples val mqresistancecalculation analogread mq_pin delay calibration_sample_interval val val calibaraion_sample_times calculate the average value val val ro_clean_air_factor divided by ro_clean_air_factor yields the ro according to the chart in the datasheet return val mqread input mq_pin analog channeloutput rs of the sensorremarks this function use mqresistancecalculation to caculate the sensor resistenc rs the rs changes as the sensor is in the different consentration of the target gas the sample times and the time interval between samples could be configured by changing the definition of the macros float mqread int mq_pin int i float rs 0 for i 0 i read_sample_times i rs mqresistancecalculation analogread mq_pin delay read_sample_interval rs rs read_sample_times return rs mqgetgaspercentage input rs_ro_ratio rs divided by ro gas_id target gas typeoutput ppm of the target gasremarks this function passes different curves to the mqgetpercentage function which calculates the ppm parts per million of the target gas int mqgetgaspercentage float rs_ro_ratio int gas_id if gas_id gas_lpg return mqgetpercentage rs_ro_ratio lpgcurve else if gas_id gas_co return mqgetpercentage rs_ro_ratio cocurve else if gas_id gas_smoke return mqgetpercentage rs_ro_ratio smokecurve return 0 mqgetpercentage input rs_ro_ratio rs divided by ro pcurve pointer to the curve of the target gasoutput ppm of the target gasremarks by using the slope and a point of the line the x logarithmic value of ppm of the line could be derived if y rs_ro_ratio is provided as it is a logarithmic coordinate power of 10 is used to convert the result to non logarithmic value int mqgetpercentage float rs_ro_ratio float pcurve return pow 10 log rs_ro_ratio pcurve 1 pcurve 2 pcurve 0 mq2 additions end,0.5
Campbell St,hello everyone like many people i have made a distributed sensor network via xb series 2 modules sending back to a central base unit arduino and now want to send this data to thingspeak the base station arduino has an xbee wifi module running through softwareserial the xbee is configured with the appropriate ssid passphrase destination ip 184 106 153 149 for thingspeak port 80 via xctu i can not successfully post the update string suggested on the data import export tab https api thingspeak com update key xxxmy keyxxx field1 0after days and hours of futile searching and different attempts i have not found anyone addressing this scenario i thought this setup would be quite common i came to believe this would be the easy bit i can paste that update string into the address bar of my browser and the relevant feed updates but nothing happens when i send the same text through the xbee wifi what is the format for the arduino code this is what i have tried wifiserial print https api thingspeak com update key xxxxxxxxxxx field1 0 wifiserial print post https api thingspeak com update key xxxxxxxxxxx field1 0 wifiserial print get https api thingspeak com update key xxxxxxxxxxx field1 0 wifiserial print post https api thingspeak com update key xxxxxxxxxxx field1 0 wifiserial print get https api thingspeak com update key xxxxxxxxxxx field1 0 i am obviously missing something fundamental thanks in advance andy,0.5
lee,hi try using http instead of https i think the arduino may have problems with tls lee,0.244152516127
Campbell St,thanks lee for the prompt attention i had already tried that and have done so again to no avail i also tried the broken down request vis wifiserial print post update http 1 1 wifiserial print host api thingspeak com wifiserial print connection close wifiserial print x thingspeakapikey xxxxxxxxxxxxxxx wifiserial print content type application x www form urlencoded wifiserial print content length wifiserial print tsdata length wifiserial print wifiserial print tsdata am going through the xb wifi documentation again looking for nuggets i have the module in at transparent mode perhaps api will be better perhaps via spi rather than serial i will keep trying i am still surprised by the total absence of this as a live topic anywhere does not anyone else want to get online with a wifi xbee thanks again andy,0.896719813347
Sabeethan,hi campbell did you succeed in posting to thingspeak via xbee i have a similar problem i have tried various combinations of post method but with no success http api thingspeak com update key xxxxxxxxxxx field1 12this works on my browser but does not work when sent through an xbee i tried arduino codes and also serial port emulators i see the data being sent out to be consistent yet i keep getting the 400 bad request error i am pretty sure that i am missing something basic here could someone help me out,0.112990230322
MrMarv,hi everybody i am currently working with an intel edison and i connecting it to thingspeak was successful sadly it just sends data once after that the sketch stops working i hope somebody can help me solving these issues sketch include include local network settingsbyte mac 0xd4 0x28 0xb2 0xff 0xa0 0xa1 must be unique on local networkchar ssid your network ssid name char pass your network passwordint status wl_idle_status the wifi radio status thingspeak settingschar thingspeakaddress api thingspeak com string writeapikey const int updatethingspeakinterval 16 1000 time interval in milliseconds to update thingspeak number of seconds 1000 interval variable setuplong lastconnectiontime 0 boolean lastconnected false int failedcounter 0 sensorsconst int pintemp a0 pin of temperature sensorfloat temperature temperature gets stored in hereint b 3975 b value of the thermistorfloat resistance initialize arduino ethernet clientwificlient client void setup start serial for debugging on the serial monitor serial begin 9600 start ethernet on arduino startwifi void loop read value from analog input pin 0 int val analogread pintemp get analog temp value resistance float 1023 val 10000 val get resistance temperature 1 log resistance 10000 b 1 298 15 273 15 calc temperature char buffer 10 string tem dtostrf temperature 5 1 buffer string analogpin0 tem print update response to serial monitor if client available char c client read serial print c disconnect from thingspeak if client connected lastconnected serial println disconnected serial println client stop update thingspeak if client connected millis lastconnectiontime updatethingspeakinterval updatethingspeak field1 analogpin0 check if arduino ethernet needs to be restarted if failedcounter 3 startwifi lastconnected client connected void updatethingspeak string tsdata if client connect thingspeakaddress 80 client print post update http 1 1 client print host api thingspeak com client print connection close client print x thingspeakapikey writeapikey client print content type application x www form urlencoded client print content length client print tsdata length client print client print tsdata lastconnectiontime millis if client connected serial println connecting to thingspeak serial println failedcounter 0 else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println lastconnectiontime millis void startwifi client stop serial println connecting arduino to network serial println delay 1000 while serial wait for serial port to connect needed for leonardo only check for the presence of the shield if wifi status wl_no_shield serial println wifi shield not present do not continue while true string fv wifi firmwareversion if fv 1 1 0 serial println please upgrade the firmware attempt to connect to wifi network while status wl_connected serial print attempting to connect to wpa ssid serial println ssid connect to wpa wpa2 network status wifi begin ssid pass wait 10 seconds for connection delay 10000 you are connected now so print out the data serial print you are connected to the network printcurrentnet printwifidata connect to network amd obtain an ip address using dhcp if ethernet begin mac 0 serial println would hcp failed reset arduino to try again serial println else serial println arduino connected to network using dhcp serial println delay 1000 void printwifidata print your wifi shield ip address ipaddress ip wifi localip serial print ip address serial println ip serial println ip print your mac address byte mac 6 wifi macaddress mac serial print mac address serial print mac 5 hex serial print serial print mac 4 hex serial print serial print mac 3 hex serial print serial print mac 2 hex serial print serial print mac 1 hex serial print serial println mac 0 hex void printcurrentnet print the ssid of the network you are attached to serial print sid serial println wifi ssid print the mac address of the router you are attached to byte bssid 6 wifi bssid bssid serial print bssid serial print bssid 5 hex serial print serial print bssid 4 hex serial print serial print bssid 3 hex serial print serial print bssid 2 hex serial print serial print bssid 1 hex serial print serial println bssid 0 hex print the received signal strength long rssi wifi rssi serial print ignal strength rssi serial println rssi print the encryption type byte encryption wifi encryptiontype serial print encryption type serial println encryption hex serial println char dtostrf double val signed char width unsigned char prec char sout char fmt 20 sprintf fmt d df width prec sprintf sout fmt val return sout ______________________________________________________________serial monitor connecting arduino to network attempting to connect to wpa ssid you are connected to the networkssid bssid 8d 3e f5 11 1a 2signal strength rssi 19encryption type 4ip address 192 168 43 207192 168 43 207mac address c5 d8 a8 87 4b 78connecting to thingspeak http 1 1 200 okserver nginx 1 7 5date mon 01 dec 2014 13 21 03 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200 okx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800etag c9f0f895fb98ab9159f51fd0297e236d cache control max age 0 private must revalidateset cookie request_method post path x request id ffd320e0 f6bc 4013 8e33 bfbe8ec64caf180_______________________________________________________________thanks for your help,0.808692216873
prabhjeet,hey i have similar problem that thingspeak update data only once if you done with it please give me suggestion about it,0.757834553719
BSB,similar here only getting maybe two sends to thingspeak and then nothing hitting the arduino reset starts it again been doing that most of the day while playing around looking for the issue will post code if requested update turns out my issue was related to delays and timers in my sketch and too many print statements for debug to the serial monitor,0.193093299866
ailtonfacanha,hi u00a0how do i send float data using u00a0updatethingspeak u00a0 u00a0 read value from analog input pin 0 u00a0 int lightresistor analogread a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 float vout lightresistor 0 0048828125 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 float lux 500 10 5 vout vout u00a0updatethingspeak field1 u00a0ailton,0.5
Hans,i found a post on the arduino forum u00a0 include stdlib h dtostrf float width precision buffer u00a0http www arduino cc cgi bin yabb2 yabb pl num 1205038401 at the bottom of the post that may help u00a0if this works please let us know and i will add it the arduino tutorials,0.5
turgo,here how i have done it char buffer2 14 make buffer large enough for 7 digits string tempstr dtostrf allsensors i averagetemp 7 2 buffer2 7 digits including negative decimal and white space 2 decimal places tempstr trim trim whitespace important so thingspeak will treat it as a numberthe std lib h is included by default,0.5
gadjet,i used this updatethingspeak field1 string sensors gettempc thermometer dec this takes the float value from my ds18b20 temp sensor,0.5
turgo,thanks gadjet thats very cool that led me to read all the string object methods http arduino cc en reference stringobject,0.976724267006
BSB,gadjet said i used this updatethingspeak field1 string sensors gettempc thermometer dec this takes the float value from my ds18b20 temp sensor if anyone is around i used a slightly different take to get decimal values to two decimal places i needed 3 values passed to thingspeak most of the code below is just debug stuff but i left it in the lines that do the work are the float yes i borrowed the code from another thingspeak member and just tweaked it a little as it seemed slightly more modular and easier to add sensor routines see http community thingspeak com forum arduino ds18b20 temp sensor raklinks post print temperatures serial print getting temperatures sensors requesttemperatures float wt sensors gettempc watertemp was int serial print invalid serial print wt serial print c serial print float ot sensors gettempc outsidetemp was int serial print room temp is serial print ot serial print c serial print read value of 5v solar panel 0 to 500 float lt analogread a0 was int string ap string analogread a0 dec serial print light serial print lt 100 divide by 100 to get voltage produced serial print v serial print update thingspeak if client connected millis lastconnectiontime updatethingspeakinterval updatethingspeak field1 string wt dec field2 string ot dec field3 string lt dec,0.5
scottyratcliffe,i have been trying to get temperature posted from multiple ds18b20 sensors with no luck so far here is the pde for the onewire sensor this arduino sketch reads ds18b20 1 wire digital temperature sensors tutorial http www hacktronics com tutorials arduino 1 wire tutorial html include onewire h include dallastemperature h data wire is plugged into pin 3 on the arduino define one_wire_bus 3 setup a onewire instance to communicate with any onewire devicesonewire onewire one_wire_bus pass our onewire reference to dallas temperature dallastemperature sensors onewire assign the addresses of your 1 wire temp sensors see the tutorial on how to obtain these addresses http www hacktronics com tutorials arduino 1 wire address finder htmldeviceaddress ambient 0x28 0x91 0x9b 0x49 0x03 0x00 0x00 0xc8 deviceaddress ac 0x28 0x27 0xb2 0x49 0x03 0x00 0x00 0x76 deviceaddress seagate 0x28 0x14 0x9a 0x49 0x03 0x00 0x00 0x04 void setup void u00a0 start serial port u00a0 serial begin 9600 u00a0 start up the library u00a0 sensors begin u00a0 set the resolution to 10 bit good enough u00a0 sensors setresolution ambient 10 u00a0 sensors setresolution ac 10 u00a0 sensors setresolution seagate 10 void printtemperature deviceaddress deviceaddress u00a0 float tempc sensors gettempc deviceaddress u00a0 if tempc 127 00 u00a0 u00a0 u00a0 serial print error getting temperature u00a0 else u00a0 u00a0 u00a0 serial print c u00a0 u00a0 u00a0 serial print tempc u00a0 u00a0 u00a0 serial print f u00a0 u00a0 u00a0 serial print dallastemperature tofahrenheit tempc u00a0 void loop void u00a0 delay 2000 u00a0 serial print getting temperatures nr u00a0 sensors requesttemperatures u00a0 u00a0 serial print ambient is u00a0 printtemperature ambient u00a0 serial print nr u00a0 serial print ac temp is u00a0 printtemperature ac u00a0 serial print nr u00a0 serial print eagate temperature is u00a0 printtemperature seagate u00a0 serial print nrnr u00a0i pasted that in the basic thingspeak api like u00a0thingspeak client to update channel feeds u00a0 u00a0the thingspeak client sketch is designed for the arduino ethernet shield u00a0this sketch updates a channel feed with an analog input reading via the u00a0thingspeak api http community thingspeak com documentation u00a0using http post u00a0 u00a0getting started with thingspeak u00a0 u00a0 u00a0 u00a0 sign up for new user account https www thingspeak com users new u00a0 u00a0 u00a0 create a new channel by selecting channels and then create new channel u00a0 u00a0 u00a0 enter the write api key in this sketch under thingspeak settings u00a0 u00a0created january 25 2011 by hans scharler http www iamshadowlord com u00a0 u00a0additional credits example sketches from tom igoe and david a mellis u00a0 include onewire h include dallastemperature h include spi h include ethernet h data wire is plugged into pin 3 on the arduino define one_wire_bus 3 setup a onewire instance to communicate with any onewire devicesonewire onewire one_wire_bus pass our onewire reference to dallas temperature dallastemperature sensors onewire assign the addresses of your 1 wire temp sensors see the tutorial on how to obtain these addresses http www hacktronics com tutorials arduino 1 wire address finder htmldeviceaddress ambient 0x28 0x91 0x9b 0x49 0x03 0x00 0x00 0xc8 deviceaddress ac 0x28 0x27 0xb2 0x49 0x03 0x00 0x00 0x76 deviceaddress seagate 0x28 0x14 0x9a 0x49 0x03 0x00 0x00 0x04 local network settingsbyte mac u00a0 u00a0 u00a0 u00a0 0xd4 0x28 0xb2 0xff 0xa0 0xa1 must be unique on local networkbyte ip u00a0 u00a0 u00a0 u00a0 u00a0 192 168 u00a0 u00a0 5 u00a0 249 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 must be unique on local networkbyte gateway 192 168 u00a0 u00a0 5 u00a0 u00a0 1 byte subnet u00a0 255 255 255 u00a0 u00a0 0 thingspeak settingsbyte server u00a0 184 106 153 149 ip address for the thingspeak apistring writeapikey c1sr65d8uoqzzmr8 u00a0 u00a0 u00a0 write api key for a thingspeak channelconst int updateinterval 3000 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 time interval in milliseconds to update thingspeak u00a0 u00a0client client server 80 variable setuplong lastconnectiontime 0 boolean lastconnected false int resetcounter 0 void setup u00a0 ethernet begin mac ip gateway subnet u00a0 serial begin 9600 u00a0 u00a0 start up the library u00a0 sensors begin u00a0 set the resolution to 10 bit good enough u00a0 sensors setresolution ambient 10 u00a0 sensors setresolution ac 10 u00a0 sensors setresolution seagate 10 u00a0 delay 1000 void printtemperature deviceaddress deviceaddress u00a0 float tempc sensors gettempc deviceaddress u00a0 if tempc 127 00 u00a0 u00a0 u00a0 serial print error getting temperature u00a0 else u00a0 u00a0 u00a0 serial print c u00a0 u00a0 u00a0 serial print tempc u00a0 u00a0 u00a0 serial print f u00a0 u00a0 u00a0 serial print dallastemperature tofahrenheit tempc u00a0 void loop u00a0 sensors requesttemperatures u00a0 u00a0 print update response to serial monitor u00a0 if client available u00a0 u00a0 u00a0 u00a0 char c client read u00a0 u00a0 u00a0 serial print c u00a0 u00a0 u00a0 disconnect from thingspeak u00a0 if client connected lastconnected u00a0 u00a0 u00a0 u00a0 serial println u00a0 u00a0 u00a0 serial println disconnected u00a0 u00a0 u00a0 serial println u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 client stop u00a0 u00a0 u00a0 update thingspeak u00a0 if client connected millis lastconnectiontime updateinterval u00a0 u00a0 u00a0 u00a0 updatethingspeak field1 string ambient dec u00a0 u00a0 u00a0 lastconnected client connected void updatethingspeak string tsdata u00a0 if client connect u00a0 u00a0 u00a0 u00a0 serial println connected to thingspeak u00a0 u00a0 u00a0 serial println u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 client print post update http 1 1n u00a0 u00a0 u00a0 client print host api thingspeak comn u00a0 u00a0 u00a0 client print connection closen u00a0 u00a0 u00a0 client print x thingspeakapikey writeapikey n u00a0 u00a0 u00a0 client print content type application x www form urlencodedn u00a0 u00a0 u00a0 client print content length u00a0 u00a0 u00a0 client print tsdata length u00a0 u00a0 u00a0 client print nn u00a0 u00a0 u00a0 client print tsdata u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 lastconnectiontime millis u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 resetcounter 0 u00a0 u00a0 u00a0 u00a0 u00a0 else u00a0 u00a0 u00a0 u00a0 serial println connection failed u00a0 u00a0 u00a0 u00a0 u00a0 serial println u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 resetcounter u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 if resetcounter 5 resetethernetshield u00a0 u00a0 u00a0 lastconnectiontime millis u00a0 void resetethernetshield u00a0 serial println are setting ethernet shield u00a0 u00a0 u00a0 serial println u00a0 u00a0 client stop u00a0 delay 1000 u00a0 u00a0 ethernet begin mac ip gateway subnet u00a0 delay 1000 and i getthings_speak_issues cpp in function void loop things_speak_issues 111 error call of overloaded tring uint8_t 8 int is ambiguousc usersscottydesktoparduino 0023hardwarearduinocoresarduino wstring h 39 note candidates are string string long unsigned int int near match c usersscottydesktoparduino 0023hardwarearduinocoresarduino wstring h 38 note u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 string string long int int near match c usersscottydesktoparduino 0023hardwarearduinocoresarduino wstring h 37 note u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 string string unsigned int int near match c usersscottydesktoparduino 0023hardwarearduinocoresarduino wstring h 36 note u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 string string int int near match u00a0any help would be nice,0.5
Hans,the updatethingspeak function is expecting a string u00a0based on the error you are getting the tring uint8_t 8 int is not converting to a string the output of the one wire sensor function may not be a dec so you can not just convert it to a string like you have it i hope this points you in the right direction i do not have any 1 wire experience and was hoping that the forum members had some input for you what parts did you purchase to do the 1 wire i might get them so i can replicate this and see what i find another idea is that the sketch you are using is for arduino 22 this might help to https github com iobridge thingspeak arduino exampleslet us know what you find out,0.782701611519
raklink,hi scottyi have a couple of ds18b20 u2032s uploading my solar hot water plus outside temps to thingspeak via arduino code here https sites google com site aussiepilot two 2018b20 20upload 20to 20thingspeak txt attredirects 0 d 1external thingspeak linkhttps www thingspeak com channels 909 public trueas per han u2019s comment i convert the ds18b20 output to integer value before i upload to thingspeak as i am measuring from 0 deg c through to 100 deg i am happy rounding this makes life easy as per code link above to get water temp i useint wt sensors gettempc watertemp outside tempint ot sensors gettempc outsidetemp then upload viaupdatethingspeak u201cfield1 u201d string wt ec u201d field2 u201d string ot dec you can see charts etc herehttp klinkfamilyadventures blogspot com au hope this helpsregardsrick,0.759707689285
Hans,rick great project thanks for providing your source code and the how to part i went ahead and added your project to our blog http community thingspeak com 2012 06 solar hot water temperature monitoring with arduino thingspeak let me know if you have any other info that you want to add or subtract thanks again hans,0.5
raklink,hey no problems hans hopefully it will make it easier for others to get their temperature arduino thingspeak projects up and running u00a0 u00a0one small change to your blog post the blog code link you posted is for the small snippet of code to determine the ds18b20 unique address u00a0probably worth changing to the link to the text file with full code listinghttps sites google com site aussiepilot two 2018b20 20upload 20to 20thingspeak txt attredirects 0 d 1 u00a0thanks again for a great service in regards to thingspeak u00a0rick,0.954228997231
Hans,updated thanks,0.998911261559
turgo,here is how to convert a float to a string float temperature 98 6 char buffer 12 string tempstr dtostrf temperature 6 2 buffer,0.5
BSB,raklinkif you are still around just want to thank you for posting link to your code it was almost what i wanted and needed only a minor tweak to get what i needed out of it,0.226493805647
abhinay_shukla,hi everyone i wish to do a robotics project where i plan to equip my robot with various sensors like gas sensor temp sensor pir sensors and many more i wish to know whether i can transit my real time sensor data wirelessly and use thingspeak to display online charts request advice 12,0.5
lee,hi you can transmit your sensor data and display online charts with thingspeak however there is a 15 second rate limit between updates on a per channel basis lee,0.5
Igor_Klc,hello everyone i am doing project for course on my faculty here is little description components for the project arduino mega adk boardarduino ethernet shielddht11 humidity sensorbmp180 temperature and air pressure sensorthe program should do next the sensors have to measure the temperature pressure and humidity of air in the room every measured data is saved to its variable which would later be updated to thingspeak channel also arduino would take information for outside temperature pressure and humidity of air from some website with those data for a certain city ljubljana and these data would also be sent to thingspeak so we could see and compare graphs for indoor and outdoor data i wrote 3 codes one for sensors one for ethernet and one for thingspeak and now i have combined them but i have two error messages and i need help to get rid of them every measured data is saved to its variable downloaded data from website is also saved to its variable here is code include include include include include define dht_apin a0 analog pin sensor is connected toadafruit_bmp085 bmp dht dht float localtemp float localpress float localhumid float fmf ethernet byte mac 0xd4 0x28 0xb2 0xff 0xa0 0x73 ipaddress ip 193 2 68 140 fill in your domain name server address here ipaddress mydns 1 1 1 1 initialize the library instance ethernetclient client char server meteo fmf uni lj si unsigned long lastconnectiontime 0 const unsigned long postinginterval 60l 1000l thingspeak byte server1 184 106 153 149 ip address for the thingspeak apistring writeapikey 5nk4yxiihw0kclt7 const unsigned long updateinterval 60000 boolean lastconnected false void setup serial begin 9600 bmp begin delay 1000 delay to let system boot startethernetdhcp ethernet while serial ethernet begin mac ip mydns void loop bmp180 temperature and pressure measurement serial print current temperature is temperature serial print bmp readtemperature serial println celsius localtemp bmp readtemperature serial print current pressure is pressure serial print bmp readpressure serial println pa localpress bmp readpressure dht11 humidity measurement dht read11 dht_apin serial print current humidity is humidity serial print dht humidity serial println serial println space between next group measurement localhumid dht humidity delay 60000 wait 60 seconds before new measurement ethernet if client available char c client read serial write c fmf client read if millis lastconnectiontime postinginterval httprequest this method makes a http connection to the server void httprequest client stop if there a successful connection if client connect server 80 serial println connecting send the http put request client println get latest txt http 1 1 client println host http www arduino cc client println user agent arduino ethernet client println connection close client println note the time that the connection was made lastconnectiontime millis else if you could not make a connection serial println connection failed thingspeak if client available char c client read serial print c if client connected lastconnected serial println disconnected client stop if client connected millis lastconnectiontime updateinterval updatethingspeak field1 localtemp field2 localpress field3 localhumid field4 fmf lastconnected client connected void updatethingspeak string tsdata if client connect server 80 serial println connected to thingspeak serial println client print post update http 1 1 client print host api thingspeak com client print connection close client print x thingspeakapikey writeapikey client print content type application x www form urlencoded client print content length client print tsdata length client print client print tsdata lastconnectiontime millis else serial println connection failed serial println lastconnectiontime millis void startethernetdhcp while ethernet begin mac 1 serial println error getting ip address via dhcp trying again delay 10000 serial print moj naslov ip for byte thisbyte 0 thisbyte 4 thisbyte serial print ethernet localip thisbyte dec serial print serial println errors program ino in function void httprequest program 131 error invalid operands of types const char 8 and float to binary operator invalid operands of types const char 8 and float to binary operator i already removed one error which was here ethernet char server meteo fmf uni lj si unsigned long lastconnectiontime 0 const unsigned long postinginterval 60l 1000l thingspeak byte server 184 106 153 149 i had to change name for one of servers so i changed byte server to byte server1 can you help me with other two errors thank you all,0.5
myeeth22,just wondering if anyone worked on this i have an ethernet module a enc28j60 that uses the ethercard lib and a dht22 sensor which uses adafruit dht lib i have it all working on my lan but have no idea how to upload it to thingspeak anyone already done this or would be willing to help me write it,0.879331290722
tochinet,see what was posted on teensy forum https forum pjrc com threads 25887 arduino code example for enc28j60 ethernet upload to thingspeaknot many persons interested there either please report any progress you do i studied ethercard but it quite complex only a few people understand how to use it,0.5
AYAduino,have you tried using the uipethernet library instead i had this working briefly before i switched to a w5100 ethernet solution unfortunately i do not appear to have saved that code the few snippets i have left are not ringing any bells but i do know i quickly abandoned the ethercard library in favour of uipethernet i think it was memory issues that finally drove me to swapping out enc in favour of the w5100 but again it all a bit fuzzy brad,0.0579761266708
Infinity,hi there is already a program in the arduino software examples with the name of pachubeclient just modify it a little bit and you are done you can also see the data in a mobile app after it has been uploaded in the thingspeak channel this is the mobile app with alarm featureshttps www youtube com watch v peetdzxmwva,0.5
tytower,all the notes are in the code code adapted from surfertim ethernet email program by ty tower may 2015register at smtp2go com easy encode user and password for smtp2go com in base 64 utf8 go here https www base64encode org put those in the right places in code and change the ip details to yoursput in where you want to send the email and who it is from change the mac address to the one from your esp8266 module include include const char ssid home const char password create an instance of the server specify the port to listen on as an argumentwifiserver server 80 wificlient client this must be unique put yours in herebyte mac 0x18 0xfe 0x34 0xa1 0x5c 0x44 from esp8266 change network settings to yoursipaddress ip 192 168 0 3 ipaddress gateway 192 168 0 1 ipaddress subnet 255 255 255 0 ipaddress server numeric ip for smtpcorp com no dns char smptcorp mtpcorp com int port 2525 void setup serial begin 115200 pinmode 13 output digitalwrite 13 high server begin delay 10000 serial println f are ady press e to send void loop byte inchar inchar serial read if inchar e if sendemail serial println f email sent else serial println f email failed byte sendemail wifi begin ssid password while wifi status wl_connected delay 500 serial print serial println serial println wifi connected serial println ip address serial println wifi localip byte thisbyte 0 byte respcode if client connect smtpcorp port 1 serial println f connected smtp2go else serial println f connection failed smtp2go return 0 if ercv serial println before ehlo return 0 serial println f ending ehlo replace 192 168 0 3 with your esp8266 ip client println ehlo 192 168 0 3 if ercv serial println ehlo return 0 serial println f ending auth login client println auth login if ercv serial println auth return 0 serial println ending user change to your base64 encoded user client println if ercv serial println user return 0 serial println f ending password change to your base64 encoded password client println if ercv serial println ehlo return 0 change to your email address sender serial println f ending from client println mail from if ercv serial println email return 0 change to recipient address serial println f ending to client println rcpt to if ercv serial println email return 0 serial println f ending data client println would ata if ercv serial println email return 0 serial println f ending email change to recipient address client println to ty tower change to your address client println from weather client println ubject esp8266 email test client println this is from my esp8266 12 module 3 client println if ercv serial println aftersending return 0 serial println f ending quit serial println f ending quit client println quit if ercv serial println afterquit return 0 client stop serial println f would isconnected return 1 byte ercv byte respcode byte thisbyte int loopcount 0 while client available delay 1 loopcount if nothing received for 10 seconds timeout if loopcount 10000 client stop serial println f 10 sectimeout return 0 respcode client peek while client available thisbyte client read serial write thisbyte if respcode 4 efail return 0 return 1 void efail byte thisbyte 0 int loopcount 0 client println f quit while client available delay 1 loopcount if nothing received for 10 seconds timeout if loopcount 10000 client stop serial println f efailtimeout return while client available thisbyte client read serial write thisbyte client stop serial println f would isconnected code,0.5
sky,having gained some exposure to the subject with tweaking ps3 settings and also having dabbled a bit in wep key auditing with backtrack i find that this is not enough knowledge to carry me through my learning curve to successfully build a suitable network for my arduino project i believe i have googled nearly every possible word combination on arduino cc to find what would be the best way for my project to be easily remotely accessed and for what i want all leads come here to thingspeak and since this is my first post hello all my project is simple it just a freetronics ethermega mega 2650 w ethernet that i soldered my chronodot ds3231 rtc to on pin a2 is a dht22 climate sensor and pins 30 37 control relays the relays actuate in accordance with time or climatic conditions as per my sketch i want the rtc time sensor data and relay states sent over the internet to a website i also want the website to have clickable buttons to also actuate those relays so the site would need to be the server rendering the arduino as client ultimately i want this to connect to a website that i own and control but i need to learn a bunch more and aside from finding my way here i am still having the same problems in locating good descriptive or foundational materials relating to the networking aspect of my project to give a bit more background i am a jack of all trades type but am relatively new to micro electronics i have been learning arduino stuff for about a year now and following the circuitry has been relatively easy for me thus far coding i am struggling but have put together a somewhat functioning sketch that has just one more bug to work out i learned a lot but not yet enough and am hoping for links to explanations of the networking sketch code the various files that may need to be loaded to the microsd files that are saved in the website registry and how they all communicate back and forth i have been avidly researching this topic and have made little headway please help a hungry newb take it to the next level tyia,0.867762446404
Coolio11,hello i followed the thingspeak tutorial for connecting an arduino with thingspeak but instead of sending the data every 30 seconds like it says in the code it only sending it once every 5 minutes is there anything that might be causing that i am just using the code from the tutorial thanks for the help,0.787372648716
Coolio11,nevermind when i comment out the lines for reading my sensor data then it able to connect to thingspeak and update on time something about my sensor data code must be somehow causing the program to act strangely the strange thing is that it connects successfully to thingspeak once every 5 minutes even though there nothing about a 5 minute interval anywhere in the code,0.238106697798
Coolio11,it looks like it was related to the dht11 sensor and code and it looks like other people on this forum have had similar problems with the dht11 or dht22 i tried this alternative code http forum arduino cc index php topic 155800 0 html that supposed to work better for timing but it still did not work,0.0500072240829
shuntera,i purchased one of these wifi shields featuring the cc3000 chip http www ebay com itm cc3000 wifi shield for arduino 15 381257381022 pt lh_defaultdomain_0 hash item58c4b5f49eall the tutorials i have found are for the cc3000 aadafruit wifi should which uses a different library from this has anyone hooked an arduino up to thingspeak with one of these and save me having to rewrite the sketch here http community thingspeak com tutorials arduino using an arduino ethernet shield to update a thingspeak channel,0.5
xking3,example for a yun code which has an integrated talkback and a post with this code you can switch on a light on pin13 and measure it with a light sensor on pin a0 this is a mix of two codes i found here on thingspeak code include bridge h include httpclient h thingspeak talkback settingsstring thingspeakapi api thingspeak com string talkbackapikey xxxxxxxxxxxx string talkbackid xxxx const int checktalkbackinterval 15 1000 time interval in milliseconds to check talkback number of seconds 1000 interval thingspeak post settingsstring thingspeakaddress http api thingspeak com update string writeapikey key xxxxxxxxxxxxxxx enter the write api key for your thingspeak channelstring tsfield1name field1 httpclient client variable setuplong lastconnectiontime 0 int sensor a0 int x 0 licht sensorvoid setup setup on board led pinmode 13 output digitalwrite 13 low delay 500 digitalwrite 13 high delay 1000 digitalwrite 13 low delay 1000 digitalwrite 13 high delay 500 digitalwrite 13 low initialize bridge bridge begin initialize serial serial begin 9600 void loop check thingspeak for talkback commands checktalkback delay checktalkbackinterval void checktalkback string talkbackcommand char charin string talkbackurl http thingspeakapi talkbacks talkbackid commands execute api_key talkbackapikey make a http get request to the talkback api client get talkbackurl while client available charin client read talkbackcommand charin turn on off the on board led if talkbackcommand turn_on serial println talkbackcommand digitalwrite 13 high else if talkbackcommand turn_off serial println talkbackcommand digitalwrite 13 low serial flush delay 1000 sensor auslesen x analogread sensor generate post to thingspeak api create string for thingspeak post string request_string thingspeakaddress writeapikey tsfield1name string x dec make a http request client get request_string delay 2000,0.5
hanguyen,can you upload the code for arduino uno with esp8266 or w5100 thanks,0.860198795795
puneet336,i have purchased wi fi module from https www amazon in rees52 serial wireless transceiver esp8266 dp b00o34agsu ref sr_1_1 s industrial ie utf8 qid 1534744260 sr 1 1 keywords wi fi wireless transceiver module for iot esp8266 i had also purchased a 5v 1a dc power adapter to externally power the module with the information at https iotbytes wordpress com 3 3v power supply for esp 8266 initially i used pin 2 3 3v output 3 ground of ams1117 to power the wi fi module rest other pin connections is similar as https medium com cgrant using the esp8266 wifi module with arduino uno publishing to thingspeak 99fc77122e82 esp8266 arduino rx rx tx tx gpio 0 none gpio 2 nonearduino arduino reset gndesp8266 esp8266 vcc 3 3v external ams1117 ch_pd 3 3v external ams1117 gnd gnd external ams1117 observation 1 on powering up arduino via usb esp8266 ams1117 red led was constant but the blue led was flickering rapidly i saw ai thinker wifi ssid which assigned 192 168 4 x ip to my cellphone 2 arduino ide serial monitor except 115200 baud rate the terminal was getting filled with garbage characters at all baud rates at 115200 the terminal was quiet and for few u201cat at gmr u201d commands i got garbage symbols in response after wards garbage response stopped till i re powered on wi fi then after putting gpio0 to ground programming mode esp8266 arduino gpio 0 gndi tried uploading code ang got following global variables use 27968 bytes 34 of dynamic memory leaving 53952 bytes for local variables maximum is 81920 bytes warning espcomm_sync failederror espcomm_open failederror espcomm_upload_mem failederror espcomm_upload_mem failedtried adding 1k resistor with gpio ground but it didn u2019t work but when i connected wifi module to 5v of arduino as esp8266 arduino vcc 5v gnd gndobservation 1 on powering up arduino esp8266 red led was constant but the blue led was off i saw ai thinker wifi ssid which assigned 192 168 4 x ip to connecting devices 2 arduino ide serial monitor on 115200 baud rate the terminal was quiet and for u201cat at gmr u201d serial commands i got expected response the blue led flickered only when i entered at at gmr command but the chip heated up i disconnected as soon as i sensed this ud83d ude09 sl l u2e2e u2e2e ai thinker technology co ltd ready atat at gmrat version 1 2 0 0 jul 1 2016 20 04 45 sdk version 1 5 4 1 39cb9a32 ai thinker technology co ltd dec 2 2016 14 21 16okoksame observation with 3 3v slai thinker technology co ltd ready atai thinker technology co ltd readyatokwith aforementioned experiments it seems that this is power supply issue as on using arduino vcc gnd things are moving forward but i understand that should not rely use those pins for esp could you please suggest something on this issue to power the wifi module externally,0.5
cstapels,your issue seems to be related to the esp hardware you might try posting this issue on an esp forum here is one i found https www esp8266 com index php,0.108947604895
rweiser,hello i am trying to update the channel feed using the arduino talking to the esp8266 via at commands everything seems to work fine but when i send the commandget https api thingspeak com update api_key vb552xqvr6rdj7zm field1 0the serial monitor does not respond back after sending the command if i send another command afterwards it responds as fail at cipmux 1okat cipstart 0 tcp 184 106 153 149 800 connectokat cipsend 0 77ok cipclose 0busy s recv 77 bytes0 closedsend fail,0.136951625347
cstapels,i am counting 71 bytes in your message i think your connection may fail because its waiting for you to send six more bytes that never come try changing to at cipsend 0 71 or 72 and let us know what happens,0.324777603149
igorok,yes i count 67 chars 4 chr 13 chr 10 chr 13 chr 10 this symbols must be at end of string another way the server dont undersand finish operation or wait for 77 bytes but receive only 67,0.5
djmobley,my garage monitor system worked fine for years but i had to create a new account so a relative monitor did not use up too many data points the only thing that i changed in the code was the api key for troubleshooting i sniffed packets between a second wifi router and my internet connection and would start getting spurious retransmission messages after 4 hours and then nothing but errors including spurious retransmissions from my device back to thingspeak internet connection very reliable i changed my microcontroller from the d1 to the d1 mini no change removed all sensors and am just sending 4 static values every 20 seconds no change i tried the relative channel again and it worked normally i deleted my channel and re added using my own new account no change any ideas why this is happening just using the esp8266wifi h library any thoughts would be appreciated thanks update re installed the board in arduino boards manager same url in preferences but i did re paste it and wired everything up normally again and it worked overnight this time it displayed the board as lolin wemos d1 and d1 mini r2 i do not remember the lolin the version was the same but the name was different so something changed bizarre that it would work for 4 hours with the other library always something simple but with the 4 hours before failure it was time consuming to troubleshoot,0.200797021389
arduinoslfan,hi all i have an idea to make a news display using nodemcu 16x2 lcd the source of the news will be a tweeter account it not available through api hence this approach when ever the tweeter account released the tweet i want to display it on lcd i am also aware of the thingspeak com thingtweet but do not know how to continue this as i am a newbie can someone help me with this task thanks all,0.5
cstapels,thingtweet will allow you to send tweets from your device to twitter via your twitter account https www mathworks com help thingspeak thingtweet app htmlthe direction you are considering is the opposite if you have a license for datafeeed add on toolbox in matlab you can use the twitter object to retrieve tweets and send them to your device https www mathworks com help datafeed twitter 1 htmlyou can also use the datafeed toolbox in thingspeak if you have a licence https www mathworks com help thingspeak matlab toolbox access html,0.5
doh77,i am looking for the simplest and cheapest way to remotely monitor my flat temperature via wi fi requirements power supply via micro usb accuracy 0 5 u00b0c temperature reading freq at least 1 every 10 minutes possibly also humidity data power consumption the lower the better ud83d ude42googling a bit i found this solution module nodemcu esp8266 amica v2 sensor dht22 do you think it is a good solution do you know if there is some simpler module than nodemcu that has a lot of i o and functionalities i would not use do you know if any plug and play cheap solution 10 u20ac already exist on the market thanks for all the suggestions,0.5
cstapels,i think this is a fine solution for flexibility and probably cost though perhaps not for durability compared to a commercial solution thingspeak will help nicely with the remote and the analysis parts of your project i would suggest esp8266 01 can be a few cheaper especially if you order them in medium quantities it does not have analog io but you can use the one wire interface,0.915482282639
mahmoud.eltobgy4@gmail.com,hi i am using esp 01s wifi module with my tm4c123gh microcontroller to upload temperature values to my channel i am using this get request get update api_key my_api_key field1 d http 1 1host api thingspeak comr to update my field1 but i am getting this 400 bad requesthere is a screenshot of the server response recv 89 bytessend ok ipd 598 http 1 1 400 bad requestcontent type text html charset utf 8transfer encoding chunkedconnection closestatus 400 bad requestx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800cache control no cachex request id 26f0dc6f 7e57 4dff 99cc 7873010867a5x runtime 0 004454x powered by phusion passenger 4 0 57date tue 17 jul 2018 15 57 04 gmtserver nginx 1 9 3 phusion passenger 4 0 5710 ipd 5 0closedat cipsend 89i am using these 2 methods to make a tcp connection with the server esp8266_maketcpconnection establish tcp connection input ip address or web page as a string output 1 if success 0 if failint esp8266_maketcpconnection char ipaddress int try maxtry searchstart ok while try sprintf char txbuffer at cipstart tcp s 80 ipaddress esp8266sendcommand txbuffer open and connect to a socket delaymssearching 8000 if searchfound return 1 success try return 0 fail esp8266_sendtcp send a tcp packet to server input tcp payload to send output 1 if success 0 if failint esp8266_sendtcp char fetch volatile uint32_t time n sprintf char txbuffer at cipsend d strlen fetch 2 esp8266sendcommand txbuffer delayms 50 esp8266sendcommand fetch serverresponsesearchstart n 8000 while n serverresponsesearchfinished 0 time 75825 8 91 1msec tuned at 80 mhz while time time n if serverresponsesearchfinished 0 return 0 no response return 1 success i can read data from thingspeak but i can not write datathanks m megawer,0.5
cstapels,you should consider using the thingspeak communication library for arduino and esp there are good examples in the documentation that show you how to use it foe example https www mathworks com help thingspeak read and post temperature data html or you can use the wifi library and create the post or get commands yourself as in this example https www mathworks com help thingspeak moisturemonitor htmlthese examples show that they are compatible with esp8266 12 but the code will work for esp8266 01 as well just not the rest of the example hardware parts like adc are needed i will consider updating that list of supported hardware to say this if there is some reason you absolutely need to use the at command set please let me know and i will try to help you debug the method above however i really think you can make it much easier on yourself with the other two methods,0.734016060829
mahmoud.eltobgy4@gmail.com,cstapels thank you for your response but i am afraid that the two methods wo not work with me as i am using the arm cortex m4 with the esp8266 01 i have tried to customize the library to support that hardware but that needs time i do not have so i have to absolutely use the at command set it would be great if you could help me with that thanks again m megawer,0.157689511776
cstapels,ok at challenge accepted but one last ditch effort you could communicate to the esp via serial from the cortex you wait for events if espserial available save the text you get over serialset flag new_data true and then once an event is recieved you can use the wifi library commands to send data to thingspeak if new_data ned_data false write to thingspeak all this is programmed in the esp using the arduino ide and you program in c but back to your problem above first i would make sure you can update your channel in a web browser with the get command you are showing aboveget update api_key my_api_key field1 dapi thingspeak com update api_key xxxxxxxxxxxxxxxx field1 123i would put the server in directly and hard code the data just for testing try it in the browser just to make sure the syntax is correct and then try it in your code if you are getting a 400 error it may mean you are connected to thingspeak but you just have the syntax or api key wrong since the read works i suspect your connection is fine its just the syntax for the write command if that not it we can look into how you determine the byte size to send but it looks initially ok let me know if you can update from the browser,0.840953588486
Jos,hi i have develloped an application that automatically exports arduino data into my thingspeak channels the output from thingspeak is request https api thingspeak com update api_key 4hwa00qrn0ehm1mm s ts_api field1 112 14 field2 2 50 field3 150 00 field4 2 50 field5 28 56 field6 2 50 field7 22 50 field8 2 50 request result 219request https api thingspeak com update api_key 4hwa00qrn0ehm1mm s ts_api field1 112 75 field2 2 50 field3 150 00 field4 2 50 field5 28 56 field6 2 50 field7 22 50 field8 2 50 request result 220request https api thingspeak com update api_key 4hwa00qrn0ehm1mm s ts_api field1 113 05 field2 2 50 field3 150 00 field4 2 50 field5 28 63 field6 2 50 field7 22 50 field8 2 50 request result 221request https api thingspeak com update api_key 4hwa00qrn0ehm1mm s ts_api field1 114 00 field2 2 50 field3 150 00 field4 2 50 field5 28 44 field6 2 50 field7 22 50 field8 2 50 request result 222request https api thingspeak com update api_key 5bmyapikey 5d s ts_api field1 114 46 field2 2 50 field3 150 00 field4 2 50 field5 28 50 field6 2 50 field7 22 50 field8 2 50 request result 223request https api thingspeak com update api_key 5bmyapikey 5d s ts_api field1 115 19 field2 2 50 field3 150 00 field4 2 50 field5 28 44 field6 2 50 field7 22 50 field8 2 50 request result 224request https api thingspeak com update api_key 5bmyapikey 5d s ts_api field1 115 94 field2 2 50 field3 150 00 field4 2 50 field5 28 38 field6 2 50 field7 22 50 field8 2 50 request result 225request https api thingspeak com update api_key 5bmyapikey 5d s ts_api field1 116 47 field2 2 50 field3 150 00 field4 2 50 field5 28 25 field6 2 50 field7 22 50 field8 2 50 request result 226request https api thingspeak com update api_key 5bmyapikey 5d s ts_api field1 117 07 field2 2 50 field3 150 00 field4 2 50 field5 28 19 field6 2 50 field7 22 50 field8 2 50 request result 227as you can see the data is accepted by thingspeak it returns the written record number as the request result but the charts do not show any information so what is happening here please advice thanks jos,0.5
cstapels,i think this is a duplicate post can we work on this topic on the other post https community thingspeak com forum thingspeak api thingspeak no show data in charts bur request is fine,0.891558766365
panoss,i have built the example project post temperature data and read from channel in this example we have the output of a voltage divider it ranges from 0 to 3 3volts and this voltage is read by the adc of the esp8266 but i read that the esp8266 can are ad from 0 to 1volt so this project should not work correctly but it works fine let me remind you that i have built it and tested it so how can this be explained,0.5
cstapels,that is a good catch thanks i think the 3 3 v is mostly dropped across the thermistor and the voltages measured are close to 1 v anyway perhaps the adc reading is still proportional to voltage for values outside the suggested range i will try the experiment again with a 2k or 5k resistor in series if you still have yours set up can you try it with a lower resistor so we can compare,0.753722071648
cstapels,i used a nodemcu which has a built in voltage divider to make the range 3 3 v https github com nodemcu nodemcu devkit blob master documents nodemcu_devkit_sch pngill add a note to the example thanks again,0.718893766403
panoss,my nodemcu was till yesterday very easilly connecting to the internet untill i installed a library thermistor_library master from that moment the nodemcu can no way connect to the internet i removed the library deleted the library folder from c userspandocumentsarduino i tried previous sketches that worked 100 in the past but nothing it cannot connect i even tried another unused nodemcu and the same thing happens i m desperate i do not know what to do any help is welcome i have made no changes to the router credentials or any of it settings,0.0823283195496
panoss,i replaced this code wifi begin ssid password with this wifi disconnect true wifi setautoconnect false wifi setphymode wifi_phy_mode_11g wifi begin ssid password wifi printdiag serial serial println wifi getphymode and got connected then i returned to the old code and works fine too i have no idea why the use of the previous code cured it,0.233783990145
panoss,i have built this example and works fine now i want to have multiple sensors i use ntc thermistors as sensors and so i have built this but i must modify the software the difference between these 2 circuits is in the first example the thermistor is the bottom resistor of the voltage divider in the second example the thermistor is the top resistor of the voltage divider the part of the code that i have to modify is float logr log 10000 1024 readvalue 1 separate the calculation for simplicity and debugging celsiustemperature 1 aconst bconst logr cconst pow logr 3 273 15 calculate the temperature in celsius fahrenheittemperature celsiustemperature 9 5 32 any help is welcome,0.5
Marcelo Rovai,hi guys i published an article were using mqtt protocol i got captured data from sensors logging them in thingspeak what i did different was to use jupyter notebook to program my esp8266 nodemcu using micropython was amazing how simple was to publish those data on thingspeak here the article https medium com rovai iot made easy esp micropython mqtt thingspeak ce05eea27814,0.88419687748
victormh,hello i am uploading data from nodemcu to the iot thingspeak platform and i have a problem that i do not know where it may come from when i upload data from my private wi fi network from home i see them correctly and everything works fine when i upload them from the university network i do not see it in thingspeak the same software and all the same in several examples i only change the credentials of the wifi does anyone have any idea what can happen,0.256858259439
rw950431,are you able to update your thingspeak channel using your browser on the university network see https au mathworks com help thingspeak writedata html for format of url do you get any return code from the nodemcu when you try to write at what point does it fail are you able to read data from a channel it may be that your university requires you to use a proxy to access the internet it is unfortunate that thingspeak does not have a diagnostic console where you can view the status of incoming requests,0.242169618607
Hans,check out a kickstarter project called blynk they are planning to support the esp8266 wi fi module and thingspeak,0.5
Jman,hii have a rather odd problem i am running a micromite with an esp8266 wifi module if i use my home isp everything works as expected if i use my work isp i get an error 400 response the web site works from both isp i have attached the trace routesand ideas are welcome working isptracing route to thingspeak com 184 106 153 149 over a maximum of 30 hops 1 1 ms 1 ms 1 ms 192 168 114 254 2 41 ms 40 ms 40 ms 192 168 0 100 3 request timed out 4 request timed out 5 60 ms 60 ms 60 ms 122 56 116 5 6 60 ms 60 ms 60 ms 210 55 202 213 7 61 ms 61 ms 61 ms 202 50 232 37 8 217 ms 217 ms 217 ms 122 56 127 22 9 194 ms 194 ms 216 ms 122 56 127 25 10 217 ms 217 ms 217 ms 203 96 120 74 11 191 ms 190 ms 191 ms 4 28 172 109 12 269 ms 268 ms 268 ms 4 69 158 221 13 270 ms 269 ms 268 ms 4 69 158 221 14 269 ms 269 ms 271 ms 4 71 248 54 15 request timed out 16 277 ms 278 ms 277 ms 50 56 6 165 17 245 ms 245 ms 246 ms 184 106 126 125 18 277 ms 276 ms 277 ms 173 203 0 177 19 244 ms 243 ms 242 ms 184 106 153 149trace completenot working isptracing route to thingspeak com 184 106 153 149 over a maximum of 30 hops 1 1 ms 1 ms 1 ms 192 168 14 250 2 20 ms 15 ms 9 ms 131 203 224 229 3 18 ms 18 ms 18 ms 202 53 187 193 4 21 ms 20 ms 20 ms 202 53 187 194 5 23 ms 21 ms 20 ms 175 45 93 117 6 144 ms 144 ms 145 ms 114 31 202 121 7 146 ms 146 ms 146 ms 114 31 199 83 8 146 ms 145 ms 147 ms 114 31 199 243 9 157 ms 160 ms 157 ms 67 92 171 25 10 158 ms 158 ms 158 ms 207 88 13 224 11 157 ms 156 ms 156 ms 207 88 13 227 12 160 ms 160 ms 161 ms 206 111 6 110 13 156 ms 156 ms 156 ms 64 125 31 201 14 208 ms 208 ms 208 ms 64 125 20 241 15 210 ms 211 ms 209 ms 64 125 24 106 16 210 ms 211 ms 211 ms 64 125 24 94 17 214 ms 213 ms 214 ms 208 185 125 6 18 request timed out 19 226 ms 226 ms 226 ms 173 203 0 131 20 201 ms 201 ms 201 ms 184 106 126 131 21 227 ms 228 ms 226 ms 23 253 15 39 22 214 ms 214 ms 213 ms 184 106 153 149trace complete any suggestions are welcomeregardsjman,0.5
drzrudsky34,i followed all instructions for this app it compiled uploaded it does not record any info in serial monitor i do not know where to look on the internet to find results pleae help,0.285001367331
cstapels,can you share what example you are referring to in the mathworks documentation there is an esp32 signal strength example and another for mkr1000 there is a bulk update example that is compatible with esp8266 and uses signal strength is this the one you tried https www mathworks com help thingspeak continuously collect data and bulk update a thingspeak channel using an arduino mkr1000 board or an esp8266 board htmlif so can you tell use what you did see on the serial monitor if you saw nothing then you may just have the baud rate set incorrectly,0.5
frenk0,how can i send from the esp8266 three data to tree fields indipendently with out the problem of the 15 seconds buffer i would like to use only one channel,0.139802396297
cstapels,see the write data documentation https www mathworks com help thingspeak writedata html for the correct formats and the faq for licensing information https thingspeak com pages license_faq each update counts towards the 15 second limit and you can update all eight fields the location information and the status in a single update every 15 seconds you can update all fields use to append the first parameter and for subsequent parameters for a get https api thingspeak com update json api_key xxxxxxxxxxxxxxxx field1 1 field2 22 field3 234 field4 mush field5 room field6 66 field7 7 status greevyetc,0.5
frenk0,cstapels said see the write data documentation https www mathworks com help thingspeak writedata html for the correct formats and the faq for licensing information https thingspeak com pages license_faq each update counts towards the 15 second limit and you can update all eight fields the location information and the status in a single update every 15 seconds you can update all fields use to append the first parameter and for subsequent parameters for a get https api thingspeak com update json api_key xxxxxxxxxxxxxxxx field1 1 field2 22 field3 234 field4 mush field5 room field6 66 field7 7 status greevyetc u00a0 u00a0thanks but ifi have three esp8266 that i cannot sync how can i make them write each one in a channel with out losing data due to the 15 sec limit,0.5
rw950431,the 15 second update is just about the only limit that thingspeak has so your options appear to be1 3 separate channels2 paid plan3 re think your architecture so that you sync your updates a matlab visualization can combine data from multiple channels if thats your main reason for avoiding the obvious solution,0.5
frenk0,rw950431 said a matlab visualization can combine data from multiple channels if thats your main reason for avoiding the obvious solution u00a0 u00a0 can i do a mathlab visualization which looks like a field chart,0.718943357468
frenk0,i mean the interesting part of the fiel chart is that when you drag the mouse over a certain spot of the function it gives you the exact x and y value,0.809056222439
cstapels,after you finish your matlab visualization use thingspeakwrite to write the data to another channel then you will have thingspeak plots for the fields in your new channel complete with hover capabilities,0.805708825588
frenk0,thank you this was very helpful ud83d ude42,0.994765043259
dennis55,i am attempting to send data to thingspeak using a esp8266 and a arduino mini pro 16 i am using the example arduino code for the esp8266 wifi temperature logger instructables this project is listed as an example on the thingspeak support page linked as wifi esp8266 wifi temperature logger external i have set up the hardware and have established serial communication between the arduino and the 8266 wifi module i believe the serial connection is good i get the expected appropriate messages on the serial monitor when the setup and connectwifi functions run on the arduino there is no error reported when the at cipstart command is sent to the web page however the is never returned after the at cipsend command is sent to thingsspeek the at cipclose is sent to the serial monitor and the esp8266 the received error message is sent to the serial monitor the get command is never sent to thingspeak because the is never returned after the at cipsend command is sent i have tried everything i can think of to determine where the issue may be i am completely out of ideas i could post the code here but is available here http www instructables com id esp8266 wifi temperature logger with a considerable amount of detail about the system i am attempting to replicate ps the system is reading temperatures correctly i can modify the code and send the temperature reading to the serial monitor also i have bean successful in sending test data to my thingspeak channel by using a web browser address bar and modifying this https api thingspeak com update api_key your write api key field7 0 0000672 update i have now completely removed the arduino and connected a serial to usb adapter directly to the esp8266 module i have serial com with the module the at at rst at cwmode at cipmux at cwlap commands all work as expected i am getting a full listing of the available wifi access points with the cwlap comand however when i attempt to connect to the thingsreak server i get an error at cipstart tcp 184 106 153 149 80 no ip errori would greatly appreciate any suggestions or help if anyone can point the problem thanks,0.793749690056
piajola,hi dennis55 please read this post click link https community thingspeak com forum esp8266 wi fi updating data in thingspeak p5544if that is no help please ask again and i can explain in more detail the idea is to test manually first to send with your esp some data to thingspeak when it is working you put the arduino in charge this works i have now more than 1000000 points in my channel with my esp01 arduino couple,0.5
dennis55,hi piajolathanks for the reply unfortunately i am still not getting any data posted onto my thingspeak channel i have read the forum post that you linked i am getting the same busy s message that is mentioned there i have set up the serial com using both putty and the arduino ide serial monitor the results are the same every time when i send the get command after the at cipsend command i always receive the busy s i have tried sending the serial using all the possible line end arrangements nl cr newline only carnage return only and no line ending i have adjusted the value of the at cipsend command in an attempt to discover if i was not counting the line end charterers as required i have tried sending one set and two sets of carnage returns and line ends to the end of the get command statement i did not see or perhaps never understood what other step i might attempt to resolve this issue from the forum link i see n on the serial monitor after the symbol that is returned after the at cipsend command in sent this leads me to think the issue in related to the end character sent in ether the at cipsend command or the get command that where sent i have attempted to try every combination of line end characters i think may help but nothing works atokat rstokc_ u2e2er u2e2efj fj u2e2efj u2e2e u2e2eo u2e2eg u2e2eg u2e2e u2e2eo u2e2ex u2e2exreadywifi connectedwifi got ipat cipmux 0okat cwmode 1okat cipstart tcp 184 106 153 149 80connectokat cipsend 46ok nbusy s recv 46 bytessend okclosed,0.5
piajola,hi dennis55 have you read this other link mentioned https community thingspeak com forum esp8266 wi fi dns fail error p5426 at the end it is mentioned the effective send cipstart cipsend it seems your troubles are in character count and must be ended with cr lf ascii 13 10 or 0x0d 0x0a your at cipsend 46 ok n busy s recv 46 bytes send ok closedhas the busy s or failed try another waysee my comments post p5426 about putty how to end the strings to sendas you like to try a lot good thing you have something to do please tell your finds remember this works very well,0.753858566284
SailSenseTech,hi dennisyou do not need to worry about counting the length of the update string you can just issue the command at cipsend with no terminate the get request with simserial println updatestr1 simserial println simserial print u001a simserial println at cipstart tcp 184 106 153 149 80 connect to the thingspeak update url this is https api thingspeak com char searchstr connect ok if simserial find searchstr serial println tart ok simserial println at cipsend char searchstr error if simserial find searchstr serial println cipsend failed else simserial print get update key simserial print myapi simserial println updatestr1 simserial println simserial print u001a cntl z to terminate the send from the gsm since we did not define the request length char searchstr ok if simserial find searchstr serial println serial println get sent okay passflag true feedback i hope this helps david,0.221110254526
JuanTV,hello everyone im using the library pubsub based on the example of https la mathworks com help thingspeak use arduino client to publish to a channel html in my esp8266 module to connect to my thingspeak channel in the beginning i dont have any problems the data was sent without problems but yesterday when i was going to try i got an error in the serial monitor that said attempting mqtt connection failed rc 4 try again in 5 seconds it very strange since i never modify the code since that time it worked for me april 9 was the last time it worked for me according to the documentation of the library the message rc 4 means mqtt_connection_timeout the server did not respond within the keep alive time at first i thought it was my network problem but i tried all the networks that i had tried before and the problem keeps coming up i think then that the problem is with thingspeak something changed and i can not access anymore any idea what it could be what solution can i use i leave attached the code that i am using thank you for your attention best regards ps i am sorry for my english i am learningthe code is below include spi h library include esp8266 h library include pubsubclient h library variables de medida de energ u00edaconst int slavepin 15 salida pin 8 del wemos que controla el chip select del ade7753 aqui lo ponemos como 15 en la analogia arduino int voltaje1 define la variable voltaje igual a cerofloat corriente1 define la variable corriente igual a ceroint energia1 define la variable energia igual a cero int v 0 float i 0 int w 0 wifi credentialsconst char ssid gadym2013 const char password gadym_2013 thingspeak mqtt server credentialschar mqttusername juantv any name userchar mqttpass xxxxxxxxx mqtt key myprofile thingspeakchar writeapikey xxxxxxxxxx change to your channel write api key long channelid 426397 const char server mqtt thingspeak com static const char alphanum 0123456789 abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz for random generation of client id variables globales para seguir tiempo de ultima actualizacion y definir el intervalo para publicar informacionunsigned long lastconnectiontime 0 const unsigned long postinginterval 20l 1000l envia datos cada 20 segundos wificlient espclient inicializaci u00f3n del cliente mqttpubsubclient client espclient void setup put your setup code here to run once pinmode led_builtin output definimos para prender el led que indica que el programa esta corriendo serial begin 115200 iniciamos el monitor serie spi begin iniciamos la libreria spi pinmode slavepin output configuramos el pin d8 aqui lo ponemos como 15 en la analogia arduino del wemos como salida conexi u00f3n con el servidor por el puerto 1883client setserver server 1883 serial begin 115200 delay 10 conexi u00d3n con la red wifi serial println serial println serial print connecting to serial println ssid wifi begin ssid password while wifi status wl_connected delay 500 serial print serial println serial println wifi connected serial println ip address serial println wifi localip conexion con el servidor web mqtt thingspeak begin client void loop digitalwrite led_builtin low encedemos el led se espera a la conexi u00f3n con el broker if client connected reconnect client loop se espera a que pase el tiempo transcurrido para enviar de nuevo if millis lastconnectiontime postinginterval mqttpublish delay 5000 funcion para reconectar en caso de falla void reconnect char clientid 10 loop until we are reconnected while client connected serial print attempting mqtt connection generate clientid for int i 0 i 0 desplazamos el primer byte a la izquierda entonces obtiene el segundo byte result result 8 inbyte spi transfer 0x00 combine el byte anterior con el recibido result result inbyte decremente el numero de bytes a leer bytestoread desactivamos el chip digitalwrite slavepin high finalizamos la transacion spi spi endtransaction retorna el resultado return result,0.0777680277824
JasonW,i agree that it does seem like a network problem i can see server logs of mqtt publish messages to channel 426397 a few days ago was that you,0.231355577707
JuanTV,hello jason yeah was me but since yesterday i cant connect again to my thingspeak channel i do not know why it does not work now if it is the same code that i used a few days ago and as you could see i could send messages but not now i really need help soon,0.204710125923
cstapels,have you included the connection part of your code i do not see a call to mqttclient connect anywhere that is the part that would generate the rc 4 error as far as i know,0.171577572823
wojmonit,hi i have similar issue with publishing to chanel 393925 it was working great for long time but on 11th april stopped i realized its not working only today so started to debug all mqtt connections my esp8266 is trying to establish are failing with 4 code i tried to use mqttlens chrome extension to check if your broker is up initially i was able to publish test status with it but after a while it does not want to connect anymore have you changed anything recently i am using free account how limit of 3 mqtt subscriptsions works does it recognise previous subscription died due to timeout other issues regardsmarcin,0.0291887223721
wojmonit,no reply from support but i fixed it myself looks like reconnect procedure from example no longer works that with random client name generation i replaced it with static client name like below and it started to work again please test why your example no longer works and correct it so others wo not waste their time on this void reconnect char clientid 10 char clientidset wojmonitclient123 can be any name loop until we are reconnected while mqttclient connected serial print attempting mqtt connection generate clientid for int i 0 i 8 i clientid i alphanum random 51 connect to the mqtt broker if mqttclient connect clientid mqttusername mqttpass if mqttclient connect clientidset mqttusername mqttpass serial println connected else serial print failed rc print to know why the connection failed see http pubsubclient knolleary net api html state for the failure code explanation serial print mqttclient state serial println try again in 5 seconds delay 5000,0.790217995644
cstapels,you need to terminate the char array after this section serial print attempting mqtt connection generate clientidfor int i 0 i 8 i clientid i alphanum random 51 add this line clientid 8 0 and the connection should work,0.5
JuanTV,cstapels said have you included the connection part of your code i do not see a call to mqttclient connect anywhere that is the part that would generate the rc 4 error as far as i know u00a0 u00a0hello cstapels first at all thanks for your replies here and in github issue i am the same user in this post i do a mistake in copy my code in the code posted on github https github com knolleary pubsubclient issues 433 i do not make the same mistake i am sorry for that okay returning to the main theme here my solution as well as wojmonit was to eliminate the random generation of the clientid in my code and replace it with a fixed clientid that allowed me to connect without problem to my channel by the way thanks for you help wojmonit you recommend this change in my code add this line clientid 8 0 and the connection should work but i have not tried it yet can you explain in detail this solution that you propose and another question for you or for some user of the support why did the random generation of the clientid stop working the same code example of mathworks proposes thanks for everyones regards,0.0515122413635
cstapels,the fixed client id will work but it is less reliable if you have two devices with the same client id the new instance may cause the old one to terminate this is why the random client id generation works in the publish code when the un terminated char array was converted to a string the program was taking a whole bunch of extra characters which was causing the server to reject the request to connect for examplechar clientid abcdefgh can get converted tostring clientid abcdefghandawholebunchofotherstuffinmemorythatoccursafterthecharbutchar clientidterminated abcdefg 0 converts tostring clinetid abcdefg i am not yet clear why the server changed its requirements it may have even been a processing issue of how the request was packaged before it was sent to the server we are looking into the issue but the solution here works for my devices,0.5
JuanTV,cstapels said the fixed client id will work but it is less reliable if you have two devices with the same client id the new instance may cause the old one to terminate this is why the random client id generation works in the publish code when the un terminated char array was converted to a string the program was taking a whole bunch of extra characters which was causing the server to reject the request to connect for examplechar clientid abcdefgh can get converted tostring clientid abcdefghandawholebunchofotherstuffinmemorythatoccursafterthecharbutchar clientidterminated abcdefg 0 converts tostring clinetid abcdefg i am not yet clear why the server changed its requirements it may have even been a processing issue of how the request was packaged before it was sent to the server we are looking into the issue but the solution here works for my devices u00a0 u00a0hello cstapels i made the changes in my code and it working fine thanks a lot for your help i would like to ask you one last question i have two devices measuring some variables my purpose is to send data every 5 or 10 minutes using the code posted in https github com knolleary pubsubclient issues 433 with corrections obviously my question is will my two devices be able to send the data simultaneously without problem to the same channel or as i should do what changes in my code should i make so that both send data without problem regards juan,0.5
JasonW,we finally figured out the root cause of the issue a recent mqtt broker update added utf 8 validation to client ids and topics we did not realize it but the code in our example to generate random client ids had a bug in it which caused an invalid character to be included after the the broker update our example became broken we will be correcting that validating client ids and topics for only utf 8 characters is a good thing in terms of security unfortunately it tripped us up this time the bottom line be sure to include only printable characters in the client id and topic meaning no tabs line feeds carriage returns etc,0.223185896873
cstapels,can you start a new thread for this question and ill get to it shortly i would like to ask you one last question i have two devices measuring some variables my purpose is to send data every 5 or 10 minutes using the code posted in https github com knolleary pubsubclient issues 433 with corrections obviously my question is will my two devices be able to send the data simultaneously without problem to the same channel or as i should do what changes in my code should i make so that both send data without problem,0.239091485739
zidan,hey guys 1 i am trying to send data from my arduino uno to the nodemcu 8266 through serial but i receive nothing but when i send any data from the node mcu to the arduino things go smoothly 2 so i to access the esp8266 module on the nodemcu esp8266 and made all the wirings so i can access the wifi from the arduino directly then i will have the benefit of uploading the arduino data through the esp8266 without programing the nodemcu controller but i failed when i enter any at command nothing happens arduino code include softwareserial h softwareserial btserial 2 3 rx txchar c void setup serial begin 9600 btserial begin 115200 pinmode 13 output void loop if btserial available btserial write a digitalwrite 13 1 delay 1000 btserial write b digitalwrite 13 0 delay 1000 nodemcu esp8266 code include softwareserial h softwareserial btserial 13 15 rx txchar c void setup serial begin 9600 btserial begin 115200 pinmode led_builtin output void loop if btserial available digitalwrite led_builtin high c serial read serial print c,0.5
rw950431,which serial ports are being used to connect between the arduino and the nodemcu u00a0 is it serial or btserial i do see a problem in that in the arduino code you are waiting for some character to be received before you send anything perhaps remove the if btserial available lines and see if that works you might also try a lower speed on the btserial ports to see if that helps,0.241624891758
Athul,hi as part of my project i am uploading data to the thingspek iot platform to test the wifi module and to get an idea how the whole thing works i connected esp8266 with a usb ttl serial i used serial prompt in linux to send at commands module gave a response to every command and connected it to a wifi network then i tried to update field value of thingspeak 1 at cipmux 02 at cipstart tcp www thingspeak com 802 at cipsend 74got reply as then i pasted the following link get https api thingspeak com update api_key 38x665eabz5ytrw3 field1 25send okbut the thingspeak filed values were not updated anyone have any idea about this thanks,0.821952581406
Athul,athul said hi as part of my project i am uploading data to the thingspek iot platform to test the wifi module and to get an idea how the whole thing works i connected esp8266 with a usb ttl serial i used serial prompt in linux to send at commands module gave a response to every command and connected it to a wifi network then i tried to update field value of thingspeak u00a0 u00a0 at cipmux 0 u00a0 u00a0 at cipstart tcp www thingspeak com 80 u00a0 u00a0 at cipsend 74 got reply as u00a0 u00a0 then i pasted the following link u00a0 u00a0 u00a0 u00a0 get https api thingspeak com update api_key 38x665eabz5ytrw3 field1 25 u00a0 u00a0send ok but the thingspeak filed values were not updated anyone have any idea about this thanks u00a0 u00a0,0.845866441727
cstapels,first make sure you can update your channel by pasting the get command into the browser u00a0 make sure your api key is the write api key u00a0 then look at other at command examples there is not yet one in the thingspeak documentation but there are a lot of them out there i am sure you did not show all the details of your code but there are other steps such as sending the size of our data packet and connecting to the server and access point u00a0even better you can use the arduino ide to program your esp 8266 and then the steps are a lot easier than using at commands u00a0 see the examples in the thingspeak documentation for example the temperature monitor or the soil moisture monitor,0.5
piajola,hi u00a0athul please see this post in this forumhttp community thingspeak com forum esp8266 wi fi dns fail error p5426i have more than 900000 records in my channel here with an arduino esp 01 it does not matter if the esp8266 is esp 01 or esp 12 or nodemcu or any model less than ten us dollars for esp 01 arduino nano clone sensor better than dht 11 22 is enough to have temperature humidity data in thingspeaki use win10 with chrome but this does not matter either with linux is the same thing as u00a0cstapels u00a0suggets first use the ip address line in your browser this try worked for mehttp api thingspeak com update key 16alphanumberkey field1 30 field2 80second try your serial software to send to esp8266if you need more help just askgood luck,0.5
Athul,hi thanks for the reply i am using lpc2148 arm7 for my projects not arduino i could find a lot of projects with esp8266 and arduino using thingspeak library but there no such library available for arm could not find one i have to write all at codes in my code and then send u00a0 get https api thingspeak com update api_key 38x665eabz5ytrw3 field1 25 u00a0 u00a0i could update my filed with directly pasting the following link in any browser with the required field value u00a0https api thingspeak com update api_key 38x665eabz5ytrw3 field1 25 u00a0today i tried again 1 configured my wifi module and connected it with a wifi network2 connected to api thingspeak com 3 at cipsend 74since my get https api thingspeak com update api_key 38x665eabz5ytrw3 field1 25 u00a0 u00a0link has 72 characters and extra 2 for 3 then i sent the link without u00a0 at the end and pressed enter key and ctrl enter u00a0 u00a0by following above method i could update my field values u00a0but the thing is if i add at the end of the link get https api thingspeak com update api_key 38x665eabz5ytrw3 field1 25 instead of pressing u00a0enter key and ctrl enter u00a0 u00a0 and past it u00a0to the command prompt u00a0 u00a0i got the following response u00a0 busy s sendbut the field value was not updated u00a0so my question is how should i write my code u00a0can i use something like this u00a0 u00a0 char wifi get https api thingspeak com update api_key 38x665eabz5ytrw3 field1 25 u00a0 u00a0 int l strlen wifi u00a0 u00a0 u00a0 sprintf b at cipsend d l u00a0 u00a0 uart_tx wifi u00a0since sending data in u00a0get https api thingspeak com update api_key 38x665eabz5ytrw3 field1 25 this format did not update values not sure i could use something as abovei am confused,0.5
Athul,updating answer due to missing charactershi thanks for the reply i am using lpc2148 arm7 for my projects not arduino i could find a lot of projects with esp8266 and arduino using thingspeak library but there no such library available for arm could not find one i have to write all at codes in my code and then send u00a0 get u00a0https api thingspeak com update api_key 38x665eabz5ytrw3 field1 25 u00a0 u00a0i could update my filed with directly pasting the following link in any browser with the required field value u00a0https api thingspeak com update api_key 38x665eabz5ytrw3 field1 25 u00a0today i tried again 1 configured my wifi module and connected it with a wifi network2 connected to api thingspeak com 3 at cipsend 74since my u00a0get u00a0https api thingspeak com update api_key 38x665eabz5ytrw3 field1 25 u00a0 u00a0link has 72 characters and extra 2 for u00a0 carraige return new line 3 then i sent the link without u00a0 carraige return new line at the end and pressed u00a0enter u00a0key carraige return u00a0and u00a0ctrl enter new line u00a0by following above method i could update my field values u00a0but the thing is if i add carraige return new line u00a0at the end of the link get u00a0https api thingspeak com update api_key 38x665eabz5ytrw3 field1 25 carraige return new line u00a0instead of pressing u00a0enter key carriage return and ctrl enter new line u00a0 u00a0 u00a0and past it u00a0to the command prompt u00a0 u00a0i got the following response u00a0 new line busy s sendbut the field value was not updated u00a0so my question is how should i write my code u00a0can i use something like this u00a0 u00a0 u00a0char wifi get u00a0https api thingspeak com update api_key 38x665eabz5ytrw3 field1 25 carraige return new line u00a0 u00a0 int l strlen wifi u00a0 u00a0 u00a0 sprintf b at cipsend d l u00a0 u00a0 uart_tx wifi u00a0since sending data in u00a0get u00a0https api thingspeak com update api_key 38x665eabz5ytrw3 field1 25 carriage return new line this format did not update values not sure i could use something as abovei am confused,0.5
piajola,hi to add to the confusion ud83d ude42i tried your link in my w10 chrome twice and got 14 and 15 so i think i put two 25 values in your field1 channel xxxxi am assuming you are talking your adventures with your serial software to control use your esp8266so new line busy s sendmust be interpreted as a failure if you receive busy s the esp826 was confused and did nothing you must try again and differently also there are differences in the different versions of the esp at firmware there is no one firmware version another also esp has ate0 no echo from esp u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0ate1 echo from esp more chars in rs232i used 3 serial software yat termite and putty in yat i press button send to send the chars in the command text in putty i must add m j at the end of chars and press enter in termite i put the chars in the command text and press enterall 3 are gui and choice cr only nl only or cr nli do not know your philips nxp compiler but read parts of my arduino code next note arduino has print and println ascii 13 and ascii 13 ascii 10 initialize espserial println at rst wait 5000 ms serial println ate0 wait 500 ms serial println at wait 500 ms if serial find ok u00a0 wait 1000 ms u00a0 try to connect to wifi else u00a0 there is at error esp is not ready tcp connection to send one more timeserial println at cipstart tcp 184 106 153 149 80 if serial find error u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 error in other fw version u00a0 something very bad there is no ts send data length serial println at cipsend 66 if serial find u00a0 serial print get update api_key u00a0 u00a0 20 u00a0 serial print apikey u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 16 u00a0 serial print field1 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 8 u00a0 serial print string valtemperature u00a0 u00a0 5 00 00 adjust your style u00a0 serial print field2 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 8 u00a0 serial print string valhumidity u00a0 u00a0 u00a0 u00a0 u00a0 5 98 76 u00a0 serial print r n r n u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 4 cr nl cr nl else u00a0 serial println at cipclose gooooood luck,0.5
Abhinandan,is the 15 sec delay constant in uploading the data to the server why does it cannot be uploaded instantly without any delay i am using nodemcu to upload data online but the requirement is that the data has to be processed and visualized instantly u00a0kindly help thanks u00a0,0.282340168953
cstapels,the free offering offers an update interval limit of 15 seconds data sent faster than that will be dropped u00a0 for your application you need the one second update interval which is only available with a paid license see this page on thingspeak licenses for more information about the paid license options the mqtt api u00a0or the client post method seen in the u00a0soil monitor example may offer some small speed improvements,0.725894808769
dozcakir,hello i have two esp8266 01 modules i use one of them to upload data to my thingspeak channel directly from the dht11 sensor so i can see temperature and humidty from the channel thats great i have no problem with that but i am planning to use my other esp module to show these datas in an lcd screen i do not know how to retrive data from thingspeak channels i would appriciate any help i am using ardunio ide to program u00a0,0.848917901516
cstapels,there are several examples in the thingspeak documentation to help you u00a0 the first example in the esp section post temperature data and read from channel u00a0 provides code using the thingspeak communication library u00a0 if you do not want to use the thingspeak communication library you can consider the moisture monitor with deep sleep u00a0 this one also shows how to put the device in deep sleep u00a0 these examples are specifically tested with node mcu devices esp 8266 12 but you can use the esp 8266 01 u00a0 your device wont have an adc which is used in come of these examples and the programming process is slightly different but it seems you already have the programming part down the arduino code is similar and you can look in the first section for more examples the first example with a sonar sensor and u00a0 an arduino mkr should port well to your esp with some changes u00a0 the others can give you some ideas as well,0.5
GOURISH,hi everyonei am new to this forumi am getting dns fail issue when i enter at cipstart 0 tcp https thingspeak com 80can anyone help plzthank u,0.795035243034
piajola,hi gourish can you tell us a little lot more about what are you doing i have 1 year of data with an avrmega 168 antidiluvian arduino with a esp 01 4 megabit flash 512 mbyte so this at thing works very well note you need 3 3 v 750 ma capable power supply otherwise you will have electrical issues when the radio part transmit also the number of r n return new line 13 10 0x0d 0x0a at the end of line is important vital for the internet trip another also the syntax can vary a little in different firmware try at gmr my try 10 minutes ago saidat gmr 6 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 meat version 1 4 0 0 may 5 2017 16 10 59 40 u00a0 u00a0esp 01sdk version 2 1 0 116b762 26 compile time may 5 2017 16 37 48 33 ok 2 with the esp 01 connected to a serial terminal ie arduino serial monitor with cr nl any serial terminal google is your friend better to type this copy paste sometimes tries his jokes at cipstart tcp api thingspeak com 80 41 char you get connect at cipsend 142 14 char you get get update api_key 16 alpha numeric field1 10 45 field2 15 40 field3 20 35 field4 25 30 field5 30 25 field6 35 20 field7 40 15 field8 45 10 142 char you get the next record number in your collected data 1 if starting in 2 5 seconds you see in the ts channel associated with the api_key the 8 little points in the 8 fields and so you know you did this well life warranty batteries included then you can start your fight with arduino to control the esp 01 but you are sure the data arrives u00a0,0.728503406048
adrian,hola buenas tardes he intentado recibir datos de un sensor para leer voltaje pero no he tenido u00e9xito puedo conectar mi esp8266 a una red wifi exitosamente pero no recibo los datos en mi channel id de thingspeak espero puedan ayudarme ya he revisado el apikey que est u00e9 bien lo actualizo por otro y hago el copy paste en el c u00f3digo y nada se hacen las lecturas de voltaje las puedo ver en el monitor serial de arduino u00c9ste es el c u00f3digo para la lectura del sensor y env u00edo de datos a thingspeak u00a0 include softwareserial h ledint ledpin 13 int sensor_pin a0 variable for sensorfloat sample 0 float bat_volt 0 for temperature replace with your channel thingspeak api keystring apikey here your apikey code connect 2 to tx of serial usb connect 3 to rx of serial usbsoftwareserial ser 14 15 rx tx this runs oncevoid setup initialize the digital pin as an output pinmode ledpin output enable debug serial serial begin 115200 enable software serial ser begin 115200 reset esp8266 ser println at rst u00a0 the loopvoid loop blink led on board digitalwrite ledpin high delay 200 digitalwrite ledpin low voltage esp_8266 void voltage sample 0 for int i 0 i 150 i sample analogread sensor_pin read the value from the sensor delay 2 sample sample 150 bat_volt sample 4 76 1024 12 2 r1 r2 r2 r1 10k and r2 2k void esp_8266 convert to string char buf 32 string strvolt dtostrf bat_volt 4 1 buf serial print strvolt serial println v tcp connection string cmd at cipstart tcp cmd 184 106 153 149 api thingspeak com cmd 80 ser println cmd if ser find error serial println at cipstart error return prepare get string string getstr get update api_key getstr apikey getstr field1 getstr string strvolt getstr send data length cmd at cipsend cmd string getstr length ser println cmd if ser find ser print getstr else ser println at cipclose alert user serial println at cipclose thingspeak needs 15 sec delay between updates delay 16000,0.5
piajola,hola u00a0adrian parece que esta de moda el esp8266 con comando at hayes se necesitaria mas informacion de lo que haces yo uso un esp 01 con uno y u00a0at desde hace 1 a u00f1o y si funciona sin problemasmencionas que usas wifi pero hay contradicciones en tu software el mega tiene 2 com hardware y usas 1 el softserial es para el uno que solo tiene 1 com hardware y no funciona mas arriba de 19200 baud y tu intentas usarlo a 115200 baud tambien la version del firmware del esp8266 tiene sus cosas tu linea u00a0if ser find error u00a0 en mi firmware debe ser u00a0if ser find error u00a0mayusculas y sino asi haya error no te lo va a decir y jalate los pelos no dices que ves en el monitor arduino si ves u00a0strvolt quiere decir solo que leiste voltaje y no que paso con el esp8266mis pasos fueron u00a0 u00a0 probar manualmente que ponia data en thingspeak con el programa u00a0 termite puede ser el que manejes mas comodamente u00a0 u00a0 probar programaticamente controlar el esp 01 para que envie data a u00a0thingspeaksi te parece podemos intentar mis sugerencias paso a pasosaludos u00a0,0.5
adrian,hola piajola como ver u00e1s no soy experto en arduino y en efecto ese c u00f3digo se utiliz u00f3 en un arduino uno y pens u00e9 que podr u00eda utilizarlo en el mega sin problema quisiera saber si podr u00edas orientarme por correo de preferencia u00a1muchas gracias,0.754595458508
piajola,hola si puedo decirte mi opinion y mis experiencias sin problema el problema esta en como intercambiar correos si sabes como mandar mensajes personales en este foro prueba mandarme privadamente un correo ud83d ude42,0.790678024292
adrian,no pues no le encontr u00e9 aparece contact piajola pero no hay nada para selecionar nada ramgua gmail,0.248692899942
piajola,hola en tu perfil igual contact adrian no funciona parece este forum no permite los usuarios se comuniquen la idea debe ser todo el mundo comparta lo que se diga es la ultima parte como escribirte sino plantea tus dudas por aqui ud83d ude42,0.5
mtmtntop,u00a0hi u00a0 i was using this code from the examples https www mathworks com help thingspeak read and post temperature data htmlto do a simple 1820 temp read and post u00a0 when i copied and pasted into arduino and tried to compile i get this error arduino 1 8 5 windows 8 1 board parkfun esp8266 thing dev 80 mhz 512k no spiffs v2 prebuilt mss 536 disabled none 115200 would arduino sketches backupsketch_feb08csketch_feb08c ino in function void loop sketch_feb08c 58 error write2tsdata was not declared in this scopewrite2tsdata channelid datafieldone celsiustemperature datafieldtwo fahrenheittemperature datafieldthree millis write the temperature in f c and time since starting exit status 1 write2tsdata was not declared in this scopethis report would have more information with how verbose output during compilation option enabled in file preferences i am not very experienced at writing this code so i would appreciate any help u00a0 thanks,0.5
cstapels,u00a0your compiler cannot find the function write2tsdata u00a0 make sure you copied it its down at the bottom u00a0 if its there and the compiler still cannot find it this is most likely due to a missing open or close brace or u00a0i checked out the code on the site and there does not seem to be a missing brace there both the full version and the step by step code compiles as copied for me u00a0 you should go through carefully and make sure each open brace has a corresponding close brace or you could recopy the code remembering to adjust the constants at the top if you copied form the section where each bit of code is explained separately it would be very easy to miss a close brace let us know how it goes,0.0446107685566
Atex,hello i have esp 8266 12 e on nodemcu board i have programmed it via arduino ide to send data to two channels 8 7 fields on thingspeak every minute when esp is connected to my home wifi it takes approximately 6 8 seconds 3 4s per channel to send a data i want to have more portable device so i programmed it to send data via my phone tethering access point by changing ssid and password to my phone esp12 e connected to it 1 connected client on statusbar sending data took almost 12 seconds probably because of weaker range unfortunately it was not sent or received i tried to use second older and worse phone sending took almost 20 seconds but the result was the same it works only on my home wifi did not test other routers should i change something or thingspeak is not compatible with phones or it takes too long what could be a reason,0.280627429485
cstapels,do you still have the serial monitor connected on your node mcu when you are sending u00a0 are you parsing the response from the server u00a0 can you share what the server is returning,0.717906236649
Atex,yes and no at the beginning i had tried it with serial monito later i tried resetting esp using it without serial monitor and without connecting it to my pc my esp is plugged to my pcb and has external power supply with it and without connecting to pc it works on my home wifi but hon serial monitor i wrote serial printlns under calling the following function they contained sending times thanks to millis function u00a0sending is divided into 2 parts because only in that way i am able to send data to 2 channels at once i have commented one but result was the same void senddatatocloud u00a0 u00a0 u00a0 u00a0 u00a0 for a 0 a 8 a u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 thingspeak setfield a 1 power a u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 thingspeak writefields channelnumber1 writeapikey1 u00a0 u00a0 u00a0 u00a0 u00a0 esp wdtfeed optional to prevent watchdog triggering u00a0 u00a0 u00a0 u00a0 u00a0 for a 8 a 15 a u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 thingspeak setfield a 7 power a u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 thingspeak writefields channelnumber2 writeapikey2 u00a0i do not parse any data on server on esp i am deleting min max values only then solving few equations and then writing them using thingspeak setfield even esp is connected to my phone the data does not leave it phone is not on sleep mode and has all permissions u00a0my sending code is based on these two from mathworks examples https www mathworks com help thingspeak read and post temperature data htmlhttps www mathworks com help thingspeak continuously collect data and bulk update a thingspeak channel using an arduino mkr1000 board or an esp8266 board html,0.5
AiR,hi everyone i been trying to do a project of iot so i want to send data to my channel in thingspeak but i do not know how there a general code to do it u00a0i am using esp8266 01 and at commands u00a0could you help me please u00a0thanks air u00a0 u00a0serial print connecting to serial println ssid wifi begin ssid pass while wifi status wl_connected delay 1000 serial println u00a0 u00a0this part does not conect my esp to my wifi network help me please,0.30413299799
beekeeper,hi please show us the whole code here and tell us something about your infrastructure did you include the necessary libraries try to understand the function of the libraries you use by trying the examples and then try to modify it to your wishes u00a0michael,0.5
Piez,you have not supplied enough information about your networkif trying from home do you have one router or more than one are you using dhcp or static ip addresses u00a0 u00a0 probably dhcp but if you know that helps u00a0does your esp8266 show up in the list of available networks on your cellphone can you issue at commands to the esp8266 and get response ok,0.301123052835
alcapar,i need to check data are correctly handled now i try to get httpcode and always returns 2 but data are sent properly the code is if client connect api thingspeak com 80 writeapikey key xxxxxxxxxxx tsfield1name field1 10 request_string thingspeakaddress request_string key request_string xxxxxxxxxxxx request_string request_string field5 request_string request_string tempe http begin request_string http get int httpcode http get serial println httpcode string payload http getstring get the request response payload serial println payload http end i am sure something is wrong,0.5
Vinod,perhaps you want to try modifying one of the many examples listed here https www mathworks com help thingspeak examples html,0.311830639839
alcapar,thank you i did it and it works,0.186526298523
ashebray,my thing speak is attached to my esp 8266 but no data is being recorded i did a test on it with my public channel and it worked however it will not update data on my current private channel here is the code any help will be appreciated u00a0 u00a0 u00a0 include esp8266wifi h include would ht h u00a0 begin settings u00a0const char ssid wutanglan const char password pranktank7664a const char host api thingspeak com const char thingspeak_api_key 9dagdl2109wc8dij dht settings define dhtpin d6 what digital pin we are connected to if you are not using nodemcu change d6 to real pin u00a0 uncomment whatever type you are using define dhttype dht11 dht 11 define dhttype dht22 dht 22 am2302 am2321 define dhttype dht21 dht 21 am2301 const boolean is_metric true update every 420 seconds 7 minutes min with thingspeak is 20 secondsconst int update_interval_seconds 420 end settings initialize the temperature humidity sensordht dht dhtpin dhttype void setup serial begin 115200 delay 10 we start by connecting to a wifi networkserial println serial println serial print connecting to serial println ssid wifi begin ssid password while wifi status wl_connected delay 500 serial print serial println serial println wifi connected serial println ip address serial println wifi localip void loop serial print connecting to serial println host use wificlient class to create tcp connections wificlient client const int httpport 80 if client connect host httpport serial println connection failed return read values from the sensor float humidity dht readhumidity float temperature dht readtemperature is_metric we now create a uri for the request string url update api_key url thingspeak_api_key url field1 url string temperature url field2 url string humidity serial print are questing url serial println url this will send the request to the server client print string get url http 1 1 host host connection close delay 10 while client available delay 100 serial print read all the lines of the reply from server and print them to serial while client available string line client readstringuntil serial print line serial println serial println closing connection u00a0 go back to sleep if your sensor is battery powered you might want to use deep sleep here delay 1000 update_interval_seconds,0.823800265789
cstapels,i think the order of your commands is wrong u00a0 you are printing the get verb after you provide the address u00a0 have a look at the soil moisture example in the doc u00a0 it uses post instead of get but the process is similar u00a0 let us know if you get it going,0.743473887444
ashebray,cstapels said i think the order of your commands is wrong u00a0 you are printing the get verb after you provide the address u00a0 have a look at the soil moisture example in the doc u00a0 it uses post instead of get but the process is similar u00a0 let us know if you get it going u00a0 u00a0how do i change the order or change from get to post sorry for the questions i am just having a rough time with this,0.197272866964
JasonW,there is a new release of the thingspeak client libraries for arduino that adds support for esp32 the new v1 3 3 release and is accessible from github or through the arduino ide library manager in order to make it work the arduino core for esp32 will need to be installed u00a0 some installation instruction can be found here,0.5
beekeeper,hi is there any arduino library working fine with the esp32 development board i would like to change a arduino mkr1000 everything works fine by using a esp32 now uploading the sketch aborts with message platform not supported thanks for your replies michael,0.894838750362
cstapels,check out the instructions on the thingspeak examples page for the esp32 wifi monitor u00a0 i have used those instructions to program my esp32 dev board with arduino,0.5
JasonW,the latest release 1 3 3 of the thingspeak client libraries adds support for esp32 u00a0 u00a0the esp32 arduino core will need to be installed to make it work u00a0 some installation instruction can be found here,0.258701384068
Diena,i am trying to via wifi internet router update a thingspeak channel by posting a feed with http post i just try esp8266 to generate numbers a and load them into a graph i get answer 200 ok however nothing appears in the graph problem is in strings to send or where else answer on serial monitor http 1 1 200 okcontent type text html charset utf 8content length 1connection closestatus 200 okx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800etag 5ef059938ba799aaa845e1c2e8a762bd cache control max age 0 private must revalidateset cookie request_method post path x request id a7d6719b d8c3 4f5e 9039 b13f44d6050ex runtime 0 190082x powered by phusion passenger 4 0 57date sun 10 dec 2017 14 21 03 gmtserver nginx 1 9 3 phusion passenger 4 0 57 u00a01 disconnected u00a0code part u00a0void loop if client available char c client read serial print c if client connected lastconnected serial println disconnected serial println client stop if client connected millis lastconnectiontime updatethingspeakinterval string data field1 data a if client connect thingspeakaddress 80 client print post update http 1 1 client print host api thingspeak com client print connection close client print x thingspeakapikey apikey client print content type application x ww form urlencoded client print content lenght client print data length client print client print data serial print would ata serial println data lastconnectiontime millis if client connected serial println connecting to thingspeak a 1 lastconnected client connected u00a0any help would be great u00a0,0.5
cstapels,one thing i noticed is that you have a small error in one of your http headers u00a0 you have the word length spelled as u00a0 lenght i am not sure if that would cause the problem is it possible for you to share you channel id or share the channel privately with me my user name u00a0 at mathworks com u00a0 u00a0,0.774328708649
Diena,my channel id 375555 u00a0i am correcting the word but there are still no positive changes by the way thingspeak account my entries but nothing in graf,0.215578734875
cstapels,can you show the serial output for this line u00a0 u00a0serial print would ata perhaps that will show what is happening to the data u00a0your channel is private so i cannot see the data u00a0 you can share it with me privately using the sharing tab if this is possible for you to share your information u00a0you could also consider using the thingspeak communication library for arduino and esp8266 u00a0 if you are interested have a look at the temperature posting example for esp8266 you may also have a look at the soil monitor example u00a0this example uses the client directly like you are and does not use the thingspeak communication library,0.5
cstapels,you may also want to look at the chart options u00a0 press the pencil on the upper right of your field 1 chart and make sure that you do not have any averaging or change in time scale settings on u00a0 also make sure there are not modifications to the axis limits u00a0 these settings may make your data not appear on the chart,0.5
Diena,no problem i share chanel with you serial output data field1 0 next data field1 1 i try with and without no positive change my feeling that it really something with a scale or other parameter of interpretation but i do not really understand exactly what it is in chart options only 4 parameters color d62020 bacground ffffff type line dinamic true any ideas,0.858121395111
Diena,thank you very much for the cooperation it was felt that this had almost happened but some inaccuracies prevented understanding the problem cstapels thanks to your attention i discovered another inaccuracy and everything is happening it turns out that the error in the content type queue is more relevant than the content length error one w came out best regards,0.773258566856
Bulldogbob,hello i use a wemos d1 mini with a bme280 on my channel it has worked with this sketch but now i get bad request 400 what went wrong u00a0 u00a0 include bme280_mod 1022 h include wire h wifi and thingspeak settings include esp8266wifi h const char ssid xxxxxx const char password xxxxxxxxx const char server api thingspeak com const char api_key would ffsb76bcwgxxxx measurement interval seconds const int interval 300 5 mins define led d4wificlient client void printformattedfloat float x uint8_t precision char buffer 10 dtostrf x 7 precision buffer serial print buffer void printcompensatedmeasurements void float temp humidity pressure pressuremoreaccurate double tempmostaccurate humiditymostaccurate pressuremostaccurate char buffer 80 temp bme280 gettemperature humidity bme280 gethumidity pressure bme280 getpressure pressuremoreaccurate bme280 getpressuremoreaccurate t_fine already calculated from gettemperaure above tempmostaccurate bme280 gettemperaturemostaccurate humiditymostaccurate bme280 gethumiditymostaccurate pressuremostaccurate bme280 getpressuremostaccurate serial print temperature printformattedfloat tempmostaccurate 2 serial println serial print humidity printformattedfloat humiditymostaccurate 2 serial println serial print pressure printformattedfloat pressuremostaccurate 2 serial println post data to thingspeak postdata tempmostaccurate humiditymostaccurate pressuremostaccurate serial println void postdata float temperature float humidity float pressure send data to thingspeak if client connect server 80 serial println connect to thingspeak ok string datatothingspeak datatothingspeak get update api_key datatothingspeak api_key datatothingspeak field1 datatothingspeak string temperature datatothingspeak field2 datatothingspeak string humidity datatothingspeak field3 datatothingspeak string pressure datatothingspeak http 1 1host a c dconnection close datatothingspeak client print datatothingspeak int timeout millis 5000 while client available 0 if timeout millis 0 serial println error client timeout client stop return while client available string line client readstringuntil serial print line u00a0 setup wire and serialvoid setup wire begin serial begin 115200 pinmode led output delay 10 serial println connecting to wifi wifi begin ssid password while wifi status wl_connected blink led when connecting to wifi digitalwrite led low delay 250 digitalwrite led high delay 250 serial println wifi connected prepare led to turn on when measuring and send data main loopvoid loop need to read the nvm compensation parameters bme280 readcompensationparams we will switch into normal mode for regular automatic samples bme280 writestandbytime tsb_0p5ms tsb 0 5ms bme280 writefiltercoefficient fc_16 iir filter coefficient 16 bme280 writeoversamplingpressure os16x pressure x16 bme280 writeoversamplingtemperature os2x temperature x2 bme280 writeoversamplinghumidity os1x humidity x1 bme280 writemode smnormal while 1 digitalwrite led low while bme280 ismeasuring serial println measuring delay 100 read out the data must do this before calling the getxxxxx routines bme280 readmeasurements printcompensatedmeasurements digitalwrite led high delay interval 1000 serial println,0.5
cstapels,can you look at the output that is generated from client print datatothingspeak u00a0 you could add a serial println datatothingspeak and then copy and paste that line to the address bar in your browser do not forget to delete the get u00a0 this might help show why it is failing can you post it here,0.803499042988
valenciaa,hi all i use 4 xbee for temperature monitoring using cluster tree two xbee arduino as end devices so they send temperature data i use lm35 to another xbee arduino as router and then the router send the receive data from two end devices to the last xbee arduino as coordinator 2 end devices 1 router 1 coordinator so can i use two esp8266 for sending the temperature data on one coordinator to separate them as field1 and field2 or there is another way to show them to thingspeak so far i can show the data to thingspeak from 1 end device although the data is not correct but it can connect to thingspeak 1 end device 1 router 1 coordinator i am new to this and not really good in english so sorry if i made some mistakes thankyou so much the arduino code for end device 1int temp int temppin 0 void setup serial begin 115200 void loop temp analogread temppin temp temp 0 48820125 serial print temp delay 3000 for routerint incomingbyte 0 void setup serial begin 115200 void loop while serial available 0 incomingbyte serial read serial print incomingbyte for server include softwareserial h include stdlib h int incomingbyte 0 string apikey x4qoyqut5zn1oz58 softwareserial ser 10 11 void setup serial begin 115200 ser begin 115200 void loop while serial available 0 incomingbyte serial read char buf 16 string strtemp dtostrf incomingbyte 5 1 buf serial print strtemp string cmd at cipstart tcp cmd 184 106 153 149 api thingspeak com cmd 80 ser println cmd if ser find error serial println at cipstart error return string getstr get update api_key getstr apikey getstr field1 getstr string strtemp getstr cmd at cipsend cmd string getstr length ser println cmd if ser find ser print getstr else ser println at cipclose serial println at cipclose,0.5
deep_kap,i am using esp8266 as wifi cloud posting device for my sensor nodes taking data from a sensor node via uart software uart get timestamp from rtc store that data into sd card on regular time interval post collected data to thingspeak using bulk data update api issue i am facing is while esp8266 posting data to thingspeak it remains busy to get back the response from thingspeak for successful posting it takes 6 8 seconds normally and sometimes if internet is down it takes 25 30 seconds so during this time esp8266 not able to get data from sensor node via uart is there any way to get data via uart during the time of posting also i am usingarduino idenodemcu as esp8266 boardthingspeak rest api bulk updateuart communication between sensor node and esp8266any other alternative way is also acceptable like instead of using uart use spi,0.5
rw950431,if you post the code you are now using for the upload you may get more help in improving it u00a0 in my experience most of the wifi upload time is spent waiting for the network or the other end so it may well be possible to go on collecting data in the meantime if you have the right code,0.83995193243
deep_kap,rw950431 said if you post the code you are now using for the upload you may get more help in improving it u00a0 in my experience most of the wifi upload time is spent waiting for the network or the other end so it may well be possible to go on collecting data in the meantime if you have the right code u00a0 u00a0here is the part of code that post the data u00a0client stop string data_length string http_data length 1 if client connect server 80 string temp_buffer const_http_header data_length client println temp_buffer client println client println http_data else serial println failure failed to connect to thingspeak delay 250 client parsefloat string resp string client parseint if resp 202 serial println posted successfully else serial println error in posting serial println error resp,0.7194622159
rw950431,there is discussion about problems similar to yours at https github com esp8266 arduino issues 1420,0.0724801719189
Sergio_Tolosa,buenas tardes quisiera saber como hacer para extraer o bajar datos de un canal de thingspeak sin necesidad de utilizar su librer u00eda este es el c u00f3digo que llevo por ahora les agradezco su colaboraci u00f3n u00a0 include esp8266wifi h u00a0string apikey mmrsr6bewe7cz26z const char ssid const char pass const char host api thingspeak com void setup serial begin 9600 serial println connecting to serial println ssid wifi begin ssid pass while wifi status wl_connected delay 500 serial print serial println serial println wifi connected void loop wificlient client_1 inicializamos el cliente client_1 serial printf conectando a s host establecemos la conexi u00f3n con el servidor if client_1 connect host 80 serial println conectado serial println enviando peticion enviamos la petici u00f3n de datos client_1 print string get http 1 1 host host connection close serial println respuesta leemos la respuesta del servidor while client_1 connected if client_1 available serial println client_1 read serial println delay 5000 client_1 stop finalizamos la conexi u00f3n con el servidor serial println desconectado else serial println conexion con el servidor no lograda client_1 stop delay 10000,0.5
cstapels,el ejemplo del monitor de suelo muestra c u00f3mo enviar datos sin la biblioteca puede ver la sintaxis correcta para que get recupere datos en obtener un canal de informaci u00f3n parece que te perdiste el texto de la solicitud en el c u00f3digo anterior u00a0get to u00a0https api thingspeak com channels channel_id feeds aqu u00ed hay un fragmento que podr u00eda ayudar if client connect thingspeakaddress 80 u00a0 u00a0 client println get channels tschannel tsfolder tsfield last txt u00a0 u00a0 client println else u00a0 failedcounter u00a0 u00a0 lastconnectiontime millis delay 500 string response char charin do charin client read read a char from the buffer response charin append that char to the string response while client available 0 client stop u00a0the soil monitor example shows how to send data without the library u00a0you can see the correct syntax for the get to retrieve data on get a channel feed u00a0it looks like you missed the text of the request in the code above u00a0get to u00a0https api thingspeak com channels channel_id feeds here is a snippet that might help if client connect thingspeakaddress 80 u00a0 u00a0 client println get channels tschannel tsfolder tsfield last txt u00a0 u00a0 client println else u00a0 failedcounter u00a0 u00a0 lastconnectiontime millis delay 500 string response char charin do charin client read read a char from the buffer response charin append that char to the string response while client available 0 client stop hope the spanish is ok u00a0 i used google translate but checked it with my spanish immersion student son u00a0 i think he is going to charge me for the service,0.5
cstapels,the u00a0soil monitor example u00a0shows how to u00a0send u00a0data without the library u00a0you can see the correct syntax for the get to u00a0retrieve u00a0data on u00a0get a channel feed u00a0it looks like you missed the text of the request in the code above u00a0get to u00a0https api thingspeak com channels channel_id feeds u00a0here is a snippet that might help if client connect thingspeakaddress 80 u00a0 u00a0 client println get channels tschannel tsfolder tsfield last txt u00a0 u00a0 client println else u00a0 failedcounter u00a0 u00a0 lastconnectiontime millis delay 500 string response char charin do charin client read read a char from the bufferresponse charin append that char to the string response while client available 0 client stop,0.5
duydt2,dear all member i have finished a project mega2560 esp8266 esp8266 like picture i used sky phone asus phone to access in wifi then accessed in 192 168 4 1 ip by chrome okey but when i used iphone samsung phone i just only accessed in wifi ok then i could not access in 192 168 4 1 ip by safari of iphone chrome of samsung please help me for accessing in 192 168 4 1 ip ok with all type of smart phone thank you,0.5
beekeeper,are you using the same wifi access or are you using the mobile data function of your smartphone,0.5
Linaa,i am trying to read a temperature and humidity sensor si7020 http www kynix com parts 2489506 si7020 a10 gm html using i2c on the esp32 i modified their example code to read just from one slave device 0x40 but some commands do not work i tried resetting the device with 0xfe as well i can read the device id 0xfa task 0 master read sensor si7020 data_h 48data_l 52sensor val 15428 333333however if i try and read the temperature 0xe3 i get data_h 00data_l 00if i use 0xe0 i always get data_h 39data_l 9fwhy am i not able to read the temperature from si7020 the code i am using include stdio h include would river i2c h u00a0 define data_length 512 data buffer length for test buffer define rw_test_length 127 data length for r w test any value from 0 data_length define delay_time_between_items_ms 2000 delay time between different test items define i2c_example_master_scl_io 19 gpio number for i2c master clock define i2c_example_master_sda_io 18 gpio number for i2c master data define i2c_example_master_num i2c_num_1 i2c port number for master dev define i2c_example_master_tx_buf_disable 0 i2c master do not need buffer define i2c_example_master_rx_buf_disable 0 i2c master do not need buffer define i2c_example_master_freq_hz 100000 i2c master clock frequency define si7020_sensor_addr 0x40 slave address for si7020 sensor define si7020_cmd_read 0xe0 command to set measure mode define esp_slave_addr 0x28 esp32 slave address you can set any 7bit value define write_bit i2c_master_write i2c master write define read_bit i2c_master_read i2c master read define ack_check_en 0x1 i2c master will check ack from slave define ack_check_dis 0x0 i2c master will not check ack from slave define ack_val 0x0 i2c ack value define nack_val 0x1 i2c nack value xsemaphorehandle print_mux brief test code to write esp i2c slave 1 set mode _________________________________________________________________ start slave_addr wr_bit ack write 1 byte ack stop 2 wait more than 24 ms 3 read data ______________________________________________________________________________________ start slave_addr rd_bit ack read 1 byte ack read 1 byte nack stop static esp_err_t i2c_example_master_sensor_test i2c_port_t i2c_num uint8_t data_h uint8_t data_l i2c_cmd_handle_t cmd i2c_cmd_link_create i2c_master_start cmd i2c_master_write_byte cmd si7020_sensor_addr 1 write_bit ack_check_dis i2c_master_write_byte cmd si7020_cmd_read ack_check_en i2c_master_stop cmd int ret i2c_master_cmd_begin i2c_num cmd 1000 porttick_rate_ms i2c_cmd_link_delete cmd if ret esp_fail return ret vtaskdelay 1000 porttick_rate_ms cmd i2c_cmd_link_create i2c_master_start cmd i2c_master_write_byte cmd si7020_sensor_addr 1 read_bit ack_check_dis i2c_master_read_byte cmd data_h ack_val i2c_master_read_byte cmd data_l nack_val i2c_master_stop cmd ret i2c_master_cmd_begin i2c_num cmd 1000 porttick_rate_ms i2c_cmd_link_delete cmd if ret esp_fail return esp_fail return esp_ok brief i2c master initialization static void i2c_example_master_init int i2c_master_port i2c_example_master_num i2c_config_t conf conf mode i2c_mode_master conf sda_io_num i2c_example_master_sda_io conf sda_pullup_en gpio_pullup_enable conf scl_io_num i2c_example_master_scl_io conf scl_pullup_en gpio_pullup_enable conf master clk_speed i2c_example_master_freq_hz i2c_param_config i2c_master_port conf i2c_driver_install i2c_master_port conf mode i2c_example_master_rx_buf_disable i2c_example_master_tx_buf_disable 0 static void i2c_test_task void arg int i 0 int ret uint32_t task_idx uint32_t arg uint8_t data uint8_t malloc data_length uint8_t sensor_data_h sensor_data_l while 1 ret i2c_example_master_sensor_test i2c_example_master_num sensor_data_h sensor_data_l xsemaphoretake print_mux portmax_delay printf printf task d master read sensor si7020 task_idx printf if ret esp_ok printf would ata_h 02x sensor_data_h printf would ata_l 02x sensor_data_l printf ensor val f sensor_data_h 8 sensor_data_l 1 2 else printf no ack sensor not connected skip xsemaphoregive print_mux vtaskdelay delay_time_between_items_ms task_idx 1 porttick_rate_ms for i 0 i data_length i data i i void app_main print_mux xsemaphorecreatemutex i2c_example_slave_init i2c_example_master_init xtaskcreate i2c_test_task i2c_test_task_0 1024 2 void 0 10 null xtaskcreate i2c_test_task i2c_test_task_1 1024 2 void 1 10 null u00a0can anyone help me out thanks,0.5
andre_teprom,hello guys i have an application running a server and a client together along with the need to count coins responding pretty much in real time which has been a challenge as we all know the u00a0server handleclient u00a0function is the bottleneck of the system having to be instantiated very often under risk of resetting the system by watchdog timer so to prevent the system from getting stuck in an overly long loop i reduced the timeout of the client function parameter that talks to the cloud namely the timeout_ms_serverresponse value was reduced from 5 000ms to 1 500ms in the thingspeak h file c usersdocumentsarduinolibrariesthingspeaksrc but this seemed have not being reflected in the actual execution of the program because when surrounding the function below sometimes due to network issues it takes a lot of time to get away much more than the value that i have modified above serial println tart upload thingspeak writefield u00a0 serial println top upload perhaps it is needed to perform a correction factor multiplication on that u00a0i am on a module running at 80mhz u00a0does anybody know hot to fix that,0.5
astrotutor,u00a0hi all i have set up u00a0a thingspeak channel with the purpose of logging how many times a tweet hashtag is used this is ok i have also set up a thinghttp with a tweetcontrol to do the above and log it to field 1 of the channel this is ok i make a tweet and the number of events increases i can also achieve the same by using the thinghttp code in a browser too all happy i have also set up another thinghttp to read just the entry_id of the channel to obtain just the number of events i am not interested in what else is in the tweet just the number of times the hashtag is utilised at an event i will be running this works ok i can use the get command give from the last thinghttp in a browser and it gives me on the page just the number of events great i have also found some code to get the thinghttp data from the channel into the serial of my esp8266 u00a0but what the serial shows is a load of preceding information before the actual event_id info i am after i only what the event_id number with which i can then use to activate some lights or something not sure what at the moment but something eye catching the information on the serial is this connecting to api thingspeak comrequesting url api thingspeak com apps thinghttp send_request api_key xxxxxxxxxxxxxxtry 2 http 1 1 200 okcontent type text html charset utf 8content length 1connection closestatus 200 oketag eccbc87e4b5ce2fe28308fd9f2a7baf3 cache control max age 0 private must revalidatex request id 6fb2b657 ab0a 4d4d a63b bf5515d7c827x runtime 0 272793x powered by phusion passenger 4 0 57date sun 30 jul 2017 12 09 09 gmtserver nginx 1 9 3 phusion passenger 4 0 57 u00a03 u00a0it is just the number 3 at the end that i want how do i do this i have been looking around for hours but have not found anything that can help that i can understand any help would be appreciated the code i have to get is this we now create a uri for the request string url apps thinghttp send_request api_key xxxxxxxxxxxxx serial print are questing url serial println host url serial println string try value this will send the request to the server client print string get url headers false http 1 1 host host connection close delay 500 u00a0 read all the lines of the reply from server and print them to serial while client available string line client readstringuntil serial println line,0.91099023819
rw950431,unfortunately as you have found the arduino web client lacks many of the sophisticated features of more advanced programming environments so you are left to deal with the raw strings by yourself u00a0if you are certain that the line you want is the only one that starts with a number then the procedure isnt too hard u00a0 u00a0while client available string line client readstringuntil u00a0 if line charat 0 0 and line charat 0 9 u00a0 u00a0 serial println line u00a0 see https www arduino cc en reference stringobject particularly https www arduino cc en tutorial stringcharactersyou may also wish to convert your string to a useable number instead see https www arduino cc en reference stringtoint,0.236037969589
astrotutor,hi rw950431thanks for the info the result it gives is as below i am thinking is the answer to get the length of the string and read the last characters backwards until a blank space is reached it odd that a web browser only prints the 3 at the bottom that is the entry_id and nothing else connecting to api thingspeak comrequesting url api thingspeak com apps thinghttp send_request api_key xxxxxxxxxxxxxxtry 2 2001connection 2000 035260x powered by 4 0 57date 01201712 43 374 0 573try nr 2 is finished waiting for next try,0.5
rw950431,not sure why its doing that u00a0are you sure your code is reading the complete line and not just one character at a time u00a0 maybe you need readstringutil u00a0instead,0.734094083309
astrotutor,thanks for the help but i found this video which demonstrated an example from arduino which does exactly what i want i have also now managed to convert the result from a string to an integer so hopefully i can now get the code to do something more interesting with the result than just multiply it basichttpclient ino created on 24 05 2015 include arduino h include esp8266wifi h include esp8266wifimulti h include esp8266httpclient h define use_serial serialesp8266wifimulti wifimulti void setup use_serial begin 115200 use_serial setdebugoutput true use_serial println use_serial println use_serial println for uint8_t t 4 t 0 t use_serial printf setup wait d t use_serial flush delay 1000 wifimulti addap sis password void loop wait for wifi connection if wifimulti run wl_connected httpclient http use_serial print http begin configure traged server and url get the entry_id from thingspeak from the thinghttp tweetcontrol http begin api thingspeak com 80 apps thinghttp send_request api_key xxxxxxxxxxxxxxx httpuse_serial print http get start connection and send http header int httpcode http get httpcode will be negative on error if httpcode 0 http header has been send and server response header has been handled use_serial printf http get code d httpcode file found at server if httpcode http_code_ok string payload http getstring print the string value from thingspeak use_serial println payload convert string to integer so that we can utilise the number int number_tweets payload toint use_serial println 2 number_tweets else use_serial printf http get failed error s http errortostring httpcode c_str http end delay 10000,0.793141484261
2SEAN2,dear friends i have tried the above code and the output value is getting printed on the serial monitor from thingspeak please help me to display the value on the led matrix display with max7219 and fonts h libraries thanks in adavnce,0.825139284134
piajola,hi 2sean2 from andreas spiess in video 86 max7219 dot matrix display thingspeak esp8266 and read the description and commentsi think there is enough info for your cause u00a0good luck,0.5
2SEAN2,thanks for the quick response u00a0piajola will check the same and update u00a0thanks again,0.980750441551
Moshe055,hi to all i am new and i am sorry if i am not in the right place thare is any simple examplehow to read data from my chanel field1with esp8266 nodmcu to serial monitor in ide u00a0thanks a lot,0.227589488029
cstapels,see the examples page in the documentation u00a0 there is one example using the thingspeak communication library to read a thermistor and output the temperature u00a0 it also shows how to read data from a channel in the form of calibration parameters u00a0the moisture monitor example shows you how to write to a channel without using the library u00a0 you can modify the command to write into a read command using the api commands for getting field information from a channel u00a0or for getting all the channel feed info,0.5
Moshe055,thank you very much i will try and report results,0.933721065521
npctecnologia@gmail.com,dear friends i am new at thingspeak and have problems to program and work with thingspeak please could you help me bellow is the program the program may be wrong u00a0 include da lib de wifi do esp8266 include esp8266wifi h include da lib do sensor dht11 e dht22 include would ht h define do pino a ser utilizado no esp para o sensor gpio4 define dht_data_pin 2 define dhttype dht11 definir o ssid da rede wificonst char ssid multilaser_2 4g_2fc158 definir a senha da rede wificonst char password 96243911 colocar a api key para escrita neste campo ela u00e9 fornecida no canal que foi criado na aba api keysstring apikey const char server api thingspeak com dht dht dht_data_pin dhttype wificlient client void setup configura u00e7 u00e3o da uart serial begin 9600 inicia o wifi wifi begin ssid password espera a conex u00e3o no router while wifi status wl_connected delay 500 serial print dht begin logs na porta serial serial println serial print conectado na rede serial println ssid serial print ip serial println wifi localip void loop espera 20 segundos para fazer a leitura delay 20000 leitura de umidade float umidade dht readhumidity leitura de temperatura float temperatura dht readtemperature se n u00e3o for um numero retorna erro de leitura if isnan umidade isnan temperatura serial println erro ao ler o sensor return inicia um client tcp para o envio dos dados if client connect server 80 string poststr apikey poststr amp field1 poststr string temperatura poststr amp field2 poststr string umidade poststr client print post update http 1 1 client print host api thingspeak com client print connection close client print x thingspeakapikey apikey client print content type application x www form urlencoded client print content length client print poststr length client print client print poststr logs na porta serial serial print temperatura serial print temperatura serial print umidade serial println umidade client stop,0.5
cstapels,welcome to thingspeak u00a0 what responses are you getting from the server on the serial monitor also i would make sure you can update your channel manually using the command format for update a channel field https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 1230you can enter the format above in your browser address bar use your channel write api key on place of xxxx not the user api key or the read api key,0.5
gillesroszak,hi guys u00a0i am new u00a0 user of thingspeak and have some difficulty to send data from esp8266 nodemcu with arduino ide i do not know how to add the right code to the u00a0 sketch below for sending the data to thingspeak is there anybody to help me thanks in advance for your reply u00a0gilles u00a0 lowest and highest sensor readings const int sensormin 0 sensor minimumconst int sensormax 1024 sensor maximumvoid setup initialize serial communication 9600 baud serial begin 9600 void loop read the sensor on analog a0 int sensorreading analogread a0 map the sensor range six options ex long int map long int long int long int long int long int int range map sensorreading sensormin sensormax 0 5 range value switch range case 0 sensor getting wet serial println forte pluie break case 1 sensor getting wet serial println pluie break case 2 sensor getting wet serial println pluie faible break case 3 sensor getting wet serial println brumeux break case 4 sensor getting wet serial println humide break case 5 sensor dry to shut this up delete the serial println ec below serial println ec break delay 1 delay between reads,0.5
cstapels,gilles there are several new examples available at thingspeak just posted there is a temperature example that uses the thingspeak library to handle the http stuff there is a moisture sensor example that uses an esp8266 12 to post a voltage reading to a thingspeak channel u00a0 this one does not use the communication library and does use deep sleep between readings u00a0 u00a0there are some differences depending on what version of the esp8266 you have let me know if you have trouble,0.895809650421
chputney,here is what works for me u00a0 include esp h include user_interface h include would isplay h include button h include onewire h include esp8266wifi h u00a0 boot log connect putty to com port at 74880 baud to see boot log thermostat gpio pin defines pins to avoid gpio0 d3 gpio2 d4 gpio15 d8 u00a0 define ds18b20 2 d4 on mini gpio2 on esp8266 define scl 12 d6 on mini gpio12 on esp8266 define sda 13 d7 on mini gpio13 on esp8266 define button 14 d5 on mini gpio14 on esp8266 define timeout 500 5 seconds wifi and http defines define ssid xxxxx define password xxxxx define thingspeakip 184 106 153 149 thingspeak com define host api thingspeak com uint32_t rtc_memory 10 int current_temperature current_setpoint struct rst_info reset_info first int32 is the reason 5 reset button 6 deep sleepint sleeptime timeout bool temp_displayed false bool show_setpoint_or_temperature false setpoint false temperature truestring httpstring string thingspeak get http api thingspeak com update api_key vptojbwmjsadedo806rqm field1 u00a0void setup serial begin 9600 pinmode scl output pinmode sda output pinmode ds18b20 output pinmode button input_pullup digitalwrite builtin_led high make sure the led is off reset_info esp getresetinfoptr serial print ystem reset reason serial print reset_info reason serial print serial println esp getresetreason get last temperature and setpoint esp rtcusermemoryread 0 uint32_t rtc_memory 10 current_temperature int rtc_memory 0 if current_temperature 0 current_temperature 30 current_temperature 19 current_setpoint int rtc_memory 1 if current_setpoint 10 current_setpoint 25 current_setpoint 20 get the current temperature request_temperature if reset_info reason 5 we have awoken from deep sleep report_temperature report the current temperature over wifi and go back to sleep goto_sleep else the user pushed the button show the display display_init display_clear show_setpoint_or_temperature true void loop if timer do this every 10 milliseconds esp wdtfeed watchdog is reset if temp_displayed false display_clear if show_setpoint_or_temperature show_temperature else show_setpoint temp_displayed true byte but check_button if but 0 sleeptime timeout switch but case 3 3 button was pressed for count_up current_setpoint if current_setpoint 25 current_setpoint 25 temp_displayed false show_setpoint_or_temperature false break case 4 4 button was pressed for count_down current_setpoint if current_setpoint 15 current_setpoint 15 temp_displayed false show_setpoint_or_temperature false break sleeptime if sleeptime 0 goto_sleep shutdown bool timer void static unsigned long time if millis time time 10 return true return false void goto_sleep void sleep for 10 minutes display_off rtc_memory 0 uint32_t current_temperature rtc_memory 1 uint32_t current_setpoint esp rtcusermemorywrite 0 uint32_t rtc_memory 10 save setpoint esp deepsleep 600e6 rfmode 2 no rf calibration on startup void show_temperature void display_setfont 1 display_goto 30 0 display_chars temperature display_setfont 4 display_goto 40 20 display_char current_temperature 10 0x30 display_char current_temperature 10 0x30 display_update void show_setpoint void display_setfont 1 display_goto 30 0 display_chars setpoint display_setfont 4 display_goto 40 20 display_char current_setpoint 10 0x30 display_char current_setpoint 10 0x30 display_update void show_failure_reason const char reason long timenow display_init display_clear display_setfont 1 display_goto 20 26 display_chars reason display_update timenow millis while millis timenow 3000 show for 3 seconds void report_temperature void long timenow long wifitime time to establish wifi connection long clienttime time to connect to thingspeak server start wifi station wifi persistent false wifi mode wifi_off wifi mode wifi_sta wifi begin ssid password timenow millis while wifi isconnected false delay 100 esp wdtfeed wifitime millis timenow if wifitime 10000 serial println wifi connection timeout show_failure_reason wifi timeout goto_sleep if no connection after 10 seconds give up serial print wifi connection after serial print wifitime 1000 serial print serial print wifitime 1000 serial println seconds current_temperature get_temperature serial print current temperature serial println current_temperature wificlient client httpstring thingspeak current_setpoint field2 current_temperature field3 wifitime if client connect host 80 serial println connected serial println httpstring client println httpstring timenow millis while client connected if client available string line client readstringuntil serial println line clienttime millis timenow if clienttime 5000 serial println thingspeak connection timeout show_failure_reason erver timeout goto_sleep if no connection after 5 seconds give up client stop serial println would isconnected else serial println connection failed client stop client stop wifi mode wifi_off,0.5
gillesroszak,ok guys thanks a lot i u00a0progress well with your help another question please can we send text and display it to thingspeak,0.918967008591
cstapels,gilles can you post how you solved the problem you had above if you got it resolved for the sake of future forum readers you can post text to thingspeak u00a0 if you read text data back with thingspeakread you will want to use outputformat timetable u00a0 the limit for a single field feed is 256 characters if you update your channel status with text you can click the how status box on your channel settings page and then your main channel page will show the status text thingspeak also recently added support for the text analytics toolbox u00a0 if you have a license for that toolbox you can also use its functions in thingspeak to analyze text,0.856821656227
gillesroszak,hi guys u00a0can you help me one more time u00a0i want to use this sketch to send data to thingspeak see below which code line should i add to do this u00a0 code flame sensor analog example code by reichenstein7 thejamerson com for use with a rain sensor with an analog out to test view the output point a serial monitor such as putty at your arduino if the sensor board is completely soaked case 0 will be activated and flood will be sent to the serial monitor if the sensor board has water droplets on it case 1 will be activated and rain warning will be sent to the serial monitor if the sensor board is dry case 2 will be activated and not raining will be sent to the serial monitor lowest and highest sensor readings const int sensormin 0 sensor minimumconst int sensormax 960 sensor maximumvoid setup initialize serial communication 9600 baud serial begin 9600 void loop read the sensor on analog a0 int sensorreading analogread a0 map the sensor range six options ex long int map long int long int long int long int long int int range map sensorreading sensormin sensormax 0 15 range value switch range case 0 sensor getting wet serial println 15 break case 1 sensor getting wet serial println 14 break case 2 sensor getting wet serial println 13 break case 3 sensor getting wet serial println 12 break case 4 sensor getting wet serial println 11 break case 5 sensor getting wet serial println 10 break case 6 sensor getting wet serial println 9 break case 7 sensor getting wet serial println 8 break case 8 sensor getting wet serial println 7 break case 9 sensor getting wet serial println 6 break case 10 sensor getting wet serial println 5 break case 11 sensor getting wet serial println 4 break case 12 sensor getting wet serial println 3 break case 13 sensor getting wet serial println 2 break case 14 sensor getting wet serial println 1 break case 15 sensor dry to shut this up delete the serial println ec below serial println 0 break delay 2000 delay between reads code,0.5
gillesroszak,cstapels said gilles can you post how you solved the problem you had above if you got it resolved for the sake of future forum readers hi u00a0sorry for the late reply i just use tuniot u00a0 for esp8266 u00a0see here u00a0 u00a0,0.852840423584
angy1551,i want to control the swtiching of led with app made in kivy through mqtt i am not able to find single tutorial or code which can demeonstrate how to switch on off led through an app,0.5
7asson93,hello u00a0i am trying to send voltage data to thingspeak there are tons of tutorial using the dht sensor but i am trying to send a normal voltage reading from the esp8266 gipo 2 to thingspeak u00a0i am trying to do something like this but only to read voltage output from a sensor u00a0can someone do the code for me i have been trying for months it should be very simple for you guys please help me u00a0,0.5
blavery,arduino mode or lua mode here is a way by lua https github com blavery esuite lua blob master projects project18 lua,0.5
cstapels,have a look at the bulk update code for arduino it also works for esp8266 u00a0 u00a0you can modify the post command to just do a single channel update using the command structure you can copy from your api keys page or shown here u00a0,0.756984591484
Jerry,i measure the value in arduino pro u00a0and send it to thinkspeak via esp8266 but there are many outliers stupid weird value out of range that why i tried send to thinkspeak only one constant 3 33 stored directly in esp8266 and the situation is the same there are many outliers too why void loop if serial available sizeof int float i serial parseint senddatatothingspeak 3 33 time email cz,0.27233055234
cstapels,can you describe what the function senddatatothingspeak does u00a0,0.749118328094
Jerry,here you will find the whole file u00a0 u00a0 u00a0 https www dropbox com s betiilykyrnhho1 mainproduct_317961 ino dl 0thaks jerry,0.5
Jerry,hello i tried another piece of esp8266 but the result is still bad i attach a link where i keep doing it all the time thus thinkspeak is inapplicable thank you for your advice jerryhttps thingspeak com channels 87384,0.824439167976
rw950431,for those of us not willing to download random files from dropbox can you post the complete code of the senddatatothingspeak function did you try the official thinkspeak package https blogs mathworks com iot 2015 10 09 official thingspeak library for arduino and particle u00a0 its possible your api call is failing in some way that you are not detecting,0.5
SteveMcC,hello alli thought it would be of some help to this community to share my experiences with getting a thingspeak device working here in new zealand i am using a wemos d1 mini to upload my temperature data to thingspeak for a year or so before it u201cstopped u201d working u00a0my original project used lua and worked fine i thought the problem was that the code had become corrupted i found a few people who mentioned the same problems as i was having so i set about converting the lua code to arduino i could not for the life of me get any of the example code on the web working at all u00a0i could connect to the wifi no problem it would allocate my wemos an ip address u00a0when the code ran i could even see the ip address of the thingspeak servers and it connected to them fine the problem was when the code got to the following line it would time out and fail client print post update http 1 1 i took the device to work a fibre connection to the internet and the code work perfectly but i could not get it to work at my home or even through a wifi hotspot from my cellphone i discovered that the problem was with my internet connection at my home u00a0my internet connection is through vodafone using their wireless broadband 4g network u00a0it appears that vodafone i won u2019t say blocks but doesn u2019t allow the particular ports used by the wificlient connection through i changed my code so that it uses the http client instead u00a0this worked well and i have been successfully using this for a few months now relevant snippets of the code i used is below i am sending two strings of information to thing speak u00a0the temperature outside my house and the voltage of my batteries thus the two values being passed to the function u00a0 include esp8266httpclient h u00a0 instead of include esp8266wifi h void posttothingspeak float celsius float voltage string updateurl http updateurl string server updateurl update api_key updateurl string apikey updateurl field1 updateurl string celsius updateurl field2 updateurl string voltage client begin updateurl int httpcode client get u00a0 i guess i could check that i get a u201c1 u201d as confirmation but i implemented that yetclient end u00a0for those of us who like a u00a0 u201ctldr u201d summary could not connect using normal client code through vodafones network here in new zealand so had to adjust the code to use the httpclient method,0.241574019194
rw950431,for the record what port was your original code connecting to,0.5
SteveMcC,i was connecting using port 80 for example the code below was one of the examples i tried to use and i could not get it to work i have since then spoken to a friend who works in it and apparently there are different apn that can be used with vodafone nz network and some of them allow different ports access through their firewalls but i am not sure i can confirm or deny this if client connect server 80 string poststr apikey poststr field1 poststr string t poststr field2 poststr string h poststr u00a0client print post update http 1 1 client print host api thingspeak com client print connection close client print x thingspeakapikey apikey client print content type application x www form urlencoded client print content length client print poststr length client print client print poststr u00a0serial print temperature serial print t serial print degrees celsius humidity serial print h serial println ending data to thingspeak,0.5
jteindl,in my javascript i have a number of variables as shown u00a0stop new google maps latlng 59 093914487013 122 71569423377514 waypts push location stop stopover true u00a0the line in bold u00a0is what i need help with i have data transmitted to thingspeak i have an api that allows me to select the exact value to query what i need to know is how to use a get statement or anything that would work to have that stopover u00a0line be true or false based on the result so if the result queried by the api is over 8 it true if it under it is false u00a0the api line looks like this u00a0 u00a0get https api thingspeak com channels fields 1 json results 2so how do i set that bold u00a0field to query this and either be true or false based upon the result of this query u00a0if you need any more info please reply and i can fill in any blanks but i am reallllly needing some help here u00a0thank you u00a0,0.232953816652
RytisBe,hello everyone i am fairly new to this community i am currently working on thinghttp with esp8266 nodemcu my little project should read in total subscribers from youtube channel and lets say for now print them out to the serial monitor u00a0i have created a new thinghttp and filled in url parsing string and method after the link was generated i clicked into it and it seems to be working just fine while displaying only the total number of subscribers now the problem is the code itself i do not know how to properly call the function and how it should be printed out to the serial i would really appreciate some help here u00a0there is my code so far u00a0 u00a0 include const char ssid sidname const char password password const char host api things com const char url_youtube get https api thingspeak com apps thinghttp send_request api_key xxxxxxxxxxxxxxx http 1 0 void setup serial begin 115200 delay 10 wifi begin ssid password serial println serial println serial print tconnecting to serial println ssid while wifi status wl_connected delay 100 serial print serial println serial println twifi connected void loop getyoutube delay 15000 u00a0void getyoutube if wifi status wl_connected function goes here,0.81296646595
sgmustadio,hi all i am running into a weird error where my http get request will successfully post to a thingspeak channel but the data is null any idea on why this might be occurring i am planning to use tinkercad and thingspeak as part of an introduction to arduino with an iot section class in the next couple of weeks so any help is appreciated the tinkercad simulation can be found here https tinkercad com things iiz3zdshg3bif i paste in the url api thingspeak com update api_key i72pi7hckyi1md9q field1 0 into my browser i can post a 0 to my thingspeak channel also if i send a get request for example com index html i successfully get a properly formatted html page in the tinkercad simulator so i know that the emulated internet connection is working however when i run the get request to post something to thingspeak i receive a 200 ok and the channel is updated with a null value which makes me think that something is formatted incorrectly here is a json of the data after posting 2 values channel id 299689 name temperature logger latitude 0 0 longitude 0 0 field1 temperature created_at 2017 07 08t17 26 56 06 00 updated_at 2017 07 09t09 33 53 06 00 last_entry_id 2 feeds created_at 2017 07 09t09 33 07 06 00 entry_id 1 field1 null created_at 2017 07 09t09 33 53 06 00 entry_id 2 field1 null u00a0i have posted my code below please note that the esp8266 is attached to the arduino serial and softserial is being used for debugging status codes u00a0 include oftwareserial h wifi configstring ssid imulator wifi string password server file and portconst string hostname api thingspeak com const string uri update api_key i72pi7hckyi1md9q field1 0 const int port 80 this works basic get of a page const string hostname example com const string uri index html const int port 80 software serial objectsoftwareserial soft 8 9 rx txvoid setup initialize serial connections serial begin 115200 soft begin 9600 talk to esp8266 soft println init esp8266 serial println at delay 10 if serial find ok 0 soft println esp8266 not found while 1 connect to wifi soft println connecting to wifi serial println at cwjap ssid password delay 10 if serial find ok 0 soft println could not connect to wifi while 1 else soft println connected void loop open tcp connection serial println at cipstart tcp hostname port delay 50 if serial find ok 0 soft println error construct http request string req get uri http 1 1 host hostname u00a0 u00a0 connection close u00a0 u00a0 int len req length send our request length serial print at cipsend serial println len delay 10 if serial find 0 soft println error send our http request serial print req delay 10 if serial find end ok soft println error wait for a response from the server while serial available 0 delay 5 print reply from server while serial available string ln serial readstringuntil soft print ln close tcp connection serial println at cipclose 0 delay 50 if serial find ok 0 soft println error else soft println soft println connection closed delay 20000,0.787373781204
piajola,i do not know if this can help you56 construct http request57 string req get uri http 1 158 host hostname 59 u00a0 u00a0 connection close60 u00a0 u00a0 61 62 int len req length 63 u00a064 send our request length65 serial print at cipsend 66 serial println len 67 delay 10 68 if serial find 0 69 u00a0soft println error 70 7172 send our http request73 serial print req 74 delay 10 75 if serial find end ok76 77 u00a0soft println error 78 my way in my real life nothing against simulators u00a0600000 records and counting u00a0 tcp connection u00a0 string cmd at cipstart tcp u00a0 cmd 184 106 153 149 api thingspeak com not working u00a0 cmd 80 u00a0 altser println cmd u00a0 u00a0if altser find error u00a0 u00a0 one at commands version u00a0 if altser find error u00a0 u00a0 u00a0another at commands version u00a0 u00a0 serial println at cipstart error u00a0 u00a0 delay 4000 u00a0 u00a0 return u00a0 u00a0 prepare get string u00a0 string getstr get update api_key u00a0 getstr apikey u00a0 getstr field1 u00a0 getstr string strtemp u00a0 u00a0 u00a0 u00a0 u00a0 u00a0number to string u00a0 getstr field2 u00a0 getstr string strhume u00a0 u00a0 u00a0 u00a0 u00a0 u00a0number to string u00a0 getstr r n r n u00a0 u00a0 u00a0must be r u00a0and u00a0 n u00a0without the space between so 2 crs and 2 nls u00a0 send data length u00a0 cmd at cipsend u00a0 cmd string getstr length u00a0 u00a0 number to string u00a0 altser println cmd u00a0 if altser find u00a0 u00a0 altser print getstr u00a0 else u00a0 u00a0 altser println at cipclose u00a0 u00a0 alert user u00a0 u00a0 serial println at cipclose u00a0 u00a0 thingspeak needs 15 sec delay between updates u00a0 serial println u00a0 delay 59800 u00a0 u00a0 almost 60 points hour better to use millis altser to esp8266 serial to consolemaybe number 0 is received as null in your code thinking aloud also there are more than one at commands versions,0.5
cstapels,sgmustadio from what i see in your code you are not sending any values in your get request u00a0you can see this link u00a0for sample code u00a0this code uses the bulk post method but it allows you to see the formatting u00a0also try this link u00a0in lines 56 62 you need to include the api key and field 1 info as in the request you listed api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 0 56 u00a0 construct http request57 u00a0string req u00a0 u00a0 get u00a0 uri http 1 158 host u00a0 u00a0hostname u00a0 59 u00a0 u00a0 connection close60 u00a0 u00a0 61 62 u00a0int len u00a0 u00a0req length,0.5
sgmustadio,thanks for the suggestions u00a0piajola and cstapels still no luck on my end the weird thing is that the get request with exactly the same formatting successfully posts to thingspeak from a real esp8266 sparkfun thing dev so it must be something with the tinkercad esp8266 my request does have a value for field1 as per the uri update api_key i72pi7hckyi1md9q field1 0 do not worry i have since changed my write api key so this one is pretty useless i have even tried a post request replace lines 56 62 with the following post test no spaces for newline return carriage symbols string body api_key i72pi7hckyi1md9q field1 0 u00a0string req string post update http 1 1 r n host hostname r n u00a0 u00a0 user agent arduino 1 0 r n u00a0 u00a0 content type application x www form urlencoded r n u00a0 u00a0 content length body length r n u00a0 u00a0 connection close r n u00a0 u00a0 r n u00a0 u00a0 u00a0 body r n u00a0 int len req length u00a0 once again it works great in real hardware as well as from something like hurl it but gives me a 404 not found in the simulator,0.738512814045
cstapels,you had the right information in the uri variable i missed that above u00a0since you are getting a 404 perhaps its your line endings there is a space between them perhaps your encoder in the simulator is changing that space to a 20,0.245592623949
sgmustadio,oops forgot to mention sorry i added spaces to the slash r slash n line endings because this forum tool actually tries to parse the newline return carriage characters and the normal escape character does not work there are no spaces there in the code,0.0918716192245
Sommoh,hello everyone i need to export all my data to a file but the data export button only exports the last 100 entries how can i export them all thanks in advance,0.761454224586
piajola,sommohin my case with windows 10 having one free account in thimgspeak channels not the forum one signed in and the webpage changes a little showingchannel namechannel id 000000author xxxxxxxaccess public or private u00a0 private view public view channel setting api keys data import export u00a0 5 tabs u00a0 add visualizations data export matlab analysis 2 buttons u00a0 then press the last tab 5th data import export not any buttonwill change to next screen you will see 2 zonesimport u00a0 upload green button u00a0 export u00a0 download green button u00a0 press download green button then it will shows a dialogbox asking for place name for the csv file that will be in your machinein my case start 18 03 u00a0 u00a0end u00a018 2731 0 mb 32 518 144 bytes 665907 lines of csv datacreated_at u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0entry_id field1 field2 field3 field4 field5 field6 field7 field82016 02 03 00 19 58 utc 1 u00a0 u00a0 u00a0 u00a0 5 10 15 15 2016 02 03 00 20 15 utc 2 u00a0 u00a0 u00a0 u00a0 5 10 15 15 2016 02 03 00 20 33 utc 3 u00a0 u00a0 u00a0 u00a0 5 10 15 15 2016 02 03 00 20 50 utc 4 u00a0 u00a0 u00a0 u00a0 5 10 15 15 2017 07 09 23 24 36 utc 665904 21 59 66 86 2017 07 09 23 25 37 utc 665905 21 53 66 84 2017 07 09 23 26 38 utc 665906 21 56 67 06 hope this is some helpyou are welcome in advance ud83d ude42,0.5
Sommoh,piajola said sommoh in my case with windows 10 having one free account in thimgspeak channels not the forum one signed in and the webpage changes a little showing channel name channel id 000000 author xxxxxxx access public or private u00a0 private view public view channel setting api keys data import export u00a0 5 tabs u00a0 add visualizations data export matlab analysis 2 buttons u00a0 then press the last tab 5th data import export not any button will change to next screen you will see 2 zones import u00a0 upload green button u00a0 export u00a0 download green button u00a0 press download green button then it will shows a dialogbox asking for place name for the csv file that will be in your machine in my case start 18 03 u00a0 u00a0end u00a018 27 31 0 mb 32 518 144 bytes 665907 lines of csv data created_at u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0entry_id field1 field2 field3 field4 field5 field6 field7 field8 2016 02 03 00 19 58 utc 1 u00a0 u00a0 u00a0 u00a0 5 10 15 15 2016 02 03 00 20 15 utc 2 u00a0 u00a0 u00a0 u00a0 5 10 15 15 2016 02 03 00 20 33 utc 3 u00a0 u00a0 u00a0 u00a0 5 10 15 15 2016 02 03 00 20 50 utc 4 u00a0 u00a0 u00a0 u00a0 5 10 15 15 2017 07 09 23 24 36 utc 665904 21 59 66 86 2017 07 09 23 25 37 utc 665905 21 53 66 84 2017 07 09 23 26 38 utc 665906 21 56 67 06 hope this is some help you are welcome in advance ud83d ude42 u00a0 u00a0thank you very much the export data button in private view wo not do it but this button does the trick very nice,0.5
cstapels,the export data button in private view will export u00a0what you see in your private view u00a0if you want to export more data try changing the number of data points on your plot using the pencil icon on top of the chart and then the number of data points exported should change accordingly u00a0or you can use the export tab as suggested above,0.768925964832
Flying_Dutchman,hi on esp8266 with arduino i want to calculate if the temperature went up or down compare the last write to thingspeak with 30 writes ago anybody ideas on if it is possible to pull the last entry_id and the value of field1 of entryid 30 thanks,0.5
piajola,hi u00a0flying_dutchman u00a0in u00a0apps u00a0matlab analysisrun this as is copy paste and see ouput windows u00a0 semicolon at the end hides data not shown readchannelid yourchannelnumber0123 read data power thingspeakread readchannelid outputformat table numdays 3 power thingspeakread readchannelid outputformat table numpoints 30 power thingspeakread readchannelid fields 1 numpoints 30 read data disp power another way to view data find your data ulti power 30 data of interestvieji power 1 newest data find your data cono up if ulti vieji 0 cono v down enddisp would iff num2str ulti vieji cono new or than old your math here quick dirty way hope this helps u00a0,0.5
rw950431,if you need to do this client side and cant run the matlab script the api can be usedsee https au mathworks com help thingspeak get channel field feed html for the details but the basic api call is something likehttps api thingspeak com channels 9 fields 1 csv results 30 you may have to include api_key if your channel is not public u00a0unfortunately there is no way to only read the 30th value ago on its own u00a0you can only read all 30 values and pick the one you want u00a0,0.5
cstapels,if you know the entry id of the last entry you can subtract 30 and get it like thisget https api thingspeak com channels channel_number fields field_number string entryid 30 json if you dont know the entry id of the last entry read the last u00a0entry the json object will return the entry id for youget https api thingspeak com channels channel_number feeds last json u00a0the return format is shown here u00a0i use u00a0 arduinojson h to parse it there is a bit of overhead with it but not too bad,0.5
rw950431,cstapels nice u00a0is that documented anywhere,0.863547205925
piajola,rw950431 you are not asking me but gladly i can tell you one of my findingshttps www mathworks com help thingspeak get a channel feed html searchhighlight http 3a 2f 2fapi thingspeak com 2fchannels 2f s_tid doc_srchtitlefriendly u00a0,0.5
rw950431,thanks piajola its right at the bottom under the heading get specific entry in channel for anyone else who overlooked it,0.826665639877
markInSF,hello i am using the arduino ide with esp8266 nodemcu v1 0 using wifiudp class to get ntp time thingspeak does not work with udp class it does work with wificlient class i u2019m fairly new to this and didn u2019t see anything on the forums or web any workarounds to get thingspeak to work with udp library,0.256390750408
Abraham Levy,the last week i have development a solution with arduino uno and the esp8266 wifi module to measure the temperature and humidity of the enviroment it was working perfect but when the number of entries reach the 8000 it stopped and i could not save more data at my thingspeak channel the only solution i found was to save the information and clear the data of the channel after this i reset my arduino and validated that the little station was working again without any problem why this happend i think one of the reasons it is that i am using an a free license session after all i dont know if it is possible to reset the channel and save the data before do that or maybe do this automatically what else could it be done for this does anyone know what can i do to keep recolecting data avoiding this manually reset thanks a lot for your help,0.0920280814171
steelbullets,i am having this same problem using a dht11 sensor no matter what i try my thingspeak channel is not at all recording data sent to it i am working on a iot project for my college i have tried almost 15 19 tutorials on the internet using functions like u00a0thingspeak writefield channel 1 t apikey thinkspeak setfields to using post methods from arduino etc u00a0none seems to work i do not know where i am going wrong however if i type the post method with the api key and field values in the address bar of the browser the data gets logged into thinkspeak u00a0here is my code parts of it like the network ssid passwords and api keys are hidden i have it in my sketch though include include include include define dht_apin 4 analog pin sensor is connected to define ip 184 106 153 149 would ht dht dht_apin dht11 15 const char apikey u00a0 hidden due to privacystring apikey1 u00a0 hidden due to privacyunsigned long channel u00a0 hidden due to privacyconst char ssid hidden due to privacy const char password hidden due to privacy const char server api thingspeak com int h t wificlient client void setup serial begin 115200 delay 500 delay to let system bootdht begin delay 1000 wait before accessing sensorwifi begin ssid password serial println serial println serial print connecting to serial println ssid wifi begin ssid password while wifi status wl_connected delay 500 serial print serial println serial println wifi connected thingspeak begin client end etup void loop start of program dht read11 dht_apin serial print current humidity serial print dht readhumidity h dht readhumidity serial print serial print temperature serial print dht readtemperature t dht readtemperature serial println c if isnan h isnan t serial println failed to read from dht sensor return this is creating the headache i think please look into this part of code specifically u00a0if client connect server 80 184 106 153 149 or api thingspeak comserial print temperature serial print t thingspeak setfield 1 t serial print degrees celcius humidity serial print h thingspeak setfield 2 h serial println send to thingspeak string poststr apikey poststr field1 poststr string t poststr field2 poststr string h poststr client print post update http 1 1 client print host api thingspeak com client print connection close client print x thingspeakapikey apikey1 client print content type application x www form urlencoded client print content length client print poststr length client print client print poststr wait for response while client available delay 10 read all the lines of the reply from server and print them to serialserial println are sponse while client available string line client readstringuntil serial print line serial println serial println closing connection thingspeak writefield channel 1 t apikey thingspeak writefield channel 2 h apikey write the fields that you have set all at once thingspeak writefields channel apikey else serial print cannot connect to the internet check mobile data serial print client stop serial println waiting u2026 thingspeak needs minimum 15 sec delay between updatesdelay 20000 fastest should be once every two seconds end loop u00a0thanking youregardssteelbullets,0.0944848954678
rw950431,have you tried the example from here https github com mathworks thingspeak arduino tree master examples writemultiplevoltagesat the moment your code is confused for example you assemble a query string like you are going to do a get but you end up post ing instead u00a0 i always start with a working example then gradually modify it to work the way i want,0.5
steelbullets,rw950431 said have you tried the example from here https github com mathworks thingspeak arduino tree master examples writemultiplevoltages at the moment your code is confused for example you assemble a query string like you are going to do a get but you end up post ing instead u00a0 i always start with a working example then gradually modify it to work the way i want u00a0 u00a0i am so much thankful to your advice i looked into my code and found that i made a mistake of using post method instead of get thank you so much here is the final code i created now only the data sending part if client connect ip 80 184 106 153 149 or api thingspeak com serial print temperature serial print t thingspeak setfield 1 t serial print degrees celcius humidity serial print h thingspeak setfield 2 h serial println send to thingspeak string poststr apikey poststr field1 poststr string t poststr field2 poststr string h poststr this is the changed partstring cmd get https api thingspeak com update api_key cmd poststr client print cmd u00a0thank you u00a0rw950431regardssteelbullets,0.749441325665
cstapels,it seems that you are combining thingspeak library commands with client write commands u00a0it is possible to write to thingspeak using the thingspeak library these are the thingspeak setfield and thingspeak writefields etc commands u00a0it is also possible to use your own client and build the http post call yourself which is the client print cmd method u00a0there are good reasons to use either but i would not suggest using both u00a0simultaneously u00a0i would recommend using the library but if you want to use the client version i think you need a string that says api_key before you append the actual apikey u00a0i have not checked your code completely so you will want to follow the example closely u00a0,0.5
tomski,hi i have similar problem my data does not log to server when i switch to different wifi access point of course ssid and password are changed in the code before switching here is my code include include include include define one_wire_bus 2char ssid my_ssid char pass my_password wificlient client onewire onewire one_wire_bus dallastemperature ds18b20 onewire unsigned long mychannelnumber my_channel_number const char mywriteapikey my_api_key void setup wifi begin ssid pass thingspeak begin client pinmode led_builtin output void loop digitalwrite led_builtin high ds18b20 requesttemperatures float temp ds18b20 gettempcbyindex 0 thingspeak writefield mychannelnumber 1 temp mywriteapikey delay 1000 digitalwrite led_builtin low delay 19000,0.5
cstapels,some networks may need more time to connect i would suggest adding some delay and a loop to trying connection repeatedly u00a0you could add it to your main loop in case the device looses connection after start up the antenna on an esp8266 is pretty small have a look at the methods for connecting to wifi in here,0.5
jaysha4,i also built my first thingspeak project for monitoring temperature using dht11 but i always send values through url using post function like belowsprintf posturl update api_key s field1 s field2 s api_key humidstr tempstr httpget api thingspeak com posturl 80 i followed this arduino temperature monitoring article and it worked for me as it is i will try to use thingspeak writefield function next time till then you can also try to send values to server using post url read the referred article for detailed instruction,0.835874438286
avoletta,hi all u00a0need help the problem is the user needs to access a webserver web page installed on esp8266 and connected as a client for this it is necessary to know the ip assigned by the dhcp of the network router i am trying to use the mdns library to access the device as mydevice local this is not working even using bonjour on win 10 and also does not work on android 6 0 does anyone suggest another technique or method to achieve for the same purpose u00a0tks,0.5
TheFossil,hii am new to this forum and very confused bewildered i was excited to find what i thought to be a simple way to log data via the internet the esp8266 looked very promising and simple u00a0i have spent several hours trying to test the rssi send example and found it impossible to load into my esp code compilation took several minutes generated some 250k of code and just could not upload errors half way u00a0please advise me if i am missing something is it normal that compilation takes forever can the code really be 250k i am used to programming using pic micros using the mikroe development system and it is lightning fast and generates very economical code u00a0i am really keen to use the esp but does it work u00a0thanksjohn,0.137431234121
rw950431,it is quite normal to generate that kind of code size u00a0 the arduino interface is basically an emulator built on top of the expressif sdk so the code is not that efficient u00a0 i suspect that you could write much smaller and more efficient code using the native sdk https espressif com en support download sdks demos but you would need to learn a new environment and set up a new toolchain that being said the esp8266 is a much more sophisticated and capable board than a pic or atmega so code is going to be larger by necessity u00a0you may get more assistance with your upload problems on the arduino forums http forum arduino cc index php c3,0.881692707539
Khorne666,hello everyone newbie herei v started using an esp8266 12e with an lm35 temperature sensor i can read data correctly and show the on my serial monitor but when i created a new channel on thingspeak and added the api key to my code to show the data i can not see nothing entries value keep incrementing but i can not see anything on the chart help thanks,0.877179145813
Vinod,have you had a look at this tutorial does following this tutorial give you the right results in your thingspeak channel can you compare your code with what is in the tutorial to figure out what is different in your code that causes it to not work,0.911625266075
steelbullets,even i am having this same problem using a dht11 sensor no matter what i try my thingspeak channel is not at all recording data sent to it i am working on a iot project for my college i have tried almost 15 19 tutorials on the internet using functions like u00a0thingspeak writefield channel 1 t apikey thinkspeak setfields to using post methods from arduino etc u00a0none seems to work i do not know where i am going wrong however if i type the post method with the api key and field values in the address bar of the browser the data gets logged into thinkspeak u00a0here is my code parts of it like the network ssid passwords and api keys are hidden i have it in my sketch though include include include include define dht_apin 4 analog pin sensor is connected to define ip 184 106 153 149 would ht dht dht_apin dht11 15 const char apikey u00a0 hidden due to privacy string apikey1 u00a0 hidden due to privacy unsigned long channel u00a0 hidden due to privacy const char ssid hidden due to privacy const char password hidden due to privacy const char server api thingspeak com int h t wificlient client void setup serial begin 115200 delay 500 delay to let system boot dht begin delay 1000 wait before accessing sensor wifi begin ssid password serial println serial println serial print connecting to serial println ssid wifi begin ssid password while wifi status wl_connected delay 500 serial print serial println serial println wifi connected thingspeak begin client end etup void loop start of program dht read11 dht_apin serial print current humidity serial print dht readhumidity h dht readhumidity serial print serial print temperature serial print dht readtemperature t dht readtemperature serial println c if isnan h isnan t serial println failed to read from dht sensor return this is creating the headache i think please look into this part of code specifically u00a0if client connect server 80 184 106 153 149 or api thingspeak com serial print temperature serial print t thingspeak setfield 1 t serial print degrees celcius humidity serial print h thingspeak setfield 2 h serial println send to thingspeak string poststr apikey poststr field1 poststr string t poststr field2 poststr string h poststr client print post update http 1 1 client print host api thingspeak com client print connection close client print x thingspeakapikey apikey1 client print content type application x www form urlencoded client print content length client print poststr length client print client print poststr wait for response while client available delay 10 read all the lines of the reply from server and print them to serial serial println are sponse while client available string line client readstringuntil serial print line serial println serial println closing connection thingspeak writefield channel 1 t apikey thingspeak writefield channel 2 h apikey write the fields that you have set all at once thingspeak writefields channel apikey else serial print cannot connect to the internet check mobile data serial print client stop serial println waiting u2026 thingspeak needs minimum 15 sec delay between updates delay 20000 fastest should be once every two seconds end loop u00a0thanking youregardssteelbullets,0.0972331166267
SankarSaba,u00a0im trying to update thinkspeak from sim808 but getting network error kindly please check below and let me know if this is anything wrong in my methodology im using terminal exe to send command via rs232 atokat creg creg 0 5 connected in roamingat sapbr 3 1 contype gprs okat sapbr 3 1 apn www vodafone india www is apn as per the operator okat sapbr 3 1 user blank as per the operator okat sapbr 3 1 pwd blank as per the operator at sapbr 1 1okat httpinitokat httppara cid 1 okat httpara url https api thingspeak com update api_key my_key amp field1 value okat httpaction 0 httpaction 0 603 0 as per documentnote while im typing in browser url box https api thingspeak com update api_key my_key field1 value i can able to update my field i can able make call send sms i have internet packplease help u00a0,0.5
abhishek123,i am using this tutorial https www instructables com id flowmeter nodemcu counting litres 1 i am also using a same node mcu esp8266i connected it to my home network the local ip address is also displayed but it does not connected to my thingspeak channel and it struck at the waiting for the clienti also check a my thingspeak api its correct and my home network is also workingthanks in advance,0.810671329498
Vinod,that sounds like a connectivity problem are you using a kind of wifi security that the microcontroller cannot handle wpa2 perhaps maybe you can set up a wifi that does not require authentication the first step in debugging this would be to see if you can reach the internet from your nodemcu micro u00a0,0.792347550392
herge,hello i cannot send data to thingspeak with esp8266 i had thingspeak library and added the apikey number in the arduino ide i get only on my serial monitor the following information temperature 23 00 degrees celcius humidity 42 00 send to thingspeakwaiting failed to read from dht sensor but nothing is arriving into my channelwhat could be the causes help,0.5
Vinod,i would recommend starting from something that works try this tutorial modified with your channel info http nothans com measure wi fi signal levels with the esp8266 and thingspeakdoes this work,0.778614997864
kgd,i have a very similar issue i try the dht sensor and is taking measurements and i check if it is connected to the network and it also is the code get stocked in this line from this code source http www instructables com id send sensor data dht11 bmp180 to thingspeak with a allsteps if client connect thingspeakaddress 80 i review that the variable u00a0thingspeakaddress has the correct address i am trying to connect to my plant router so i can not u00a0change the security type i know my network is encrypted in wpa2 personal with aes i also set up a webserver in the same network with no issues i was able to connect to the esp from a different computer in the same network hope you can help have a nice day,0.243076533079
JasonW,kgd does your plant router require additional authentication after connecting to the wi fi u00a0often times on an office or business network there is a captive portal which will not allow any traffic through until a username password is supplied if that is the case then your device wo not be able to connect to thingspeak,0.5
herge,i just tested the esp8266 thingspeak channel via mkr1000 wi fi u00a0 u00a0this sketch sends the wi fi signal strength rssi of an esp8266 to a thingspeak u00a0channel using the thingspeak api https www mathworks com help thingspeak u00a0on my serial monitoe it is ok rssi 56rssi 53rssi 55rssi 55rssi 55rssi 52rssi 53but i see nothing on my channel i selected rssi in field 1 metadata json and showstatus savedo i have missed something thanks in advance,0.5
Hans,i created a tutorial that uses the esp8266 nodemcu version from amazon and sends data to thingspeak i tried to document all of the steps to get the arduino ide configured and use it to program the esp8266 here a link to my tutorial http nothans com measure wi fi signal levels with the esp8266 and thingspeak,0.5
Rakibul Sharif,hello i am try to send data thingspeak using adafruit cc3000 wifi shield after 3 4 times it sending off data here is the code i am using lm35 for sensing temperature help me out thank you all this is a sketch to use the online temperature and humidity sensor using xively actual code was written by marco schwartz for open home automation libraries include adafruit_cc3000 h include ccspi h include spi h include string h include stdlib h include utility debug h include would ht h include avr wdt h define cc3000 chip pins define adafruit_cc3000_irq 3 define adafruit_cc3000_vbat 5 define adafruit_cc3000_cs 10 temperature and humidity sensor define dhtpin 7 define dhttype dht11 create cc3000 instancesadafruit_cc3000 cc3000 adafruit_cc3000 adafruit_cc3000_cs adafruit_cc3000_irq adafruit_cc3000_vbat spi_clock_div2 you can change this clock speed wlan parameters define wlan_ssid would omain define wlan_pass atr 5645 security can be wlan_sec_unsec wlan_sec_wep wlan_sec_wpa or wlan_sec_wpa2 define wlan_security wlan_sec_wpa2 xively parameters thingspeak settingschar thingspeakaddress api thingspeak com string writeapikey msqa5ty5v7uk1h6x uint8_t temperature uint32_t ip variable setuplong lastconnectiontime 0 boolean lastconnected false int failedcounter 0 int temppin a0 int val for themperature and humidity dht dht dhtpin dhttype void setup void initialize serial begin 115200 connectwifi connect with wifi void loop void get data transform to integers float h dht readhumidity val analogread temppin float mv val 1024 0 5000 float cel mv 10 serial print temperature serial println cel serial print humidity serial println h int temperature float cel int humidity int h string tem string temperature dec thingspeak only data stream is string type string hum string humidity dec converting integer data to string serial print f api thingspeak com while ip 0 if cc3000 gethostbyname api thingspeak com ip serial println f could not resolve restarting wdt_enable wdto_8s if host does not response wait 8 sec and restart while 1 delay 500 cc3000 printipdotsrev ip serial println f adafruit_cc3000_client client cc3000 connecttcp ip 80 print update response to serial monitor if client available char c client read serial print c update thingspeak if client connected send temperature and humidity data to thingspeak site updatethingspeak 1 tem delay 20000 thingspeak needs a 15s delay between 2 data stream failedcounter 0 else serial println f connection failed failedcounter if failedcounter 15 serial println f connection failed for 15 times restarting wdt_enable wdto_8s if 10 continuous data upload failed restart host after 8s while 1 void updatethingspeak string tsdata adafruit_cc3000_client client cc3000 connecttcp ip 443 serial println connecting to thingspeak serial println ending data client print post update http 1 1 client print host api thingspeak com client print connection close client print x thingspeakapikey writeapikey client print content type application x www form urlencoded client print content length client print tsdata length client print client print tsdata serial println f would one serial println f waiting 25 sec for next sending void connectwifi serial println f initializing if cc3000 begin serial println f could not begin check your wiring while 1 connect to wifi network cc3000 connecttoap wlan_ssid wlan_pass wlan_security serial println f connected wait for dhcp to complete serial println f are quest dhcp while cc3000 checkdhcp delay 100,0.5
pilkar,arduino uno cc3000 wifi data stops sending to the thinkspeak server after 3 4 times how can i solve this problem,0.175994217396
Hafod,hii am developing an application whereby two esp8266 inter communicate using the tcp and i am using the esp8266_tcp library to develop functions to tx and rx data between the tcp client and server esp however despite many hours looking at related posts on various forums i am still somewhat confused on how to parse the commands correctly with or without string literals u00a0 i am aware that i should use the backslash character to precede double quotes inside the overall string as shown u00a0 so example 1 i fully understand given this rule example 1 code write at cwsap 2 cg_brst abcdefgh code but this rule does not seem to fully apply with the next two typical examples encountered by way way of internet searching on the topic can anyone please enlighten me on parsing rules and using escape characters i assume ssid and password are string variables i the examples given example 2 code senddata at cwjap ssid password code example 3 code write at cwsap ssid password string channel 4 code many thanks in anticipation of any help,0.728515386581
Vinod,as a sanity check u00a0you may want to use some u00a0serial print somestring statements in your code and look in the arduino ide serial monitor for example the following code in an arduino u00a0sketchvoid setup put your setup code here to run once void loop put your main code here to run repeatedly string ssid foo string password bar string cmdstring at cwjap ssid password serial print cmdstring delay 1000 shows me at cwjap foo bar in the serial monitor this is exactly what u00a0i expect if you are a beginner you may want to start with some tutorials on c programming,0.5
Hafod,thanks for your very helpful response vinod and i will persue this straightforward approach with the arduino ide u00a0 i am sure i will encounter issues as i progress and will post them here for assistance if that ok u00a0,0.976193010807
Nic Roche,hi u00a0i am doing an update using the get verb in request this mechanism is important it works the first time and then all subsequent connections fail u00a0i have used the domain url and ip address with the same results i have used a 1minute and 2minute loop to no avail code keys derived from https github com squix78 esp8266 projects blob master arduino ide thingspeak data logger thingspeak data logger ino u00a0 this sketch sends data via http get requests to thingspeak service every 10 minutes u00a0 you have to set your wifi credentials and your thingspeak key include extern c include user_interface h const char ssid virgin mobile 4g_38ab4b const char password xxx const char host api thingspeak com void setup u00a0 u00a0serial begin 115200 u00a0 u00a0serial println u00a0 u00a0serial println u00a0 u00a0serial print connecting to u00a0 u00a0serial println ssid u00a0 u00a0wifi begin ssid password u00a0 u00a0while wifi status wl_connected u00a0 u00a0 u00a0 u00a0delay 500 u00a0 u00a0 u00a0 u00a0serial print u00a0 u00a0 u00a0 u00a0serial println u00a0 u00a0serial println wifi connected u00a0 u00a0serial println ip address u00a0 u00a0serial println wifi localip u00a0 u00a0delay 5000 int value 0 void loop u00a0 u00a0 value u00a0 u00a0logthingspeak value u00a0 u00a0delay 60000 void logthingspeak int value u00a0 u00a0serial print connecting to u00a0 u00a0serial println host u00a0 u00a0 use wificlient class to create tcp connections u00a0 u00a0wificlient client u00a0 u00a0const int httpport 80 u00a0 u00a0if client connect host httpport u00a0 u00a0 u00a0 u00a0serial println connection failed u00a0 u00a0 u00a0 u00a0return u00a0 u00a0 u00a0 u00a0string url update api_key xxx field1 string value u00a0 u00a0serial print are questing url u00a0 u00a0serial println url u00a0 u00a0 this will send the request to the server u00a0 u00a0client print string get url http 1 1 u00a0 u00a0 u00a0 u00a0 host host u00a0 u00a0 u00a0 u00a0 connection close u00a0 u00a0delay 10 u00a0 u00a0 read all the lines of the reply from server and print them to serial u00a0 u00a0while client available u00a0 u00a0 u00a0 u00a0string line client readstringuntil u00a0 u00a0 u00a0 u00a0serial print line u00a0 u00a0 u00a0 u00a0serial println u00a0 u00a0serial println closing connection the serial output opening port port openconnecting to virgin mobile 4g_38ab4b wifi connected ip address 192 168 0 134 connecting to api thingspeak com requesting url update api_key xxx field1 1closing connection connecting to api thingspeak comconnection failed connecting to api thingspeak comconnection failed connecting to api thingspeak comconnection failed connecting to api thingspeak comconnection failed u00a0is there something fundamental i am missing u00a0thanks,0.5
Hans,hi i would try commenting out the return line to see if the code continues if that does not work then i would try restarting the client let us know what you discover,0.745465993881
Rob Purser,are you actually closing the connection that you opened u00a0i do not see a call to stop consider using the thingspeak communication library which supports more esp 8266 devices u00a0 the code is public so you can use it as a reference https github com mathworks thingspeak arduino rob,0.5
Nic Roche,u00a0 u00a0i do not see a call to stop this is linked github code refactored in my many iterations i have tried stop global u00a0wificlient local u00a0wificlient timeouts etc u00a0using the thingspeak communication libraryit needs to be a plain get using a querystrings with no specific headers u00a0so you can use it as a reference will have a look u00a0thanks rob,0.5
Nic Roche,hans said hi i would try commenting out the return line to see if the code continues if that does not work then i would try restarting the client let us know what you discover u00a0 u00a0as there is no response from u00a0 read all the lines of the reply i could not verify an actual success serial side doing this but will try and check the channel feed u00a0edit removed return and no requests received in my channel other than the first edit2 tried http www google com and had the same issue,0.693112194538
Nic Roche,i _seem_ to have resolved it i have modified the order before for u00a0wifi mode wifi_sta now it sits just beforewifi begin ssid pw also i modified the number of connection my access point can handle it was repoerting 4 u00a0connections on a limit of 5 now the limit is 10 mainly mentioned this for transparency as it does not explain the initial successful connection u00a0thanks all,0.5
prince1,hello all u00a0im trying to find out how can i setup on one esp8266 e12 with thingspeak u00a0 dallas sensors i have an esp8266 with 3 18d20 sensors that working fine how do i setup 3 reading in the same time via thingspeak u00a0can anybody direct me to the right process or code thanks,0.916116058826
Vinod,currently you can only post to a specific channel once every 15 seconds so if you want 3 devices to post you may need to do some sort of aggregation where a device collects the data from the other two devices and posts to thingspeak every 15 seconds alternatively you can create 3 channels and have each device post to its own channel,0.5
rw950431,you can certainly post up to 8 values from the same device in a single update see the example at https github com mathworks thingspeak arduino blob master examples writemultiplevoltages writemultiplevoltages ino u00a0 u00a0if you post the code that you have it might be easier to get help,0.826312661171
Vinod,rw950431 u00a0is correct you can u00a0update any number of fields in a particular channel at a rate of up to once every 15 seconds i may have misread the question as needing to have 3 separate esp8266s updating the same channel prince1 u00a0are you looking to have 3 microcontrollers with 3 sensors each or one microcontroller with 3 sensors u00a0,0.5
TomSim,hope this code snippet will u00a0help http pastebin com 2qtujkvn,0.89608746767
taity,hello all i came across itkindaworks video on youtube about a month ago and have been working with esp8266 every since currently i am trying to get my esp01 to publish a topic u00a0and upload to thingspeak the temp of the room so far it works but i have an odd issue that every time it publishes to thingspeak the connection is lost and has to reconnect u00a0please have a look at my code on github and tell me where i have gone wrong https raw githubusercontent com ian tait esp8266 master tempnode tempnode inoany help would be great thanks,0.136066496372
Edwin,if you are using the esp8266 you only have a limited number of pins still possible to connect several u00a0 ds18b20 probes as well as other sensors have a look here,0.148376077414
donde,please disregard this post i figured it out thanks u00a0i just started using thingspeak i am totally new to iot methods the hardware is huzzah esp8266 and ds18b20 one wire temperature sensor using arduino ide u00a0 this is sketch i am using http internetofthinking blogspot com 2016 02 upload ds18b20 temperature sensor data htmli can see the temperature fine on serial terminal of ide i see wifi client connected and and then 230 temperature u00a0 19 94 u00a0 u00a0 u00a0 but nothing on thingspeak graph except add visualizations i also see this over and over when i start this forum warning in_array function in array wrong datatype for second argument in home content 56 7318356 html community wp content plugins simple press forum content classes sp list topic class php on line 337i am lost,0.832812190056
Hans,i saw a blog post from sparkfun announcing their cyber monday iot hobby kit the kit is based on the esp8266 board and includes some other parts to build some connected projects they also published tutorials that use thingspeak that go along with the kit if you have all of the parts in the kit you can build the sample projects with the code on github if you have been wanting to dive into the world of internet of things iot but didn u2019t know where to start this kit will certainly get your feet wet by using the popular arduino development environment to program the included esp8266 thing dev board you will learn how to post temperature and humidity data to the open source thingspeak u00a0data channel the other exercises show you how to send yourself emails or text messages with the push of a physical button and for the coup de gr u00e2ce remotely control 120 v home or office appliances from anywhere in the world no soldering required kit includes 1x esp8266 thing dev board1x jumper wires connected 6in m m 20 pack 1x humidity and temperature sensor rht031x breadboard self adhesive white 1x resistor 10k ohm 1 6th watt pth 20 pack1x usb microb cable 6 foot1x powerswitch tail ii1x sparkfun mini screwdriver3x momentary pushbutton switch 12mm square1x wall charger 5v usb 1a documents experiment guide,0.814804315567
Kavindran,hey guys i am trying to interface nodemcu to thingspeak i have used a generic thingspeak api everything about numeric values is fine but when i try to print a string data on the field the field seems to look empty i have used the followig code to write my data u00a0thingspeak writefield mychannelnumber 1 high mywriteapikey please help me out thanks in advance,0.231414049864
marco508286,hello to all for over a year i use this site to show the temperature inside and outside of my house i do it through a esp8266 module connected to the arduino mega and use the code shown in the example esp8266 wifi temperature logger seen in the tutorial i purchased a u00b5panel module http www miupanel com en us to display the same information on my smartphone does anyone know if you can use u00b5panel to send data to the smartphone and also thingspeak to display them in a graph since the module is a esp8266 with a particular firmware installed u00a0thanks in advancebest regardsmarcop s i do not know if this is the right section or would be better to post it in the apps u00a0,0.5
Vinod,hi marco i am not familiar with the miupanel you may want to reach out to the creators of that hardware and ask if you can modify the firmware on the esp8266 on the miupanel if you can modify the firmware then you should be able to put your own code on there to send data to thingspeak just like you are doing with your temperature logger if you do end up doing this it would be great if you can share the steps needed to do this on the forum vinod,0.739004969597
marco508286,hi vinod given my inexperience i was not clear enough with my question because i meant just the opposite i will better explain it the miupanel can also be set in the at way and then works as a normal esp8266 in this case however you can not use the app for your smartphone since however it can operate as tcp socket file and data transfer http www miupanel com wi fi module tcp sockets file data transfer that i do not know i was wondering if anyone knew if in this way it was possible to send data to thingspeak and in parallel to the app of smsrtphone thank youmarco,0.209997355938
rw950431,there are already several apps available to view thingspeak data on your mobile suggest you search thingspeak mobile app or similar u00a0 u00a0 u00a0that being said you could relay data onwards from thingspeak by combining the react and thinghttp apps to push data to whatever other system you like use the on data insertion trigger,0.306881844997
marco508286,thanks for the answer it will be very helpful but at a later time because first i have to be able to send data from miupanel to thingspeak not with the at command but in tcp socket mode assuming it is feasible the question is this u00a0thanks again,0.226082891226
vceklic,hi there i am using esp module to write some values to thingspeak and that is working great with the library i am trying to have user set ssid and password as well as thingspeak write key from webpage but in examples it is hard coded any idea how i can get this to work best regards vceklic,0.812629342079
rw950431,how are you intending to connect to the webpage without already having correct ssid password in order to get a wifi connection i guess you could store new values in esp8266 flash memory using the eeprom function https github com esp8266 arduino tree master libraries eeprom examples and read them back again during startup,0.5
Aususer5,hi there this is my first post i recently got my esp 12e sending data to thingspeak thanks to the blog post u00a0https eryk io 2016 04 temperature logging to thingspeak using esp8266 and dht22 my channel is up and i have configured the google gauge plugins to show temp and humidity i would like to know if can now modify the sketch to have my esp host a home page with the html java for two gauges so that i can use a browser from my local wifi network to view the two dials thanks in advance,0.5
rw950431,you can re assemble the complete web page by copying the contents of the html window in edit mode to wherever you want then replacing the line plugin_css with the contents of the css window then replacing the line plugin_javascript with the contents of the javascript windowhowever this web page will still need to download javascript code from https ajax googleapis com ajax libs jquery 1 9 1 jquery min js and https www google com jsapi as well as data from https api thingspeak com channels in order to work so i am not sure what you will achieve by hosting the html code locally if you want to completely remove all dependency on the internet you will have to include copies of the javascript files in your sketch not sure if they will fit in the memory of your esp 12e as well as work out a way to serve the data directly rather than via thingspeak,0.707217335701
Parth18,i have interfaced the esp8266 wifi to the psoc4200 ble board via uart interface now i have to receive data from the iot via a get request i searched many forums but i only found solutions with arduino and i cant find any solution where they have interfaced it to the psoc board so can you please help me with the solution as to how can i use the esp8266 to receive the data from iot using the get request u00a0thank youregards,0.0858857631683
Vinod,if you are just looking to get the last datapoint on a channel you could get the u00a0https thingspeak com channels channel_number fields field_number last json for example if you are looking to do more than just read the last value you may be interested in learning more u00a0about the talkback app u00a0on thingspeak u00a0,0.5
jvasudev,hi u00a0i am not sure what you are looking for if you are just looking for the format of the get request t fetch a channel feed vinod answer should help you for more documentation on this you can visit get a channel feed get a channel field feed else if you are looking for a generic c program and not an arduino sketch to send a get request to fetch data from a channel field feed you can use the following program as a starting point u00a0 include stdio h include stdlib h include unistd h include sys socket h include string h include sys types h include netinet in h include netdb h void error const char msg perror msg exit 0 int main int argc char argv send data to thingspeak int portno 80 char host api thingspeak com struct hostent server struct sockaddr_in serv_addr int sockfd bytes message to send to send to server note change the channel number field number and read api key to that of your channel char message get channels channelnumber fields fieldnumber json api_key readapikey results 1 http 1 0 buffer to receive the response char response 4096 create the socket int sockfd socket af_inet sock_stream 0 if sockfd 0 error error opening socket look for the ip address server gethostbyname host if server null error error no such host set the struct settings memset serv_addr 0 sizeof serv_addr serv_addr sin_family af_inet serv_addr sin_port htons portno memcpy serv_addr sin_addr s_addr server h_addr server h_length connect the socket to the server if connect sockfd struct sockaddr serv_addr sizeof serv_addr 0 error error connecting send the request bytes write sockfd message strlen message receive the response bytes read sockfd response 4096 close the socket close sockfd view the response printf are sponse s response return 0 u00a0the c program shows how to create a socket to connect to thingspeak lookup the ip address for thingspeak connect the socket to thingspeak send the get request receive the channel field data u00a0and close the socket u00a0you can make this more complicated by checking the number of bytes read and reading more if the buffer was full but this is just a simple and direct way hope this helps,0.5
abduu,so i am using arduino uno with esp8266 01 wifi module and i made my own application that receives notifications so i want to connect the arduino to this application to send notifications when something specific happens so can you help me please,0.782370209694
Vinod,please refer to the tutorials section to see some examples,0.777694940567
oded,hi all u00a0i try this forum since i had no success in the arduino thinspeak forum sorry for double posting u00a0i try to read last values of 3 field set u00a0of thhingspeak channel like that after setting up client with these u00a0libraries include wifiesp h include wifiespclient h include wifiespserver h include wifiespudp h include thingspeak h etc etc u00a0void loop int field1 thingspeak readintfield 141045 1 serial println delay 1000 serial print field 1 is serial print field1 serial println int field2 thingspeak readintfield 141045 2 serial println delay 10000 serial print field 2 is serial print field2 serial println int field3 thingspeak readintfield 141045 3 serial println delay 10000 serial print field 3 is serial println field3 serial println delay 10000 note that the weather station only updates once a minute u00a0problem i set the data to be u00a0 u00a0 600 600 600 u00a0i get unstable readings of same line wihch i try to read for testing purposes over the loop as follows u00a0over the arduino u00a0mega serial terminal u00a0 u00a0field 1 is 0 wifiesp connecting to api thingspeak com wifiesp timeout 605 wifiesp disconnecting 0field 2 is 0 wifiesp connecting to api thingspeak comfield 3 is 600 u00a0 wifiesp connecting to api thingspeak comfield 1 is 600 wifiesp connecting to api thingspeak com wifiesp timeout 605 wifiesp disconnecting 0field 2 is 0 wifiesp connecting to api thingspeak comfield 3 is 600 wifiesp connecting to api thingspeak comfield 1 is 600 wifiesp connecting to api thingspeak com wifiesp timeout 607 wifiesp disconnecting 0field 2 is 0 wifiesp connecting to api thingspeak comfield 3 is 600 wifiesp connecting to api thingspeak comfield 1 is 600 wifiesp connecting to api thingspeak com wifiesp timeout 605 wifiesp disconnecting 0field 2 is 0 wifiesp connecting to api thingspeak comfield 3 is 600 u00a0any body can explain u00a0whats wrong here u00a0is it low memory of arduino as one suggested u00a0somewhere u00a0 u00a0wifi is strong and all results come ok over http terminal u00a0thanks u00a0oded,0.5
Vinod,is your device having a brownout frequently the power consumption of the device will momentarily increase when it u00a0needs to transmit data over wifi u00a0if the u00a0power source is not capable of supplying the required power a brownout may occur i have had this happen to me with u00a0several esp8266 devices some things to try connect your device using an ethernet cable if that is an option and power it by external power as opposed to battery power and see if it u00a0reliably retrieves dataif 1 works then power it by new battery freshly charged battery and ensure it works reliablyif 2 works then switch to wifi at a spot that has strong wifi signal and ensure it works reliably u00a0if 3 works deploy device in field,0.5
SESupply,i have a little project using a esp8266 on an arduino uno that simply reads a value well 3 values from a serial device uv dosimeter i finally have everything talking together nicely the arduino serial monitor so that i can see what is going on the serial uv sensor and the esp8266 i have not had any success in getting the updates i have now been trying to update manually using terminal v1 93b here is the process i am using i have no problem connecting at cipstart 4 tcp 184 106 153 149 804 connectokat cipsend 4 67ok get update key my_api_key field1 5 field2 255 field3 300 ipd 4 172 400 bad request400 bad requestnginx 1 7 54 closedi have tried updating my channel via my browser and that works fine i would appreciate any help i can get,0.909064888954
Michel_J,try this get update key my_api_key field1 5 field2 255 field3 300 headers false http 1 1 crlf host api thingspeak com crlf connection close crlf accept crlf crlf replace crlf by crlf 13 10 the keyword headers false will remove extra headers from response the keyword connection close will close the connection automatically hth,0.240623474121
SESupply,hi michael thanks for the reply i am getting so frustrated with this that i am starting to chew on my keyboard i tried your suggestion but i get an error i am replacing your crlf with in the string i am sending but it does not seem to work how exactly can i put the crlf chars into the string in terminal at the moment i am trying to send an update manually using terminal so i can send exactly the string i want see the response everything works perfectly right up till the get statement i have tried updating my channel from a browser and that works fine could it be the esp module itself,0.224404245615
Michel_J,make sure your terminal software send crlf when you hit the return key on your keyboard if you have visual studio i suggest you try with visual basic or c to test your commands dim _serialport as new system io ports serialport com3 with _serialport baudrate 9600 parity io ports parity none databits 8 stopbits io ports stopbits one handshake io ports handshake none readtimeout 10000 newline microsoft visualbasic constants vbcrlf open clear the buffer discardinbuffer discardoutbuffer writeline ate0 end with cmd _ get update key my_api_key field1 20 0200 headers false http 1 1 vbcr vblf host api thingspeak com vbcr vblf connection close vbcr vblf accept vbcr vblf vbcr vblf _serialport writeline at cipsend cmd length tostring system threading thread sleep 100 _serialport write cmd,0.5
SESupply,hi michael thanks so much for your help it is now finally working,0.986634254456
MatHoff,hi im trying to create simple arduino project 2 arduino uno boards first one is sending sensor data to thingspeak by esp8266 second one is responding to received data i managed to setup sending device without any problems but i get 400 error while im trying to receive data with second device to make sure it not problem with my code i used termite terminal and simply send at commands to esp cr and lf signs are enabled this is the field im trying to get data from https thingspeak com channels 39433 fields 2 lastthis is my terminal window at cwmode 1at cwmode 1okat cwjap test 12345678 at cwjap test 12345678 okat cipstart tcp 184 106 153 149 80at cipstart tcp 184 106 153 149 80connectokat cipsend 51at cipsend 51ok https thingspeak com channels 39433 fields 2 lasthttps thingspeak com channels 39433 fields 2 lastbusy s send ok ipd 323 http 1 1 400 bad requestserver nginx 1 7 5date wed 23 sep 2015 18 21 41 gmtcontent type text htmlcontent length 172connection close400 bad request400 bad requestnginx 1 7 5closedwhat am i doing wrong thanks for any help,0.231889873743
lee,hi you may have more success using our api url which bypasses https for example http api thingspeak com channels 39433 fields 2 last lee,0.5
MatHoff,just tried your suggestion i still get the same error any more ideas,0.156851291656
lee,hi mathoff are you able to provide more details as to what your http request looks like are you able to make http requests to other websites lee,0.757934570312
MatHoff,hi im not sure if i understand you well this is my first iot project im not using http post request im using get method from this tutorial https thingspeak com docs channels update_feed paragraph get last entry in a field feed im just sending url from example to thingspeak server just like i did in code from post 6 am i doing it right,0.724025964737
lee,hi mathoff yes that is the right api command to update a feed instead of sending a request to thingspeak can you try sending a http get request to google com yahoo com or some other service to determine if your http requests are formatted correctly and sending correctly my guess is that before the request is sent in your code the request is somehow being formed incorrectly lee,0.798695802689
yukimach,i have just tried to send the followingget update key apikey field1 200 headers false http 1 1host api thingspeak comconnection closeaccept and got the folowing back wrong syntaxerrorsend ok ipd 4 323 http 1 1 400 bad requestserver nginx 1 7 5date mon 18 jan 2016 19 50 43 gmtcontent type text htmlcontent length 172connection closei am using an arduino esp8266 set up and can not seem to get my channel update to work i have also triedget http api thingspeak com update key 5bkey 5d field1 800 r n r nwhich seem to be recognised by my channel as data as the last update read less than a minute ago however the point is not plotted or not visible on my chart when i paste thehttp api thingspeak com update key key field1 800 r n r n into my browser it updates the field fine is the esp not sending the get command in the right format would really appreciate some help,0.5
Michel_J,yukimach said wrong syntaxerrorsend ok wrong syntax comes from the esp8266 inspect carrefully your code if you have a spare usb to ttl serial use a terminal to spy on what you actually send to the esp that helps a lot,0.255186378956
jenifferhomes,i get 400 error while im trying to receive data with second device to make sure it not problem with my code i used termite terminal and simply send at commands to esp cr and lf signs are enabled,0.246973305941
rberkelm,hi alli in my earliest stages of trying to post data to my thingspeak channel via an esp8266 i have managed to successfully send data via my browser but via my esp does not seem to work i have my esp connected via a ftdi converter and am using terminal v1 93b as a serial terminal program the data i attempt to send seems to be successfully sent according to the terminal program however when i check my thingspeak channel there are no updates i have been at this for 3 days and i have tried all sorts of permutations incl the number of r n at the end of the get line now i am at a total loss can someone please help log of terminal connection terminal log filedate 23 06 2016 9 26 09 pm at cipstart 1 tcp api thingspeak com 80oklinkedat cipsend 1 52 get update api_key 27yz7p1d60a7x1ch field2 41busy s send okokunlink date 23 06 2016 9 27 26 pmend log file,0.744196772575
piajola,hi u00a0rberkelm please read this post my aswer is part 2 http community thingspeak com forum thingspeak projects esp8266 and thingspeaki use windows and termite http www compuphase com software_termite htm but any rs232 terminal will do please check at gmr because different at versions have would ifferent syntax in my case i must test in my arduino program for the answer u00a0 error because with other version the test must be done against error and the program u00a0fails uppercase lowercase esp8266 thingspeak works hope this helps questions u00a0regards,0.696833074093
rberkelm,yeehah it worked i am stoked piajol you have made my day thank you so for the record at the time of my original post i was running the default version of the at firmware 008000901 with its 115200 baud rate later in the night i reflashed to at firmware 008000902 ai thinker with a baud rate of 9600 hoping i would do better unfortunately it made it even worse as i now could not even link to the thingspeak site with my syntax above however thanks to you i was successful with the following syntax and settings at gmr u00a0 u00a0 u00a0 008000902 at cwmode 3 u00a0 esp is both a station and a serverat cipmode 0at cipmux 0 u00a0 ingle channelat cipstart tcp api thingspeak com 80at cipsend 62get update api_key 27yz7p1d60a7x1ch field1 33 5 field2 65 5to all first timers like me the esp is incredibly sensitive to syntax variation between firmware variations so beware thanks again for setting me straight ray,0.95469892025
piajola,hi ray glad you are in the game ud83d ude00any further help askregardsh s,0.97571849823
fahimhaider,dear alli am sending temperature data to thingspeak but it did t show in my channel below is my code please give me the suggestion t require would s18b20_1 pin 1t setup pin addrs t addrs if addrs nil then u00a0 print total ds18b20 sensors table getn addrs u00a0 u00a0 end wifi setmode wifi stationap wifi sta config innexiv innexiv 1 tmr alarm 0 5000 1 function u00a0 u00a0 u00a0 5sec for get the ip address for router u00a0 u00a0 add wifi sta getip u00a0 u00a0 if add nil then u00a0 u00a0 u00a0 u00a0 u00a0 print connecting to ap u00a0 u00a0 else u00a0 u00a0 u00a0 u00a0 u00a0 ip nm gw wifi sta getip u00a0 u00a0 u00a0 u00a0 u00a0 print ip info ip address ip u00a0 u00a0 u00a0 u00a0 u00a0 print netmask nm u00a0 u00a0 u00a0 u00a0 u00a0 print gateway addr gw u00a0 u00a0 u00a0 u00a0 u00a0 tmr stop 0 u00a0 u00a0 endend function senddata u00a0 value ds18b20_1 read print temp value print ending data to thingspeak com conn net createconnection net tcp false conn on are ceive function conn payload print payload end api thingspeak com 184 106 153 149conn connect 80 184 106 153 149 conn send get update key xdkwxu7sq39wxxpy field1 value http 1 1 conn send host api thingspeak com conn send accept conn send user agent mozilla 4 0 compatible esp8266 lua windows nt 5 1 conn send conn on ent function conn u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 print closing connection u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 conn close u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 end conn on would isconnection function conn u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 print got disconnection u00a0 end end send data every x ms to thing speaktmr alarm 2 60000 1 function senddata end,0.5
Hans,the charts only show numeric data such as 77 9 or 80 you can use the iot debugger tool to see what the data looks like sometimes this helps you troubleshoot formatting issues https github com nothans iot debugger,0.244623154402
aissam,hello i use an arduino uno linked to a lm35 temperature sensor to esp8266 01 and to my laptop and i intend to send the data collected by the sensor to the thingspeak platform and to do that i use the following code int ledpin 13 lm35 analog inputint lm35pin 0 replace with your channel thingspeak api keystring apikey t2rjxwqavxg4zv39 connect 10 to tx of serial usb connect 11 to rx of serial usbsoftwareserial ser 10 11 rx tx this runs oncevoid setup initialize the digital pin as an output pinmode ledpin output enable debug serial serial begin 9600 enable software serial ser begin 9600 reset esp8266 ser println at rst the loop void loop blink led on board digitalwrite ledpin high delay 200 digitalwrite ledpin low read the value from lm35 read 10 values for averaging int val 0 for int i 0 i 10 i val analogread lm35pin delay 500 convert to temp temp value is in 0 1023 range lm35 outputs 10mv degree c ie 1 volt 100 degrees c so temp avg_val 1023 5 volts 100 degrees volt float temp val 50 0f 1023 0f convert to string char buf 16 string strtemp dtostrf temp 4 1 buf serial println strtemp tcp connection string cmd at cipstart tcp cmd 184 106 153 149 api thingspeak com cmd 80 ser println cmd if ser find error serial println at cipstart error return prepare get string string getstr get update api_key getstr apikey getstr field1 getstr string strtemp getstr send data length cmd at cipsend cmd string getstr length ser println cmd if ser find ser print getstr else ser println at cipclose alert user serial println at cipclose thingspeak needs 15 sec delay between updates delay 16000 when i upload the code the esp8266 connects to my wifi network and i get an ip address i can ping it in brief no connection problems but the upload of my data to thingspeak does not work i can not visualize anything in the platform and the serial monitor shows the temperature value and at cipclose which means i think that after at cipsend data_length i do not get a if you can see my error s and how to correct it dthank you,0.5
Nasser05,hello i have problem to send data taken from temperature sensor on arduino using wifi shield esp8266 neeeeed helphere is the code include softwareserial h include stdlib h ledint ledpin 13 lm35 analog inputint lm35pin 0 replace with your channel thingspeak api keystring apikey qwxwvlwcv42qpfft connect 10 to tx of serial usb connect 11 to rx of serial usbsoftwareserial ser 10 11 rx tx this runs oncevoid setup u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 initialize the digital pin as an output u00a0 pinmode ledpin output u00a0 u00a0 u00a0 u00a0 enable debug serial u00a0 serial begin 9600 u00a0 enable software serial u00a0 ser begin 9600 u00a0 u00a0 reset esp8266 u00a0 ser println at rst the loopvoid loop u00a0 u00a0 blink led on board u00a0 digitalwrite ledpin high u00a0 u00a0 u00a0 delay 200 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 digitalwrite ledpin low u00a0 read the value from lm35 u00a0 read 10 values for averaging u00a0 int val 0 u00a0 for int i 0 i 10 i u00a0 u00a0 u00a0 u00a0 u00a0 val analogread lm35pin u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 delay 500 u00a0 u00a0 convert to temp u00a0 temp value is in 0 1023 range u00a0 lm35 outputs 10mv degree c ie 1 volt 100 degrees c u00a0 so temp avg_val 1023 5 volts 100 degrees volt u00a0 float temp val 50 0f 1023 0f u00a0 convert to string u00a0 char buf 16 u00a0 string strtemp dtostrf temp 4 1 buf u00a0 u00a0 serial println strtemp u00a0 u00a0 tcp connection u00a0 string cm at cipmux 1 u00a0 ser println cm u00a0 u00a0 string cmd at cipstart tcp u00a0 cmd 52 7 53 111 api thingspeak com u00a0 cmd 80 u00a0 ser println cmd u00a0 u00a0 u00a0 if ser find error u00a0 u00a0 u00a0 serial println at cipstart error u00a0 u00a0 u00a0 return u00a0 u00a0 u00a0 prepare get string u00a0 string getstr get update api_key u00a0 getstr apikey u00a0 getstr field1 u00a0 getstr string strtemp u00a0 getstr u00a0 send data length u00a0 cmd at cipsend u00a0 cmd string getstr length u00a0 ser println cmd u00a0 if ser find u00a0 u00a0 u00a0 u00a0 i thing problems begin here am i right u00a0 u00a0 u00a0 ser print getstr u00a0 u00a0 else u00a0 u00a0 u00a0 ser println at cipclose u00a0 u00a0 u00a0 alert user u00a0 u00a0 u00a0 serial println at cipclose u00a0 u00a0 u00a0 u00a0 u00a0 thingspeak needs 15 sec delay between updates u00a0 delay 16000 u00a0 and i get on the monitor serie something like this at cipclose27 5at cipclose28 0at cipclose27 4at cipclose27 4at cipclose27 4at cipclose27 4at cipcloseso i thing the shield is connected but data not sent help me to solve pleeeeeaaaaaaaaaase,0.5
Frog_Qmak,hello everyone u00a0i have a nasty problem and i have searched whole internet but i have not found any result ud83d ude41 please look at my results i get gaps spmetimes they last for u00a0 hours i use nodemcu esp8266 programmed in arduino i have tried using ds18b20 or simple code i i 1 i i wait one minute before posting another data i get server response 0 anyway after some time it starts working again could you help me please what may be the reason for it,0.259795188904
Frog_Qmak,probably solved i was using two esp sending data to the same channel from time to time they synchronized and ts needs 15 sec interval between consecutive updates so servers were rejecting the latter,0.188780754805
Hans,happy that you got to the bottom of it u00a0,0.775714814663
DavidB,i agree on the cause as i have the same issue how did you fix the sync problem,0.0832229852676
PlStrss,i am new here and trying to post to a new channel via the arduino ide and a u00a0nodemcu 0 9 esp8266 board i can post direct from a browser and see the results ok but when i run some code via the u00a0 include thingspeak h library e g the lines below u00a0thingspeak setfield 1 float 20 2 thingspeak setfield 2 float 23 4 int exitcode thingspeak writefields mytschannelnumber mytswriteapikey if exitcode 200 serial print 200 success else serial print ud83d ude41 thingspeak error code serial print exitcode i get a 302 error code u00a0and of course no data is written otherwise i am quite close to getting something done this is a define err_unexpected_fail u00a0 u00a0 302 u00a0 u00a0 unexpected failure during write to thingspeak can anyone help with demystifying the library exit code or see a problem in what i have done how can i test things better i get a 301 when i sever the connection which is what i would expect paul,0.5
theindianapple,hi i am new with arduino esp8266 and using the below code to upload data to thinkspeak everything works fine but now i want to retrieve some data back from thinkspeak can some one help in developing the code for retrieval using xxxxx here as my channel is privateget https api thingspeak com channels xxxxxx fields 1 json results 2 from what i am checking i have to use the above get string to get the fields data but i do not know how to create the request string help would be appreciated thanks uploading data to thinkspeak br uploaddata string apikey esds8678890sdds string mydata 45 5 example of data to sendif espclient connect server 80 string poststr apikey poststr amp field1 poststr string mydata poststr espclient print post update http 1 1 espclient print host api thingspeak com espclient print connection close espclient print x thingspeakapikey apikey espclient print content type application x www form urlencoded espclient print content length espclient print poststr length espclient print espclient print poststr serial print poststr serial print my data serial print mydata serial print espclient stop br br u00a0,0.755749106407
mdahlb,if you just want to retrieve the last value for a channel you could use the official thingspeak arduino library that works fine but if you also would like the date time for the last value i do not think you could use that library i am having the same problem i would like to get the timestamp for the last value as well,0.0744549036026
tgibbs99,i have been trying to use the arduino ide examples posted on github with wemos d1 mini u00a0 i am using the readprivatechannel example u00a0 the code compiles and i get no error messages u00a0 however the data returned is always either 0 00 or null u00a0 i am posting data to thingspeak using other code i am not able to get the writevoltage example to work either u00a0does anyone know why this does not work with wemos d1 mini is there a work around thanks u00a0tim,0.122116088867
mdahlb,hello timi have managed to read the last value a temperature from my private thingspeak channel with a wemos d1 mini just replace the xxxxx in the code below with your personal settings u00a0 include thingspeak h include spi h include esp8266wifi h char ssid xxxxxxx your network ssid name char pass xxxxxx your network passwordwificlient client unsigned long mychannelnumber xxxxxxx u00a0 your channel numberconst char myreadapikey xxxxxx u00a0 your read api keyvoid setup serial begin 115200 wifi begin ssid pass thingspeak begin client void loop float temperature thingspeak readfloatfield mychannelnumber 1 myreadapikey u00a0 reads a float in this case a temperature serial print last temperature serial print temperature serial println c delay 15000,0.5
sinet666,i have been successfully sent data using esp8266 thingspeak and arduino u00a0i ran the code again after a couple of days and thingspeak no longer updates my data onto field1 u00a0 i use my android phone and tether a hotspot connection to esp8266 i can see that the esp8266 is connected to the internet properly i always get ping response from my command prompt window u00a0i am able to connect to the thingspeak static ip send using at cipsend 48 for a abc x floating value u00a0but still i am not getting response on my thingspeak channel please help me find a solution kind of a permanent fix thank you in advance regards k raghavendran u00a0,0.214988261461
disha,i am trying to display value on thingspeak u00a0 and per image below we can see that number of entries are 22 and points plotted are just 3 and every time to see the data plot i need to refresh the page to get updated plot i dont think so code has anything to do with this but how can solve this http cdn instructables com f2m ba50 imrygf7h f2mba50imrygf7h large jpg,0.221530169249
Hans,if you click the edit icon pencil you will see the chart options if you are only showing the last day of day you might only see the last few points if you are showing results 60 then you should see all of the most recent results also set dynamic to true to get the charts to update themselves,0.245086163282
disha,hans said if you click the edit icon pencil you will see the chart options if you are only showing the last day of day you might only see the last few points if you are showing results 60 then you should see all of the most recent results also set dynamic to true to get the charts to update themselves ya i did that and you can see two pics below the field chart settings changed and then another of plot image where 45 entries and you can see only one point on the plothttps drive google com open id 0b9s6uunt7m4omhv3atjfmvrfddqhttps drive google com open id 0b9s6uunt7m4oouvhrerrmjvhtuu,0.831917226315
disha,my code include softwareserial h include stdlib h softwareserial ser 2 3 rx txint ledpin 13 int sense a0 float volt 0 0 string apikey pt41qr66hl1nh8lu this runs oncevoid setup u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 initialize the digital pin as an output u00a0 pinmode ledpin output u00a0 u00a0 u00a0 u00a0 enable debug serial u00a0 serial begin 9600 u00a0 enable software serial u00a0 ser begin 9600 u00a0 u00a0 reset esp8266ser println at rst void loop u00a0 u00a0 digitalwrite ledpin high u00a0 u00a0 u00a0 delay 500 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 digitalwrite ledpin low u00a0 u00a0 u00a0 delay 500 u00a0 u00a0 u00a0 u00a0 volt analogread sense 5 0f 1023 0f u00a0 char buf 16 u00a0 string strvolt1 dtostrf volt 4 1 buf u00a0 u00a0 serial println strvolt1 u00a0 u00a0 u00a0 u00a0 u00a0 string cmd at cipstart tcp u00a0 cmd 184 106 153 149 api thingspeak com u00a0 cmd 80 u00a0 ser println cmd u00a0 u00a0 u00a0 if ser find error u00a0 u00a0 u00a0 serial println at cipstart error u00a0 u00a0 u00a0 return u00a0 u00a0 string getstr get update api_key u00a0 getstr apikey u00a0 getstr field1 u00a0 getstr string strvolt1 u00a0 getstr u00a0 cmd at cipsend u00a0 cmd string getstr length u00a0 ser println cmd u00a0 if ser find u00a0 u00a0 u00a0 ser print getstr u00a0 u00a0 else u00a0 u00a0 u00a0 ser println at cipclose u00a0 u00a0 u00a0 alert user u00a0 u00a0 u00a0 serial println at cipclose u00a0 u00a0 u00a0 u00a0 delay 16000 u00a0,0.5
parasbhanot,hello everyone i am trying to get a talkback command using arduino ide but i am not getting any response on serial monitor i have tested the following get request with the poster it works perfectly https api thingspeak com talkbacks 7441 commands 1145081 api_key wsmcmvfujbi6z115 code include const char ssid wing const char password wnrn56 string apikey wsmcmvfujbi6z115 const char host api thingspeak com use wificlient class to create tcp connectionswificlient client int t 200 int h 400 void setup serial begin 115200 delay 100 we start by connecting to a wifi network serial println serial println serial print connecting to serial println ssid wifi begin ssid password while wifi status wl_connected delay 500 serial print serial println serial println wifi connected serial println ip address serial println wifi localip void loop serial print connecting to serial println host if client connect host 80 184 106 153 149 or api thingspeak comstring poststr get talkbacks 7441 commands 1145000 api_key wsmcmvfujbi6z115 http 1 1 client print post update http 1 1 client print poststr client print host api thingspeak com client print connection close client print x thingspeakapikey apikey client print content type application x www form urlencoded client print content length client print poststr length client print client stop read all the lines of the reply from server and print them to serial while client available string line client readstringuntil serial print line char c client read serial print c serial println serial println closing connection delay 15000 code i think something is wrong with my get requestwhat is the correct way to send talkback get request,0.5
Harikishore,i want to create a table in thingspeak and update it from the values i am getting from esp8266 how can i do that,0.230710744858
lxx33,i am a real real real newly and today i managed to get some data from the esp8266 to thingspeak i followed the following tutorial http www arduinesp com thingspeakwith this code http www arduinesp com arduinesp wp content uploads 2015 04 thingspeakesp8266 txti changed my ssid and password and the api i received after signing to thingspeak and made a channel with 2 fields i also changed dht11 to dht22 and changed the pin to 0 this morning i got some entry but that stopped a couple of hours ago and i do not know why i can ping to my esp8266 and when i use the following code with my browser it will show up in thingspeak https api thingspeak com update api_key my_api_code field1 7i also changed api several times with no luck ud83d ude41 serial monitor does output correctly liketemperature 21 20 degrees celcius humidity 46 00 send to thingspeakwaiting temperature 21 30 degrees celcius humidity 46 10 send to thingspeakwaiting temperature 21 30 degrees celcius humidity 46 10 send to thingspeakwaiting temperature 21 30 degrees celcius humidity 46 10 send to thingspeakwaiting temperature 21 30 degrees celcius humidity 46 10 send to thingspeakwaiting i do not know why my esp8266 data is not visible anymore on ts com,0.711449623108
oskimark1,hi same problem here i posted a reply http community thingspeak com forum thingspeak api thindspeak api not updating to my channel p2653not using wifi but the same behavior if i type in the browser it works,0.78955578804
Hans,please try again and let us know if anything else does not look right what was odd is that everything worked in the browser,0.221073180437
lxx33,i will try later this day tnx hans,0.912288188934
lxx33,somehow it now starts working again do not know why but am happy it does hahaha,0.792677760124
tom_croft402,i am having success posting data to multiple fields of the one channel in thinkspeak i have an issue that after several posts to a channel thinkspeak does not send back a would isconnect represented by the esp8266 as an unlink when it works after post of data the esp8266 sends the text unlink i am assuming lack of good esp8266 documentation that this signifies the host in this case thinkspeak has send a disconnect after receiving the channel data the problem i experience is that i sometimes do not receive this unlink from esp8266 after successfully updating a channel i do not know if it the esp8266 not sending the unlink or it thinkspeak not requesting a disconnect here is a serial terminal listing of two successful postings with unlink and the third one with no unlink at cipstart 0 tcp api thingspeak com 80oklinkedat cipsend 0 58 get update key xxxxxbibamjmcu7e field1 23 5 field2 64 5send ok ipd 0 1 3okokunlink one minute later at cipstart 0 tcp api thingspeak com 80oklinkedat cipsend 0 58 get update key xxxxxbibamjmcu7e field1 23 5 field2 64 8send ok ipd 0 1 4okokunlink one minute later at cipstart 0 tcp api thingspeak com 80oklinkedat cipsend 0 58 get update key xxxxxbibamjmcu7e field1 23 6 field2 64 9send ok ipd 0 1 5okafter this last ipd and subsequent ok i never receive the unsolicited unlink that i am relying on either thinkspeak is not sending a disconnect to the esp8266 or the esp8266 is receiving it and not passing it on by way of a unlink text does this mean anything to anyone i am using my own custom pic 24 board with mplabx c i am not using arduino,0.159079819918
ashwinispatil,i am very new to thingspeak please tell me how to communicate between esp8266 and thingspeak well i got my esp8266 sensor output correctly and i have log in on thinkspeak i have created channel but what is next,0.833446860313
rayellam,thank you tom for the details i was stuck down a hole until i read your post here,0.226843178272
R_Alberto,tom since i am having no luck in updating my thingspeak channel even using your example in post one could you please post your at sequence for the setup of the esp8266 since i am not able to update with your string and the string works with your module then it must be the wrong setup in my module my firmware is 0018000902 i always receive ipd 0 1 0 no metter how many times i send the string i am driving the esp module via a pic18f2620 32 mhz thank you in advance for caring cheersalberto,0.190713316202
yukimach,has anyone managed to make this work recently i think its not running so well now whenever i request the get request it returns with errorsend ok ipd 4 5 32153okokunlinki have tried all different formats get http api thingspeak com update api_key 5bapikey 5d field1 800 get http api thingspeak com update key 5bapikey 5d field1 800 get http api thingspeak com update key 5bapikey 5d field1 800 get http api thingspeak com update key 5bapikey 5d field1 800get update key apikey field1 800get update key apikey field1 800the thingspeak chart manages to update a point when i put the link into a browser http api thingspeak com update key 5bapikey 5d field1 800when i use the arduino esp thingpeak recognises an input as i can see that the last updated value become less than a minute ago however the plot is not added to the field 1 chart s,0.5
Syed Rafay,tomwhy are you relying on unlink string is that any special to you or you perform any action based on it yukimachi am able to update my channel and every graph but my code is quite big i am not sure how will it help you,0.835059344769
bubba198,i have been running a test with a very precise code which counts the lines returned by thinghttp get so i was able to detect strange changes over time in the past month they have changed twice the format of responses to get requests specifically the headers it just changed again this week from total of 15 lines to 14 lines i do not know what additional line was being sent in mid december since i did not save a sample response but i know they decreased the number of headers by 1 line this week anyone else seeing this,0.5
Rob Purser,hi we are working to track down what is going on we have not changed thingspeak itself but clearly something has changed by chance have you captured the get responses from before the change it would be interesting to see what they used to look like and what they look like now as an aside i released a new version of the arduino library that handles the change in the response format and should be resilient to future changes see the post here http community thingspeak com forum arduino thingspeak communication library for arduino,0.5
Syed Rafay,hi i have made arduino kit acting as weather station it sends data of the sensors connected dht11 ldr to the thingspeak web server now i want to perform some actions according to data on thingspeak server like if temperature exceeds turn on fan e t c i have searched and i found that there a react app on thingspeak which will trigger event if data exceeds some values the problem where i got stuck is that i want to send signal from thingspeak webserver to my esp8266 arduino kit to turn on off the device connected to relay on arduino i have figured out that there also a thinghttp feature which sends http requestbut do not know how to send request signal to my kit to perform some actions i have already spent my 2 months building this project and now just stuck in the last part please give your valuable suggestions and solutions,0.166169464588
lballaty,if your kit is behind a nat then you will need to know the ip address on the public side and have your gw nat forward to your device from the outside i think i am new to this particular tech but that is how i solved it before,0.5
rw950431,alternatively you can consider the talkback app this allows you to send a text string in response to a post command from the esp8266 this will require the esp8266 to poll thingspeak rather than listen for an incoming request whether this is more convenient than the suggestion by iballaty depends on your application if your esp8266 is doing updates anyway you can combine an update with a talkback response https au mathworks com help thingspeak talkback app html update_and_executeyou may need to write a matlab analysis app to interface your react with your talkback matlab webwrite command is useful as i dont think there is a thingspeak wrapper function for talkback like there is for channel read and update,0.5
bubba198,what you are asking for is a game changer you would need mqtt https learn adafruit com adafruit io arduinoit a totally different game although library does exist the entire back end is a different concept from thingspeak again this mqtt business is the only way to send data to iot devices without being able to reach them via ip behind nat for example that will automatically qualify all mobile iot things since the cell carriers although assigning public ips to the customer do block any and all incoming traffic from the outside world and my esp8266 connected to an at t hot spot is basically unreachable from the internet directly so with mqtt the thing maintains persistent connection to the mqtt broker and when i send a message via the broker that live connection is how the message gets delivered to the esp in real time without the thing having to poll some php script all the time for new data,0.307476013899
rw950431,mqtt still requires a internet connection between client and broker it avoids the nat issues by having the client behind nat initiate the connection last time i looked at mqtt the code required to maintain the connection handle drop outs etc seemed harder than it should be perhaps things are better now whilst its possible to write a thingspeak to mqtt bridge it would be great if thingspeak supported this natively,0.152017772198
nonoise1,i try to connect the esp8266 01 module to thingspeak using http post when i start the this code it shows just one value and then at cipclose which means that it does not find please help me if i am missing something my code follows include softwareserial h include stdlib h i do not know why i can not use above string apikey 9zlx2ffemq79g9cz softwareserial ser 0 1 rx tx this runs oncevoid setup enable debug serial serial begin 9600 enable software serial ser begin 9600 reset esp8266 ser println at rst the loopvoid loop int val val analogread a0 char buf 16 string strsound dtostrf val 4 1 buf serial println strsound tcp connection string cmd at cipstart tcp cmd 184 106 153 149 api thingspeak com cmd 80 ser println cmd if ser find error serial println at cipstart error return prepare get string string getstr get update key getstr apikey getstr field6 getstr string strsound getstr send data length cmd at cipsend cmd string getstr length ser println cmd serial println cmd serial println getstr if ser find ser print getstr else ser println at cipclose alert user serial println at cipclose thingspeak needs 15 sec delay between updates delay 16000,0.5
piajola,nonoise1i have not tried your code but i would do 2 things i would write include softwareserial h include stdlib h note the sourronding the name of the files must be in the left side less than symbol and in the right side greater than symbol you try to use hard uart serial and a software one ser softwareserial ser 0 1 rx txbut you only use pins 1 and 0 for tx and rx and you are mixing both uarts and sending and receiving all serial comunication to both the esp8266 and i think the arduino serial monitor you must use diferent pins for serial and ser use pins 0 and 1 fixed for hard uart and conect that to esp8266different pins for soft uart not 0 nor 1 maybe pins 2 and 3 and connect an usb to serial converter to those pins and put that com in the arduino serial monitor looking for the baud and line ending i hope this can help you hs,0.81455206871
bubba198,hi everyone i am using native esp arduino code not the at firmware and all is well except the api response to get includes ton of headers for example this is what i get in response to get using thinghttp app for simple web site scraping http 1 1 200 okcontent type text html charset utf 8transfer encoding chunkedconnection closestatus 200 okx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800etag f7635f54b0bd41fb88a1bf6d98af3c5f cache control max age 0 private must revalidatex request id 32432325324 10aa 42e6 12312141323412312x runtime 0 267168x powered by phusion passenger 4 0 57date mon 16 nov 2015 00 59 48 gmtserver nginx 1 9 3 phusionmy value follows all that output so i wonder whether a there a way to suppress the headers using thinghttp api somehow b good way to parse the api output stream and get to my value i am using the sample thinghttp app example for getting data from google finance it works like a charm using curl on linux but with esp 8266 code i get much more than i bargained for thanks,0.5
lee,hi you can suppress http headers by adding headers false to the request https thingspeak com docs headers lee,0.827343225479
bubba198,thank you that did work and reduced the headers but still had ton of unwanted data to get rid of ultimately i ended up figuring out which line of the response contains my stuff and only copied that one int lines_received 0 while client available string line client readstringuntil if lines_received 14 this is the 14th line with text coming as a result of the get request the lines before 14 are headers etc after 14 who knows what module1640 setdisplaytostring line substring 1 line length lines_received,0.232764780521
1rn07ee058,i try to connect the esp8266 01 module to thingspeak using http post when i start the tcp server and send the data i receive acknowledgement from thingspeak only thrice in 10 times if i receive the acknowledgement there is no problem and its displayed on my channel please help me if i am missing something void connect softserial println at rst delay 2000 softserial println at cwmode 1 delay 2000 string cmd at cwjap cmd ssd cmd cmd pas cmd softserial println cmd delay 3000 void senddata string cmd at cipstart tcp start tcp server cmd dst_ip cmd 80 softserial println cmd delay 5000 if softserial available 0 string ts datetime string req field1 string data1 field2 string data2 created_at ts 05 30 cmd post update http 1 1 post the values in http server cmd host destination ip cmd dst_ip cmd cmd connection close cmd x thingspeakapikey write_key cmd content type application x www form urlencoded cmd content length cmd req length length of the string sent to http server cmd cmd req softserial print cmd softserial println cmd softserial println cmd end softserial print at cipsend send data softserial println cmd length if softserial available if softserial find server acknowledgement serial println softserial println cmd,0.5
lee,hi thingspeak will rate limit your requests and only allow one channel update every 15 seconds https thingspeak com docs channels rate_limits if y ou change your delay from 5000 ms to 15000 ms then you should be able to successfully write data each time lee,0.5
asadujjaman,using arduino uno esp8266 arduino 1 6 5 sketch i am trying to send get request through at command here are my commands bellow at cwjap at cipstart tcp hotlu usrs0 com 80at cipsend 73 length of the url get receiver php apples 56 oranges 23 http 1 1host shotlu usrs0 com but after sending the url it giving me this message get receiver php apples 56 oranges 23 http 1 1host shotlu usrs0 combusy s send ok ipd 168 400 bad request400 bad requesthostingokclosedokany guess why this happened,0.5
Tom_Neverwinter,i am working on a dht11 22 temp and humidity sensor that uploads to thingspeak needs some more work feel free to make pull requests and forks as necessarymy fork https github com tom neverwinter esp8266 dht11based on https github com bpangrati esp8266 dht11,0.5
kniazio,tom_neverwinter said i am working on a dht11 22 temp and humidity sensor that uploads to thingspeak needs some more work feel free to make pull requests and forks as necessarymy fork https github com tom neverwinter esp8266 dht11based on https github com bpangrati esp8266 dht11i have all the time that message error reading from dht retry 0error reading from dht retry 1error reading from dht retry 2error reading from dht retry the dht11 and dht22 same,0.205782562494
kniazio,does not update the temperature thingspeak esplorer code communication with mcu got answer autodetect firmware nodemcu firmware detected node heap stdin 2 unexpected symbol near last temp 257500temp 25 7500 csending data to thingspeak comclosing connectiongot disconnection last temp 252500temp 25 2500 csending data to thingspeak comclosing connectiongot disconnection my configuration init lua init luaprint etting up wifi wifi setmode wifi station modify according your wireless router settingswifi sta config my ssid my password wifi sta connect tmr alarm 1 1000 1 function if wifi sta getip nil thenprint ip unavaiable waiting elsetmr stop 1 print config done ip is wifi sta getip dofile would s1820 lua endend ds1820 lua measure temperature and post data to thingspeak com 2014 ok1cdj tem sensor ds18b20 is conntected to gpio0 2015 01 21 sza2 temperature value concatenation bug correctionpin 3ow setup pin counter 0lasttemp 999function bxor a b local r 0 for i 0 31 do if a 2 b 2 1 then r r 2 i end a a 2 b b 2 end return rend get temperature from ds18b20function gettemp addr ow reset_search pin repeat tmr wdclr if addr nil then crc ow crc8 string sub addr 1 7 if crc addr byte 8 then if addr byte 1 0x10 or addr byte 1 0x28 then ow reset pin ow select pin addr ow write pin 0x44 1 tmr delay 1000000 present ow reset pin ow select pin addr ow write pin 0xbe 1 data nil data string char ow read pin for i 1 8 do data data string char ow read pin end crc ow crc8 string sub data 1 8 if crc data byte 9 then t data byte 1 data byte 2 256 if t 32768 then t bxor t 0xffff 1 t 1 t end t t 625 lasttemp t print last temp lasttemp end tmr wdclr end end end addr ow search pin until addr nil end get temp and send data to thingspeak comfunction senddata gettemp t1 lasttemp 10000t2 lasttemp 0 and lasttemp 10000 or 10000 lasttemp 10000 print temp t1 string format 04d t2 c conection to thingspeak comprint ending data to thingspeak com conn net createconnection net tcp 0 conn on are ceive function conn payload print payload end api thingspeak com 184 106 153 149conn connect 80 184 106 153 149 conn send get update key myapikey field1 t1 string format 04d t2 http 1 1 conn send host api thingspeak com conn send accept conn send user agent mozilla 4 0 compatible esp8266 lua windows nt 5 1 conn send conn on ent function conn print closing connection conn close end conn on would isconnection function conn print got disconnection end end send data every x ms to thing speaktmr alarm 0 60000 1 function senddata end please help me,0.5
hans,kniazio in the following line conn send get update key myapikey field1 t1 string format 04d t2 http 1 1i want to confirm that have you replaced myapikey with the destination channel api key,0.5
kniazio,jklol said kniazio in the following line conn send get update key myapikey field1 t1 string format 04d t2 http 1 1i want to confirm that have you replaced myapikey with the destination channel api key i do not really understand i typed write your api keywhere do i find another api key,0.5
hans,kniazio from the thingspeak documentation https thingspeak com docs channels api_keys write api keyuse the write api key to update a channel if your write api key is compromised you can generate a new key if you use matlab u00ae analysis or matlab u00ae visualization the api info is displayed in the right pane of the app to find your write api key u2022click channels my channels u2022select the channel to update u2022select api keys tab read api keythe read api key enables your application to read data from the api you can generate multiple read api keys for different applications to get a read api key u2022click channels my channels u2022select the channel to update u2022select api keys tab u2022click generate new read api key for example if i had the channel 123i would find the channel read write api keys at the following page after signing in https thingspeak com channels 123 api_keys,0.734596669674
kniazio,jklol said kniazio from the thingspeak documentation https thingspeak com docs channels api_keys write api keyuse the write api key to update a channel if your write api key is compromised you can generate a new key if you use matlab u00ae analysis or matlab u00ae visualization the api info is displayed in the right pane of the app to find your write api key u2022click channels my channels u2022select the channel to update u2022select api keys tab read api keythe read api key enables your application to read data from the api you can generate multiple read api keys for different applications to get a read api key u2022click channels my channels u2022select the channel to update u2022select api keys tab u2022click generate new read api key for example if i had the channel 123i would find the channel read write api keys at the following page after signing in https thingspeak com channels 123 api_keysi do not want to only read information from and write information urza u0105dzenia esp8266i wrote it in the first postmy device sends temperature readings api thingspeak com 184 106 153 149conn connect 80 184 106 153 149 conn send get update key id9d358uquxxxxxx field1 t1 string format 04d t2 http 1 1 conn send host api thingspeak com conn send accept conn send user agent mozilla 4 0 compatible esp8266 lua windows nt 5 1 conn send the device esp8266 log i see communication with mcu got answer autodetect firmware nodemcu firmware detected node heap stdin 2 unexpected symbol near last temp 257500temp 25 7500 csending data to thingspeak comclosing connectiongot disconnection last temp 252500temp 25 2500 csending data to thingspeak comclosing connectiongot disconnection so like device sends data to thingspeakbut on the side of the chanell do not see changes,0.741344988346
kniazio,ok otherwise my write api key isid9d358uqurtfimumy chanell id is 55753how will this line with me conn send get update key id9d358uqurtfimu field1 t1 string format 04d t2 http 1 1,0.5
Michel_J,i do not know the ua syntax but you need a couple of crlf see http community thingspeak com forum esp8266 wi fi esp8266 module using at comands p1802,0.5
kniazio,michel_j said i do not know the ua syntax but you need a couple of crlf see http community thingspeak com forum esp8266 wi fi esp8266 module using at comands p1802i think i do not understand i want to do something like on this page is describedhttp www instructables com id low cost wifi temperature data logger based on esp allsteps,0.5
Michel_J,one screen shot http cdn instructables com fs2 5ubi i4cmnucj fs25ubii4cmnucj large jpg of this instructable shows some backslash r backslash n inside the string of the get those backslash r backslash n are crlf carriage and line feed your string should look like this get update key id9d358uqurtfimu field1 1 23 headers false http 1 1 crlf host api thingspeak com crlf connection close crlf accept crlf crlf i this example the value passed to field1 is 1 23,0.5
dsnaith,i am very new to this so please forgive my noob question i have an esp8266 connected to a 3 3v ftdi card and a breadboard power supply and everything seems to work great i can talk to the card using a termite serial terminal and i can connect it to my router and attach to thingspeak using at cipstart 4 tcp api thingspeak com 80so far so good i have also created a very simple web page using thinghttp here https api thingspeak com apps thinghttp send_request api_key g3a43tf4byej3cezall i want to do now is read the 3 values listed on the web page once i get the data i can write all the parsing algorithm stuff no worries but for the life of me i can not work out the at string i need to send the esp8266 to make the web page return any useful information any guidance would be much apprectiated thanks,0.878157496452
hans,dsnaith it is possible to scrape the data from the website using the matlab analysis app and the matlab function urlfilter there are also two example templates which show how to use urlfilter in the matlab analysis app scrape web data for ships at the boston port scrape web temperature databased on those examples the following matlab code will get the 3 data values on the page values urlfilter https api thingspeak com apps thinghttp send_request api_key g3a43tf4byej3cez bold 3 more information about how to use urlfilter is available in the documentation https thingspeak com docs matlab_analysis urlfilter,0.5
SweetPeas,hi guys and gals i just wanted to share my latest hardware project with you all i have designed and built a modular family of boards that can be used to create anything from simple connected sensors to very complex systems it is based on the esp8266 microcontroller on a custom pcb with integrated usb transceiver and voltage regulator all esp8266 gpio are routed to two stackable header connectors that can easily be mounted in a breadboard to match this base board i have also created a number of different add on modules that can be snapped together in to a stack of boards to form the desired functionality i am currently kickstarting this project and if you are interested in learning more about the project please go ahead and visit http kck st 1ivy0c6 we also have a demo there running against thingspeak i also have a more technical wiki were the project is documented at http wiki sweetpeas se index php title node itquestions comments let me know pontus,0.858316540718
Hans,i hope your project goes very well for you thanks for the thingspeak example i have included your project on our blog http community thingspeak com 2015 08 kickstarter nodeit small stackable iot device,0.979130744934
SweetPeas,hi guys just wanted to make the final push for our kickstarter campaign it ends in just a few hours so hurry over and have a look if you are interested quite a few of you have already signed up and we are really looking forward to seeing what you will make http kck st 1ivy0c6thanks a lot pontus,0.924124002457
swat_heliket,hi every one i use stm32f0 for my current project every time i check my channel there is very long string data recived so i wanna clear my chanel after i get data can i use channels 24430 clear or any way else thank you for every suport have a nice day,0.938996016979
lee,hi yes you can clear your channel using the api at https thingspeak com docs channels clear you can also view your channel using a web browser go to your channel settings and use the button at the bottom of the page to clear your channel lee,0.930810332298
swat_heliket,thank you very much mr lee,0.905884742737
swat_heliket,please help me why whenever i use https api thingspeak com channels channel_id feeds lastfor cheack last entry i away receve 1 i replaced channel_id with 24430 my channel id,0.5
lee,hi please add your api key to your request if your channel is private or make your channel public to allow the request to work without an api key lee,0.763610899448
fusdorah,i am working on a sensor running an esp8266 on an arduino board i was wondering if there any way to configure the esp to different password protected networks since i am looking for a setup that portable and enclosed in a casing so basically i wanted to know if there a way to connect to new wifi networks without reprogramming the board any help would be appreciated thanks in advance,0.879363179207
tytower,i would work with the wifi examples and use the can function and the would eepsleep function to look around say each 30 seconds or so because battery use will be a big factor i use a remote control airplane battery on mine 5000 mah 7 4 2 in series lipo and use the charging port to get about 3 6v and that can be used directly or through a diode to further reduce it you would need a screen i suppose to see whats happening but it will just register any network it sees you can not connect unless you have the password and you will need some way to enter a password if there are only say 10 known wifi you will connect to then you could code an if then statement to try each one and join the one found then its a matter of what you want to do thereknown passwords could be stored on the chip and applied as needed you do not need the arduino board specificallyl as the esp8266 has 5 times as much memory capacity and works 5 times faster than a atmega328p,0.5
Amornthep,hi fusdorah we have done smart config feature in esp8266 take a look at this function d s id var js fjs d getelementsbytagname s 0 if d getelementbyid id return js d createelement s js id id js src https connect facebook net en_us sdk js xfbml 1 038 version v3 1 fjs parentnode insertbefore js fjs document cript facebook jssdk demo iot application wifi sensor node update data to thingspeak com with labview embedded esp8266 hardware arduino posted by labview embedded for arduino on u00a0wednesday june 24 2015,0.5
R_Alberto,i am trying to send value to a channel i have open but without any luck i use the following command to connect at cipstart 4 tcp 184 106 153 149 esp linksthen i send the following string get update key apiwritekey field 15 esp reports send ok ipd 4 1 0oki close the link with at cipclose 4resulta nothing appears in the thingspeak channel and esp will not link to the server any more to link i need to reset the esp and do all the setup to join my router i suspect the the string i am sending has something wrong in it but what any suggestion thank you in advancecheersalberto,0.5
Michel_J,fields must be enumerated field1 field2 field3 get update key apiwritekey field1 15 this is how i do it get update key apiwritekey field1 9 99 field2 123 headers false http 1 1 crlf host api thingspeak com crlf connection close crlf accept crlf crlf replace crlf by crlf 13 10 the keyword headers false will remove extra headers from response the keyword connection close will close the connection automatically hth,0.5
R_Alberto,thank you hth for the quick answer the missing index number is a typo in the code field is correctly written with the proper index field1 so the problem is not there since your string is similar to mine you just use more fields than me question i am sending data using tcp protocol can i use your string example along with the http part cheersalberto,0.195904076099
Michel_J,i am new to tcp communications so i can not explain the http part but this is what i do just after calling at cipstart i do not specify an id on at cipstart because is use at cipmux 0your command should look like this at cipmux 0 call just one time at initializationat cipstart tcp 184 106 153 149 80at cipsend xx xx length of string to sendget update key apiwritekey field1 9 99 headers false http 1 1 crlf host api thingspeak com crlf connection close crlf accept crlf crlf hth hope this helpsmichel,0.5
R_Alberto,michel thank you for explaining that hth are not your initials but just an abbreviation i am not very clever with abbreviations i have the esp8266 module connected to a microcontroller pic18f2620 clocked 32 mhz so the long string must be coded byte per byte i will try to send your string and report here the result up to now i succeded in uploading one value but if i want to upload a second value i need to reset the esp module it seems that after the first connection the esp module does not link anymore let see if your string solve the problem my firmware is 0018000902 can you please let me know your firmware number cheersalberto,0.273994147778
oddspin,r_alberto after cipstart you send this get https api thingspeak com update api_key your_channel_api_key field1 7 54,0.5
R_Alberto,thank you oddspin for the get string i tried it but got an error 400 bad request api key between api and key you have a space can you please confirm it your_channel_api_key is ment the 16 digits api key cheersalberto,0.183370232582
Michel_J,r_alberto said my firmware is 0018000902 can you please let me know your firmware number my firmware is at version 0 22 0 0 mar 20 2015 10 04 26 sdk version 1 0 0compile time mar 20 2015 11 00 32i think you need to flash your esp with the latest firware if you have one with 1024kb flash if you have the one with only 512kb then the last firmware you can use is the one with at_v0 22 http bbs espressif com viewtopic php f 5 t 286the files you need are in the folders bin and binatflash download tool http bbs espressif com viewtopic php f 7 t 25files and addresses boot_v1 2 bin 0x00000user1 512 new bin 0x01000blank bin 0x3e000blank bin 0x7e000how to connect your esp to flash it http www xess com blog esp8266 reflash good luck,0.5
R_Alberto,thank you michel for the links and the tips i have downloaded and updated my module succesfully reading the at commands document pdf it seems that i cannot act as a client if the module is set as a server at cipmux 1 this is a severe limitation unless some workaround can be found so far i collect the data from esp8266 using my smart phone android acting as a client and once the data in the phone i route it to thingspeak com using the same phone and it works i had in mind to send the data directly but it is more important that esp module act as server for the kind of automation i have in mind you can see the graph at this link https thingspeak com channels 42377 by the way now the module firmware is at version 0 22 0 0sdk version 1 0 0how do i know if my module flash is 1024 kb or 512 kb cheersalberto,0.754208505154
tytower,you are reading 12 bit adc count can you tell me how this is done in your program in arduino here are some of the useful functions serial println esp getchipid serial println esp getflashchipid serial println esp getflashchipspeed serial println esp getflashchipsize i think in lua you have similaralso i think the esp8266 can act as server and client at the same time,0.5
R_Alberto,i am using the adc on board of my pic18f2620 i have five 10 bits adc available plus planty of digital i o i use the oversampling technique to obtain 12 bits out of a 10 bits adc i do not know much about the arduino world since i have always used microchip mcu also i think the esp8266 can act as server and client at the same time yes i can confirm it i did try with two esp modules connected to my router so that was a lan connection and it did work fine when i try to connect with thingspeak com i get an error would ns fail while if i use the ip address i get just error and it does not connect it is a little frustrating and as i said in a previous post i am sending data to thingspeak via my smart phone this is a temporary solution i will succed in sending data via esp8266 directly i will post the solution found edited since this new firmware has a ping command i have use it to ping 184 106 153 149well it pings the ip for 5 6 times than it gives always timeout to re ping i must reset the module and re connect to the web the pinging with windows is always positive things are becoming darker cheersalberto,0.790968060493
Michel_J,fyi just after calling at cipstart i call at cipstatus to make sure i am connected i had a few connection problems with thingspeak i do a couple of retry when cipstart fails about the flash only a few newer ones have 1024kb like this one http www banggood com upgraded version 1m flash esp8266 esp 01 wifi transceiver wireless module p 979509 htmlthey are sold as 1m or sometimes 4m just google the flash part number to get some infos,0.228579252958
preseli,hi there i created a new thingspeak account and using various turotials blog posts got my esp8266 with nodemcu and lua scripts to log temperature using a ds18b20 sensor with my new thingspeak account if i push data using http from a web browser as follows http api thingspeak com update key keychangedforsecurity field1 23 6i get an error 0if i use https i get the new record id returned as followshttps api thingspeak com update key keychangedforsecurity field1 23 61160i have tried our makerspace thingspeak install and that works fine with http but we do not have any plugins on our install i guess that is a premium feature that needs to be paid for i can not figure how to send data using https from a lua script is there a library that i need or is there a magic way to tell thingspeak to accept http get requests happy to pay for a premium accountthank you,0.844611406326
lee,hi you should be able to update a channel via http without any problems please make sure you are waiting at least 15 seconds between updates or the error 0 will be returned as the rate limiting is activated lee,0.755756855011
preseli,thank you for your reply lee i have just requested a new api key and tried again via the web browser address bar and it works using http i will program another esp chip tonight and see if it works then how frustrating your post encouraged me to try again emyr,0.892394065857
SoggyB,lee said hi you should be able to update a channel via http without any problems please make sure you are waiting at least 15 seconds between updates or the error 0 will be returned as the rate limiting is activated leei am getting a 301 redirect to an https url i am unable to update via http is there a channel setting to allow http,0.151316285133
AYAduino,preseli said with my new thingspeak account if i push data using http from a web browser as follows http api thingspeak com update key keychangedforsecurity field1 23 6i get an error 0if it happens again change http api thingspeak com to http thingspeak com brad,0.250852406025
cwhummel,i am currently running an esp8266 on and arduino with a temp sensor and am writing to my channel just fine i would like to be able to use a second arduino to read the data i am posting for use in an arduino thermostat i have looked around quite a bit and can not seem to find any examples on how to pull read the data from thingspeak any help would be awesomethanks,0.794324040413
steg,me too any help would be appreciated thanks,0.982311964035
Hans,there are many many esp8266 projects with thingspeak floating around the web what exactly are you looking to do and i can point you in the right direction,0.89719158411
tytower,you do not need the arduino board specificallyl as the esp8266 has 16 times as much memory capacity and works 5 times faster than a atmega328p its limited to one analog input though http www esp8266 com viewtopic php f 6 t 2872 start 10 data to many servershttp www esp8266 com viewtopic php f 6 t 3486 emaillook deeper on thingspeak you have to request the csv download by http i think,0.5
freedom2000,hi i have upadated a channel without any problem and i would like to read it back with another esp8266 here is my code replace myapikey with the right value wifi setmode wifi station wifi sta autoconnect 1 function doit conn nilconn net createconnection net tcp 0 conn on are ceive function conn payload success true print are ceive payload end send and deep sleepconn on connection function conn payload print connected ts conn send get channels 37123 fields 1 last key myapikey http 1 1host api thingspeak comaccept user agent mozilla 4 0 compatible esp8266 lua windows nt 5 1 end conn on would isconnection function conn payload print would isconnected end conn connect 80 184 106 153 149 end every 5 second check thingspeaktmr alarm 0 5000 1 function doit end this code is working but always returns 1 as the field1 value if i ask the same request directly from my browser then it works so should be a problem into the get syntax but where thanks for your helpjp,0.79148209095
nsadventurer,freedom2000 said i have upadated a channel without any problem and i would like to read it back with another esp8266 here is my code replace myapikey with the right value conn send get channels 37123 fields 1 last key myapikey http 1 1host api thingspeak comaccept user agent mozilla 4 0 compatible esp8266 lua windows nt 5 1 end this code is working but always returns 1 as the field1 value if i ask the same request directly from my browser then it works so should be a problem into the get syntax but where thanks for your helpjpinteresting because i will by trying something similar soon i dont have a definitive answer because i have not tried it out however in your conn send string after you send your api key would it need a delimiter if that is the correct term before sending http1 1 dave,0.246500790119
nsadventurer,just an update what was missing was a couple of carriage returns i removed all the extra formatting to cut down on bandwidth what works for me was edit on the line readkey should read lash r slash n single quote bracket not sure how to include a couple of crlf without it becoming mangled in this post writekey your_write_key set your thingspeak com keysreadkey your_read_key channel your_channel_id wifi setmode wifi station wifi sta config yourssid yourpassword wifi sta connect tmr delay 1000000 function readtsfield conn nilconn net createconnection net tcp 0 conn on are ceive function conn payload success true print are ceived payload end conn on connection function conn payload print connected ts conn send get channels channel fields 1 last key readkey end conn on would isconnection function conn payload print would isconnected end conn connect 80 184 106 153 149 endtmr alarm 0 5000 1 function readtsfield end hth dave,0.5
Mona_kh,helloi am working on my final project and got stuck on my code i am using esp8266 wifi module and i have the connection right and can post value to my channel but i need to send a tweet through thing tweet anyone can help how i should construct a code for that i have linked my thingspeaks with twitter already,0.780623197556
lee,hi please take a look at this forum post http community thingspeak com forum thingspeak apps thingtweet esp8266 400 bad request lee,0.80704832077
Mona_kh,thanks lee for your replyyes i visited that link but i think this form would work with ethernet shield while i am using a wifi module that esp8266 do you think that would work,0.813743948936
lee,i am not sure of the differences between them sorry lee,0.0638122260571
prussiap,hi well i can publish finally on your platform using both espduino and native esp i have not figured out how to use talkback or triggers to trigger events on my esp8266 one of the advantages of mqtt if i could ever get it working is the pub sub that works with the esp any thoughts on how to get this working or suggestions for code,0.5
waynebraganza,hey guys needed little help with getting data back from talk back app using the esp8266 in serial terminal in windows may be im doin something wrong with the at commandsthis is what i tried doin manually in a serial terminal atokat cipmode 0okat cipmux 1okat cipstart 0 tcp api thingspeak com 800 connectokat cipsend 0 110 get https api thingspeak com talkbacks 1203 commands execute api_key 0ot6y43xc6y5yvj9 http 1 0send ok0 closedok i got commands cued but it just does not get any content back after a long time it says 0 closedok im still trying to get this to work in serial terminal to study it before implementing it in a microcontroller any help will be useful,0.5
Michel_J,at cipsend 0 xxxwhere xxx is the string lenght 1then you send get update key 0ot6y43xc6y5yvj9 field1 4hth,0.687951803207
rkgarg,i am also having trouble with executing callback api with esp8266 and arduino uno i am getting error_auth_required error i think the issue is arduino trimming more than 64 chars for serial input is there way to shorten the url less than 64 chars,0.0200980305672
tongdeng,hi i have the same problem as you tried almost everything but no luck can however see a point on my channel graph if i use the poster ad on from firefox did you have success now or do you still struggle hope somebody can helpregardskoen,0.225001126528
waynebraganza,still trying determined to make it work whats the point of only posting data from the esp module my goal was to make a cheap networked control system with many esp8266 modules putting commands and executing commands as doors open etc will update when im successful,0.877689480782
waynebraganza,guys i have done it after playing around with the esp8266 as a tcp client and observing how my computer browser tries to execute a get command i have tried to make the esp8266 imitate my computer browser and am successful with executing commands with the esp8266 im surprised that the esp8266 being so cheap has so little support and verry few people use it but anyways here is what i had to do to get it workingfirst of all i ditched using cipmux 1 as i dont need to start multiple connections for my applicationso i directly start with at cipstart tcp 184 106 153 149 80at cipsend xx where xx is the length if the line below 1 get talkbacks 1203 commands execute api_key 0ot6y43xc6y5yvj9 and this is that i get back ipd 5 test4okclosed note 184 106 153 149 is the ip address of api thingspeak com u can use the url too but ip works fine for me as i had encountered dns error once so using ip address makes it more reliable in my caseand when u send t cipsend u dont need to specify the domain ip again so that was my mistake hope this helps every 1 who is struggling with the same prob that i hadwill be implementing this with a micro controller soon,0.276076376438
hanguyen,can you help me the code to get value fromhttps api thingspeak com apps thinghttp send_request api_key 0aggwtn8ku5c5qn8 i get the code which can connect wifi through esp8266 but i dont know how to get the value can you help me below is the code that i can run with esp8266 uno include include liquidcrystal_i2c lcd 0x27 2 1 0 4 5 6 7 3 positive include include define ssid define pass define ip 184 106 153 149 thingspeak com string get get update key ijo0ivy7kd6paa5e field1 softwareserial monitor 0 1 rx txvoid setup monitor begin 9600 serial begin 9600 lcd begin 16 2 columns rows size of display lcd clear senddebug at delay 1000 if serial find ok monitor println are ceived ok connectwifi void loop updatetemp 4 delay 1000 void updatetemp string cmd at cipstart tcp cmd ip cmd 80 senddebug cmd delay 1000 if serial find error monitor print are ceived error return cmd get serial print at cipsend serial println cmd length if serial find monitor print monitor print cmd serial print cmd lcd setcursor 0 0 lcd print c else senddebug at cipclose lcd setcursor 0 0 lcd print n if serial find ok monitor println are ceived ok else monitor println are ceived error void senddebug string cmd monitor print end monitor println cmd serial println cmd boolean connectwifi serial println at cwmode 1 delay 1000 string cmd at cwjap cmd ssid cmd cmd pass cmd senddebug cmd delay 1000 if serial find ok monitor println are ceived ok return true else monitor println are ceived error return false,0.5
DodBasim,i wish i had the ability to add more fields to a channel something similar to the description those fields should be visible in the api call https thingspeak com channels channelid feed json but may not be visible in public private channel pages you are great,0.278648138046
lee,hi does the tatus field cover what you are looking for here an example https api thingspeak com channels 1417 status json results 30 days 5lee,0.5
DodBasim,no look at custom_property in the channels response belowchannel id 1name rpi would escription this is a very cool sensor custom_property any text json xml latitude 34 016331 longitude 118 191111 field1 cpu created_at 2014 06 24t05 21 38z updated_at 2014 06 29t23 59 45z elevation 40 last_entry_id 1158 the idea is to give more info about the sensor channel when calling with api,0.5
lee,hi we just added a new channel property for you called metadata you can set it on the channel settings page and it can store an unlimited amount of json xml or any other data if you want to include the metadata when getting the channel feeds just add metadata true please see https thingspeak com docs channels get_feed for further documentation lee,0.909386992455
DodBasim,thank you very much for doing this once again you showed how flexible and responsive you are keep up the good work,0.984474360943
DodBasim,one more thing do you think you will be able to add the option to update this field via http post call one more thing 2 any plans to add a global status field to the channel that will be accessible via http post get thanks again,0.5
lee,hi we added the ability to update a channel via the api https thingspeak com docs channels update please use the newly added metadata field for status requests for example you can store json metadata info as tatus online otherinfo etc and then parse out the status from the response lee,0.918882906437
DodBasim,works like a charm,0.20760935545
heh,does not seem to work in u00a0thingspeakread api call,0.116218149662
Hans,we currently do not support metadata in the thingspeakread matlab function but you can use webread indoorchanneldata webread strcat https api thingspeak com channels num2str indoorchannelid feeds json metadata true api_key indoorchannelreadkey,0.79900342226
kilian,dear thingspeak community administrators i have just signed up for the forum and could not believe that the login credentials are not protected in any way even the password is being transmitted in complete clear text is this really necessary these days personally i know better than to reuse passwords for different services but still so i kindly ask you to either switch the whole server to tls ssl or if you are concerned about the additional load at least protect the login process including password reset etc u00a0best regards kilian,0.755676269531
cstapels,killian the thingspeak community now supports https u00a0 u00a0thank you for your feedback the thingspeak site also supports https and did previously,0.862094342709
Deimos,hello there is a good feature called would ownload all of this channel feeds in csv format but it would be even better if it would be possible u00a0to download u00a0the data for the last day week month year instead u00a0of downloading the whole data also it would be great to have the ability to clear the data u00a0for the last day week month year instead of clearing all data the ability to clear the data for the last day or week would u00a0be very useful when sensors for some reason start to send some wrong u00a0data to thingspeak,0.195417076349
cstapels,you can complete the desired download with a rest api call u00a0https thingspeak com channels 276330 feed csvorhttps thingspeak com channels 276330 feed jsonif you want more than one day add the days parameterhttps thingspeak com channels 276330 feed csv days 3see the get channel feed documentation or get a channel field feed documentation for more parameters you can append multiple parameters using for example https thingspeak com channels 276330 feed json days 3 sum 1440 u00a0if you want go to your channel private view and use the would ata export button there u00a0 its next to the add visualizations button u00a0 when you press the button it builds the url for you and opens a new tab for json or xml u00a0 look at the address and you can modify it to what you need u00a0 the default is 1 day or 8000 points u00a0 for csv you can see the address when you hover over the csv or just change the address from json to csv it is currently not possible to selectively delete data i will look into if it could be included in a future update thanks for your suggestions,0.5
cstapels,as of january 2018 thingspeak is not yet expiring any data u00a0 your past data usage does not count against your new capacity if you intend to convert to a free license the easiest thing you can do is slow down the data rate from your devices your existing data collected on thingspeak will remain slowing down of ingesting data to thingspeak will ensure you do not exhaust the capacity u00a0 if you want to download a complete copy of your historical data please reach out to support at mathworks dot com with details about your channel that you want the data for u00a0 we can email you a csv file or a link to the file of your complete data set,0.174545824528
ArbitraryUserN01,the publish url for mqtt is unnecessarily long for a protocol designed to be efficient channels 123456 publish fields field1 apikey could be shortened to for example c 123456 1 apikey this saves 27 characters,0.756287992001
CoreInside,i totally agree for instance using popular arduino library pubsubclient it is impossible to send data for all 8 fields at once because total string length exceeds predefined array of 128 bytes,0.757274031639
CoreInside,as an example 160 bytes can become 115 without sacrificing ease of human reading channels 123456 publish abcdefghijklmnop field1 123 45 field2 123 45 field3 123 45 field4 123 45 field5 123 45 field6 123 45 field7 123 45 field8 123 45c 123456 p abcdefghijklmnop f1 123 45 f2 123 45 f3 123 45 f4 123 45 f5 123 45 f6 123 45 f7 123 45 f8 123 45please support the short form,0.5
JasonW,you can easily adjust the ardunio pubsubclient library to accommodate larger strings in pubsubclient h just increase mqtt_max_packet_size,0.866411566734
Maxisokol,hello guys newcomer here recently transferred my home automation project from xively to thingspeak being drawn by the awesome matlab support features however the feature that i miss the most from xively is the ability to change the x axis scaling of the charts by the user if i understand correctly it can only be changed in the settings of the channel but not in public view in xively anybody could make the chart show the data from the last hour day month etc by just selecting the desired x axis display range from the drop down list is it so that on thingspeak the only way to solve this issue is to create multiple matlab plots each with appropriate zoom level or maybe i am missing something cheers,0.302751779556
lane5625,i am displaying radiation levels in usv h and counts per minute u00a0is there a way to place colored lines on my chart for the warning levels u00a0the warning levels for usv h microsieverts per hour are yellow hazardous 0 56 and red dangerous 1 88 and the warning levels for cpm are yellow 60 and red 200 u00a0so i want to place a yellow and a red line on my charts to indicate hazardous and dangerous levels,0.0433668792248
cstapels,if you create a matlab visualization to create your plot you can use refline to create a reference line for example plot 1 10 11 20 hold onhline refline 0 15 hline color g line2 refline 0 18 line2 color r line2 linewidth 5,0.764874219894
Gottmoz9,i am trying to compile code for my new esp32 module but thingspeak library won u00b4t compile for esp32 i would like that someone with programming skills can update the old library the old library works with my esp8266 and same code,0.804755091667
jteindl,not sure if this is already doable u00a0in my javascript i have a number of variables as shown u00a0stop new google maps latlng 49 093914487013 117 71569423377514 waypts push location stop stopover true u00a0the line in bold u00a0is what i need help with i have data transmitted to thingspeak i have an api that allows me to select the exact value to query what i need to know is how to use a get statement or anything that would work to have that stopover u00a0line be true or false based on the result so if the result queried by the api is over 8 it true if it under it is false u00a0the api line looks like this u00a0 u00a0get https api thingspeak com channels fields 1 json results 2so how do i set that bold u00a0field to query this and either be true or false based upon the result of this query u00a0if you need any more info please reply and i can fill in any blanks but i am reallllly needing some help here u00a0thank you u00a0 u00a0 u00a0 u00a0 u00a0 u00a0,0.243130505085
rw950431,from the website http www mqtt orgmqtt is a machine to machine m2m internet of things connectivity protocol it was designed as an extremely lightweight publish subscribe messaging transport it is useful for connections with remote locations where a small code footprint is required and or network bandwidth is at a premium,0.872667372227
jonn26,1,0.843673110008
lingvo,it would be nice if you could add mqtt support for thingspeak e g that my iot devices could publish and subscribe to topics using mqtt this is very lightweight and easiest way to update topic feeds and receive updates from thingspeak apps you do not have to implement any api as mqtt is supported already by many platforms just provide ability to either connect to your mqtt broker or thingspeak should act like a mqtt client connecting to any online mqtt broker as client,0.908130168915
JoeQ,this would be a great feature to have as mqtt has become something of a standard and thingspeak provides complementary functionality the ability to archive and graphically display data it would be wonderful to be able to have thingspeak ubscribe to an mqtt topic on a given broker and display and archive the data that comes in,0.783791780472
buben,hello maybe i have sollution http community thingspeak com forum thingspeak apps mqspeak mqtt to thinkspeak bridge,0.5
Vinod,thank you for your feature request the development team is actively investigating support for mqtt protocol in thingspeak it will be very helpful to the team to get additional details of your application specifically your anticipated workflows performance requirements and details about how you intend to use mqtt support please write to support thingspeak com and someone on the development team may be in touch with you directly,0.931069254875
rw950431,holy smokes batman u00a0 when did this happen https au mathworks com help thingspeak mqtt api html u00a0seems like its publish only at this stage no documented way to subscribe to a channel but still a big step forward u00a0 good work guys,0.5
Rob Purser,sharp eyes we went live yesterday with this u00a0 and yes it mqtt publish only at this point all the best rob,0.797468483448
Joe_1,top job sterling work well done is there any documentation available re mqtt publish performance latency limits etc for free accounts,0.966067552567
Vinod,here the documentation https www mathworks com help thingspeak mqtt api htmlusers with free thingspeak accounts can only push data to a channel once every 15s that holds true via the rest api and the mqtt api the mqtt publish service is a quality of service qos 0 level api u00a0there is u00a0currently no difference in u00a0the mqtt api for free v s paid accounts,0.868642807007
kilian,first of all thank you very much for implementing the mqtt publish in my tests i have however noticed that the server ignores keep alive values of greater than 60 seconds technically speaking greater than 40 and drops the connection after short below 60 seconds of inactivity the same is true for sessions with a keep alive value of 0 i e disabled this is standard conforming behavior as the server is allowed to disconnect at any time regardless of the keep alive however it is not really nice regarding low power applications as one of two things currently have to happen a keep alive of less than 60 has to be chosen and the client device has to wake up and send a packet every 55 seconds to be safe orfor every data packet with a period of greater than one minute a new tcp connection and mqtt session have to be established this is would normally not be necessary as tcp connections are able to stay inactive yet connected established for hours days really in fact tcp itself knows no idle timeouts at all but has the capability of sending keep alive packets on its own so i would like to request considering to significantly raise the server side timeout or even better adhere to the keep alive requested by the client if there are any concerns that led to implementing this extremely short timeout e g fear of dos attacks i would love to hear about them for the time being i recommend to all users to set a keep alive value of 55 seconds or less in their clients quite a few implementations seem to use a default value of 60 which is nasty in this case as it is just over the threshold and will unfortunately lead to a full reconnect every minute instead of just a ping anyway thanks again for the mqtt implementation and maybe someone is able to sort this out u00a0best regards kilian,0.752517938614
JasonW,this being our initial release of the mqtt service we had to make some trade offs in our broker configuration u00a0this is because we do not have an infinite number of tcp sockets on the broker u00a0we want to give everyone a chance to try it out so that means at this time at least the client connection time with the broker is limited for now mqtt clients should connect publish disconnect u00a0once we get some usage data from the broker we will be able to optimize where we can,0.5
kilian,thank you for the quick reply and the clarification i understand your point i have seen that the service is based on aws but did not know how scalable the architecture of your implementation is maybe you could add some hints regarding the recommended use to the documentation the provided examples sort of suggest a continuous connection anyway thanks again for the mqtt service u00a0best regards kilian,0.968123197556
ChungTran,hi u00a0when we use mqtt protocol to send data to server can we check the response to verify if it was sent complete and what function to get data use mqtt api u00a0thanks chung,0.722483277321
BiggSmiles,when creating a react condition there are 4 fields to use when setting the condition u00a0 would like have a function in the thingspeak library for the arduino that could change this value u00a0 or at be able to set it to one of the 8 fieldsreact condition setupcondition u00a0 u00a0 u00a0 u00a0 if channel u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 channelid u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 field to test u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 test condition u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 data to test against u00a0 u00a0 need to be able to change this data from my programthanks,0.745749950409
u0750623,hi there i am a post graduate masters student looking to do my research on iot devices and how they are used in distributed denial of service attack and the impacts involved i want to do a simple experiment that involves connecting the devices can anyone please suggest how or where i can have free access to few iot devices for my research u00a0,0.893087387085
Vinod,it depends on what you define as an iot device u00a0if you consider an u00a0esp8266 or similar microcontroller running custom firmware an iot device these u00a0cost very little and can be ordered online for a very very reasonable price of course you would have to program these to be iot devices u00a0,0.728763341904
naamah75,is possible to have the option to remove or resize the dots on the line and spline graph to achieve more minimalist and clean aspect to the graph thanks,0.86551129818
SilverNodashi,u00a0i see no one has replied to this yet so i want to bump it up as i am interested in this request as well u00a0,0.789737820625
Vinod,you could use the matlab vizualizations app to do the plotting of the data and the matlab plots more configurable options that you may need this matlab visualization app would be tied to an on data insert to the channel this way you have a constantly updating plot with your u00a0customizations,0.315637946129
piajola,hi vinod this matlab visualization app would be tied to an on data insert to the channelcan you explain a little more to hava a living plot u00a0thank you in advance,0.5
mtibi75,it could be added to an html link to the matlab chart to open another tab in original size thank you,0.878603100777
Boggie,i would also like this ud83d ude42,0.26027572155
Vinod,are you looking to view u00a0the matlab charts in a bigger size you can do this today with something like this https thingspeak com apps matlab_visualizations your_matlab_vizualization_number gt height 400 width 800the height and width parameters are user configurable for example see this public matlab visualization https thingspeak com apps matlab_visualizations 20199 height 400 width 800,0.5
buckett,could you start supporting ipv6 on api thingspeak com,0.798318982124
Hans,thanks for the request what are you expecting as support are you looking for an ipv6 address to send data to,0.826387405396
buckett,basically it would just be nice if api thingspeak com had a aaaa record in dns and was listening on that ipv6 address so that a node that only had a ipv6 address could send in data u00a0,0.721497476101
JasonW,so you do have dns capabilities on your device correct i am curious what are you working with that has only ipv6,0.132199555635
rw950431,a small thing that would make my life easier would be to list the urls needed to read and update the channel feed on the api keys tab currently there is how to use the master key to create update clear delete a whole channel but not how to use the channel key to update the feed or read from the feed i know its only a few clicks away but it would be convenient to have the urls all there so you could just cut and paste them,0.759136080742
Hans,thanks for the request are you looking for what is currently under the data import export tab thanks u00a0,0.926383495331
rw950431,doh u00a0 so it is u00a0 all those times i have fossicked through the docco pages and it was one click away,0.5
Hans,ud83d ude42 glad to help u00a0,0.985671043396
Boggie,i am a happy user of thingspeak and love how easy it is to get something up and running but since a lot of loggers mean a lot of channels and each channel can only hold 8 values per entry i end up with a lot of channels some of these i use a lot some not so much u00a0some of the the ones i dont use as much are the oldest ones that is listed at the top so i have to scroll down each time i go to the channels page it would be great if i could mark a channel as hidden and had to press a how hidden channels on the my channels page to see it otherwise it would be great to be able to order the channels in the list as i wish so i could push the rarely used ones to the bottom u00a0i hope someone reads this and decides its a good idea ud83d ude42 henrik,0.870552837849
Anton_K,probably i misunderstand the idea which stands behind channel status updates but u00a0i would expect u00a0this widget to show last data statuses except for nil values at the moment u00a0a status entry gets nil if it is not posted along with data entry and in a common scenario channel status is usually updated rarely every 6 hours in my case while data is posted rather frequently every 5 minutes in my case which effectively makes channel status updates widget look empty most of the time which is not convenient i would like to have an option like would o not show nil values for channel status updates btw this widget does not allow tuning like how many last entries to show and i guess this limit is about 60 entries or so which would be u00a0fine if empty values were ignored,0.123506873846
dstacer,in the react application i would like the test frequency time to have longer times available in the drop down list the current options are testing every 10 30 and 60 minutes i would like 12 and 24 hours to be added too u00a0the ultimate would a user entered field for the number of minutes between checks in my application i am expecting data to be logged every minute and would like to know if nothing gets logged when that happens i know that some action will need to be taken to fix the problem u00a0i use a react to test for no data being logged when it receives no data i use thinghttp to send a message to a slack stream that eventually ends up on my phone u00a0with run only the first time i may miss that one message with run every time i would receive many messages before i have time to look into the problem u00a0my plan is to have two react one set to check every 30 minutes for data and run the action one time and the second react to check every 24 hours and run the action every time this would give a short notification that something is wrong and a daily reminder that something is wrong having a user configurable test frequency will allow the most flexibility but i am willing to settle on 12 or 24 hours another possible solution is to allow timecontrol to run a react script currently a time control does not allow you to run a react script,0.189711123705
piajola,hi u00a0dstacer u00a0please read these messages and see if that can be of some help u00a0http community thingspeak com forum thingspeak apps no data react tweet not working p3049http community thingspeak com forum thingspeak apps react not reacting with thinghttp p3127 u00a0good luckh s,0.5
dstacer,the first link idea looks like it will work u00a0i will give that that a try schedule a time control to run once a day running the short matlab code looking for lack of data over 24 hours then send notification the goal would be to only send a message once a day u00a0how do you persist data out side of a channel or is the channel the only way to save data between runs of a matlab program if i could keep track of when the last notification was sent it could check more often if the failure occurred one second after the last check the notification may be close to two days old before it was sent if i could save when the last notification was sent for no data then it could check more frequently but only send the notification u00a0once a day it could use another channel to keep track of that but using another channel seems a bit overkill,0.198561012745
piajola,hi dstacer or is the channel the only way to save data between runs of a matlab programto me your persist is via another private channel you are the only allowed to see it if you need wish you have server memory for your variables when the code is running you start the code the way you choose it runs 1 2 seconds then you are out your workhorse channel a is checked every minute via matlab analysis x writing fails to your private channel b then at 00 00 00 everyday via matlab analysis y using webwrite sends all fails to your box or simply see channel b if you do not need wish to know fails inmediatelyusing another channel seems a bit overkilloverkill if you can persist another way u00a0again good luck,0.5
dstacer,thanks for all of the suggestions i have it working as desired the problem to solve was notify me once a day if you do not see any data for more than an hour u00a0 this is designed to keep bugging me if there is a long term outage if my iot device stops sending data i use a time control to run the code once an hour here is my code notifyinterval minutes 1440 u00a0 interval in minutes to send a notification set to once a day get the current date timecurrenttime datetime now timezone america new_york u00a0 u00a0 u00a0 u00a0 u00a0 use your timezone what time is it right now local when running this tinterval calculated desired outage time intervaldatalossinterval currenttime hours 1 u00a0 u00a0 u00a0 u00a0 here 1 hour without data read the last data from channel data lasttimedata thingspeakread 124xxxx fields 1 u00a0 u00a0lasttimedata u00a0 u00a0 u00a0 to see the time of your last recorded pointnodata lasttimedata datalossintervalif nodata u00a0 u00a0 u00a0 its past when we expected data so we need to notify but only want to notify every x hours u00a0 u00a0 u00a0 no data u00a0 u00a0 u00a0 read the last time we notified from a private channel u00a0 u00a0 u00a0 data lastnotify thingspeakread 145xxxx are adkey xxxxxxx fields 1 u00a0 u00a0 u00a0 u00a0 u00a0 lastnotify u00a0 u00a0 to see the time of your last recorded point you can erase this line u00a0 u00a0 u00a0 notify currenttime lastnotify u00a0 u00a0 u00a0 if notify notifyinterval u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 time to notify u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 thingspeakwrite 145xxx 1 writekey xxxxxxxx write a new entry to the last notified channel u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 do what ever you want here to notify here u00a0 i post to a slack channel that notifies my phone u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 dd no data received since datestr lasttimedata u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 response webwrite https xxxxxgroup slack com services hooks slackbot token xxxxxxxxxxxxxxxxxxx channel 23channeame dd u00a0 u00a0 u00a0 endend,0.146466314793
piajola,hi dstacer i have it working as desired glad to know you are an ioter in thingspeak now your thing is speaking to you u00a0cheers,0.971296787262
oded,hi i have 2 issues 1 is there any progress in a u00a0 u00a0 modify or would elete u00a0record feature u00a0 of u00a0the data set accumulated within thingspeak u00a0 right now it seems we can only accumulate data u00a0and erase a whole channel u00a02 same issue actually u00a0 u00a0 u00a0what i need is a reference u00a0single u00a0record which u00a0presents u00a0a status of variables whitin my runtime algorithm lets say pump is running u00a0or u00a0pump is closed u00a0 or u00a0too humid u00a0or not enough light or just u00a0true false flags u00a0this record will be modified according to decitions made by algorithm u00a0so u00a0its u00a0like holding a profile u00a0of u00a0a process running u00a0i could ofcourse add new record to existing db u00a0and read it as most current status to relate to u00a0but it makes no sense u00a0for obvious reasons just a dumb data accumulation u00a0thanks u00a0 u00a0oded,0.163877308369
rw950431,as you have found thingspeak is set up to log time series data there is no modify or delete commands u00a0sounds like you actually want a key value store like mongodb or redis u00a0 theres a list of free ones in this stackoverflow thread,0.258562803268
BranoMo,hii have lan controller 2 0 i sending data from 2 sensor current and voltage to field 1 and field 2 but i need view power w and energy wh but i cannot multiply data before sending can i multiply 2 fields power current voltage in charts thank you for your answer brano,0.5
rw950431,not with the basic ts charts u00a0but you should be able to do it in a matlab visualisaton hopefully someone who knows matlab can help with code,0.7952516675
Adarsh_Murthy,as rw950431 user mentioned you would not be able to implement the multiplication in the basic thingspeak charts you could implement this in one of two ways 1 create a chart using a matlab visualization u00a0app refer to the following page for examples https www mathworks com help thingspeak matlab visualizations app html2 create a custom plugin app refer to the following page for examples https www mathworks com help thingspeak plugins app html u00a0here is an example of implementing this logic in a matlab visualization app replace channeid read_api_key voltage_field_number current_field_number with appropriate values u00a0 voltage time thingspeakread channelid are adkey read_api_key fields voltage_field_number numpoints 10 current thingspeakread channelid are adkey read_api_key fields current_field_number numpoints 10 power current voltage thingspeakplot time power,0.5
rod,the round red blobs that mark the data samples on the charts are useful to identify individual samples but it would be really nice to be able to disable them as an edit chart display option in situations where a fine detailed chart line is required the sample markers completely swamp the data line it like a fine line drawing done with a crayon if i reduce the number of displayed samples the number of markers reduce but so does the resolution of the data line i am new to thingspeak and i really like it but to optionally disable the display of the markers would be really nice is this possible thanks,0.76102411747
lee,hi you can create a javascript plugin paste in the charting code and modify the markers there you would just have to modify the lines marker radius 3 here is some documentation for other chart options if you are using a custom plugin http api highcharts com highcharts lee,0.5
rod,hi lee i am really unfamiliar with using plugins in this situation i have followed the examples for the google gauge plugin and modified aspects of the gauge but how do i get from there to getting the code for the charts and installing and displaying charts via a plugin i understand the concept but i would really appreciate some direction it looks really flexible and i am keen to get involved but could you point me to a tutorial or give some simple guidance thanks for your comments and help,0.978631019592
lee,hi can you try using the chart with multiple series template for a new plugin all of the chart code should be there for you to modify alternatively you can try viewing the page source at https thingspeak com channels 9 charts 1 and copying all of that code into a new plugin if you are still stuck let me know your channel number and i can create a plugin for you you will have to make sure your chart is public lee,0.741423487663
rod,thanks for the help lee i have modified the above example my house light and have achieved a zero 1 marker size which allows the chart line to look very nice and detailed i am very impressed with what can be achieved with custom plugins unfortunately all the code looks very unfamiliar to an embedded c programmer like me if i dived in it would take a lot of time to generate the whole application from scratch and i can not do that right now for my purpose the standard public charts are very good the only thing missing is a check box to reduce the marker size as part of the chart options it would be so simple and make such a huge improvement to the appearance of the charts is this something you would support or possibly even be able to do,0.8098731637
lee,hi we will keep this in mind when we work on improving the charting options it a good suggestion lee,0.982534885406
naamah75,yes disable resize the red dots are really usefull for me,0.232958376408
NNH,hi sorry because of my english in some cases when i change the chart type to bar or column nothing display and in one case after the i change the type of chart all of the field data was cleared and i do not know why is there any limits in chart point for bar or column mode,0.717626571655
Adarsh_Murthy,hi in the bar mode a chart is created with time on y axis and the measured data on the x axis represented as horizontal bars bar mode also defaults the timescale property to 30 check if with these settings you have sufficient data to visualize in the bar you can increase the amount of data being visualized by increasing the number of results or days thanks adarsh,0.5
NNH,i will check it thanks adrash,0.991949677467
spumanti,hi thingspeak team u00a0great service i have played around with the charts a bit really nice u00a0one feature i would like to request is to be able to show more than one graph in each chart it would make it a lot easier to compare inside temperature to outside temperature or radiator forward temperature to return temperature etc u00a0i have tried to create an example below photoshopped to show my idea u00a0 u00a0possible options choose different colors for each graph choose different line styles thickness for each graph common y axis for all graphs in chart equal scaling option to add more than 2 graphs to a chart u00a0it would also be nice to be able to show historical data from to a specific time ie thursday one week ago or some such u00a0,0.778677642345
benni_75,hello i successfully create a plugin with two or more curves but i also seeking something more generic https www thingspeak com plugins 801http pastebin com cbp5v4sqthere are many things to fix can you help me your comments are welcome i did not have much experience in javascript u00a0 i want a jquery function that allows to wait for loading data before proceeding to highchart u2013 i try to get the parameters color thickness from the url u2013 and finally i try to retrieve the name of the feeds without making stupid test in the code,0.755404472351
lee,we have recently added a plugin to display multiple series on a single chart to access it create a new plugin and select chart with multiple series as the template lee,0.775878667831
oskimark1,hi lee your plugin to display multiple series is what im looking for but i whant to display in the same chart diferent values from the same field like example field 1 temperatureand select to displayseries1 todayseries1 1 day agoseries1 2 day agoseries1 3 day agoseries1 4 day agoseries1 6 day agoseries1 7 day agoin such a way to make easy to compare the evolution of some field,0.5
clamport,i have an arduino that controls the lighting in my apartment i would like to have each color be a channel but the bookshelf it is mounted to has 3 shelves 3 shelves x 3 r g b 9 channels are there any plans to add a configurable amount of channels or any recommendations on how i could work around this thanks and very cool product regards chris,0.793770074844
hans,clamport currently there are no limits imposed on the number of channels a user may create however each channel feed has 8 fields and several additional meta data fields ex status latitude longitude ect an update to a channel feed may only include data written to any of these specified fields it is possible to work around this limitation by doing some creative data mapping for example you may write to a channel feed in the following wayfield1 shelf_numberfield2 red_valuefield3 green_valuefield4 blue_valuea matlab analysis app may be used to then read the data from the channel using the matlab function thingspeakread and perform some action a react app may be used to trigger the matlab analysis app to execute the matlab code on data insertion to the channel the drawback of this approach where a shelf is a different data point is that data can only be written to a channel every 15 seconds you can use custom helf values which may set selves 1 2 and 3 all to the specified rgb values or others which set shelves 1 and 2 or any combination there is a slight workaround for a batch upload using the matlab analysis app please see lee post for more information http community thingspeak com forum thingspeak api rfe minimum for feed api p2372,0.5
Deamiter,i recently discovered that my newly installed bee hive scale is temperature sensitive i can filter out the temperature induced error with a simple compensation factor but that means i need to be able to add 0 033 times the temperature to the weight really any deeper hooks into the data would be much appreciated but there would be great value in the ability to do some basic processing in the cloud i can add a feed for adjusted weight in my channel but that requires dismantling the bee hive and the scale scale and uploading new firmware that an annoying process when i just want to be able to tweak the real time graphing of raw data that otherwise streaming beautifully,0.80526304245
timoee,i would really like this option too it would be nice to have an option to do some basic math addition subtraction division multiplication with the data in the cloud without having to edit the program running in the device,0.763006985188
lee,hi thanks for the requests we are very much aware of this need and are working towards addressing this in a future update to our application lee,0.922195672989
Hans,check out the matlab analysis and visualizations apps built into thingspeak here the announcement http community thingspeak com 2015 08 you have collected lots of iot data,0.5
chrisjmears,with devices like the arduino yun it is possible to attach a webcam and take a picture although there are multiple tutorials out ther which allow you to connect the yun to a dropbox account to store the images it would be nice if we could have an addition to the api to allow a single png file to be uploaded along with the data stream that way we could keep all out web connected data on one service for my application alongside the iot data i am logging it would be useful to have a physical view of the enviroment for which i am monitoring see if its cloudy rainy someone is in the shot etc for example an image 001 pngi am not talking about using thingspeak to store an ever growing sequence of png files simply the ability to take a single small png picture every 15 seconds or so overwriting the last image if anyone wants more than this a sequence of images or live streaming they can always go the more complex dropbox live youtube streaming method as already documented,0.715307950974
Pulpoensalsa,is there something new about this subject did you resolve your problem i have a project which also require to send a pictures at the moment i am thinking to send the binary of the pictures throw the data stream but still i have no idea how do this task anybody know how much data you can send throw the channel i really would like to know more about this subject i have seen the blog of this guy how do something similar but sending i think only the value of 8 colors after analyse the picture in the arduino before to send the resutls http robmyers org 2011 04 14 logging_colours_to_thingspeak thanks in advance,0.694108009338
lee,hi each channel field can hold a maximum of 255 characters so storing an image is not currently possible if your image can fit in 16kb you can store it in the channel metadata field but this would only store the most recent image updating the metadata field would overwrite the previous value lee,0.5
Pulpoensalsa,thanks lee for your quick answer i think using the metadata field could nice for mi idea i will research a little bit more in this platform thingspeak and let see how i can manage juan pedro,0.974862337112
rod,the more i use thingspeak the more i like it but i need to be able to select in chart options not only the number of data samples but also the chart start day if you have a month of data and you want to look at only one day it would be really nice in fact essential to be able to select the start day is this possible thanks,0.186801701784
lee,hi you can specify the start datetime for reference please see https thingspeak com docs charts this is not available in the chart options although you can specify it if you open the full url for the chart for example https thingspeak com channels 9 charts 1 start 2015 07 01 end 2015 07 02 average 60 lee,0.5
rod,thanks lee that works well for others trying this just be sure that the chart is public or use the api key it would be good if the start end day time could also be added to the chart options with the average value it would not need to be per field just for the overall channel if this could be added being able to go back to a particular day would be very valuable thanks,0.931090712547
jinfeei,i have created a channel in thingspeak and made it public i do not mind others viewing my data however there is one arsehole yeah arsehole is the correct word to use here that sabotage this he left a childish comment there and there is no way i can delete it and there also is not a way for me to disable comments and there is not a way for me to report arseholes like this take a look here and you will know what i mean https thingspeak com channels 36852,0.753934025764
lee,hi thanks for letting us know about this we deleted the comment from your channel we will investigate a solution for this type of behavior in the future but if it ever happens again please feel free to email us at support thingspeak com lee,0.952911496162
jinfeei,i thought this should be obvious but would not it be essential to have only the last n values in a channel say last 100 values or am i using it wrongly thanks,0.0800859630108
lee,hi we choose to store all values that you send to your channel forever so that you can look back at your historical data and plot or analyze it if you just want the last 100 results you can always use the parameter are sults 100 in your queries https thingspeak com docs channels get_feed for charts and some feed queries the default is 100 results already lee,0.5
zozsoy,hi i am looking to pull all the lat lng fields of all my channels and plot them on a map i could not find a simple way to do this yet is it possible to query all channels for a specific field this also brings up another problem with api keys per channel is there a master api key to access all my private channels info without having to enter a read api key for each channel should i run my on server and access db directly would that cause any issues thanks z,0.283921271563
lee,hi you can request data for all of your channels at once please see the documentation titled list my channels at https thingspeak com docs channels index scroll down a little from here yes there is an account api key which is used to perform this request you can run your own server too that would not cause any issues lee,0.786780774593
zozsoy,thank you for the reply i see that i am able to list channels however i have a different use case i hope you can point me in the right direction 2 issues i see i am looking to get the locations of all the channels at once in a json what i have seen is i can set location true per channel and lat long will be included in the response but this is not enough location data is set per feed if i request location and location was not included in the latest feed update these fields are blank should not location info persist into the channel itself not just some variable that were sent as part of a feed update e g iot device sends only location in entry_id 32iot device sends only other info in entry_id 33 query for channels json location true shows lat long nullshould i mess with the db to persist these values from previous updates into new updates so they are kept across feed updates orshould i mess with the controller to go back in db to get values for lat long fields orbrilliant thingspeak coders can think of a better approach thanks z,0.898071408272
zozsoy,i will reply to myself not to waste anyone time apparently channel feed and channel itself are already seperated all i had to do is update the channel latitude longitude which persists not send lat long as a channel feed update thanks,0.165384352207
mikronauts,great software i have been having fun playing with it i would love to see a logic chart that would plot a single integer value as eight discrete logic channels this would be very useful for monitoring digital inputs and outputs conveniently,0.947856128216
Hans,you can try to to change a chart to a step chart by using tep true this is good for representing digital info here an example using my chart http api thingspeak com channels 3 charts 1 results 10 step true,0.931332170963
mikronauts,thank you that is an interesting mode and i will try it i was actually hoping for a logic analyzer like view that would show the low eight bits in a value as separate logic traces for now i can create a separate channel and just use 0 1 for each trace but having a logic display would save bandwidth for the thingspeak servers now i just have to figure out why my updates stop sometimes time to add more diagnostics to my rpi python code hans said you can try to to change a chart to a step chart by using tep true this is good for representing digital info here an example using my chart http api thingspeak com channels 3 charts 1 results 10 step true,0.953153371811
rayellam,hi all im new here and what a breath of fresh air this site is to me it would be real nice for the multi graph plug in if the colors for each individual graph series could be taken from the channel setup why the need to specify the colors 2 and cause confusion thanksray,0.869271457195
lee,hi ray the plugins are separate from the channels so the series colors have to be defined within a plugin you can make a plugin for somebody else channel data and if you do not own the channel you have to specify the color somewhere so we chose to make the selection within the plugin lee,0.703517198563
Michel_J,it would be nice to have a time service to synchronise a rtc ntp and sntp are not easy to implement input time zoneoutput date time in iso8601 format http en wikipedia org wiki iso_8601 thanks,0.871764183044
larsilund,viewing channel data in detail as well as aggregated is a common use of time seried data the automatic summing and averaging features on the channel feeds are great but the limit of 8000 underlying data point limit is a real showstopper with measurements taken at 16 s intervals the aggregated feeds are limited to less than two days the suggested solution on this forum is to download the data aggregate them and upload the data to a new channel this is of course possible but requires both programing skills and and an available suitable computer ipads wont do the user also har to do this processing on a regular basis a scheduled job in order to keep the aggregated channels up to date it woud therefore be great if this could be done server side provide every field in the channel setup with a summing option checkboxes for hourly and daily and a sum average median dropbox the server could then automatically do the summing averaging etc to a hidden channel at the end of every day hour aggregated request could then get data from this hidden channel instead of real time summing averaging this would probably reduce the server overall load when this option is changed for a field the server could que a job resumming the field to the hidden channel this would make this great server even greater and extend the possibilities to do both coarse and detailed graphs on the same data series great for both temperature and energy monitoring,0.222066104412
lee,hi lars we do some of what you are suggesting on a daily basis already for example if you set a sum average median value of 1440 or daily we store that data in a separate hidden channel that can then be quickly requested again the first time the request is made the response will be slow since the data has to be calculated but on subsequent requests of precalculated data the response will be fast here an example http api thingspeak com channels 9 feeds json days 10 sum daily lee,0.5
larsilund,does that mean that the limit of 8000 underlying values do not exist when requests are made for 1440 daily can i make requests for daily sums for longer periods is there another limit for such feed requsts to make great applications based on any tool you must know the strengths and limitations of that tool i would appreciate well documented limitations a well documented error return when the limits are exceeded would also be appreciated just returning null values does not give many hints for debugging lars,0.830945849419
lee,hi lars yes the 8000 results limit does not apply for daily feeds if sum average median timescale are used you can make requests for as many days as you want there is no limit for these requests we will work on improving our documentation and returned errors lee,0.863521039486
ezubiria,it would be nice to be able to use a thinghttp value to feed a field on a channel,0.805485486984
lee,hi we will look into adding this feature thanks for the suggestion lee,0.982094883919
chrisjmears,one area in which thingspeak seems to fall down a bit compared to xively is key management say for example i produce a iot project which i want to produce a small run of for the device imagine i am using an arduino with a cheap 16x2lcd shield with 6 buttons if i use thingspeak and talkback that means i need a way of getting a 16 character thingspeak key into the controller and a 16 character talkback key into the controller i also need to store the channel number for thingspeak and the channel number for talkback thats a lot of keys to try and get an end user to enter via an lcd keypad ideally it would be nice to have an api which just lets me give each user say an 8 character unique key which when entered can respond with the users unique keys for thingspeak talkback and both channel numbers kind of a provisioning api i have been messing about trying to find a way to do this with the current apps the best i have got to is create a provisioning channel and hard code the key for this channel into the firmwaresend an update from the device to the provisioning channel something likehttps api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 provision_serial_no 3374 3h8ua react then picks up the provision_serial_no 3374 3h8uand triggers a similarly names thing http this then places a talkback command with the new keys something likehttps api thingspeak com talkbacks 539 commands api_key xxxxxxxxxxxxxxxx command_string provision_for_serial_no 3374 3h8u 123456 yyyyyyyyyyyyyyyy 567 zzzzzzzzzzzzzzzzso the pseudocode for the provisioning on the arduino would beinform user are gistering with server please waitrequest provisiondelay 5000 request command responsebyte attempts 1 while requested serial key recieved serial key request provisiondelay 5000re request command responseattempts if attempts 6 inform the user there is a problem please check your serial number would elay 5000 break if serial key matches the serial key that was requested inform the user controller registered ok would elay 5000 write data to eepromsoft reset without delay of course the down side of this approach means i need to manually create a react for each unique user and also a thinghttp for each user additionally if anyone is able to get hold of the provisioning channel key they can then listen for a provision request on the channel and grab the resultant talkback they then have the keys for my device its all a bit messy,0.5
lee,hi chris thanks for the suggestions we will discuss api key management internally and look for ways to improve it in the future lee,0.951877176762
eisenhowerj,i am also a wifi thermostat user and currently i am logging indoor outdoor and target temp the tstat is set to programmed and sometimes overidden temperature u00a0i would love if all three plots were on the same chart so that i can see that i am achieving my goal to keep temp inside lower but in unison with outdoor temp if that makes sense,0.5
Evova,if this option were available i could point my customers to this service for storage of data from a remote monitoring product,0.803456902504
marten,1 for this feature request i would like to show temperature and humidity in one chart,0.698658049107
dgou,1 as well for the same reasons as above as i add more thermometers i would like to see the temps indoor outdoor refrigerator freezer etc on one plot chart graphic,0.919735074043
spumanti,1 for this feature request would love to have some more advanced chart options including more plots in the same chart u00a0,0.940163731575
lee,we have recently added a plugin to display multiple series on a single chart to access it create a new plugin and select chart with multiple series as the template lee,0.775878667831
djash40,the topic says it all as well as other posters a definite for plotting temperatures or bool values as they are related to temperatures is this feature being planned thanksdave,0.5
Hans,thingspeak 2 0 has a new chart app in a future post i will layout the features for 2 0 and the plans behind it the feedback has been overwhelming about displaying multiple fields on the same chart we will do that and also take it one step further if you come up with any more ideas feel free to share on this section of the forum,0.844640135765
julienser,hello multiple fields on the same chart will be terrific 1 any idea when thingspeak 2 0 is planned u00a0are there tutorials to benefit from the google visualizations just like gauge i have seen that so many displays are possible thanks,0.5
lee,we have recently added a plugin to display multiple series on a single chart to access it create a new plugin and select chart with multiple series as the template lee,0.775878667831
turboencabulator,hii would like to be able to use the api to list public channels centered around a long lat location something like http api thingspeak com channels public lon 123 lat 123 radius 50it would enable mashing data from channels with a gis outputthanksaaron,0.5
Hans,aaron thanks for the feature request we will implement this feature in a future update we will provide an api call that returns channels with location data as not all channels have location data then you will be able to search by lat and long and a distance in meters thanks again hans,0.5
lee,hi aaron we recently added the ability to search public channels by location here the relevant documentation https thingspeak com docs channels index here an example of searching for channels near pittsburgh https thingspeak com channels public latitude 40 430224 longitude 80 002441 distance 10 lee,0.5
bgardner,i would like to see the capability to set the axis scale on the graphs u00a0i would guess the y axis especially since the x axis is controlled by the time scale you choose you guys are making great progress so far u00a0this is very cool thank you bob,0.872730135918
eisenhowerj,i also want this feature u00a0i am logging temperatures and they only span 20 degrees or so u00a0it would be nice to be able to set y axis to a range u00a0for instance my indoor temps range from 76 to 85 degrees u00a0if i could set the range to 70 90 it would show more would epth not sure what the right word for that is,0.5
ricardo_ati,i would also like this capability you can create new parameters like yscalemax and yscalemin it would be helpful,0.951219677925
tparvais,yes indeed and also add the possibility to define the minimum value and maximum of the yaxis,0.884098410606
lee,some time ago we added the ability to set the y axis min and max via the chart options https thingspeak com docs charts create i apologize for not updating this thread sooner with this information lee,0.730001866817
Malden,hi i read somewhere on this forum that thingspeak charts functionality is implemented using the highcharts com charts library they also support these really nice looking spline plots http www highcharts com demo spline plot bandswould it be possible to support this chart type in thingspeak thanks malden,0.764719963074
lee,hi malden as requested we have just added spline charts https thingspeak com channels 9 charts 1 results 10 type spline lee,0.5
Malden,great that was really quick i might come back with more requests then thanks a lot malden,0.9530133605
chrisjmears,hi the ability to add javascript plugins are awesome however im trying to write an html5 canvas processing js sketch the big problem is processing js includes no native commands for grabbing json data and the tutorials on the web are very sparse and assume a lot more knowledge of javascript passing variables to processing for beginners the easiest method is to use loadstrings however this wont work unless your in the same domain as the data so i was wondering a very small amount of webspace per user account would be beyond excellent as it would allow newbie users like me to just stick their code and any images resources directly on the server and it should all just work,0.194324553013
CorBee,hi i would like to be able to show my data in a hi lo avg graph 3 lines based on the period length of the datasegment using timescale for instance this is very handy for instance when displaying temperaturedata over several days weeks regardscorb,0.87049639225
lee,hi we use highcharts to produce our charts so if you know javascript you may be able to modify the javascript code to produce a customized graph http www highcharts com docs chart and series types chart typeshttp www highcharts com docs chart concepts series lee,0.788477659225
CorBee,hello lee the responsetime is a bit long nearly half a year since i posted this sure i am able to create a javascript using highcharts to achieve this but isnt the whole purpose of the feature requests than futile since everybody can retrieve the raw data using json or other protocols we all can also create javascripts to display them in the fashion we wish the idea behing my request is that i think that many people like to check a datachannel with a hi lo average graph just as people also have asked several times to display the last uploaded value in the graphs as textbox for me it has become unclear where you wish to go with the users coming with feature requests for the great service you are delivering to us in terms of datastorage this part of thingspeak forum seems to be less functional which is unfortunate i think regardscorbee,0.738683581352
lee,hi corbee i apologize about the long response time i only just became an employee this month and you are right the forums had been neglected for some time you are correct in asking for feature requests in this forum if enough users need the hi lo avg feature yes we will implement it in the meantime we will be adding the ability for charts to have multiple series first please keep the feedback coming i am checking these forums daily now and am working on greatly improving the thingspeak service some things i am currently working on upgrading our backend servers updating our ruby rails versions updating the user interface updating the open source version and implementing new features hopefully you will see some noticeable improvements in the coming months lee,0.878305196762
anjoze,thank you very much for this amazing service really nice my sugestion is to display a big number with the last value received it the most interesting feature in xively that i would be happy to see here thank you,0.989051759243
turgo,i have a project that i would like to contribute as open source material please consider upgrading forum to post files and images making open source sharing possible,0.848685622215
AFA58,hi can you add a parameter when uploading historic data so that when you upload eg a csv file you can give the samples their correct moment in time something like field1 2 34 stamp 2013 02 17t12 06 03zand it would be nice that the value is ignored when there is a sample at that moment already so no error situation,0.929751634598
AFA58,historic data can be added by the csv file upload there you can add a datetime and values in for all fields mind you all fields so updating only one field is not possible when you do upload the new data is just added so that means that when you upload the csv file 3 times you have 3 times the amount of data points for every timestamp 3 sounds logical but is not really what i would like is an option to correct data of specific fields at a specific datetime stamp an option to overwrite datafields when one is present for that field at that datetime stamp measured up to the second when you can set that option at the field level you have also made it possible to correct only one field for a given timestamp make one field overwrite the field to correct and the rest not overwrite stay as they are and there is not another value added for example 2013 06 15 08 03 00 4 5 4updates three fields removes old values at that date time stamp2013 06 15 08 03 00 5 updates only field2 field1 and field3 remain as they are is the code for that also an option to delete single field values at a given datetime stamp would be niceexample 2013 06 15 08 03 00 removes the value for field2 at that datetime stamo the code and leaves the rest unchanged the code,0.784979104996
CorBee,hi i would like to see a timestamp variable added to thinghttp that can be used together with the trigger option this has the advantage that a user can check when a message was send directly and it will also help understanding if a message from thinghttp somehow got delayed since you can compare the timestamp with the time the message was delivered cor,0.915869832039
CorBee,hi as a feature request i would like to see the option to use react to act on a value when its outside a given bandwidth as an example when you measure temperatures in a greenhouse you want to know when its getting too cold or when its getting too warm all other temperatures are ok for this a user would need to specify a higher limit and a lower limit so the system can signal accordingly currently this can only be achieved by setting 2 separate reacts for the same variable one checking if the value is below a lower limit and one checking if its above a higher limit this setup could then also be used i hope to do the opposite so get a message when the temperature is ok and inside the band currently that is not at all possible cheercor,0.5
Klaudiusz,just add the widget with simple text log with timestamp updated with api get post,0.930046975613
armin,hi i am studying master of information management systems and i am interested in iot subjects a lot and i like to work on it in my phd too but i could not still find proper topic for my thesis i had some ideas and i worked on some of them but my professor did not accept them actually he does not have any ideas either because he not familiar with iot i like to do my research on iot with integration of some topics like health issues or cities urabn issues unfortunately the thesis should contains implementation part too and i have to show some statistical reports and analyse data to prove results they wo not accept theoretical research but it acceptable if i use simulators in my thesis and i have to use some published papers as my references too in another word it should not be a completely innovate idea that nobody worked before these are our faculty rules i am not a software developer and i just worked with c but i will be able to learn simple programming if needed i have about 5 months to complete my thesis and i would be appreciated if someone helps me find my master thesis topic i should mention that it better to choose a simple project at this step that i can finish and give results from it in this short time and then i will expand my research related to this topic in ph d thanks in advancedarmin,0.234365820885
eisenhowerj,scaling would help mitigate the problem with this but when one of my data points is bad it throws off the scale of the chart u00a0i plan on putting some error correction in my script but the option would be nice,0.0635784566402
Hans,there are two api parameters that might help you filter bad data you can filter using min and max parameters so set min 100 and max 200 and you will only see values between 100 and 200,0.258057206869
ricardo_ati,yes it is true with the limits you can hide bad data but they remain there it is better to delete them,0.762658894062
noname,do you have any plans to increase the number of fields per channel for my project i need more than 8 fields,0.219351887703
Hans,no u00a0immediate u00a0plans to expand the fields inside of channel our schema u00a0is centered around 8 general data fields can you use multiple channels for your project,0.5
thingspeak-marc,i would love to thingspeak to my picaxe 08m2 chips please thanks for thingspeak it a great idea,0.983936071396
Hans,i do not know much about picaxe do they have an u00a0ethernet u00a0board if so could you send me a link maybe i will get one for my collection and try to figure it out i have about 20 u00a0ethernet u00a0boards,0.735607862473
thingspeak-marc,please accept my apologies for not providing very helpful informationin the following am a novice to electronics picaxe and thingspeak u00a0i could not find an ethernet shield on http www picaxe com hardware but u00a0a web socket framework u00a0 e g javascript sockets http code google com p jssockets in combination with a serial server program u00a0 e g picaxe macaxepad or u00a0 erproxy u00a0can access it data via a usb serial port u00a0i do not know if this is important picaxe runs at a default speed of 4800 baude it usb serial connector the programmer cable receives reversed signals in comparison to arduino and it comes in a range of 8 20 pin microcontroller chips which makes picaxe a cheap to build and flexible developing environment,0.5
marten,i would like to have the possibility to show a shorter time period in my charts like u00a0hours hours to include in feed,0.219071209431
Hans,you can get close using a combination of are sults and timescale here an example u00a0http api thingspeak com channels 9 charts 1 timescale 60 width 455 height 260 results 600,0.5
Evova,i am using an embedded device to deliver data and have limited space for the url data i send having to include the full field parameter names wasted quite a few bytes when using all channels could we be allowed to use numeric field parameter instead i e u00a01 123 456 2 123 456 3 123 456 u00a0thank you,0.123740136623
lee,done,0.859384775162
mc,i have noticed when using tweetcontrol multiple tweet controls can be u00a0executed u00a0at the same time but instead of the thinghttp requests being sent in the order they were entered in twitter they are sent in the relative order of when they were created in the thinghttp app or alphabetical order one of the two u00a0i was hoping to create some sort of way to enter variables via twitter e g thingspeak dimlight 10 20 30 40 50 60 using different http requests as a variable thing so that my microcontroller can discern more complicated commands with variables u00a0any chance of that happening u00a0 u00a0,0.5
Hans,well the fact that it worked with multiple hashtags at all is the mystery i guess that is good design we will check out the order issue though thanks for discovering a new feature ud83d ude42,0.954281330109
lee,the twitter status without the hashtags is sent to the thinghttp request as a parameter called tatus u00a0so if you post to twitter like this 30 thingspeak dimlightand have your thinghttp body set up as status status then thinghttp will post to your microcontroller with status 30 u00a0let us know if this helped you out,0.912320911884
lee,we also just changed the triggers for you so that your thinghttp will be processed in the correct order u00a0so a twitter status of thingspeak trigger1 trigger2 trigger3will process the thinghttps in this order trigger1 trigger2 trigger3with a 1 second delay between each request,0.737301588058
mc,that is spectacular ud83d ude42 thanks much u00a0i did try posting to twitter in that form 20 u00a0 thingspeak u00a0 a u00a0and setting up the thinghttp body tatus status u00a0that way but the http post request that got to my microcontroller was this u00a0post http 1 1user agent thinghttp 1 0host api thingspeak comaccept content type application x www form urlencodedconnection closecontent length 16 u00a0did i miss something u00a0,0.837365150452
lee,did you try status status instead of status status u00a0the other fields look correct for your thinghttp but you may want to double check method postcontent type u00a0application x www form urlencodedhttp version 1 1,0.845361471176
mc,yes sorry i must have missed that last one copy and pasting it but that is correct u00a0i have tried both post and get and regardless of weather i fill in the field for content type in post the content type is returned to my microcontroller as that i tried http version 1 1 and 1 0 u00a0,0.200892835855
lee,ok let test to see how your thinghttp post looks from a third party perspective u00a0change the url for one of your thinghttps to http posttestserver com post phpyou should then be able to use tweetcontrol and see the result as the last entry on this page http posttestserver com data 2011 when you find your entry please paste your link for example mine is http posttestserver com data 2011 06 13 21 11 34832950073,0.5
mc,http posttestserver com data 2011 06 14 06 01 221785817936for the sake of being thorough the thinghttp setup is name command aurl http posttestserver com post phphttp auth username u00a0http auth password u00a0method getcontent type u00a0http version 1 0host u00a0headers name cmd u00a0value a u00a0body status status parse string u00a0created wed jun 1 at 2 54 pm,0.792844176292
lee,thinghttp only sends the body portion for posts u00a0so change to method postcontent type u00a0application x www form urlencodedhttp version 1 1the status should work correctly after that,0.712069153786
mc,oh got it silly mistake of course in my code i look for one new line character instead of two for a post thanks much u00a0,0.840580463409
lee,good to hear,0.994719624519
seigel,see topic title ud83d ude09 u00a0,0.5
lee,the example iobridge chart is now automatically removed if your channel has recent data to display,0.177871078253
seigel,awesome and thank you u00a0so do you have fun doing this and what are your future plans u00a0great service u00a0cheersjames,0.988729536533
lee,i have great fun doing this u00a0there is no shortage of interesting problems to work on with thingspeak and we are continually working to provide you with the most feature rich service we can u00a0as for future plans a lot of that is up to the community u00a0keep asking for new things and we will keep providing them,0.956747353077
seigel,do you have a model to keep this going u00a0i am sure it is not free ud83d ude42,0.216736853123
bgardner,i have to admit this is one of the things i have thought about also u00a0bob,0.756684720516
lee,i am just a programmer that builds websites but the thingspeak service is paid for by iobridge http www iobridge com u00a0they make money off of their hardware and other services so if you want to support us buy some iobridge products and tell them lee sent you,0.5
Hans,thanks for the u00a0endorsement u00a0lee i am glad you are with us you are work is awesome but lee is right thingspeak is another service offered by iobridge thingspeak started off as a private iobridge api we u00a0decided u00a0to open it up give the project a name and upload the source to github in order to create an internet of things you need all things to play so if you have iobridge stuff you can get it work with anything or have any http supported sensor microcontroller u00a0shield etc work with u00a0each other the thingspeak service as it is will remain free users that want dedicated instances or private installs for commercial apps are free to contact us we have a number of partnerships with hardware companies and will u00a0announce u00a0some major integration projects soon we also have a bunch of startups prototyping with us rather than starting from scratch so far the project has been very u00a0successful thanks in large part to the community trying and inventing new things we look forward to releasing more apps and seeing how you use them,0.951763153076
marcelhell,is there a way to export the data that has been uploaded to a channel this would be a great feature if i have overseen the possibility please let me know u00a0thanks marcel,0.851377189159
Hans,marcel you can use the api to get data out you can export data formatted as json xml or csv ex http api thingspeak com channels channel_id feed csvthen you can tack on parameters to control how much data and when is that what you are looking for u00a0,0.5
marcelhell,yes thanks,0.980006217957
jeckson,hai u00a0i am working with arduino and wiz810mj for send and received twitter massages with thingtweet for it any possibilities with gps location u00a0jecksonindonesia u00a0 jecksonsb,0.5
fmarzocca,why the forum is not sending me notification emails when someone replies to my post,0.712873697281
Hans,we will take a look have you gotten email before from the forum,0.887582778931
fmarzocca,never,0.752673923969
fmarzocca,when i get access to my profile page i have this message profile form could not be found account settings you might try the forum toolbox housekeeping admin form and reset the profile tabs and menus and see if that helpsbut i do not know how to access forum toolbox housekeeping admin pls help,0.221133053303
wadevcamp,i too am getting the you might try the forum toolbox housekeeping admin form and message it is far from obvious where this elusive forum toolbox housekeeping admin form is located help would be appreciated,0.824476242065
cstapels,i had a similar issue we are looking into it i will post here when we find a solution thanks for posting,0.8959608078
cstapels,the profile tabs have been reset and the problem is fixed for my account please let us know if you are still seeing the error message,0.154933393002
fmarzocca,for me it is fixed too,0.176732361317
Hans,great to hear,0.994719624519
fmarzocca,hi since a week my ts web page in the browser keeps me logged in for no more than 2 3 hours then i have to login back again this behaviour is different than before when i was able to keep logged in for several days it is quite annoying safari on mac osx fabio,0.130805045366
Vinod,hi fabio as a security measure we reduced the timeout when you stay logged in one way you can stay logged in is to keep a thingspeak channel of one of your channels page open after you have logged in this would keep you logged in until you explicitly hit the log out button note that i would not recommend doing this on a public computer or on a computer that is shared as someone can change your account settings delete your channels etc which is not reversible vinod,0.5
fmarzocca,hi vinod this is exactly what i am doing keeping a channel page always open but when i come back to it and hit refresh i have to login again if more than 2 hours passed,0.877038121223
Vinod,is your computer going to sleep in the 2 hours is the web browser window somehow optimizing to not do page requests what web browser are you using if you send me an email to vcherian at mathworks dot com we can look at it in more detail and potentially set up a phone call with screen share,0.5
tdh10,i u2019ve been receiving the message u201csome apps or processes are overloading the system cpu and must restart u201d since july 4 battery drain has been about 39 50 overnight while sleep is dead in the morning if i go to sleep with 39 is half drained after a full charge before sleep no problem during the day ive cleared app cache wiped partition i don u2019t have social media or gaming apps on phone started after i installed android message app but i uninstalled on the 5th and i u2019m still receiving this error android system is the highest of battery usage sometimes it gets up to 59 tried toggling between its ability to allow background usage no difference same issue have had the phone since mid march and has been working week no battery charge issues help,0.120189160109
cstapels,are you referring to the thingview app you might be able to reach out to the developer here https play google com store apps details id com cinetica_tech thingview hl en_usthere is some contact information at the bottom of the page please let us know if that is what you meant,0.5
fmarzocca,in my channel stats web i see this updated a day agolast entry 10 minutes agohow could it be updated a day ago if last entry was acquired 10 minutes ago,0.850713431835
Vinod,what do you see when you refresh your channel page note there is a difference when your channel settings were last updated and when a new entry was added to the channel,0.944407463074
Polaris82,hi i have the same problem did you solve fmarzocca,0.896899461746
fmarzocca,polaris82 said hi i have the same problem did you solve fmarzocca u00a0 u00a0no,0.842427134514
cstapels,for all new channels the u201cupdated at u201d is when the channel settings were updated and the u201clast entry u201d is when an entry was sent to the channel older channels are being migrated to this new format presently you can use the rest api to determine the last time data was written to your channel the timestamp for read last entry will tell you when the channel was last updated https www mathworks com help thingspeak readlastentry html,0.819980621338
shivshankar9,hello everyone i am write the code for nodemcu esp8266 its regarding pulse count store and return back to nodemcu using raspberry pi as server i am using 3 pins of nodemcu esp8266 for that i am using d4 for pulse output d5 pulse input and d6 use as switch means when only one pulse give that pin then pulse comes out from d4 when given pulse on d5 its store on server when only one pulse given on d6 then all store pulse on server its comes out from d4 pin but problem is when i am upload then code on nodemcu esp8266 and not given any power to that just given only pulse on pin d5 then its instant comes out from d4 pin i am check with led please help me here is my code include include adafruit_mqtt h include adafruit_mqtt_client h int pulse d5 int pulse_back d6 int led d4 int pulsestate 0 int pulse_backstate 0 int count 0 char buf 10 string buf2 int realcount wifi access point define wlan_ssid iball baton enter your wifi ssid define wlan_pass 987654321 this is your wifi password adafruit io setup define mqtt_server 192 168 1 100 change this to your pi ip_address define mqtt_serverport 1883 use 8883 for ssl define mqtt_username empty define mqtt_key empty global state you do not need to change this wificlient client setup the mqtt client class by passing in the wifi client and mqtt server and login details adafruit_mqtt_client mqtt client mqtt_server mqtt_serverport mqtt_username mqtt_key data stream publish subscribe adafruit_mqtt_publish pot_stream adafruit_mqtt_publish mqtt mqtt_username esp pot change the topicadafruit_mqtt_subscribe onoffbutton adafruit_mqtt_subscribe mqtt mqtt_username feeds n1 sketch code void mqtt_connect void setup serial begin 9600 delay 10 pinmode pulse input_pullup pinmode pulse_back input_pullup pinmode led output digitalwrite led high serial println f adafruit mqtt demo serial println serial println serial print connecting to serial println wlan_ssid wifi begin wlan_ssid wlan_pass while wifi status wl_connected delay 500 serial print serial println serial println wifi connected serial println ip address serial println wifi localip mqtt subscribe onoffbutton uint32_t x 0 void loop mqtt_connect pulse_backstate digitalread pulse_back pulsestate digitalread pulse if pulsestate low count count 10 serial println count pot_stream publish 10 delay 100 if pulse_backstate low pot_stream publish n1 publish to raspberry pi under topic esp pot serial print n1 adafruit_mqtt_subscribe subscription while subscription mqtt readsubscription 5000 if subscription onoffbutton serial print f on off button serial println char onoffbutton lastread buf2 char onoffbutton lastread serial println buf2 realcount buf2 toint integer serial println realcount for int i 1 i realcount i digitalwrite led high delay 50 digitalwrite led low delay 50 count 0 realcount 0 void mqtt_connect int8_t ret if mqtt connected return serial print connecting to mqtt uint8_t retries 3 while ret mqtt connect 0 connect will return 0 for connected serial println mqtt connecterrorstring ret serial println are trying mqtt connection in 5 seconds mqtt disconnect delay 5000 wait 5 seconds retries if retries 0 while 1 serial println mqtt connected,0.5
cstapels,the node mcu pins do not map 1 1 with arduino gpio see https iotbytes wordpress com nodemcu pinout for example d6 does not seem to be an available pin that might explain the odd behavior d6 on the node mcu should be called as pin 12 let us know if that fixes the problem,0.775095820427
JuanTV,hello everyone as my title say i cant download the data i recorded in my channel in gmt 5 bogota format only export in utc format any idea can i change that regards juan,0.5
cstapels,have a look at the rest api documentation for read data https www mathworks com help thingspeak readdata htmlif you use the form https api thingspeak com channels feeds timezone america bogota you can export in json csv or xml if you need additional parameters such as api key for a private channel append the rest of the parameters with keep in mind that you are limited to 8000 points per read with this method,0.803801059723
nathanjame,my project is doing image processing after process has come out the value my lecturer advice me link the matlab data to android phone my team member found thingspeak will help on this path mean gui show the value and save to thingspeak after that get the data from thingspeak trasfer to mit but i face problem is how to upload the data to thingspeak can anyone help me thank you,0.195784628391
cstapels,have a look at the get started tutorial https www mathworks com help thingspeak getting started with thingspeak htmlthis will answer many of the basic questions about thingspeak workflow the base matlab functions available in thingspeak will do some image processing if you have a matlab license for the image processing toolbox you can use the toolbox functions for image processing in thingspeak,0.792713820934
heh,api site is still running though,0.149705559015
Rob Purser,it working for me can you double check rob,0.925768971443
heh,looks likes its ip address changed and propagation through dns took a while false alarmor the server in on the cloud i guess,0.299591839314
heh,feed field named entry_id in http api responses is not a true id it is merely a counter because it resets every time a channel is cleared problems 1 as counters these are almost useless since they are not unique and can not be used for addressing 2 if they can not be used then why thingspeak exposes them at all suggestions 1 make them true ids and provide tools for using them 2 drop them from thingspeak api altogether to avoid confusion,0.132985323668
Vinod,thank you for your suggestions the thingspeak team has thought about these and many many more over years of running the service the entry_id exists for historical reasons for what it is worth we have a number of users who rely on it removing this entirely will impact existing users who need to reprogram their devices that may be deployed remotely we recommend that users do not use the entry_id field however at this time we do not see a solution to eliminate it without causing our users pain like i mentioned in your other thread data stored on thingspeak is time series data at this time we believe the appropriate way to index it is using the start and end time,0.80116045475
heh,hello vinodit is definitely a good reason to retain this field why do not you make it a true id then and avoid further confusion i see many cases where timestamps are not adequate andtrue ids would be helpful one such example i already mentioned in my other postabout incremental data processing regards,0.975139498711
heh,what takes you so long to respond,0.674820721149
Hans,we will consider having a true id for the data right now the combination of channel entry_id is unique thanks,0.940776407719
riker1,hi u00a0maybe i am doing it wrong u00a0try to clear my channel data and location u00a0location was once populated via arduino library thingspeak u00a0as my initial setting was wrong i trid to clear the channels data i see a location in graph even so the data say location is 0 for latitude and longitude u00a0what am i doing u00a0 wrong thanks t,0.243798524141
cstapels,there is location information for your channel and also for each feed entry the map on your channel view shows the location you set in the channel settings the location of the feeds can be read with the rest api by setting location true see the read data api https www mathworks com help thingspeak readdata html similarly you can write the latitude and longitude and elevation with the write data api https www mathworks com help thingspeak writedata html,0.869469821453
heh,site returns this error ervice unavailable dns failure,0.00171163678169
Vinod,thanks for letting us know heh we had a temporary issue which impacted the ability to sign up as a new user this has been resolved all existing users were able to continue logging in and all data that was sent to thingspeak during this time was captured in the users channels,0.739024400711
alok,hello all i am new to thingspeak and i was trying to send data to my channel using arduino and gsm gprs sim900 the problem is when i am using following code post update http 1 1host api thingspeak comconnection closex thingspeakapikey write api key content type application x www form urlencodedcontent length number of characters in message this is working but in documentation it was written to write only this line https api thingspeak com update key writeapikey field1 0which doesnot seems to work what is the difference between these two approach and why are there so many different terms used in first code,0.272825598717
lee,hi in your first example that is a http post while in the second example it should be a http get both should work in terms of updating a channel as long as the http methods are correct lee,0.940285980701
kostasb,hello everybody first post in this forum i am going to use thingspeak from networked devices running embedded java applications while i am about to experiment with esp8266 wifi module instead of using fields in order to store nuber values i would like to store small binary files as bin to hex strings characters in the range 0 f i was wondering if there is any limit in the number of characters that can be stored as a single record in each one of fields best regardskostas,0.828081071377
lee,hi the current limit is 255 characters for each field as can be seen here https github com iobridge thingspeak blob master app models feed rb l7 l14 lee,0.5
Cluso99,i have successfully imported some data into thingspeak however i cannot seem to import any status or lat long elev data exporting only shows the datetime entry_id fields1 8 here is a line from my imported data csv file datetime fields1 8 are imported and displayed correctly 27 03 2015 13 00 100 13 6 4 1000 4 4 4 4 32 151 50 1is there any progress with being able to display the track or the latest position on the google map public and or private view in thingspeak here is my test channel https thingspeak com channels 31617 publicview,0.5
lee,hi we made a fix to the importer can you try again sorry we are currently working on other features before implementing tracking of a channel feed on a map lee,0.722094774246
Cluso99,thanks lee seems the importer may be working correctly as i see the last column displaying as status however the exporter does not export beyond field 8 ie lat long elev and status is missing what makes it more confusing is that the imported columns do not match the exported columns regards ray,0.161831259727
nikhilmaurya10,watch video demonstration of our idea of a connected and automated healthcare platform this project is part of a compitition so we need to popularize our video to go ahead into finals if you like our idea please share that youtube link more view means greater chances of clearing this roun youtube link,0.950048804283
Hans,awesome work thanks for sharing,0.974679112434
brianc,hi is it possible to license the thingspeak apps for use with the open source api as we would like to install on our own server and use the talkback application thanks brian,0.927267968655
lee,hi brian we are currently working on new features for thingspeak and will let you know more information in the future about licensing apps lee,0.907039999962
photovor,i have a channel that is pulse counter data from a water meter and i was wondering if there is a way to fire off a daily sum from of channel to a http address,0.766479611397
lee,hi this is not possible using only thingspeak but if you used an external programming language you could easily get the daily sum via an http get like https api thingspeak com channels 9 fields 1 json sum daily days 1 lee,0.5
rev,hi i have a negative number being logged to field4 of my channel 19508when i turn on averaging the chart displays average values that are greater than the maximum value of the un averaged results how is this the case is it due to the numbers being negative instead of positive is there some error in the averaging function in thingspeak thanks rev eg with no averaging the largest value right now is 86http api thingspeak com channels 19508 charts 4 width 450 height 260 average 0 results 100 dynamic truewith averaging of 10 the largest value is 76 5http api thingspeak com channels 19508 charts 4 width 450 height 260 average 10 results 100 dynamic true,0.164650678635
lee,hi rev it seems like there is some incorrect data that is causing some problems https thingspeak com channels 19508 fields 4 json results 100 some of the data points contain non numeric values if you eliminate them then the averaging function should work correctly lee,0.13545319438
rev,hi lee so sorry for wasting your time with that i have spotted a bug in my own code now due to your info thanks for your help rev,0.216510564089
acestu,hi i am new to thingspeak and just have a few questions before i start using it i want to use arduinos for monitoring about 20 sensors temperature only is this possible can i set alarm points on data so that it will contact me via email can i save the transmitted data somehow is the service just for hobby use or commercial use too thanks in advanceacestu,0.5
lee,hi acestu yes you can monitor temperatures with arduinos and send the data to thingspeak we do not provide a notification system but you could execute arbitrary http requests on submitted data using react https thingspeak com docs react and thinghttp https thingspeak com docs thinghttp yes data can be freely saved with thingspeak you can use the service for whatever use you want and we provide the basic api free on github https github com iobridge thingspeak if you want to self host or customize the service lee,0.784770965576
tyler785,check out https www pushingbox com you can create a url that will trigger an email just hit that url with a thinghttp,0.5
Hemalatha N,hi all i have one basic doubt regarding to the locations in map actually my project is related to sensor data detection those sensors are in different places so while tracking the sensors i want to display the different sensors points in map i am not able to track all the sensors location at a time thanks in advance,0.5
Simon,hi team i have one channel with temperature and humidity it was working fine for one day but suddenly the public view has stopped refreshing the field1 chart https thingspeak com channels 16787no idea what i am missing any help will be greatly appreciated best,0.790082633495
lee,hi simon we updated thingspeak with a fix for this issue your chart should be visible now you may want to remove the would ays parameter completely it currently set as a blank space which is invalid if you want 30 results to display lee,0.201861560345
Simon,lee many thanks for your quick turn around everything working as expected now regards,0.940097272396
tara,hello community i am building an arduino compatible zigbee ambient sensors temp humidity pressure light and the plan is to spread 6 8 of this wsn there will be a raspberry pi as a server with wifi thingspeak my question is this is it possible to develop a new custom plugin that can handle if this then that triggers ie if temperature is bellow 18c then turn on the heater assuming i connect a zigbee relay to the heater please let me know if thingspeak can achieve such direction any thoughts or ideas are welcome,0.5
lee,hi tara you can set up a thingspeak react https thingspeak com docs react to do this the react would monitor a thingspeak channel that logs temperature values and when the temperature field drops below a certain value then react would send a thinghttp request https thingspeak com docs thinghttp to the zigbee relay to turn the heater on please let me know if you need more help setting this up with react or thinghttp lee,0.5
tara,lee said hi tara you can set up a thingspeak react https thingspeak com docs react to do this the react would monitor a thingspeak channel that logs temperature values and when the temperature field drops below a certain value then react would send a thinghttp request https thingspeak com docs thinghttp to the zigbee relay to turn the heater on please let me know if you need more help setting this up with react or thinghttp leehi leethanks for the tips i will look into react app my idea is to simplify the process something like wigwag device js https s3 amazonaws com ksr assets 000 649 986 57321dd11a3f8d5ae91ff319c112bbc5_large pngthanks,0.5
gcastor,hi there i do not know what i did some how i cannot add any chart to my private view chnl 14342 i open the add window tab however when i click any field option it does not add any chart to the view can you help me thanks,0.742854118347
lee,hi sorry about that this should be fixed now lee,0.861416935921
chrisjmears,hi i seem to recall when i first signed up reading there was a maximum number of 99 channels per account i cant find that documentation now whats the maximum number of channels per account please,0.285409092903
lee,hi we do not place any limits on the number of channels per account lee,0.768714904785
chrisjmears,so lee whats thingspeak io bridges view on me starting off by using thingspeak for a very small startup business probably selling less than a 200 units 200 channels in total and then as i scale up either moving to using iobrides proper offering or running my own thingspeak server and licencing the talkback app i am just fleshing out my business mode i dont curently have the resource technical knowledge or the time to run the actual server part of this so it makes sense for me to start using thingspeak for the inital volume and then later move to something more commercial that iobridge has please can you help me understand if i wanted to move say 200 users to either a proper iobridge solution or a self hosted thingspeak server later what can iobridge offer,0.5
lee,hi i am not responsible for this aspect of the business can you please email support iobridge com with this question lee,0.778675794601
chrisjmears,hi my channel 5384 is extremely slow to response when i am logged in even when im on another tab for example editing the setting or particularly if i am trying to make changes to the graph settings or even scroll is there a reason for this other public channels seem fine,0.76049220562
lee,hi you may have too many data points on all of your charts which can cause your browser to run slowly as lots of ram and cpu are required for all of that data you can try changing your chart settings to use an average function to reduce the number of data points that are displayed lee,0.5
chrisjmears,hi lee i have 4 charts on the page each is pulling 7200 data points 28 800 doesnt seem like a lot for a modern machine to handle,0.778081059456
lee,hi we use highcharts to draw the charts and you can test out your browser ability to load data points by changing some values here http www highcharts com studies performance php seriestype line markers on chartcount 16 seriesperchart 2 pointsperseries 2000 chartwidth 250 libsource http 3a 2f 2fcode highcharts com 2fhighcharts js my browser takes 8 seconds to load this data and the page is very sluggish the points on this test page are generated randomly and there is no backend server sending the data so performance is completely dependent on your browser and computer specs i agree that 28 800 data points do not seem like that many but when each point is rendered via javascript and svg it does unfortunately cause performance to suffer lee,0.5
micthi,hi i would like to have a response from thingspeak to my question we are planning an internal iot related hackathon in my company and considering using the cloud based thingspeak platform as the hackathon middleware we are planning to have up to 1000 concurrent users in peak during 24 48 hours period between 8th 9th of september 2014 i would like to ask if we can have some service availability and or support commitment from thingspeak in order to be sure that when we run our hackathon the platform is up and running or if it is down we can have a support to contact to if such an sla commitment is preconditioned please let me know the terms thanks,0.5
chrisjmears,i had around 330 000 entries in my channel of course my remote device was still posting every 15 seconds the best i can figure if i go to clear the channel the process starts but then when my device puts up a new entry the clearing of the channel stops this means i need to clear many many times to completely clear the channel is this a known issue to my mind if you go to clear a channel it should ignore any new posts until such times as the channel has cleared,0.851933896542
lee,hi sorry about this we previously had a 10 second timeout enabled which caused the channel clearing to stop after 10 seconds we have since removed this so channels should clear properly now the problem was not with simultaneous updates to the channel lee,0.141795754433
kenkoknz,hi i uploaded a cvs file with about 60 datapoints 3 fileds the first date is 16 april 14 16 04 14 however on the graph is show different dates the first date is shown as 6th jan 14 and the rest of the dates are worng on the graph however i exported the data and the csv files show the correct dates any ideas thanks ken,0.5
lee,hi ken i will take a look at this issue can you email the csv file to support at iobridge dot com lee,0.951943933964
kenkoknz,hi lee thnks for the response i have email you the csv file the public feed is https thingspeak com channels 12615cheers ken,0.952176809311
kenkoknz,hi lee thanks for the advice it was the date format that was the problem down under we are used to the dd mm yyyy format i manage to convert the date format using excel to yyyy mm dd and it works even with the in place of the so all good excellent support and responsiveness cheers ken,0.948712944984
nancy,hii am searching for the iot platform and i come across thingspeak i want to confirm that it is a cloud based service or it provides with platform and also about its channels thanksnancy,0.5
lee,hi nancy yes thingspeak is a cloud based service and we also have an open source version of thingspeak that you can install on your own servers lee,0.5
nancy,hi lee thanks for the reply and what about its channel and it is only in ruby or is available in java also nancy,0.959451198578
lee,if you install the open source version on a server it is only available in ruby however if you are just trying to connect to thingspeak as a client you can use any programming language that can make http requests lee,0.753345072269
nancy,thanks lee for your answer nancy,0.899559319019
hank4stmb,does thingspeak have a mechanism to limit the total number of rows allowed for a given channel and could one modify that limit in the github version i have been using the github version locally to allow faster upload rates 1hz and i would like to limit the total number of rows to 1hr at 1hz or 3600 rows,0.250615477562
lee,hi unfortunately we do not provide a mechanism to limit the number of rows per hour the open source version could be modified to add this functionality though lee,0.253986388445
gepeto,hi all i am a long time user of thingspeak and everything had worked ok but now i can not download the data to the one of my channels i only managed to download a csv with headers but no data i need the data field 1 of this channel https thingspeak com channels 7753someone can help me best regards,0.5
gepeto,apparently is my user account i can not download any of my data channels,0.251330316067
lee,hi your channel may have too much data to download currently we will fix this issue in the future and let you know when it ready lee,0.897634029388
turgo,hi gepeto this historical graphing and export tool may help you also http community thingspeak com forum announcements thingspeak live chart multi channel second axis historical data csv export,0.5
gepeto,turgo said hi gepeto this historical graphing and export tool may help you also http community thingspeak com forum announcements thingspeak live chart multi channel second axis historical data csv export turgo thank you very much for the html i tried it and i can plot but i can not download the csv the page goes blank when try to open http www highcharts com studies csv export csv php i think this url is outdated these data are very important to me i do not think i can do that experiment again any suggestion,0.5
turgo,hi gepeto i tried it with all 1670 points of your data and it worked i would be happy to help further contact me if you would like the html graph page or the data personal message me on the arduino forum you can click the link to the arduino forum in my post and then register on the forum turgo,0.927890717983
gepeto,turgo said hi gepeto i tried it with all 1670 points of your data and it worked i would be happy to help further contact me if you would like the html graph page or the data personal message me on the arduino forum you can click the link to the arduino forum in my post and then register on the forum turgoturgo thanks now i succeeded download all data great html very useful,0.957920432091
lee,hi we just released a new feature that allows you to download all of your channel data to do so open your channel in a web browser click on the would ata import export tab and you should see a button to download your data in csv format lee,0.5
chrisjmears,i noticed this last night i assumed corrupt data so i cleared the channel but same again todayapi thingspeak com channels 5384 feed csv days 1 median 10gives the result created_atfield1field2field3field4field5field6field7field82014 03 12 10 20 00 utc260012014 03 12 10 30 00 utc260002014 03 12 10 40 00 utc260002014 03 12 10 50 00 utc26000i e field 1 2 which contain temperature data are blankbut when i do api thingspeak com channels 5384 feed csv days 1i getcreated_atentry_idfield1field2field3field4field5field6field7field82014 03 12 10 22 49 utc13 54 52560010 0 0 0 28 0 40 0 570 1 v2 0rc322014 03 12 10 23 01 utc23 54 52560000 0 0 0 28 0 40 0 600 1 v2 0rc322014 03 12 10 23 13 utc33 54 52560000 0 0 0 28 0 40 0 600 1 v2 0rc322014 03 12 10 23 25 utc444 52560000 0 0 0 28 0 40 0 600 1 v2 0rc322014 03 12 10 23 37 utc53 54 52560000 0 0 0 28 0 40 0 600 1 v2 0rc322014 03 12 10 23 49 utc63 54 52560000 0 0 0 28 0 40 0 600 1 v2 0rc322014 03 12 10 24 01 utc73 54 52560000 0 0 0 28 0 40 0 600 1 v2 0rc322014 03 12 10 24 13 utc844 52560000 0 0 0 28 0 40 0 600 1 v2 0rc322014 03 12 10 24 25 utc944 52560000 0 0 0 28 0 40 0 600 1 v2 0rc322014 03 12 10 24 37 utc1044 52560000 0 0 0 28 0 40 0 600 1 v2 0rc322014 03 12 10 24 49 utc1144 52560000 0 0 0 28 0 40 0 600 1 v2 0rc322014 03 12 10 25 01 utc12452560010 0 0 0 28 0 40 0 600 1 v2 0rc322014 03 12 10 25 13 utc1344 52560010 0 0 0 28 0 40 0 600 1 v2 0rc32so there is data in field 1 and field 2 its just not being averaged,0.5
lee,hi some of your feed entries have spaces before the numerical values which is causing our system to interpret your data as strings rather than numbers please try changing your channel updates so that they send 8 5 rather than 8 5 for example lee,0.5
luhues,hi all we are currently working in a project related with physiological signal based on human emotion recognition in which we need to store large amount of information from multiple sensors we are looking for a cloud platform to store our data sensor and thingspeak could be a possibility we would like to resolve some doubts 1 if we use the online thingspeak cloud is there any limitation on storage capacity or data processing 2 about uploading data could we create unlimited channels 3 could we upload data from multiple channels simultaneously 4 in general is there any limitation on uploading or downloading data 5 if i start using thingspeak normally and then would like to migrate to open source api and have my own server is there a way to get all my data thank you in advancelucia,0.5
lee,hi lucia here are the answers to your questions 1 if we use the online thingspeak cloud is there any limitation on storage capacity or data processing no 2 about uploading data could we create unlimited channels yes 3 could we upload data from multiple channels simultaneously yes via separate http requests 4 in general is there any limitation on uploading or downloading data there is a rate limit of one update per channel every 15 seconds 5 if i start using thingspeak normally and then would like to migrate to open source api and have my own server is there a way to get all my data yes you can download the data as csv and then import it to your own server lee,0.733084142208
turgo,lee reply above is the official word but i have some observations about accessing historical data if you have a year long data set of 15 second averages its about two million points you can only retrieve 8000 at a time when you do repeated requests for 8000 points thingspeak delays the response it typically is about a minute and a half to download a years worth of data this way would take 6 5 hours although partway in i usually run into some error that does not let me continue i have created a web page that loads and graphs historical thingspeak data so you can try this out for yourself and see how thingspeak serves the data http community thingspeak com forum announcements thingspeak live chart multi channel second axis historical data csv export i like thingspeak there are practicalities to consider with large data sets,0.221385955811
luhues,thanks a lot for your prompt reply lee and turgothinkspeak is a good option for my project i am going to try how thingspeak serves the datathank luc u00eda,0.971353173256
luhues,hi all i have a new question if we install thingspeak in our own server would we have the rate limit of one update per channel every 15 seconds thank you in advance luc u00eda,0.922548234463
lee,hi if you use the open source version of thingspeak the rate limit is off by default but can easily be changed here https github com iobridge thingspeak blob master config initializers constants rb l6 lee,0.5
luhues,thanks a lot lee luc u00eda,0.926875114441
acarre,hi all was not sure if anybody else had seen this am getting a strange would ouble decimal in my csv dumps from thingspeak looks like it mixing up data across the fields here what i get when i dump csv from field3 created_atentry_idfield32014 02 05 04 02 40 utc3200250464 0369 002014 02 05 04 03 40 utc32003113284 369 002014 02 05 04 04 40 utc3200480743 0369 002014 02 05 04 05 40 utc3200520545 0369 002014 02 05 04 06 40 utc32006177545 369 002014 02 05 04 07 40 utc32007110674 369 00notice the double decimal in field 3 any ideas what could be going wrong all the other fields format correctly cheers andrew,0.5
lee,hi andrew i will take a look at this what channel number is this data for lee,0.860488653183
acarre,hi lee it was channel 9585 but i have fixed it it was not thingspeak at all but rather the data i was posting to it i was posting from an arduino a floating point number unfortunately i had done a bodgy job of converting it from an integer causing a strange memory overflow multiple decimals a silly mistake but all good now cheers andrew,0.750161290169
chrisjmears,hi i have no idea about these things i notice that you give a link to your crossdomain xml filei understand this instructs the browser that its ok to load files from their domain i plan to let my processing js sketch load the csv data like thisloadstrings api thingspeak com blah blah blah but will it work do i need to do anything special with the http api thingspeak com crossdomain xml link provided,0.212364166975
Hans,we added the crossdomain xml link for flash apps i am pretty sure if you make an http call via flash it will check that file i do not think processing uses it but i could be wrong let us know how it works for you thanks hans,0.934930920601
chrisjx,anyone have an opinion on the cosm to xively move,0.5
Hans,hi chris i think it is a natural progression when big companies get involved many platform players will jump into this space and make it unclear for consumers it also natural to try and find a business model the best place to be is where you have an active development community and a low cost infrastructure to support them thingspeak has both thankfully a big step is coming for thingspeak and we need to tap into not only connected device developers but application developers that will make the platform their own i would ask you to provide feedback on what we can do to help you with your projects the more input commits that come from the community the more this platform will exist and compete iot is about to get real interesting imho thanks for the convo starter hansps i think that you are in the area come to the hackathon june 7 9 in santa clara http blog iobridge com 2013 05 the connected world m2m app challenge june 7 9 in santa clara ca 3000 for first place,0.97364538908
fhw,i would like to use the min parameter in my url to fetch only data since the last entry id read previously the idea is to only fetch new entries but not just the one last one rather the last n that showed up since the prior request is this possible to do i have looked through the documentation but found no examples on the use of min anyone have an example of this or what the value syntax should be thanks,0.5
CorBee,you could use the start parameter start start date u2013 yyyy mm dd 20hh nn ssif you keep track of the moment you last checked the data and fill that in at start i think this should give you only the data registered after that time cheerscor,0.723922133446
harrisandrew73,1 app name fail app description fail wtf facebook funny sexy girlfail wtf facebook fail best photo bomb the strange the sexy the wired the unbelievable you bet we have them all every day the best of the internet gather here for your viewing pleasure this is not for the faint hearted you need to have a high level of tolerance for the gross the stupid and the unbelievable stuff otherwise stay away from the daily fresh updates software download https play google com store apps details id com mangolee fail wtf sexy girl wired funny2 app name tattotatto app description would 10 tatto delivers to you beautiful tatto designs in high quality pictures tatto lovers wait no more get the latest sexiest and coolest in tatto 10 or more updates every day softward download https play google com store apps details id com mangolee d10 sexy tatto3 east beautyapp description would 10 east beauty delivers beauty from the east to you everyday in sexy and fancy packages enjoy these sexy naughty and cute pictures from china japan korea and other east asian lands 10 or more beauties are presented every day app screenshots software download https play google com store apps details id com mangolee d10 sexy bikini beauty asian4 app name lolapp description lol offers the best pictures from the internet in funny fail wtf lol sexy and crazy everyday new updates are added fresh from the internet social networks such as facebook and twitter and also from user discussion groups enjoy app screenshots software download https play google com store apps details id com mangolee lol funny wtf sexy humor englishfollow mangolee on facebook or twitter tweets by mangolee_comhttps www facebook com pages mangolee_en 360553414053590,0.0609633624554
gil,1 is there a way to programmatically api add channels and device instead of using the dashboard so i can have my own dashboard and the channels will be automatically created according to the desired logic 2 does the open source api contains the thingspeak apps as well and more specifically does it includes the thinghttp and react 3 if i start using thing speak normally and then would like to migrate to open source api and have my own server is there a way to get all my data thanks a lot gil,0.881981611252
Hans,things may look different on the forum we are testing an upgrade to simple press let us know if you find anything odd thanks,0.879502296448
Hans,this is a test test,0.181196779013
fiets,hi i have a 5 volt powersupply 2 5 a and i have connected a long wire 4 meters to the 5v side then i reduce the 5v to 3 3v with a lm1117 and connected the esp8266 to it with the 3 3v without the 4 meters wire between the powersupply and the lm1777 everything works fine but as soon i extende the distance to the powersupply with the 4 meter speaker wire the esp8266 doen work nanymore or not reliable sometime i can ping it i also tried to add capacitors to the esp8266 between ground en 3 3v i tried 1uf 10uf en a 100uf electrolyt all the same time it improved a litte bit but still a lot of troubble i do not understand why the 4 meter of wire is a problem and how i can solve it thanks in advance,0.811075806618
rw950431,its possible the wire is not thick enough to carry the current needed to power the esp8266 are you able to measure the voltage that arrives at the lm1117 i am guessing that it will well below 5v you could try some thicker cable like the sort they use in car lights,0.5
fiets,its speaker cable i think 2 5 mm thick and only 4 meters so that should be enough and yes the voltage on the in side of the lm1117 is above 5v and on the out side its 3 3 v so thats looks good also i have tried serveral powersupply but with all of them the same problem i was thinking of picking up noice so thats why i added the capacitors,0.875434100628
rw950431,its possible that the voltage is high enough when the device is listening but drops below minimum when it transmits were you able to observe the voltage when you are pinging it for example,0.5
heh,can running analysis script access data that was inserted by an outside source after the script was started if yes then how to tell this script that it should ignore it because another script instance will process this new data insert,0.704151213169
Hans,so the analysis script is going to run up to 20seconds for free accounts and 60sec for commercial accounts if you your first line is a thingspeakread you will only get data that is in the channel at that moment if you do another read at the end of the time you may get new data in the channel what are you looking to do,0.5
heh,as i thought your idea of using matlab analysis did not work for batch inserts and likely wo not work for individual record inserts either in my case the script is triggered on each batch insert but it runs with random delays sometimes it could be minutes between actual runs and then it may execute several run instances at the same time because there is no reliable way to determine what recordset each such instance has to process it often processes same data batch several times or misses to process a number of consecutive data batches i am trying to run data analysis and push alerts to external relay server matlab analysis seems useless for this purpose because there is no way to implement incremental processing of data the script often misses some datapoints or throws a bunch of duplicates and either is not good,0.5
heh,hello u00a0thingspeak development support did my previous post make any sense to you are there any plans to resolve the issue waiting for your reply regards,0.784418225288
Hans,i would recommend having two channels one that contains the raw data and one that will contain the processed data in your matlab analytics code i will start by reading data from the processed data channel and get the last time stamp if there is one i would use that time stamp in a second thingspeakread in your analysis to get data from the raw channel use a a daterange of now to the last time stamped processed this technique should help greatly in getting consistent analysis and avoid analyzing duplicate data,0.252633631229
heh,thank you i thought of a similar approach too but in order to implement this solution correctlyi need more information about your thingspeakserver concurrency model are analysis jobs run sequentially or they arecompletely asynchronous and run in parallel thanks,0.874770522118
Vinod,depending on a number of factors that include your data collection rate the conditions that trigger the matlab analysis job to run if it is set up to be run by a react app and the length of time your matlab code takes to execute among other factors can result in your analysis jobs running in parallel the approach i would recommend that works best is for the raw data to be logged to a certain channel and a timecontrol be used to schedule a matlab analysis job that runs at a frequency of once every 60 minutes this analysis reads the data from the raw data channel from the time the last datapoint data was written to the would erived data channel until now and writes the processed data to the derived channel if the processing takes 20s per evaluation total time you may need to purchase a standard license that allows your code a window of 60s to complete execution i do not see why this needs any knowledge of the internals of thingspeak i also would argue that any solution that requires this knowledge is brittle ps technical support is just one of the benefits of purchasing a thingspeak license if you need assistance on demand i would strongly urge you to purchase a license,0.5
heh,vinodi still think of whether i want to use thingspeak and buy a license it has too many issues and i would not care about thingspeak internals if it worked reasonably well unfortunately thingspeak lacks many basic features and in its current state it is more a toy than a tool using it for anything useful requires odd tricks like creating separate channels for data processing history or tagging data records and so on please consider my questions as a guide to what your framework needs in order to be attractive to potential users in some sense it is me who is helping you to make it a successful commercial product back to my previous question could you give me a straight answer about concurrency,0.216756761074
Vinod,heh we have a very large number of users for whom thingspeak works really well and who appreciate the features of the service many of our users pay for the features the thingspeak platform provides so we must be doing something right ud83d ude09 we are also always open to constructive feedback on how we can improve the service and add features that will benefit our user community many of our users use this forum to do exactly that but all of that is unrelated to your question the answer to your question straight answer about concurrency is it depends as i mentioned in my previous response depending on a number of factors that include data ingestion rate the conditions that trigger the matlab analysis job the length of time your matlab code takes to execute among other things two executions of your code could run concurrently that does not mean it always does so if your matlab code was written assuming it could be executed concurrently and your algorithm is robust to this you should be fine by the way i would not consider having a channel for raw data and another channel for processed data to be an odd trick i recommend this to users so that they can always go back to the raw data and apply a different processing algorithm to get different insights into it hope this helps vinod,0.950005888939
heh,thank you for response vinod here is a fresh example of something requiring odd tricks encounter these issues every day http api does not allow to specify range of dates to read matlab analysis api call thingspeakread allows reading data in a daterange but does not return status field value i understand that i can run these 2 requests and merge responses or request 8000 point and throw away part most of the response i do not need would not that be odd though how do you read status within a date range without jumping through these hoops why do not you for example offer some way of reading a range of feed ids regards,0.216837286949
Vinod,http api does not allow to specify range of dates to read actually it does see documentation here https www mathworks com help thingspeak readdata html if you wanted json data for the first 15 days of this month the get request would be like this https api thingspeak com channels 9 feeds json start 2018 04 01 end 2018 04 15note that if you specify a large date range the result is limited to 8000 points as documented on the page matlab analysis api call thingspeakread allows reading data in a daterange but does not return status field value this is an item we have on our backlog of features to implement how do you read status within a date range without jumping through these hoops https api thingspeak com channels 9 status json start 2018 04 01 end 2018 04 15 why do not you for example offer some way of reading a range of feed ids we believe feed entry ids are not something the end user should have to care about time series data which is what the data stored on thingspeak is should be queryable addressable by date range as the above example demonstrates the thingspeakread function in matlab does what is needed to get data and stitch it together so a user does not have to worry about the 8000 point limitation hope this helps you on your project if there is something that is not working as you expect please do post your code what you have tried and someone on the community will look at it and offer suggestions sooner or later,0.5
cstapels,you may be able to read data and status at the same time the read data api also has a status parameter https api thingspeak com channels 472367 feeds json start 2018 04 01 end 2018 04 15 status true,0.736516594887
heh,we believe feed entry ids are not something the end user should have to care about on the contrary it could be useful if feed ids that triggered react were passed to analysis script that this react invoked of course then users would need some way to retrieve feeds by these ids daterange mapped to start endthank you for pointing this out i was looking for daterange and overlooked start end having similar purpose regards,0.5
bsartist,after entering my email and password i am now greeted with a blank screen with only a circular arrow icon near the bottom i can u2019t get to my channels anymore i know my password is correct because if i type another one it tells me invalid password i u2019ve tried it on both safari and chrome on my iphone no vpn u00a0thanks,0.768342792988
bsartist,update i tried on my mac desktop i had the same problem with safari that i had on the iphone i brought up chrome this time i got a pop up asking me to accept terms or something seemed to be one of those one time accept things i accepted it now i can log in on my phone as well as on the desktop i did have to restart safari on the desktop however to get it to work after i had accepted the pop up i chrome,0.125771611929
Bovbjerg,i find it quite annoying that it is not possible to sign in automatically anymore u00a0recently one will need too type in email account and password every time u00a0is there a way around this u00a0p s i am using google chrome,0.157084822655
Vinod,it should be possible to use chrome autofill feature so you do not have to type email and password when you are on the ign in page double click your mouse in the email address field and it should give you a list of emails that you have used to pick from on the next page similarly double click in the password field and you should get a dropdown that will enable you to autofill your saved password note that you will need to have enabled chrome autofill feature and saved the password or choose to save the password when prompted for this to work,0.5
Bovbjerg,i have enabled u00a0chrome autofill feature but it does not work at the email adress field only in the password field you have to type in your email at every sign in which is quite annoying specially on my iphone in the earlier sign in pages you could sign in nealy automatically this is in my view a backstep in userfriendlines,0.204122066498
Vinod,on my nexus 5x with android 8 0 0 the moment i click in the email address field it gives me an option to select any of the different email addresses i have ever typed into the field i will try this with chrome on an iphone can you provide me more details version of chrome and version of ios so i can try your scenario u00a0,0.5
Vinod,i was able to reproduce this on ios and macos it appears that chrome behaves differently on these platforms u00a0we will put in a fix for this issue u00a0,0.212554126978
Bovbjerg,ok by the way i am using chrome u00a0version 62 0 3202 94 on my pc and ois 11 2 on my iphone,0.5
Bovbjerg,we will put in a fix for this issue u00a0 u00a0when will the fix be introduced,0.798469603062
Vinod,apologies for the delay in responding i believe this is addressed could you please confirm that autofill on the forms works on your iphone and pc,0.5
misterP,i have the same problem on multiple devices and my friend other account has the same problems internet explorer firefox chrome ipad safari samsung internet all have to login again en again after 4 hours of inactivity u00a0when will this be fixed,0.0563509762287
Vinod,i am not sure there is something to be fixed you should not be signed out unless you close the browser window the browser is clearing your cookies or there are some server side changes there are no server side changes that have happened today so anything you are seeing is likely to be on the device are you closing your browser window clearing your browser cookies cache or logging out of windows between trying to log in to thingspeak,0.5
misterP,nope on other websites i stay logged in after closing my browser only thingspeak gives me problems it started after thinkspeak changed the login screen a little bit 0 5 years ago u00a0on my mobile devices ipad safari and android smartphone google chrome i have to sign in after not using thingspeak for a few hours my laptop restarts every day so i can not tell u00a0an second problem is that my credentials are not saved on the thingspeak website u00a0mozilla says the following on their website is this the possible problem websites prohibit password savingsome websites do not allow for passwords to be saved for security reasons if you have followed the steps above but are still not prompted to save a password when logging in to a certain website that site may have disabled password saving,0.058873385191
misterP,on another clean computer i created an account for thingspeak but it also signs out every time the browser is closed using internet explorer 10 with default settings u00a0why does thingspeak requires to login and other websites keeps me logged in without any problems my browser keeps track of my cookies i think because other websites keeps me logged in when closing my browser,0.136737704277
Vinod,logging a user out when they close the browser is by design the choice is driven keeping security in mind we do not feel it prudent to leave a user logged in once the browser window is closed lots of websites including banks do this for similar reasons,0.307444572449
johnecy,i have already setup a math works account but thingspeak will not let me login to the web page with the account i set up,0.0723415911198
Vinod,have you disabled javascript what browser and browser plugins browser extensions are you using,0.103617280722
martinding2020,i also have the same issue i have allowed javascript browser google chrome version 65 0 3325 181 official build 32 bit broswer pulgins ask when a site wants to use a plug in to access your computer recommended and i did not receive any asking notice broswer extensions it is using google docs offline chrome docs u00a0and i am in china,0.176908999681
martinding2020,i tried it on a couple of browsers and computers none can work i can login on mathworks with the same email address,0.225724488497
Vinod,what happens when you try to log in is there a screenshot you can share that shows the screen on which you have trouble,0.111271828413
Vinod,are you using a vpn or tor onion service if so please disable that and try again u00a0,0.195541113615
heh,there is some number of fields in each channel which purpose could be assumed public notable examples are u00a0 description metadata tags link to external site could anyone clarify whether these or any fields could be used to u00a0store u00a0sensitive information like private links passwords api keys etc i was unable to find any relevant information in thingspeak documentation u00a0thank you in advance,0.803873181343
cstapels,if you set your channel sharing to private none of these fields that you list will be available to any user unless they supply your user api key u00a0 you can store your bank account password and your mothers maiden name in there and nobody will see them,0.765421450138
heh,thank you are there any fields in a private channel that others could see without api key or channel sharing thanks,0.930217802525
cstapels,the user name may be public but no data in the private channel is available to users without the api keys unless the channel has been privately shared with that user,0.776796758175
heh,reacts seem to run only once per bulk update this looks like a design flaw to me because u00a0react configuration says u00a0 run action each time condition is met what if a bulk update has several records that meet react condition should not it run once per each such record u00a0the issue gets more complicated with matlab analysis scripts how would the script know what triggered it what if it were some record in the middle of a batch if yes than which one it has to analyze then u00a0this definitely needs more attention from thingspeak developers u00a0regards,0.274503290653
cstapels,have a look at the documentation for bulk write u00a0 the note at the top describes this feature u00a0 there is a similar description at the react documentation page u00a0 this feature was a planned design over a consideration of multiple different possible workflows if you need to there are a few ways to work around the issue u00a0 one is to use the write data api not bulk write u00a0 another way would be to have your react call a matlab analysis that scans all the data entered with the bulk update u00a0 you could have your first or last bulk entries include a status of write complete and the have the matlab analysis scan until it hits the latest write complete,0.228377252817
heh,even if it works as designed still a design flaw from matlab analysis point of view which needs some way to know what is going on e g list of records it was called on u00a0as for me i am already using status field for other things and it wo not be easy to u00a0makeit structured to add write complete flag u00a0by the way are data updates and reacts calls queued together i e called in sequence is there any chance of them getting out of sync what i mean is whether it is possible for 2 reacts run after their respective updates u00a0be already committed,0.710291028023
cstapels,if you use a timecontrol to trigger your matlab analysis and perform your comparison in the matlab analysis after you read the channel data than matlab analysis will be aware of the data that triggered a response u00a0 if you want the matlab analysis to be re usable you can have it read another channel that provides a list of channels to read for the comparison u00a0 you have a lot more control if you do the conditional analysis in matlab compared to the react you can also use the location fields latitude longitude and elevation to write the complete flag if you are not already using those fields if you trigger a react on data entry there is no way for the react to fire before the channel update since the process is called by the data update u00a0 if you have a react based on a time check it would be possible for the channel update to happen before the react check u00a0,0.5
heh,hi when i asked about queuing i meant the following scenario matlab analysis is triggered e g by some data insert something delays its execution e g processing paused waiting for resources next trigger e g insert occurs before first one had its opportunity to finishmy question was kind of general whether these 2 processing units could run out of order second before first are they queued to run strictly sequentially no matter what triggered them can next data insert occur before previous analysis is completed in other words will the script see only data that existed when it was triggered or it could also read next data insert if that insert happened to occur while the script was still running thanks,0.5
heh,we are well off topic now i am opening a separate thread about this sequencing issue,0.755305528641
heh,can anyone suggest a reasonable way to pass parameters from react to u00a0thinghttp u00a01 thinghttp itself appears to be able to accept very few prefixed variables and unlimited numberof custom ones through notation but i was not able to find how react can set u00a0custom values 2 i received a suggestion to use u00a0matlab analysis to set custom values but this is a limited tool too because there is no obvious way to pass parameters from react to u00a0matlab analysis script either u00a0currently in order to pass parameters to thinghttp i have to create 2 custom scripts react and thinghttp or create 2 u00a0custom scripts react and u00a0matlab because each unique react calls only 1 u00a0matlab script and no parameters allowedthe second way is obviously not any better u00a0ideal solution it should be only one custom react that calls shared thinghttp and passes necessary parameters to it like urls ids passwords etc,0.16788610816
cstapels,thanks for the feedback we will definitely explore your suggestions u00a0 in the meantime can you explain your workflow and we can see if we can find a better way to reach your goal u00a0 for example are you passing values from a device or from the web or computed values how and where are are they being modified and or stored regarding your comparison i do think the second way gives you a good deal more flexibility and has a broader number of actions you can take including processing the data and the first is definitely more simple u00a0,0.891866564751
heh,hellomy workflow is as follows one react monitors one parameter triggering this react generates an http request typically to external endpoint this http request ultimately generates a message alert another http request constraint the endpoint messaging service wants to know whether the request came from a credible source u00a0i am looking for a design that maximizes code reuse and minimizes any customizations u00a0in my opinion this is what is needed a number of custom reacts each is responsible for monitoring 1 data field currently implemented one or more hared thinghttps each is responsible for its own endpoint i e tcp ip address port url etc react needs to pass parameters to thinghttp instance e g custom user message parameter passing needed for at least 2 reasons u00a0 u00a0 1 to authenticate message ource with the endpoint so that several reacts can use same thinghttp for sending messages to the same endpoint u00a0 u00a0 2 to provide source specific and target specific messages like channel source_name sent target_name a message please let me know if this needs further clarification u00a0regards,0.5
cstapels,one possibility would be to write a matlab analysis that reads another channel where you store the endpoint information you code can work based on the number of entries available in the endpoint channel u00a0 then your functions are re usable in a sense u00a0endpoints thingspeakread endpointchannel for 1 length endpoints write to endpointendyou can also include operations to do the comparisons that you would do in your react u00a0 the analysis can even read the comparison parameters from another channel such as thresholds depending on if you data is stored across multiple channels or multiple fields you can set once again perform conditional analysis based on the number of entries available to read u00a0 even better you could have a list of channels or fields to read in yet another channel or field u00a0 then the analysis gets all its parameters from channel reads and is completely independent of customization u00a0 u00a0here is psuedo code to give you an idea of what i mean parameters thingspeakread parameterchannel for 1 length parameters data n thingspeakread datachannels if parameters n data n write to endpointendendif your authentication is static you can store it in the endpoint channel u00a0 if not you could have the something write the authentication info to the endpoint channel last you can trigger the analysis on a regular bases timecontrol or on data entry with react,0.5
heh,thank you for your response and proposed solution my understanding is that any read write from to a private channel requires corresponding api keys are not these all custom or there is some way to access my own channels without keys u00a0regards,0.91211616993
cstapels,you can use the user api key to return read and write api keys for a channel u00a0 you will need the user api key for the account holder but one user api key can get keys for all channels owned by that user u00a0 use the format shown in the example on the read settings page https api thingspeak com channels channel_id json api_key xxxxxxxxxxxxxxxx,0.5
heh,is there any way to pass this user api key to a matlab analysis script so it could use it within or it should be hardcoded in the script body,0.73250824213
cstapels,once again you could consider reading the api key from some other private channel this might be leading to infinite regression though u00a0 at some point in the chain there probably needs to be a unique identifier that is human entered such as channel number or api key you could put the api key in the metadata of a channel which is static compared to a field write in the sense that it stays current and does not move up the feed table with more entries programatically retrieving api keys with a user api key may be overkill for your application u00a0i would suggest a node posts data and credentials to a channel u00a0 nodes must be programmed with api key for that channel they have to be programmed at least once the matlab analysis is triggered by a single react and then the analysis reads the channel and does the endpoint determination based on the credentials and then does the endpoint authentication if needed then the matlab analysis has the node data and the authentication information and can make the http calls you wished for u00a0 it can even parse the sensor data to make a decision on validity before acting,0.5
heh,thank you for your response sorry i keep asking questions because of lack of information in documentation you suggested the matlab analysis is triggered by a single react and then the analysis reads the channel to implement your idea the script has too know what triggered it channel and possibly the condition while the idea to use u00a0matlab analysis scripts is very attractive it is absolutely not clear how to pass any parameters to it it seems that everything has to be hardcoded which for me is going back to quare one u00a0thank you for you patience with me,0.128298819065
Serge,since saturday 12h30 cet i am seeing many interruptions in the data i am sending every 3 minutes to two channels less than half of all mqtt messages reach thingspeak there is nothing wrong with my account there is still plenty of message credit available nor have i changed anything to my application that has been running for a couple of months without any previous issue are there any known issues at thingspeak that would account for what i am experiencing anybody else experiencing the same,0.0960848033428
Vinod,we do not have any reason to believe there have been any interruptions please share some more information are you only using mqtt to send data to thingspeak what channels are you publishing data to please let us know your channel idis this from a device that is powered by battery or by mains power if battery powered is it likely the battery is failing brownouts are you able to reproduce the issue from another device or posting directly using a web browser,0.0778511166573
Serge,both devices are mains powered one is an ethernet connected server the other a wlan connected esp32 both use the same vdsl2 router to connect to the internet that router has already been restarted to no avail both run similar programs sending mqtt mesages however the former runs python code the latter micropython code this makes it surprising to suddenly witness simultaneously started dropouts lasting up to 45 minutes instead of the normal 3 minute data interval i will send you the affected channel numbers in a personal message since these are private channels,0.5
Serge,ah it looks like things are working again after having written to this forum and without changing anything from my behalf thanks since i am evaluating this service for a potential future commercial roll out could you share your postmortem i would like to understand what happened,0.830950260162
Sarah Khan,greetings i was wondering if somebody could tell me the difference between the academic and student version of thingspeak as i am planning to use it for my senior year project i am aware that the student version has a matlab compute timeout of 20 seconds whereas the academic has 60 seconds what does this mean also if i purchase the student version and plan to upgrade to the academic version later will i still have to pay the entire price of the academic version u00a0thank you,0.240217655897
ewetjen,hi sarah when you request a matlab calculation in thingspeak using either the matlab analysis app or matlab visualizations app the execution time must be less than the compute timeout the execution time includes the request communication time response communication time and the calculation time u00a0 with the academic license you get a 60 second compute timeout which will let you do longer calculations u00a0 this may or may not be critical for your project u00a0 unless you know you will be doing long computations i would recommend you buy the student license u00a0 if you have any issues with the compute timeout you can contact us and we can help you upgrade to the academic license thanks eric,0.836627423763
giulio,hello i want to ask for help i can not combine two sketches to send data to thingspeak from two sensors dht22 and mq135 can you help me,0.747121214867
rberkelm,for the past few days i have not been able to log into my thingspeak account not from my desktop not my phone i get to the first page which shows the user name login i enter my email address and then instead of taking me to the pwd screen it shows an almost blank screen and hangs anybody know what is going on my public channels are still alive and well and my iot devices are still posting data ok,0.25710144639
Vinod,are you using a vpn service if so could you turn off the vpn and see if you are able to log in we have also seen some browser plugins cause problems if you would rather not uninstall or disable the browser plugins can you try a different browser if you are still unable to log in could you send details about the browser you are using the os platform you are on and a screenshot of the page,0.0672490894794
rberkelm,no vpn service here however it does seem to be related somehow to chrome i can log into thingspeak fine using ie but not chrome using either my laptop or desktop forget what i said about the phone that was a different issue i have disabled all the extensions in chrome but still no luck even after a reboot to my knowledge i have not changed any configuration on either the laptop and desktop this issue has only just cropped up in the last few days i am running windows 7 32 bit on the desktop and windows 7 64 bit on the laptop both use chrome as the default browser,0.0261833667755
rberkelm,btw i have been trying to post a screenshot but i can not figure out how under insert image i see a dialog box that wants text i entered the url of the saved image but it does not seem to find the image,0.2692887187
rberkelm,have upgraded my desktop to windows 10 32 bit but still no success in logging in via chrome any suggestions other than using the dreaded ie,0.760935783386
Vinod,i am able to login using chrome u00a0version 64 0 3282 119 official build 64 bit u00a0could you tell me what version of chrome you are using if you could reach out to vcherian at mathworks dot com we can schedule a screen share session to debug the issue,0.71390581131
rberkelm,my issue is now resolved thank you so much vinod your blood is worth bottling for anyone else having similar issues try opening an incognito tab on your chrome browser then connect to thingspeak and log in if you are successful as i was this might indicate a problem with bad cookies the fix for me was clearing all cookies and browsing history thanks for the great help and patience ray,0.862097978592
pudderz,hi u00a0 u00a0 u00a0 u00a0 i wonder if someone could solve a problem that the internet has been unable to after two days hunting i have set up two channels both have several charts data is from temperature sensors with posting times between one hour and fifteen minutes on one channel the public private charts are showing data from the last 24 hours which is ok but the other channel will only show data from the previous two hours i have tried to find what the various settings do in the field chart options drop down but can find no info on that at all i am sure it is a simple setting but cannot find it i also know individual charts can be loaded via the api but i just want to go the the public view of my charts thanksdoug,0.113479316235
cstapels,in the chart options try increasing the number for are sults or would ays results has higher priority than days so erase results if you try to use days u00a0 please post if that helps,0.288761883974
pudderz,solved i increased the number of are sults to 1000 an it increased the display to two daysthanks,0.294516444206
chriscokid,the chart does not seem to display values between 1 and 1 except for 0 i upload data using curl once per minute and when the value is e g 5 or 3 nothing is displayed in the chart i know the data points are being stored on the server because i can see the data by using the data export function 2018 01 13 01 33 02 utc 570587 12018 01 13 01 34 02 utc 570588 22018 01 13 01 35 02 utc 570589 32018 01 13 01 36 02 utc 570590 02018 01 13 01 37 02 utc 570591 02018 01 13 01 38 02 utc 570592 02018 01 13 01 39 02 utc 570593 12018 01 13 01 40 02 utc 570594 12018 01 13 01 54 02 utc 570608 22018 01 13 01 55 01 utc 570609 3none of these values are displayed on the chart except the 0s as soon as the value is 1 0 or greater or 1 0 or less it is displayed again chris,0.5
Vinod,i think it may have to do with how the data is being interpreted what if instead of 1 2 etc it is sent to the server as 0 1 0 2 etc u00a0,0.5
chriscokid,yes that will probably work but i have to add some extra code to format the numbers since bc does not have any way to force leading zeros in any case this should be handled as a bug in your parser since that is a perfectly valid way of specifying a number chris,0.190920680761
chriscokid,i can confirm that adding the leading 0 i e 0 3 or 0 4 does work and displays properly chris,0.892362296581
AlliedC,introductionoptimizing power consumption has been a problem for us in the past for this purpose one of our developers took the initiative to construct a data logger using a wemos d1 mini the purpose of this u00a0iot project u00a0was to monitor power consumption at the premises identify data patterns and use it to reduce utility costs to eliminate any redundant power consumption list of components usedwemos d1 mini development board includes esp8266 wifi module burden resistor 33 ohm4051 multiplexer for the purpose of extending the analog inputs for reading 3 phases1 led10k resistorpicaxe socketwemos d1 mini as the wi fi capable development board with 4mb flash based on esp 8266ex we used u00a0thingspeak u00a0for the purpose of data logging tracking updating data it u2019s an open source iot analytics service which allows you to have a dashboard for analyzing live data streams in the cloud coming through your iot device circuit diagramyou can read the full article u00a0here u00a0with an in depth explanation of how this data logger was installed on our premises feel free to tell us what you think about it u00a0,0.5
vpatron,hi does anyone else have a problem with their email getting scrambled in the login page of thingspeak com i enter my email and click the green next button and on the next screen my email address may appear backwards or it might be just the email name without the domain com or it might be a mangled version of my email name such as vine instead of vince and sometimes it ecniv which is vince backwards it happens about 20 of the time so i have to redo the login or else the login will fail i have a screenshot of my phone android chrome if there a way cannot find upload but it also happens on chrome on the mac or chrome in linux i have not tried firefox yet i figure it some anti hack thing you guys are doing but it seems to break fairly often at least on google chrome it been doing this since i started on thingspeak back in november u00a0thanks for your help vince,0.185274124146
Vinod,hi vince can you please send an email to support at thingspeak dot com with the screenshot so we can investigate vinod,0.773868918419
vpatron,sent email screenshot thanks vinod vince,0.970010519028
Vinod,i believe this is resolved can you please let us know if you see this issue anymore,0.758119225502
Armin_38,hello u00a0i just start exploring possibilitees of thingspeak i develop system that will have to upload data from sensors by arduino via ethernet and gsm and lora and by tablet and by computers from vb net software to start my exploration of thingspeak possibilites i found example to connect in vb net to upload data to thingspeak channel and it works always 2 times and than blocks at the response request even if i wait 5min between each write i restart software and once again it works 2 times someone has any idea u00a0here is my sourcecode u00a0dim writekey as string 4upt95kufhbgzmz4 dim strupdatebase as string http api thingspeak com update dim strupdateuri as string strupdatebase key writekey dim strfield1 as string cstr no dim strfield2 as string cstr no 2 dim strfield3 as string cstr no no dim strfield4 as string cstr math sqrt no dim myreq as httpwebrequest webrequest create http www contoso com dim thingsspeakreq as httpwebrequest dim thingsspeakresp as httpwebresponsetrystrupdateuri field1 strfield1 strupdateuri field2 strfield2 strupdateuri field3 strfield3 strupdateuri field4 strfield4thingsspeakreq webrequest create strupdateuri thingsspeakresp thingsspeakreq getresponse thingsspeakreq nothing thingsspeakresp nothing threadreceive nothingcatch ex as exception end try,0.5
schabanow,hi everybody i try to get a dew point plot diagram out of the data from my test channel that successfully represents two fields humidity and temperature in my garage it a pity but i am not familiar with programming i just try to write something mine over the pattern is offered in apps tab at thingspeak com below is the text that contains the error s in the line that goes tempc thingspeakread readchannelid and so on i just can not understand what that evil compiler wants from poor ignorant user please help u00a0 channel id to read data fromreadchannelid 177255 humidity field idhumidityfieldid 2 temperature field idtemperaturefieldid 1 channel read api key if your channel is private then enter the read api key between the below readapikey uv3yqvtasg28sixf tempc thingspeakread readchannelid 1 are adapikey humidity thingspeakread readchannelid 2 are adapikey b 17 62 c 243 5 gamma log humidity 100 b tempc c tempc dewpoint c gamma b gamma display dewpoint would ew point to store the calculated dew point write it to a channel other than the one used for reading data to write to a channel assign the write channel id to the writechannelid variable and the write api key to the writeapikey variable below find the write api key in the right side pane of this page todo replace the with channel id to write data to writechannelid 387198 todo enter the write api key between the below writeapikey 1cu0caf9kcqzyg5,0.0418734550476
cstapels,welcome to thingspeak u00a0 modifying the template code is definitely a good way to get started u00a0 u00a0you took out the part that lets the thingspeakread function know what you mean by 1 u00a0 i have linked the documentation so you can have a look u00a0 u00a0matlab functions usually take some standard inputs and then you need to tell the function if you are adding extra inputs u00a0 your extras are fields and are adkey and the values are 1 and readapikey u00a0 the readapikey is a variable that holds the data you entered at the top of the script so it does not get quotes try this syntax and apply the same thing to the next line tempc thingspeakread readchannelid fields 1 are adkey readapikey humidity thingspeakread readchannelid fields 2 are adkey are adapikey let us know if that works for you u00a0 u00a0,0.938012480736
schabanow,sorry i have not any results it writes errors those i cannot clear out of template offered would you please give me a kind of compilable text for this readchannelid 177255 humidityfieldid 2 temperaturefieldid 1 readapikey uv3yqvtasg28sixf tempc thingspeakread 177255 temperaturefieldid are adkey readapikey humidity thingspeakread 177255 humidityfieldid are adkey readapikey b 17 62 c 243 5 gamma log humidity 100 b tempc c tempc dewpoint c gamma b gamma display dewpoint would ew point writechannelid 387198 writeapikey 1cu0caf9kcqzyg5 i hope you can understand what i want to do by the text above sorry again i just need a compilable variant in order to see the differences and understand my mistakes in syntax,0.5
cstapels,your code is almost complete thingspeakread expects to read from a channel so the first thing is the channel number u00a0 if its a private channel you tell the function you are giving it the api key with are adkey and then you give the read key u00a0 this part you have done fine u00a0 but you also gave it a 1 or temperaturefieldid which it does not know what to do with until you tell it u00a0 what you want is to read from field 1 of that channel u00a0 so tell the function what the value 1 is for first u00a0 add fields before the 1 tempc thingspeakread 177255 fields temperaturefieldid are adkey readapikey and the same thing for the next line u00a0 if you fix both it will compile u00a0 let us know if it does not u00a0i see you also included channel information for writing to a channel at the end but you are not calling thingspeakwrite u00a0 if you are trying to write to a channel have a look at the doc and the getting started tutorial for more help with that task u00a0 u00a0,0.5
schabanow,thank you very much for exhaustive explanation so firstly i have to give the function a kind of data and then data itself sounds logic and clear after your explanation below is the text i found among the others on your site and almost managed to adapt to my case it has been compiled successfully but in the end i have got pretty strange results that looked improper 20 degs below zero of dew point huh furthermore my would ew point plot represents sth about of aw teeth curve where positive points alternate with its negative are flections across the zero line here is the link https thingspeak com channels 387198 private_showand the code itself readchid 177255 writechid 387198 u00a0writekey 1cu0caf9kcqzyg5 u00a0 temp time thingspeakread readchid fields 1 numpoints 20 humidity thingspeakread readchid fields 2 numpoints 20 tempc 5 9 temp 32 b 17 62 c 243 5 gamma log humidity 100 b tempc c tempc dewpoint c gamma b gamma thingspeakwrite writechid dewpoint fields 1 timestamps time writekey writekey u00a0the last string especially timestamps and go on is a kind of mistery for me what does mean in the end of the last string but one what is timestamps is it a function what it does,0.137593597174
schabanow,wow it works please do not pay attention to previous post well i put fields before its argument in both strings with called thingspeakread and voila i have got pretty nice result of 4 9 c of dew point in my garage great u00a0but in the last string i did not specify fields and its argument nevertheless plot gets its points and everything works well why readchannelid 177255 readapikey uv3yqvtasg28sixf humidityfieldid 2 temperaturefieldid 1 writechannelid 387198 writeapikey 1cu0caf9kcqzyg5 dewpointfieldid 1 tempc thingspeakread readchannelid fields temperaturefieldid are adkey readapikey humidity thingspeakread readchannelid fields humidityfieldid are adkey readapikey b 17 62 c 243 5 gamma log humidity 100 b tempc c tempc dewpoint c gamma b gamma display dewpoint thingspeakwrite writechannelid dewpoint writekey writeapikey,0.832207560539
schabanow,and the code above does not work without the stringdisplay dewpoint the plot does not upgrade in this case u00a0,0.0981085598469
schabanow,hahaha the plot does not update itself even with the string would isplay dewpoint it does it only once when i hit the green button ave and run i suspect there a lack of text in my code u00a0does the stringdisplay dewpoint work in this code u00a0update i have understood the situation with plot updating i just set are currence every 5 min and the problem was solved update2 would isplay displays the result in the field below the code field the question closed,0.0744564533234
jcpreston22,hii am considering integrating a raspberry pi with u00a0 wireless sensor tag products see mytaglist com to collect temperature data from around my home and the external local environment with a weather station this data is stored in a proprietary cloud but is available via ifttt u00a0 does anyone know if i could use ifttt to reliably connect with thingspeak and then use mathworks for analyses u00a0 u00a0appreciate any insight offeredtx john,0.5
peter9x,i am confused about this sentence free users are limited to 10 million messages 3 years at minimum update interval is it i do not need to register again after a year my free account can last longer than 3 years right does anybody can help me many thanks,0.751774907112
ewetjen,your free account can last longer than 3 years and you do not need to re register every year u00a0 the 10 million messages limit refers to storage of the data u00a0you cannot store more than 10 million messages on thingspeak with a free account u00a0 if you have one device and you send data to thingspeak at the maximum free update interval of 15 seconds you will hit the 10 million messages after approximately 3 years u00a0 in this case you will need to remove some of your stored data download to your local drive for example u00a0 if you are sending data at a slower rate once a minute or once an hour it will take longer to reach the 10 million messages limit,0.5
Eduardo,hi there all my current tests and prototypes for iot stuff usually arduino and wemos boards have been doing using thingspeak so far i feel fairly familiar with this platform i have an specific product that may be suitable for clients so now i am starting to consider what would be a proper licensing model for this if i use the free service i would have to stay under 4 updates minute which is not bad still but i would have to manage everything under my own account and i would not be able to provide private access to my clients to their own readings they would have access to all the clients readings u00a0if i purchase a license usd year i see that i would be able to update up to once a second but i do not see how i would manage users u00a0summarizing is there any licensing model that allows me to manage different clients so i have access to design their views and i can offer them an access to only their own views u00a0thanks in advance,0.838178098202
cstapels,if you are using thingspeak for commercial use a standard commercial license is required u00a0 there are two options to consider with regard to managing data views for clients u00a0option 1 u00a0 use thingspeak as a back end for data collection and analysis u00a0 in this case you would collect all your client data under your commercial thingspeak account you would designate all channels as private and only you would be able to see the data u00a0 to share the data and channel views with your clients you can use the private sharing feature which allows you to share certain channels with email addresses that you specify u00a0 the users will need a thingspeak account free and will have a read only view of the their data u00a0 u00a0option 2 u00a0 use thingspeak as a back end for data collection and analysis u00a0 again in this case you would collect all your client data under your commercial account u00a0 you would then build and host your own front end and you would manage the user logins to this front end u00a0 you can embed the appropriate thingspeak charts behind the login u00a0 this option is more involved but gives you the flexibility to brand the page as the clients u00a0would be logging into your service u00a0for more details email thingspeak sales mathworks com,0.5
trach555,u00a0hi i am using free account on thingspeak recently i have noticed that on u00a0 account tab there is expiration date does it mean that my account will be deleted after this date or maybe after this date counter of free messages for free account there is 3 000 000 limit of messages will reset regardsgc,0.809554636478
Vinod,for a user with a free account the expiration date is the date when your free allocation of messages per year expires an allocation of messages will be added to your account on or a few days before your anniversary date the anniversary date is the date you signed up for thingspeak or december 5th 2016 whichever is later so as long as you are using less than the allocated number of messages for a free user you should see no interruptions in service if you exceed the number of messages for a free user quota per year your channels will no longer accept messages until more capacity is purchased or until your anniversary date when a new quota of messages is allocated to you more details are in the license faq linked off this page https thingspeak com prices,0.936697602272
trach555,thanks u00a0,0.99992287159
rico72,so the fact that now there is a message above all my channels saying your term will expire on december 4 2017 is only a warning and will disappear after the 5th of december without any data loss,0.108526021242
Vinod,rico72 said so the fact that now there is a message above all my channels saying your term will expire on december 4 2017 is only a warning and will disappear after the 5th of december without any data loss u00a0 u00a0correct before the expiration date anniversary date of a free user account a new unit of messages available to free users 3 million messages year as of oct 2017 will be added to your account with a new expiration date for the new unit of messages u00a0 as long as you are using less than the allocated unit of messages year for a free user there should be no interruption note that using more than the allocated quota of free messages per year can result in new data not being accepted thingspeak will warn you about this as well on your channels page ignoring that warning will likely result in any new data not being accepted the best way to see if your usage rate will result in exhaustion of messages before the expiry date is to look at the monthly usage rate chart on the my account page if your estimated monthly usage is high the bars showing projected messages remaining will end before the expiration date of your unit u00a0please read the license faq for more information about quotas and storage policy for data sent to thingspeak,0.890356659889
Meik,then it seems to be something is wrong with my account i have 2 000 000 remaining messages and no new data is accepted since 31 10 2017 channel id 296793,0.0872559249401
cstapels,your channel seems to have good deal of data in there today nov 10 u00a0 were you able to make new posts recently u00a0 are you still having trouble with your account https thingspeak com channels 296793,0.199853181839
augusto,i have a free account and today november 6 2017 i found this warning on my account page based on your current daily usage rate you will run out of messages on november 6 2017 however i used only 2 4m messages of the available 3m at a rather steady rate of 2000 messages day which did not change recently in the histogram i see that on my anniversary dec 5 i should have more than 2 millions messages still available i checked the amount of stored data and it less than 1m messages of the 10m available could you please help me anybody has experience of this message i need thingspeak for my lectures and i would be disappointed to have to renounce to it,0.794908046722
Vinod,augusto if you have only used 2 4 u00a0million of the 3 million messages year for your free account and your usage rate is such that you think you have sufficient capacity to last you until the anniversary you may ignore this message for now we are working on changing the algorithm that calculates the estimated exhaustion date and you will see changes in the next day or two vinod,0.721136152744
augusto,thank you vinod,0.996915280819
alireza-res,hi when i tried to put images on my site i was successful but the problem is every single image have a red block on the top left corner and i am not sure what is the problem is it css or html problem,0.103452324867
shivam00408,any help would be much appreciated thanks in advancefor the following code include esp8266wifi h const char ssid u00a0 u00a0 u00a0 u00a0 iphone const char password iamafreeloader const char host api thingspeak com char thingspeakaddress api thingspeak com string writeapikey 7t1nbns3jh4xohjv const int updatethingspeakinterval 3 1000 u00a0 u00a0 u00a0 u00a0 u00a0 time interval in milliseconds to update thingspeak number of seconds 1000 interval variable setuplong lastconnectiontime 0 boolean lastconnected false int failedcounter 0 int pulsecount 0 int count 0 int pulsetime 0 int prevmillis 0 int treshold 50 unsigned long endtime int time boolean pulse float totalkwh int curwatts float myvalue 1234 initialize arduino ethernet clientwificlient client void setup u00a0 start serial for debugging on the serial monitor u00a0 serial begin 9600 u00a0 pinmode a0 input u00a0 pinmode 13 output u00a0 int time millis u00a0 endtime millis 60000 u00a0 start ethernet on arduino u00a0 startethernet void loop u00a0 read value from analog input pin 0 u00a0 string analogvalue0 string 500 string myvalue dec u00a0 u00a0 int sensor analogread a0 u00a0 serial println sensor u00a0 delay 100 serial println pulsecount string analogvalue0 string sensor serial println totalkwh delay 1000 u00a0 print update response to serial monitor u00a0 if client available u00a0 u00a0 u00a0 u00a0 char c client read u00a0 u00a0 u00a0 serial print c u00a0 u00a0 disconnect from thingspeak u00a0 if client connected lastconnected u00a0 u00a0 u00a0 u00a0 serial println disconnected u00a0 u00a0 u00a0 serial println u00a0 u00a0 u00a0 client stop u00a0 u00a0 update thingspeak u00a0 if client connected millis lastconnectiontime updatethingspeakinterval u00a0 u00a0 u00a0 u00a0 updatethingspeak field1 analogvalue0 u00a0 u00a0 check if arduino ethernet needs to be restarted u00a0 if failedcounter 3 startethernet u00a0 lastconnected client connected void updatethingspeak string tsdata u00a0 serial println tsdata u00a0 if client connect thingspeakaddress 80 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 client print post update http 1 1 u00a0 u00a0 u00a0 client print host api thingspeak com u00a0 u00a0 u00a0 client print connection close u00a0 u00a0 u00a0 client print x thingspeakapikey writeapikey u00a0 u00a0 u00a0 client print content type application x www form urlencoded u00a0 u00a0 u00a0 client print content length u00a0 u00a0 u00a0 client print tsdata length u00a0 u00a0 u00a0 client print u00a0 u00a0 u00a0 client print tsdata u00a0 u00a0 u00a0 lastconnectiontime millis u00a0 u00a0 u00a0 if client connected u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 serial println connecting to thingspeak u00a0 u00a0 u00a0 u00a0 u00a0 serial println u00a0 u00a0 u00a0 u00a0 u00a0 failedcounter 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 else u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 failedcounter u00a0 u00a0 u00a0 u00a0 u00a0 serial println connection to thingspeak failed string failedcounter dec u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 serial println u00a0 u00a0 u00a0 u00a0 u00a0 else u00a0 u00a0 u00a0 u00a0 failedcounter u00a0 u00a0 u00a0 serial println connection to thingspeak failed string failedcounter dec u00a0 u00a0 u00a0 u00a0 u00a0 serial println u00a0 u00a0 u00a0 lastconnectiontime millis u00a0 void startethernet u00a0 u00a0 failedcounter 0 u00a0 client stop u00a0 serial println connecting arduino to network u00a0 serial println u00a0 u00a0 delay 1000 u00a0 wifi begin ssid password u00a0 while wifi status wl_connected u00a0 u00a0 u00a0 delay 500 u00a0 u00a0 u00a0 serial print u00a0 u00a0 serial println u00a0 serial println wifi connected u00a0 u00a0 serial println ip address u00a0 serial println wifi localip u00a0 delay 1000,0.5
cstapels,have you made sure your channel is set up correctly u00a0 use your address bar and make sure you can update your channel first u00a0 https api thingspeak com update api_key writeapikey field1 123 make sure you replace it with your write api key u00a0 does your channel update this way u00a0 what is the response from the browser u00a0 see update a channel field for more info u00a0 if that works we can look into the code,0.5
Rony,hi i am working on a project that multiple users can have access and sent data through the esp8266 i want to give each user 1 row of fields in other term how can i modify or update the fields values in a specific row thanksrony,0.714936137199
JoeClark,hello i want to make an application for a system running linux connected to a magnetic card reader and a touchscreen the will be connected to the internet when a user passes his card trough the reader the code in the card is sent to a remote server which finds information related to the user in a database text and pictures and then sends this information back to the beaglebone black to be shown what are the best programming languages and libraries to develop this iot applications u00a0in the beaglebone black and in the server without using a web browser do you know of any open source software that do what i ask any help will be appreciated thank you,0.818588376045
boyerak,hi a few years ago i bought an iobridge gateway io 204 and a temperature probe that i never got around to setting up i tried using the tutorial on the iobridge website but the links sent me here is iobridge defunct is there a similar service available that will work with this gateway or is the only way to set up a thingspeak server etc edit confirmed that i needed an iobridge account please disregard this post,0.236850053072
dhananjay,dear expert i have to show the plc variables value in tabular format in thingspeak now i can see only the trend view in thingspeak sr nodate and timevariable 1variable 1118 07 2017 10 10 102478218 07 2017 10 10 302577318 07 2017 10 10 502676plz suggest how i can display this variable in tabular format also i need to do data logging in thingspeak u00a0thank you in advance ud83d ude42 u00a0regards dj,0.5
cstapels,you can use the uitable function of matlab u00a0for example if you wanted to read the cheerlights hex values and color names for the last 15 points you could replace with a read to your channel do not forget the read api key if it is a private channel u00a0paste this code into a blank matlab visualization and add it to your channel view data thingspeakread 1417 outputformat table numpoints 15 uitable would ata data cheerlightshexcolor data lastcheerlightscommand columnname hex name,0.779763221741
alessio31183,hi every one i am developing some sensor nodes that measure some parameter for the air quality monitoring and upload data on thingspeak platform this is the channel https thingspeak com channels 17333the issue is that i am trying to upload also the position with latitude longitude and elevation attribute but i do not see the correct data on my node this is a part of my py code import httplib urllib__version__ 0 1 1 numofchannels 8field_keys field str n for n in xrange 1 numofchannels 1 headers content type application x www form urlencoded accept text plain def non_null_values kwargs return k v for k v in kwargs iteritems if v none class wrongfields valueerror passclass channel object def __init__ self write_key cid 0 write_key is the write api key cid is the read_key self write_key write_key def update self field_vals lat none long none elevation none status none if len field_vals numofchannels raise wrongfields update can only handle numofchannels field values per channel this verbosity rather than just using kwargs so that callers get a prompt error if they supply an arg update cannot handle named_args non_null_values lat lat long long elevation elevation status status print named_args for debug only params urllib urlencode zip field_keys field_vals key self write_key named_args conn httplib httpconnection api thingspeak com 80 conn request post update params headers response conn getresponse conn close return response def fetch self format conn httplib httpconnection api thingspeak com 80 path channels 0 feed 1 format self cid format params urllib urlencode key self key conn request get path params headers response conn getresponse return responsewhen i create th string to upload data by http request i obtain something like this field1 field 1 data field2 field 2 data field3 field 3 data field4 field 4 data field5 field 5 data field6 field 6 data field7 field 7 data field8 field 8 data lat latitude in decimal degrees long longitude in decimal degrees elevation elevation in meters status 140 character message every channel works correctly also the status field but the location is wrong i do not know what is the problem regarding any help thanks in advance guys,0.5
lee,hi are you including the parameter location true when retrieving your channel feed https thingspeak com docs channels get_feedlee,0.879911899567
alessio31183,yes i send out a message like this one field6 33 4 field1 23 0 long 51 490664 location true lat 25 375852 elevation 19 field8 0 0 key but it does not work the location is not updatethis is the channel https thingspeak com channels 17333thanks,0.5
lee,hi i do not see any data in your channel are you sure you are adding the data correctly is the http request sent properly with an api key lee,0.5
Hans,use location true when reading the data back from your channel,0.90680205822
alessio31183,lee said hi i do not see any data in your channel are you sure you are adding the data correctly is the http request sent properly with an api key leeyes i am sure you can see data in the channel why do not you see data,0.5
alessio31183,hans said use location true when reading the data back from your channel but my question is why the location data does not upload correctly i do not want read location data but write the location of my node and see it on the map,0.79277163744
lee,your location data is being updated correctly you can see it here https thingspeak com channels 17333 feed json results 5 location true lee,0.924827575684
alessio31183,lee said your location data is being updated correctly you can see it here https thingspeak com channels 17333 feed json results 5 location true leethank you lee but why i do not see the map and the correct position in the public channel view,0.874101221561
lee,hi the map is based on the channel latitude and longitude which is configured under the channel settings tab this is different from the channel feed latitude and longitude which is updated via the api as you are doing now we do not currently have a visualization for the feed locations but may add one in the future which would display a path of the updates on a map lee,0.5
alessio31183,lee said hi the map is based on the channel latitude and longitude which is configured under the channel settings tab this is different from the channel feed latitude and longitude which is updated via the api as you are doing now we do not currently have a visualization for the feed locations but may add one in the future which would display a path of the updates on a map leeok thank you leenow everything is clear i think that a map visualization based on the feed locations it will be very useful for the future thinking about a node with a gps module onboard that is moving from position to positionthanksalessio,0.919928193092
Things4U,a long time has past since last post are there still plans to add updates to the map gps location and map view is one of the most important functions when showing people how their iot are doing and where they are it should not be too difiicult to add this function to the existing show map view i am surprised it takes so long if not i need to start looking for another platform thanks maarten,0.698696434498
testing,hello i need to do something similar is there a way to automatically update the map that is already on the channel stats page with lat lon data that is coming in from a rockblock unit else what is the other solution create a google map api and read the thingspeak data into that as a thinghttp thank you for any help u00a0,0.855020165443
cstapels,if you have access to matlab mapping toolbox you can use that to create a visualization as described here the map that is already on the channel stats page has your channel location data not field location data from posts you would need the user api key the data would not relate to field data on you channel u00a0you can update the channel location as described in update a channel u00a0if you are updating the field location it wont change the channel stats map but that information is here update a channel feed you could also create a plugin in thingspeak using the google maps api you will have to get an api key from google here u00a0here is javascript example code to read data from a channel and make a route map lt script gt setinterval getdata 20000 refresh the page every 20 ssettimeout getdata 2000 wait for the data to be available before the first loadvar lat lattitude holdervar lng longitude holdervar myspot present marker locationvar channel_id your_cheer_channelid set your channel id herevar api_key your_thingspeak_read_apikey set your channel read api key here if necessaryvar route route arrayvar map must make map a global since you reuse it each refreshfunction getdata get the data from thingspeak and format it in route object getjson https api thingspeak com channels channel_id fields 1 json api_key api_key amp location true amp start 200 0 0 amp timezone america 2fnew_york function data var count 0 loop counter route all the places you have been for var prop in data feeds loop through all feedsif data feeds hasownproperty prop if there is a value lat parsefloat data feeds count latitude get the lat lng parsefloat data feeds count longitude get the lng route push lat lng add it to the array myspot lat lat lng lng save the last values to write a marker count if data feeds length document getelementbyid message innerhtml leave the message blank updatemap update the route else document getelementbyid message innerhtml lt h4 gt press and hold the button to reset lt h4 gt leave a message to press the button fail function alert error reading thingspeak channel function initmap map new google maps map document getelementbyid map zoom 2 center lat 0 on startup center map lng 0 function updatemap add a new marker at the present location var marker new google maps marker position myspot put a marker down at myspot map map add a new flightpath to the map var flightpath new google maps polyline path route geodesic true strokecolor ff0f00 strokeopacity 1 0 strokeweight 2 flightpath setmap map lt script gt u00a0here is the html lt doctype html gt lt html gt lt head gt lt style gt map height 400px width 100 lt style gt lt head gt lt body gt lt div id message gt lt div gt lt div id map gt lt div gt plugin_javascript lt script src https ajax googleapis com ajax libs jquery 3 2 1 jquery min js gt lt script gt lt script async defer src https maps googleapis com maps api js key your google api key amp callback initmap gt lt script gt lt body gt lt html gt here is the css lt style type text css gt body background color ddd container height 100 width 100 display table inner vertical align middle display table cell g_map lt style gt,0.5
tamairon,hello i am sending samples about power and current from my energy monitor based on esp8266 to thingspeak i would like to write a matlab script in order to get all power entries to calculate the total energy comsuption how can i get all data collected from thingspeak to calculate energy how can i know how much entries has got thingspeak about field variable what is the last item thanks best regards,0.79386639595
cstapels,you can definitely make a matlab analysis to calculate the energy u00a0consider using the thingspeakread function to get the data from your channels https www mathworks com help thingspeak thingspeakread htmlyou can tailor thingspeakread read just the last entry or several entries up to 8000 you can also use the react app to trigger the analysis to run whenever new data is entered https www mathworks com help thingspeak react app htmli would also suggest looking at the analyze your data part of the getting started u00a0page in the help https www mathworks com help thingspeak getting started with thingspeak html u00a0 u00a0feel free to share your energy calculation methods on the thingspeak community u00a0site u00a0a lot of people are interested in using the esp8266 with matlab,0.5
piajola,hi tamairon in addition to the aboveprefered method use matlab in https thingspeak com apps sign up or login use matlab analysis maybe other apps worth the tryi also try sometimes the quick dirty cheating next method in a browser type or copy paste http api thingspeak com channels 0000 feeds csv results xxx http api thingspeak com channels 0000 feeds csv start 2017 01 01 00 00 00 end 2017 01 03 23 59 59 offset 05 00replace 0000 with your public channel number xxx with how many results backwards 1 the last 5 the 5 latest and so on in the case with dates bear in mind the maximum of 8000 records so for 10000 records 2 downloads one with 8000 the another with older start and end dates for the other 2000in both cases thingspeak ask you to save a csv file that can be worked with a spreadsheet in your pc or other personal computer created_at entry_id field1 field2 2017 01 01 00 00 16 0500 17160 1 96 1 926 2017 01 01 00 00 50 0500 17161 1 52 1 94 2017 01 01 00 01 21 0500 17162 1 62 1 954 2017 01 01 00 02 16 0500 17163 0 26 1 958 2017 01 01 00 03 37 0500 17164 0 08 1 96 2017 01 01 00 04 35 0500 17165 0 12 1 962 2017 01 01 00 05 57 0500 17166 0 08 1 964 2017 01 01 00 06 52 0500 17167 0 13 1 966 2017 01 01 00 07 48 0500 17168 0 13 1 968 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 offset rec 2 values recordedyour download look like this or whatever you sent then in your spreadsheet you at your pleasure u00a0,0.5
Hondo,dear all if i using the thingsspeakwrite command i always get the error message undefined variable matlab or class matlab net uri would o i need an additional package toolbox,0.103008002043
Adarsh_Murthy,hi u00a0thanks for reporting this issue thingspeakwrite does not require any additional packages or toolboxes other than thingspeak support toolbox to help us investigate this issue further could you tell us what version of matlab you are using also what os are you using u00a0 u00a0 adarsh,0.185740917921
Hondo,hi adarsh thank for your fast reply the output of the command have r entered in the command window is as follows matlab version 9 1 0 441655 r2016b matlab license number 841745operating system microsoft windows 10 pro version 10 0 build 14393 java version java 1 7 0_60 b19 with oracle corporation java hotspot tm 64 bit server vm mixed mode matlab u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 version 9 1 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 r2016b curve fitting toolbox u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 version 3 5 4 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 r2016b image processing toolbox u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 version 9 5 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 r2016b instrument control toolbox u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 version 3 10 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 r2016b matlab compiler u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 version 6 3 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 r2016b matlab compiler sdk u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 version 6 3 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 r2016b signal processing toolbox u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 version 7 3 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 r2016b many thanks in advance and best regards hondo,0.5
Adarsh_Murthy,hi hondo u00a0i am not able to reproduce the error using the version of matlab and os that you are using i suspect it might have to do with the path being corrupted in your matlab session to help us find the root cause of the error could you run the following code snippet and tell us if you see any errors note that you need to provide a write api key for your channel in the code below u00a0thingspeakurl https api thingspeak com thingspeakwriteurl thingspeakurl update writeapikey your write api key fieldname field1 fieldvalue 42 response webwrite thingspeakwriteurl api_key writeapikey fieldname fieldvalue u00a0thanks adarsh,0.0714196264744
Hondo,hi adarsh unfortunately i got the following error message after running the code with my api key error using webwrite line 123 undefined variable matlab or class matlab net uri best regards hondo,0.130739212036
Adarsh_Murthy,based on this error it looks like matlab path has been corrupted could you run the following commands to restore matlab default path setup u00a0 rehash toolbox rehash toolboxcache u00a0after running the above two commands try to run the code snippet that i shared with you to see if the issue is resolved u00a0thanks adarsh u00a0,0.0428731739521
Hondo,hi adarsh after i have added the folder c program filesmatlabr2016btoolboxmatlabexternalinterfaceswebservices with all subfolders to the matlab default path u00a0 the issue is resolved and i can write data to my channels many thanks for your support and best regards hondo,0.946967959404
Adarsh_Murthy,good to hear thanks for letting us know u00a0,0.997011423111
Fil,i have not logged data to a channel for some months as its monitored conservertory plants that died over winter having restocked ive plugged in the h w and looked for new data nada u00a0ive also tried to clear the historic data again nada u00a0it tells me its doing it but when i return to the puter there is data going back to january in both public and private views u00a0has my account timed out due to inactivity or do i need to get the powerfull glasses and start cracking boxes to check wiring and soldering u00a0 u00a0thanks in advance u00a0pk,0.136583596468
Fil,ok u00a0just returned to find the data is gone u00a0 whoops and am about to pull the wifi aspect of my project and test it ho hum,0.687883138657
Hans,can you send us your channel number so we can investigate support at thingspeak com the account does not timeout if you have a lot of old data in a channel the channel clearing will take some time thanks,0.757094204426
suriyaa,is it possible to upload image and audio in thingspeak if so how to upload,0.286928892136
Vinod,not currently could you describe your application what device is recording the images and audio if the device u00a0is a computer can it u00a0execute matlab u00a0what language is the code that u00a0captures the u00a0images and u00a0collects the audio in what libraries are available to this language,0.786881566048
suriyaa,my images and audio will be already stored in raspberry pi based on my sensor value i want to get different audio and images in a remote place currently i am using python code to connect with thingspeak,0.5
Vinod,you could use the status field of the thingspeak channel where you post the location of the file the file itself with audio image could be posted to google drive dropbox or similar service when you need to analyze the data you could pull in the status field of your thingspeak channel and get the reference to your image audio u00a0to retrieve it and perform analysis on it,0.5
suriyaa,i got the following warning message in my output screen help me to solve this u00a0 u00a0warning non numeric data was found this could mean that you are attempting to retrieve data from a channel or field that has non numeric points set outputformat property to table or timetable to read non numeric data u00a0 u00a0,0.255356729031
Vinod,you may want to review the documentation here https www mathworks com help thingspeak thingspeakread htmlif you are not familiar with matlab you can also take some of the free classes here https matlabacademy mathworks com,0.781780540943
suriyaa,how to give a voice alert using thingspeak iot platform,0.910339057446
Vinod,where are you looking to get a voice alert on your phone are you looking for your channels page u00a0to play a voice alert u00a0perhaps more details can help someone answer the question,0.869636893272
suriyaa,i want to get different voices alert in my channel page according to the data imported in specific field,0.19662553072
Vinod,if you want different voices you will have to use some javascript api like https responsivevoice org api u00a0in your u00a0custom plugin if you are ok with just plain voice alerts you can use html5 speech synthesis apis as described https developers google com web updates 2014 01 web apps that talk introduction to the speech synthesis api in your custom plugin both of these require you to have some knowledge of javascript u00a0,0.715920209885
kf6bbl,i had a working thingspeak free account that has been collecting data today i upgraded to the home account for two devices channels after creating the account on mathworks it successfully linked the two accounts and on thingspeak i could see i had 66m messages yr i was also successful in uploading data every 2 seconds after running it for several minutes i was able to download data as a csv and verify it was storing the data as expected good so far two hours later i log into thingspeak and it says i have a free account with only 3m message year all my data is gone all my channels and fields are gone it like a blank account u00a0has anyone else actually paid for this service has it been reliable at all is there any chance of getting my data back or is this thingspeak kind of hobbyist student play toy and not for serious iot data collection,0.826209664345
Hans,we received your support email as well you most likely have two accounts make sure that you use your email address to sign in instead of the username i will follow up with you directly u00a0,0.5
kf6bbl,solved thanks,0.949395298958
rich,i have suddenly started receiving incorrect username or password when trying to log in with my correct password and when i try to send a recovery email to my address it says there is no account associated with it my public channels still work and my devices are still sending data u00a0,0.0684736669064
Vinod,please log in with the email address used to create your account and your thingspeak password u00a0if you do not remember your email id please contact us with u00a0a channel number and user id,0.289151191711
Hans,as vinod suggested try the email address for your user account this will help you log into thingspeak rest assured that no data has been lost if you need to find your email address please contact support at thingspeak,0.22085493803
ntsc443,u00a0hello i have same problem i can not log in to my account i can see my public account i use correct password and can not reset using forgot your password link can you help me my public channel is https thingspeak com channels 110909profile link https thingspeak com users ntsc443user name ntsc443thank you,0.761741518974
Vinod,it appears the email address used to create the account had a typo and the forgot password emails were bouncing i have requested the team to u00a0correct the typo please u00a0try again and see if u00a0you get the email to your account,0.155043661594
roboboom,i last used my thingspeak account in september 2016 today when i tried logging in it says invalid username and password my username is roboboom has the free account i created deleted by thingspeak,0.157874494791
Hans,you still have an account do you know the email address of the account that is what is required to log into thingspeak now if you do not know the email address send us a message to support at thingspeak com and we will help you out everything about your account is intact,0.804748654366
cnxsoft,i am sending power values to field 1 of a channel and i would like to show multiple charts for that field with different time scales and also to show the average over a day to show power consumption without having to manually edit the chart each time but now i can only create a single chart for field 1 i workaround might be to create more fields with the same value but there must be a better way thanks,0.88378059864
rishimohindra,is it possible to get a confirmation that the secured communication on port 443 for upload download of data by commercially deployed devices will be guaranteed for 5 10 years u00a0to avoid recall of devices if not is there a way to do firmware upgrade over the air e g for esp8266 based devices using the thingspeak cloud service,0.773324966431
Vinod,thingspeak does not currently provide a feature to allow updating custom firmware on your devices typically u00a0the device vendors create the device update solution as they want to be in control of the device firmware and the distribution of the firmware third party solutions exist that provide this functionality u00a0 u00a0regarding your service guarantee question please feel free to contact sales directly by completing the contact us form at https thingspeak com prices,0.712525725365
mnt,you may have noticed that mathworks modified u00a0the account system breaking most functionality in the progress and introduced api limits this is a sign to move somewhere else because mathworks wo not stop until thingspeak generates revenue and it tg can not generate revenue they will shut it down so whatever the outcome you lose,0.213838219643
Hans,thanks for your post we have definitely made changes in response to many user requests for commercial licenses for thingspeak we also added mqtt as a way to send data to thingspeak u00a0some users had issues with the new sign in process the main change is that we require everyone to sign in with an email address instead of a username make sure that you are signing in with your email address no data is lost no functionality has been removed i can work with you over email to make sure your account is intact the fact that thingspeak is one of the longest lived iot services out there 6 years speaks to our commitment to the people in the thingspeak community u00a0 one of the reasons for adding the paid option was that we receive multiple emails a day requesting commercial use and questions about the longevity of the service without a viable economic model u00a0 the paid options provide that to those people u00a0 we didn u2019t pick the limits on the free account level at random u00a0 we looked at usage patterns and selected limits that would allow more than 99 of current users to continue with the free option,0.850322842598
Songman999,i have used thingspeak for over three years and have found the many apps especially the original thinghttp react and plugins to be very useful and u00a0 easy to use and a great addition to the platform for example i can control zigbee xbee from thinghttp using a script in the body and can copy and paste and just change radio and gateway ids in the script for multiple xbee gateways i now also use matlab visualizations that are now included with ts since mathworks took over these are great for filling in missing data moving to new channels and removing spurious data wind velocity compass plot most other iot platforms either have complex setups and then charge for additional functionality and do not have the easy to use apps that are already incorporated into ts unlike mnt post above i have found no change or break in functionality and wonder what he is referring to yes the new login makes you use an e mail address but that was all that changed for me if transmitting 85 fields every 15 minutes or 170 fields every 30 mins is not enough for personal use then you may be doing it wrong using an api to check a channel status does not count towards the limits as i understand it just the api writing to a channel field i have not had time to utilize the trial matlab toolboxes and great things like the neural network learning but see these as a great add on even if they cost a lot of other iot sites charge for basic services and then have different levels of service and apps which are charged for in addition i believe that thingspeak is a great tool and service even if the api levels have been reduced for a personal account it still gives you the ability to perform multiple tasks and data manipulation and to test out various sensors and systems for free if you are prototyping a system to use commercially and require control easy to use integrated apps and plugins then thingspeak with the new mathworks functions is a great platform to use when you need to launch your products systems commercially you have everything ready and just need to upgrade to a paid account the paid account gives the added benefits of over 10 times the number of write requests and the ability to write every second rather than 15 seconds like the free account for the price and the functions available and upgraded functionality it is well worth it thingsspeak is a great service thank you mathworks,0.897733747959
jhkWaltham,i have to agree with songman999 my company has been using thingspeak for about a year now to manage data collection for devices installed across the continental us it has been a great tool to develop with and it was amazing that it was a free service for so long it is reasonable to charge for the maintenance and development of the platform mnt what functionality have you seen reduced removed or broken if anything the transition to a paid service has been less complicated than i expected the purchasing of the appropriate number of licenses is simple and has worked well because it is built into the mathworks license center thingspeak has been and i expect will continue to be a great platform for developing data collection hardware systems and it integration with matlab make it solid choice for then analyzing that collected data it seems to me that hans has addressed any legitimate concerns the fact that 99 of users are producing data to the platform at low enough a rate that they continue to have a free option is a great,0.780745208263
mnt,i have found no change or break in functionalityi could not login and there is no mention that you have to use your email now anywhere fail next tried to recover my password the recoverylink on the ts website leads to a mw account only recovery option fail i found out about the changed login via google and only because i found a forum posts here that complained about this exact thing questions about the longevity of the service without a viable economic modelif you want to build a viable business with managable risk you have to get pricing feedback from your customers from day one and not after you got a metric ton of users that are used to freemium,0.0237623155117
littleboot,hello i have a question about the terms of use u00a0if i develop a product like a datalogger and i add a feature to log the data to thingspeak i am i able to sell this product u00a0if this is not the case can i sell the hardware closed source and the software open source u00a0thanks in advance,0.250852257013
Robert Mawrey,hello and thank you for contacting us u00a0selling data loggers that send data to thingspeak is definitely your choice along with the decision to use open or closed source u00a0our terms require that the account used by each data logger has the appropriate license option and that depends on the use of each logger for more specific help please feel free to complete the contact us form on our how to buy u00a0page so that someone can help you directly,0.952598214149
rw950431,is there going to be a way to monitor the total number of points being stored u00a0currently the account usage only contains number of new messages being added u00a0 u00a0i guess you can figure it out by fetching the last record number of each channel but a summary figure would be nice,0.856981873512
Hans,thanks for the suggestion we will keep this in mind for future releases,0.950001835823
wizbrewery,hi u00a0 id like a linux box to get the last posted value of my channel on demand u00a0 i understand i can get a range of values from here from apieg http api thingspeak com channels 9 feeds csv start 2011 11 11 2010 10 10 end 2011 11 11 2011 11 11i wish u00a0to get the last value from a linux box eg wget u00a0 what are my option from the api u00a0 thanks in advance,0.5
rw950431,http api thingspeak com channels 9 feeds csv results 1 u00a0for variants see https au mathworks com help thingspeak get a channel feed html,0.5
kenkoknz,hi every thing was working then yesterday the chart does not get updated u00a0the channel stats shows that data is updated but the chart does not update public channel https thingspeak com channels 91156advice appreciatedthanksken,0.926576733589
Adarsh_Murthy,hi ken u00a0on checking the data in the channel u00a0https thingspeak com channels 91156 feeds json results 10i found that u00a02016 11 21 20 09 33 est was the last valid data point all data points after that are null values could you check your device or data source to find the cause of the null values charts only display non null numeric values since all values after 20 09 33 est are null values the chart is not displaying the latest data,0.0575446784496
kenkoknz,hi thks for your explaination i use node red to send the data using thingspeak node it was working no problems before and i did not changed anything from your suggestion it would seems that the payload is not sent but it does send null strange as i did not alter anything,0.805820226669
wasted,hey u00a0i was wondering if it is possible to get the exact timestamp of data being created now the datimeformat is restricted to seconds but it would be interesting to get the millisecond or even microsecond data of an entry being created is there any way to change the datetime settings to a more precise one u00a0thank you,0.777482390404
abdolhamednik,hi everbodyit is about 2 weeks i can not upload data to my channel 122500 is there any problem with the thingspeak server thanks in advance,0.151688069105
Vinod,there are no known issues with the thingspeak server at this time u00a0are you sure you are u00a0using the right api keys for writing to the thingspeak u00a0channel are you sure u00a0your devices are functioning correctly and they have internet connectivity can you create a new channel from a computer on the same network as the device and try to write to it following the instructions on the right side of the page here https thingspeak com channels channel_num import_export,0.982268095016
Wayne,i have been reading a number of similar posts but i do not think they articulate u00a0my particular question i want to log 5 fields once per second u00a0that would obviously exceed the once per 15 second rule u00a0is the intention to limit the amount of api calls to thingspeak or to limit the total data u00a0i would like to write once per second to my sd datalogger and then send a burst of 5 x 15 75 datapoints at a time u00a0each would have an rtc logged as well i am also concerned that if i have a loss of connectivity that my data continues to record u00a0a 8gb sd card will handle enough data for several months u00a0say i lose connectivity for a few days until i can get to the remote site u00a0will thingspeak allow me to catch up and do a data dump when my remote datalogger finally gets back online u00a0thanks,0.252395808697
Vinod,writing to your sd card and then uploading all 5 fields 75 datapoints at a time should work u00a0if you can store data on your sd card in csv format you can always import the data into a channel to backfill the data for the period your device has lost connectivity,0.5
p_k_nandanan,hi all i created a channel and wanted to update it using firefox tried chrome also poster but it fails saying 404 not found and the page you were looking for does not exist get is working fine i gave the url as https api thingspeak com channels 172664 and under content optionapi_key my keytemperature 123but same thing when tried using browser https api thingspeak com update api_key my key temperature 789 works fine please help to figure this out regards nandan,0.882598817348
Hans,in your first example make sure to use the same url https api thingspeak com update and then load the parameters using a tool like poster or postman u00a0,0.5
p_k_nandanan,i tried u00a0url https api thingspeak com update and api_key my key and temperature 123 in content options it says 400 bad request the reason i tried https thingspeak com channels 172664 is that the web site gives that method to update the channel u00a0regards nandan u00a0,0.748850107193
p_k_nandanan,it works fine if i put the whole thing in the url https api thingspeak com update api_key my_key field2 777 field1 888 u00a0regards nandan,0.683982789516
rw950431,did you use firebug or similar tools to examine the network traffic u00a0 perhaps poster isnt formatting things properly,0.289222419262
Dmitriy,hello i am experiencing problems with data updates i know about channel limit but is there any ip limit i have a timer in code that makes update every 15 sec however points plotted very randomly without nay pattern what could it be,0.247646600008
Vinod,there is no ip based limit on uploading data u00a0is your device connected to the network using wired ethernet or using u00a0a u00a03g or similar data connection to troubleshoot you could set up your code to also send you an email on every point if you get your email but your data point does not u00a0 u00a0get updated on thingspeak it u00a0could provide some u00a0insights on what is going on,0.5
pratikr,hello i need to upload image approx u00a0600 kb to cloud does u00a0thingspeak u00a0support that if yes where can i find the option for the same what is the maximum size of data that thingspeak u00a0can support can i upload 600 kb raw data in array u00a0kindly suggest thanks in advance,0.5
HydroponicsMAC,hello i entered a youtube url within the video id setting a few weeks back all worked fine with the video visualisation appearing on both my public and private channels u00a0however if i now change that url and press save the new url is saved if i look at channel setting again but the old video still remains on the channel pages i have tried u00a0removing and re adding the visualisation on the channel pages but each time it adds the old video id which is not even set in channel settings anymore i have blanked out the video id in settings tried toggling between youtube and vimeo logged out and logged in reset the browser cache but nothing works always the old video gets added public channel https thingspeak com channels 128093as you can see the u00a0video visualisation currently displayed is the old one which does not exist on youtube anymore is this a bug u00a0thanks,0.857433795929
Hans,that is not normal behavior can you send your channel number to support thingspeak com and we will look into it thanks,0.934339404106
HydroponicsMAC,thanks hans i will do and post the solution here,0.979786455631
Anton_K,my device posts data to one field in a channel every 6 hours or with a larger period if the device can not connect to internet however i see only one last point on the graph refer to field 5 of the channel u00a0124005 if the channel was open in a browser before the posting the points get connected however this effect disappears after the page is refreshed all graphs are created with almost default settings and i expect they u00a0can show up to 60 points how can i tell the graph to connect sparse data points properly,0.136991500854
Hans,all of your data in field 5 looks to be null https thingspeak com channels 124005 field 5 jsonare you writing data back to this channel at different times if so fields that are not being written to get a null you should use separate channels when you are sending data at different speeds,0.153364509344
Anton_K,yes data for field 5 is being posted at different speed if compared to other fields thanks for the hint i thought i could make it with a single channel u00a0i will try to redesign my solution,0.809945106506
itayd,hello i have iot device that measures some sensors every 5 minutes and sending all the data just after 2 hours 24 messages the problem is when i am trying to send to u00a0the dashboard message after message in less than 15 seconds between them you just ignore it i am using gsm and to save energy i am connecting to the network just every 2 hours in total the average time of the u00a0messages is 5 min although all of them coming in the same minute what can i do btw i am sending also the created_at as a timestamp this is working well,0.280112981796
Hans,the best way to handle this situation is to write your updates using multiple channels since you have multiple things to update in separate requests having separate channels makes sense if you need to combine the results into one channel again you could write some matlab analysis code to read from your channels and write to a new one as separate fields,0.763882935047
itayd,to add 12 channels just for that and then make a special matlab u00a0script to handle that it sounds not really u00a0elegant solution do you have any other solution,0.914299428463
Hans,are you able to write the data all at the same time each channel has 8 fields but we intend for you to write them at the same time if that is not possible then each request should go into separate channels otherwise you will have nulls in the other fields,0.170710474253
Anton_K,itayd said i have iot device that measures some sensors every 5 minutes and sending all the data just after 2 hours 24 messages u00a0to send all accumulated data your device has to be online for 6 minutes 360 seconds 24 msgs 15 seconds i guess the u00a0bulk update wo not be implemented soon for thingspeak api have you found a solution for your task with massive update u00a0,0.5
birkebjerg,is there a standard way or a easy way to choose to and from dates for example to look at one day last month can a matlab chart be dynamic updated from a input field,0.921969890594
Vinod,re u00a0is there a standard way or a easy way to choose to and from dates for example to look at one day last month you can customize the visualizations using the pencil icon on the visualization on your channels page setting the would ays to 30 will show you the graph for the last 30 days if you want to look at a specific day of the month you can u00a0use thingspeakread with a u00a0daterange with your day of interest in a matlab analysis app to get the data if you are looking for a plot combine the thingspeakread with a thingspeakplot for example in a matlab visualization app re u00a0can a matlab chart be dynamic updated from a input field the matlab code in your matlab visualization app can pull data from a channel using thingspeakread u00a0the plots generated using thingspeakplot by your u00a0matlab visualization app are u00a0updated when the matlab code is run u00a0,0.5
alvinpark,i really do not know much about matlab chart functionality i hope you should google it u00a0 u00a0alvin park,0.86615562439
solarhill,anyone know why pdfs in github do not display images even though they are image types githut supports and the overall file sizes are fairly small github supports pdfs and the file types used jpg png etc anybody else experience this and have a solution these pdfs were created using ms word and typical image placement approaches such as inserting and or copy pasting and the source files are fine however in github not all the images display in some files and in others they do not display at all these images are not linked just reside inside the source files,0.725985705853
Fil,hi im new to iot and thingspeak just finding my feet u00a0i have 3 x active channels in use atm 2x are simple taking in only 2 x data elements fields the third is a bit busier with 6 x fields u00a0i find viewing the 6 x field page u00a0thingspeak com channels 133796 when viewed can be most unresponsive is it too busy u00a0its currently logging every 20 secs or so just as i sus out how my diy sensors are working if they are working u00a0i did start following a guide tutorial on adding visualisations to this channel but got lost 1 2 way through and thought i had removed deleted any scripts that could be influencing the page the page becomes unusable the delay in clicking or shifting is substantial for example clicking the channels mychannels page header drop down can take over a minute to execute u00a0many thanks in advance u00a0phil k,0.5
Hans,hi phil the channel link you provided loaded immediately in chrome what browser are you using can you try the link being signed out and see if it is faster thanks,0.933131456375
Fil,hans said hi phil the channel link you provided loaded immediately in chrome what browser are you using can you try the link being signed out and see if it is faster thanks u00a0 u00a0i also am using chrome u00a0the page had been modified i had reduced the number of data elements to plot to 60 per field graph while the default setting was more like 6000 x6 36000 elements plotted live reducing the source set to 60 from 6000 didnt effect the then current chrome session which was still laggy but on returning after catching your reply i checked again to find it was a ok u00a0so i have run through resetting each graph to present the whole data set u00a0and that does indeed appear to slow down the chrome chrome session u00a0 i am recording readings every 20 seconds or so much faster a rate than the intended finished project will read log which will be 1 2 times per hour probably recording an aggregate mean value or no doubt when i have done the are quired reading i will find data tools available to sample larger data sets for plotting u00a0 u00a0thanks for the input,0.5
tceel,hiexcuse me for my english how i can export data for specified time range for example i need to download my channel data from 2015 5 1 u00a0to 2016 5 1 how i can do this i read u00a0this topic http community thingspeak com forum general export data in time range but it does not worked for me because my channel is private please help me u00a0,0.5
rw950431,the api documentation shows how to get a channel feed u00a0 if you add api_key your_api_key to the end of the url in the 4th post of the topic you will be able to access private channels however there is a limit of 8000 points per call so doing it this way can be tedious if there is a lot of points the other way is to download the entire channel contents using the would ata export button on the website and extract the required date range using your favourite text editor spreadsheet or stats package,0.705933630466
tceel,thank you for your help it worksunfortunately when i download data with would ata export button i only get today data and nothing more also this data contains only about previous 1 hour datahere what i got when i click would ata export button created_at entry_id field1 field2 2016 07 12 10 13 34 0430 2056 24 70 78 80 2016 07 12 10 14 04 0430 2057 24 80 78 80 2016 07 12 10 14 35 0430 2058 24 70 78 80 2016 07 12 10 15 04 0430 2059 24 80 78 80 2016 07 12 10 15 34 0430 2060 24 80 78 80 2016 07 12 10 16 05 0430 2061 24 80 78 80 2016 07 12 10 16 35 0430 2062 24 80 78 80 2016 07 12 10 17 05 0430 2063 24 80 78 70 2016 07 12 10 17 35 0430 2064 24 70 78 70 2016 07 12 10 18 05 0430 2065 24 80 78 70 2016 07 12 10 18 35 0430 2066 24 80 78 70 2016 07 12 10 19 05 0430 2067 24 80 78 70 2016 07 12 10 19 35 0430 2068 24 80 78 60 2016 07 12 10 20 05 0430 2069 24 80 78 60 2016 07 12 10 20 35 0430 2070 24 80 78 60 2016 07 12 10 21 05 0430 2071 24 80 78 60 2016 07 12 10 21 35 0430 2072 24 70 78 50 2016 07 12 10 22 06 0430 2073 24 80 78 50 2016 07 12 10 22 36 0430 2074 24 80 78 50 2016 07 12 10 23 06 0430 2075 24 80 78 50 2016 07 12 10 23 36 0430 2076 24 80 78 60 2016 07 12 10 24 06 0430 2077 24 80 78 60 2016 07 12 10 24 36 0430 2078 24 80 78 60 2016 07 12 10 25 07 0430 2079 24 80 78 60 2016 07 12 10 25 37 0430 2080 24 80 78 60 2016 07 12 10 26 07 0430 2081 24 80 78 60 2016 07 12 10 26 37 0430 2082 24 80 78 50 2016 07 12 10 27 07 0430 2083 24 90 78 50 2016 07 12 10 27 37 0430 2084 24 80 78 50 2016 07 12 10 28 07 0430 2085 24 80 78 50 2016 07 12 10 28 38 0430 2086 24 80 78 50 2016 07 12 10 29 08 0430 2087 24 80 78 50 2016 07 12 10 29 38 0430 2088 24 80 78 50 2016 07 12 10 30 08 0430 2089 24 80 78 50 2016 07 12 10 30 38 0430 2090 24 80 78 50 2016 07 12 10 31 08 0430 2091 24 80 78 50 2016 07 12 10 31 38 0430 2092 24 80 78 50 2016 07 12 10 32 08 0430 2093 24 70 78 50 2016 07 12 10 32 38 0430 2094 24 80 78 60 2016 07 12 10 33 08 0430 2095 24 70 78 60 2016 07 12 10 33 39 0430 2096 24 80 78 60 2016 07 12 10 34 09 0430 2097 24 70 78 60 2016 07 12 10 34 39 0430 2098 24 80 78 60 2016 07 12 10 35 09 0430 2099 24 70 78 60 2016 07 12 10 35 39 0430 2100 24 70 78 60 2016 07 12 10 36 09 0430 2101 24 70 78 60 2016 07 12 10 36 40 0430 2102 24 70 78 60 2016 07 12 10 37 10 0430 2103 24 80 78 60 2016 07 12 10 37 40 0430 2104 24 70 78 60 2016 07 12 10 38 10 0430 2105 24 70 78 60 2016 07 12 10 38 40 0430 2106 24 70 78 60 2016 07 12 10 39 10 0430 2107 24 70 78 60 2016 07 12 10 39 40 0430 2108 24 70 78 60 2016 07 12 10 40 10 0430 2109 24 70 78 60 2016 07 12 10 40 40 0430 2110 24 70 78 60 2016 07 12 10 41 11 0430 2111 24 70 78 60 2016 07 12 10 41 41 0430 2112 24 70 78 60 2016 07 12 10 42 11 0430 2113 24 70 78 50 2016 07 12 10 42 41 0430 2114 24 70 78 50 2016 07 12 10 43 11 0430 2115 24 70 78 50 2016 07 12 10 43 41 0430 2116 24 70 78 50 2016 07 12 10 44 11 0430 2117 24 70 78 60 2016 07 12 10 44 41 0430 2118 24 70 78 60 2016 07 12 10 45 11 0430 2119 24 70 78 60 2016 07 12 10 45 41 0430 2120 24 70 78 70 2016 07 12 10 46 11 0430 2121 24 70 78 70 2016 07 12 10 46 42 0430 2122 24 70 78 70 2016 07 12 10 47 12 0430 2123 24 50 78 70 2016 07 12 10 47 42 0430 2124 24 70 78 80 2016 07 12 10 48 12 0430 2125 24 60 78 80 2016 07 12 10 48 42 0430 2126 24 70 78 80 2016 07 12 10 49 12 0430 2127 24 70 78 90 2016 07 12 10 49 42 0430 2128 24 70 78 90 2016 07 12 10 50 12 0430 2129 24 60 78 90 2016 07 12 10 50 43 0430 2130 24 60 78 80 2016 07 12 10 51 13 0430 2131 24 60 78 80 2016 07 12 10 51 43 0430 2132 24 60 78 80 2016 07 12 10 52 13 0430 2133 24 60 78 80 2016 07 12 10 52 43 0430 2134 24 60 78 80 2016 07 12 10 53 13 0430 2135 24 60 78 70 2016 07 12 10 53 43 0430 2136 24 60 78 70 2016 07 12 10 54 13 0430 2137 24 60 78 70 2016 07 12 10 54 43 0430 2138 24 60 78 70 2016 07 12 10 55 13 0430 2139 24 70 78 80 2016 07 12 10 55 43 0430 2140 24 60 78 80 2016 07 12 10 56 13 0430 2141 24 60 78 80 2016 07 12 10 56 44 0430 2142 24 60 78 80 2016 07 12 10 57 14 0430 2143 24 60 78 70 2016 07 12 10 57 44 0430 2144 24 70 78 80 2016 07 12 10 58 14 0430 2145 24 60 78 70 2016 07 12 10 58 44 0430 2146 24 60 78 70 2016 07 12 10 59 14 0430 2147 24 70 78 80 2016 07 12 10 59 44 0430 2148 24 70 78 80 2016 07 12 11 00 14 0430 2149 24 60 78 80 2016 07 12 11 00 44 0430 2150 24 70 78 80 2016 07 12 11 01 15 0430 2151 24 70 78 80 2016 07 12 11 01 45 0430 2152 24 70 78 80 2016 07 12 11 02 16 0430 2153 24 70 78 80 2016 07 12 11 02 47 0430 2154 24 60 78 80 2016 07 12 11 03 21 0430 2155 24 70 78 80 u00a0any idea,0.743352115154
rw950431,there were some others complaining about the same thing i remember but i couldnt find the posting u00a0 there was some talk about downloads timing out internally can you try it at a different time of day to see if the servers are less loaded then u00a0otherwise you may have to use a script to automate calling the api for each 8000 points u00a0 i have some python code i used for a similar service xively that might be useful as an example to write your own,0.749001383781
tceel,thank you i will try it i will be appreciated if you could share your script thank you again,0.979272782803
rw950431,i had some fun getting this to work because of a quirk in the thingspeak api when you specify start end and results parameters you get the last data in the time range rather than the first u00a0https gist github com rw950431 d4118dea9f786a4bdc0fcc860f2cb84e u00a0not overly tested so may break if unusual things happen,0.143477886915
pilnikov,my problem with 3g connection remained unanswered i analyzed the library and found that the problem here if this client print url few messages from uart ts readraw channelnumber xxxxxx readapikey xxxxxxxx urlsuffix fields 1 last connect to api thingspeak com success get channels xxxxxxxxx fields 1 last url failed this line i added myself to the library for specify the problem readraw abort disconnected status u00a0 304 timeout waiting for server to respondcan somebody advise how to solve this this problem is actual only when i using 3g router,0.0161737501621
Vinod,it appears u00a0data transfer using your 3g router is slow enough to cause a timeout tatus u00a0 304 timeout waiting for server to respond u00a0if you are using the library from here https github com mathworks thingspeak arduino try modifying the u00a0timeout_ms_serverresponse value to a larger value in thingspeak h u00a0,0.5
aissam,hello everyone i am using an iot architecture with a raspberry pi and 2 arduinos communicating to each other and with thingspeak over http i want now to use coap in preference coaps wheter between arduino and thingspeak or between raspberry and thingspeak thus i have two questions 1 does thingspeak supports coap 2 if yes how can i use it u00a0thank you guys,0.5
jbeale,i logged into thingspeak and attempted to clear my channel of some random testing data i had sent to it using the below link substituting my actual channel number for xxxxx https thingspeak com channels xxxxx clearbut i just got an error message this is repeatable has anyone else seen this we are sorry but something went wrong please send an email to support thingspeak com if this problem persists,0.0605420470238
jbeale,update i got this to work using a different browser chrome instead of firefox might have been a cookie setting or lack thereof,0.186412662268
lee,hi sometimes our clearing channels process has some problems but we are working on fixing it it probably was not the browser settings lee,0.20428904891
dukbilt,i am currently experiencing u00a0exactly the same issue any update on this,0.100000053644
pilnikov,my 100 working project on esp8266 stops working no tx no rx when i use to access the internet 3g router when internet not ower 3g all fine what protocols are used thingspeak aka udp on my computer with windows10 and chrome connected to the same router the channels open and i can change them u00a0 u00a0i think i need to ask your mobile phone operator to unlock something but what,0.80415636301
HydroponicsMAC,i have been looking for a while how best to log data from a couple of arduino mega which are running my new hydroponics system when i u00a0stumbled across this u00a0site brilliant it does exactly what i need from a really simple arduino api through to cloud logging analytics and alerting via prowl i originally experimented with u00a0logging to a google spreadsheet but there are not any reliable https libraries for the arduino plus it a lot of additional overhead u00a0i also tried logging to an sd card historical data and created a real time website on the arduino to see what is going on real time it worked to a fashion but having to wonder down the garden to get the sd card in the rain and import the csv was a pain what really liked was just how easy this is just identify a few variables include an u00a0ardino library a couple of coffee and it was done time to hit ebay for a few more lan shields to iot my other projects,0.812185108662
Hans,glad that you found us thanks for the feedback and have fun with your projects u00a0,0.987500667572
horiachirculescu,hello how to disable new sign in accounts linux installation 64b,0.883399307728
horiachirculescu,horiachirculescu said hello how to disable new sign in accounts linux installation 64b u00a0 u00a0not a single idea to share,0.860351443291
yangtylor,hello you mean how to disable ign up if so i also u00a0have same question when we u00a0use u00a0thingspeak server among my friends or clients u00a0outsider u00a0sign u00a0up in u00a0is an unfavorable i think u00a0that some u00a0administrators u00a0desire to manage an all accounts,0.78618490696
AYAduino,is there any way to delete a range of data from a channel u00a0for example i have got 200k records in one channel and i want to remove the first 100k in a contiguous date range assuming there no direct way of doing this could i export the data remove those records and then import the clean csv back into thingspeak u00a0would there be any adverse affects maintaining the original timestamp is important or potential gotchas that i need to be aware of thanks brad,0.176792651415
BSB,second this bringing a new sensor on line and know my earlier data on one field is badly skewed would love to be able to easily delete those data points,0.0726701617241
rw950431,there was trouble some time ago but not so much lately http community thingspeak com forum general i can not download my data p1042i would try importing the revised data to a new channel first before i deleted the original channel that way you can u00a0 assure yourself you did not modify anything you did not intend to,0.222223371267
ndinev,here are the steps to reproduce open your channel using tablet or phonego to public or private viewtry to tap edit icon in the title of chartas result chart is deleted u00a0this was working before few months,0.5
Hans,are you able to try this again and confirm this is still happening we made some changes today and i wanted to see if this is still an issue thanks,0.149447381496
ndinev,still reproducible on nexus 7 and motorola phonei turned on visualisation of touches to see if i am doing it ok the buttons are really close for touch interface you may consider to increase distance between buttons u00a0thanks for taking care about this,0.5
Hans,thanks for checking on this we have made a new change to the icons and their spacing can you let me know if this helps on your tablet thanks,0.936818480492
vverheggen,dear hans lee or any other member i made some awsome visualisation gauges of my data but are not able to show them as iframe on my web page according to the iframe information on my page the visualisations are private therefore i went to the gauge script and in the buttom unabled the private view option nevertheless the lock displayed in the plugin overview will not go open u00a0it is unpossible to place the visualisations on my public page or display them in an iframe on my webpage can you please tell me what i am doing wrong see for printscreens u00a0https goo gl photos 7tv5al2eo2171tkfakind regards vincent verheggenmy channel settings are set u00a0set to u00a0public channel https thingspeak com channels 101657,0.5
grido,i have configured 2 are act app and none of them seems to trigger even though the values are beyond the threshold private channel id u00a056140,0.5
grido,ok is someone even looking at this forum i was planning to use thingspeak to monitor elements of my house but i need to a little bit rely on the system i can even help setting up watchdog and heartbeat for your web services if you want u00a0,0.5
Hans,what are you trying to trigger with react are you able to test the parts to see if they work react is up and running for thousands of users so they service is up if you need help with the configuration you need to share your settings u00a0,0.16313034296
aissam,hi i want to ask you if i can interconnect thingspeak with platforms that provide nodes like fit iot lab or wisebed u00a0thanx dear thingspeak community,0.843730390072
kidd8509,i have a question why i can edit only one field the others in unedit state even i selected the checkbox,0.713128507137
Hans,what browser are you using,0.76122045517
kidd8509,it the google chrom the version is 47 0 2526 106 m and also i tried the internet explorer 11 the same result,0.285001277924
oddspin,i want to know how long thingspeak giving clould data retention time for free accounts thanks,0.855902910233
lee,hi we do not delete user data so it will be available until users delete it by clearing or deleting their channel we have data points on our servers going back to 2010 lee,0.147399693727
frazelle09,wow that amazing thanks have a great evening ud83d ude42,0.999165296555
ksnanda,greetings of the day i have a unique requirement where in my channel id should be visible from more than one account how do i go about accomplishing this requirement in thingspeak thank you in advance,0.916384220123
kolban,is there a maximum number of records that can be written to a channel for example if i want to record the light level every 5 minutes and write that to a channel how far back in time can i hope my data to be available,0.839978098869
cherry,i am working on a startup project and i want to use the thingspeak github code and customize it according to my business requirements after customization is it licensed to use it in my production and run in my own cloud setup,0.5
vespapierre,hi i have tried to contact iobridge but have not received any answer i would like to know about licencing in case of using thingspeak on my own server using features thinghttp react and the main functions do you have licence fee can you give support for the install what are the requirements on the hw side thanks,0.87548160553
lee,hi thanks for your request we also received your email hans from iobridge will follow up with you lee,0.965841293335
vespapierre,great to hear this thanks,0.999008774757
vespapierre,hi i have not received any answer can you contact me please thanks a lot,0.914488494396
Hans,sorry we had a lot of licenses inquires and i thought i got to yours following up now,0.175841003656
wyung,hi hans i am interested finding out the licensing detail can you please provide information to me as well,0.930088639259
Michel_J,does anyone know how to post code block on this forum is there any special syntax i tried to post a piece of code containing some backslash like the ones for carriage return line feed and the were converted to real carriage return line feed,0.26229095459
georg9959,why am i being asked for my mathworks login and password my account is sensitive i do not trust entering my credentials on thingspeak great now tingspeak can see my mathworks password havent you guys ever heardof oauth if thingspeak is part of mathworks does mathworks even take security seriously i am trusting to enter mathworks password on mathworks domain not thingspeak,0.751557946205
Hans,hi u2013 thanks for raising this question mathworks and thingspeak have a collaboration to provide hosting of thingspeak on mathworks network we and mathworks have worked to secure your thingspeak and mathworks account and data the use of a mathworks account is optional you can choose to use a thingspeak com account as an alternative,0.970728039742
Fat,hello recently i can not view the channel location on my personal channel and to the channels of other users in my channel the longitude and latitude parameters are filled and fixed when i copy and paste the link contained in the tags iframe it appears correctly only in thingspeak com it is not loaded into the default iframes someone has the same problem or can help thank you,0.308315396309
lee,hi the channels appear fine on our side is it possibly you installed a new browser extension that is blocking some http requests can you try viewing your channel with another browser lee,0.831665575504
Fat,hi lee the problem occurs when i use firefox win7 mac linux safari mac ipad or chrome win7 without blocking extensions maybe is the browser version because some friends told me that sometimes the map appears sometimes not i will check this issue using others systems too thanks for your help if you want please close this topic,0.780764222145
gabrielb,hi i m building and application that has 1 channel and uses all 8 fields however fields get updated by 4 different devices each updates 2 fields specifically no 2 devices update the same fields the update rate is almost 1 minute for all devices sometimes 1 30 i am loosing some data points i thought it was because of the update rate but im well over the 15 second limit im thinking at some point the devices sync and all 4 try to post at the same time ive only tested my application with 2 devices and its already loosing data i think when i put the other 4 things will get worse thanks g,0.5
lee,hi yes it would make sense that the data would not be saved if the devices attempted to post within 15 seconds of each other i would suggest that you separate your application into four channels one for each device lee,0.74714422226
alatza,hello everyone we are working on the development of a home device using esp8266 we are looking for an iot cloud service system that could handle all the future users our devices may have is it possible to install a thingspeak server in a cloud computing like aws and handle all the accesses from our customers devices is this system able of that if lets say we sell hundreds or thousands i hope units each of our customers must be able to configure each device and operate them through our system having their login dashboard etc some of them having more than one device if a thingspeak server is not why we should be looking for could you please point a professional iot service we could use instead thank you very much,0.5
lee,hi yes it is possible to install a private installation of thingspeak and have customers that can be administered via an admin interface this system would support hundreds or thousands of devices if it was installed on the correct hardware each customer would be able to perform any action that a thingspeak user can except for the thingspeak apps they are not available in the open source version lee,0.5
alatza,thank you lee i will start playing with ts then,0.960427880287
gabrielb,hi how fast can we read back info from a channel for example https thingspeak com channels 47445 feeds results 1 its not quite clear on the documentation i want to write code to act as real time as possible on data from multiple channels so if i wanted to get data from all 8 fields on 10 channels as with the get above how fast often can i poll the channel think of a micro controller stuck in a loop doing get commands getting the info from channels 1 to 10 sequentially thanks g,0.5
lee,hi we have never explicitly defined any limits on this but i would recommend polling once per second or at any slower frequency lee,0.797805309296
gabrielb,hi lee i think 1 second is way more than i need i love this place o much room for activities thanks,0.939820945263
gabrielb,hi all first post here i have developed a thing to monitor my room temp and humidity updates every 30 seconds just to see if that resolution was possible ive noticed that every 1 or 2 hours data is not uploaded for about 20 minutes each time sometimes its once an hour it looses data others its once every 2 hours and the period it looses data is from 1 minute up to 20 20 minute blackouts reoccurring every hour is the most frequent scenario in the grand scheme of things this is not relevant but if further down the line i lower my data rate i fear i might lose and important event datapoint is this normal for other users im trying to see if this is on my side or thingspeak setup is with a pic and an esp8266 maybe thats why thanks g,0.21151971817
lee,hi i would suggest investigating the issue on your side further the thingspeak servers all seem fine and we have not seen any recent problems with uptime or data loss lee,0.102546781301
gabrielb,hi lee thanks for your reply is there a busy response from your servers at any point,0.5
lee,hi no you should not be receiving a busy response from the thingspeak servers so i am guessing that the problem is somewhere on your local network lee,0.744034051895
gabrielb,well this issue is resolved its a esp8266 problem every so often it locks up and you have to make it hard reset or you stay locked up for however long it decides minutes hours its on the web google esp8266 busy p or esp8266 busy s thanks for your help g,0.0919404625893
Cyn,am i thinking about this wrong my android phone updates thingspeak with various commands based on it location the netduino is asking thingspeak every minute to see if it needs to do anything this seems very inefficient to me and i think thingspeak should be telling the netduino to do something is there a command protocol i am missing can someone point me in the right direction i can not believe the nest is constantly asking if the temperature should be changed thanks,0.0895489752293
lee,hi you are correct in that the current model is for clients to pull data from thingspeak we do not have any push mechanisms implemented for device control but may add push capabilities in the future lee,0.806634902954
Cyn,thanks for the push hint,0.972249686718
Jabberwock,i want to use thingspeak to record my mileage from exercise bike used for pc racing i have two questions 1 for various reasons i would rather not accumulate the data in the microcontroler or my pc that is why i am not sending a daily sum of kilometers but rather impulse for each kilometer am i correct in thinking that there is no way to tell thingspeak such data should be added together for a daily result 2 if i am right about 1 then i would like at least to use a chart that would show me the daily sum however i cannot seem to be able to configure the charts in this way the parameter would aily as described in the documentation is missing from the chart setup dialog window can i configure it differently,0.5
lee,hi 1 you can use the um parameter with a value of 1440 minutes in a day to get this result for example https thingspeak com channels 12370 fields 1 json sum 1440 days 3 round 2 2 similarly in your chart you can set the um to 1440 to view this data https thingspeak com channels 12370 charts 1 sum 1440 days 3 round 2 width 800 height 400 lee,0.5
Hans,https github com iobridge thingspeak,0.5
nicoverduin,i have been trying to get something to work on windows7 with no luck however is n there a full installation set i can just copy in one of my subdomains change the database into a clean and done,0.13576644659
lee,hi i do not currently know of any way to install a ruby rails application that easily i will think about how we may better provide a ready to go solution in the future lee,0.953850030899
hank4stmb,lee being a complete noob to ruby and git how difficult would it be to upgrade a local copy of thingspeak with the latest github version without clobbering our users data if it not too difficult would you be willing to provide a how to for linux users thanks henry,0.233320623636
lee,hi henry we just added instructions to update thingspeak at the bottom of the page here https github com iobridge thingspeak you should not have any problems with losing data lee,0.247464388609
jeovanevs,have anyone installed the server on ubuntu 14 04 i m having some problems with rubi and rvm and i would like to know if someone installed the server without any problem thanks,0.185057640076
jeovanevs,jeovanevs said have anyone installed the server on ubuntu 14 04 i m having some problems with rubi and rvm and i would like to know if someone installed the server without any problem thanks it works now solutions found at https github com seattlerb zentest issues 30rvm install ruby 2 1 0rvm default use 2 1 0if rubygems does not install try this sudo apt get install rubygems integration,0.203557342291
ardiono,hi there i just installed thingspeak server on my ubuntu 14 lts server and successfully running using these console commands from root cd thingspeakrails server binding xxx xxx xxx xxx port 80but when i try to add to rc local those command i got this error usr local lib ruby 2 2 0 rubygems dependency rb 315 in to_specs could not find railties 0 among 12 total gem s gem loaderror checked in gem_path usr local rvm gems ruby 2 1 0 usr local rvm gems ruby 2 1 0 global execute gem env for more information from usr local lib ruby 2 2 0 rubygems dependency rb 324 in to_spec from usr local lib ruby 2 2 0 rubygems core_ext kernel_gem rb 64 in gem from usr local bin rails 22 in omeone can help me or give an advice,0.5
rw950431,most likely is something missing different in the environment variables when running from rc localtry runningenv tmp env txtfrom rc local and compare it to the output of env in your terminalif that doesnt help try the same thing with gem env there is also this link https askubuntu com questions 660523 run a ruby program on startup,0.5
zarzaid,good day everyone i have managed to setup a standalone server for thingspeak https github com iobridge thingspeak unfortunately i have found an error in the ruby on rails code shown in the attachments the problem occur whenever i tried to remove a channel using the would elete channel button on the channel setting page therefore i would like to ask if anyone already have a fix for this error and please guide me to solve the problem your cooperation is truly appreciated,0.0879665315151
tceel,hi guysexcuse me for my english i am a newbie to linux and i tried to install thingspeak api on ubuntu 16 04 according to github i must install ruby 2 1 4 but when i do that i got this error when install railsactivesupport requires ruby version 2 2 2 so i tried to install ruby 2 2 2 and with that rails installation is successfultceel tceel ruby 2 2 2 cd tceel tceel echo gem no rdoc no ri home gemrctceel tceel sudo gem install railssuccessfully installed rails 5 0 01 gem installedand now when i want to install thingspeak i got this error tceel tceel cd thingspeaktceel tceel thingspeak bundle installfetching gem metadata from http rubygems org fetching version metadata from http rubygems org fetching dependency metadata from http rubygems org using rake 10 3 2using zentest 4 11 0using i18n 0 6 11using minitest 4 7 5using multi_json 1 10 1using thread_safe 0 3 4using tzinfo 0 3 41using builder 3 1 4using erubis 2 7 0using rack 1 5 2using mime types 1 25 1using polyglot 0 3 5using sass 3 2 19using thor 0 19 1using coffee script source 1 8 0using execjs 2 2 1using activerecord deprecated_finders 1 0 3using arel 4 0 2using bundler 1 12 5using hike 1 2 3using tilt 1 4 1using addressable 2 3 6using bcrypt 3 1 7using buftok 0 2 0using highline 1 6 21using net ssh 2 9 1using chronic 0 10 2using cookiejar 0 3 2using daemons 1 1 9using dalli 2 7 2using database_cleaner 1 2 0using orm_adapter 0 5 0using diff lcs 1 2 5using dynamic_form 1 1 4using json 1 8 1using thread 0 1 4installing eventmachine 1 0 3 with native extensionsgem ext builderror error failed to build gem native extension u00a0 u00a0 u00a0 usr local bin ruby r siteconf20160729 27363 130d3fj rb extconf rbchecking for rb_trap_immediate in ruby h rubysig h nochecking for rb_thread_blocking_region nochecking for inotify_init in sys inotify h yes compiling kb cppcompiling em cppem cpp in member function u2018void eventmachine_t _runepollonce u2019 em cpp 574 37 error u2018rb_thread_select u2019 was not declared in this scope u00a0 u00a0 emselect 0 null null null tv u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 em cpp in member function u2018int selectdata_t _select u2019 em cpp 827 67 error u2018rb_thread_select u2019 was not declared in this scope u00a0 return emselect maxsocket 1 fdreads fdwrites fderrors tv u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 em cpp in member function u2018void eventmachine_t _runselectonce u2019 em cpp 946 40 error u2018rb_thread_select u2019 was not declared in this scope u00a0 u00a0 u00a0 u00a0 u00a0 emselect 0 null null null tv u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 makefile 229 recipe for target em o failedmake em o error 1make failed exit code 2gem files will remain installed in tmp bundler20160729 27363 z2ysnweventmachine 1 0 3 gems eventmachine 1 0 3 for inspection results logged to tmp bundler20160729 27363 z2ysnweventmachine 1 0 3 extensions x86 linux 2 2 0 static eventmachine 1 0 3 gem_make outusing http_parser rb 0 6 0using simple_oauth 0 2 0using equalizer 0 0 9using multipart post 2 0 0using gravatarify 3 1 1using slop 3 6 0using tins 1 3 3using terminal table 1 4 5using rspec core 2 14 8using rspec mocks 2 14 6using kgio 2 9 2using libv8 3 16 14 7using mini_portile 0 6 0using mono_logger 1 1 0using mysql2 0 3 16using naught 1 0 0using nested_form 0 3 2using newrelic_rpm 3 9 5 251using non stupid digest assets 1 0 4using oauth 0 4 7using redis 3 1 0using ref 1 0 5using simplificator rwebthumb 0 3 4 from git github com simplificator rwebthumb git at master dbd96a6 using spork 0 9 2using sqlite3 1 3 9using will_paginate 3 0 7using autotest 4 4 6using autotest rails 4 2 1using faker 1 4 3using geokit 1 9 0using memoizable 0 4 2using activesupport 4 0 5using rufus scheduler 2 0 24using tzinfo data 1 2013 8using rack test 0 6 2using warden 1 2 3using puma 2 9 1using rack protection 1 5 3using rack utf8_sanitizer 1 2 2using vegas 0 1 11using treetop 1 4 15using bourbon 3 2 3using coffee script 2 3 0using sprockets 2 11 0using net scp 1 2 1using net sftp 2 1 2using net ssh gateway 1 2 0using rspec expectations 2 14 5using uglifier 2 5 3using easy_translate 0 5 0an error occurred while installing eventmachine 1 0 3 and bundler cannotcontinue make sure that gem install eventmachine v 1 0 3 succeeds before bundling tceel tceel thingspeak please help,0.5
tceel,i am waiting for your replyplease help mehow i can get rid of this error u00a0 u00a0 an error occurred while installing eventmachine 1 0 3 and bundler cannotcontinue make sure that gem install eventmachine v 1 0 3 succeeds before bundling,0.248608410358
rw950431,it appears that this version of eventmachine has a problems u00a0 see https github com eventmachine eventmachine issues 509particularly this mindaslab this error seems to be from eventmachine 1 0 3 which might be defined in your bundle gemfile gemfile lock from skimming this ticket i think 1 0 3 is known to not work and 1 0 4 appears to fix this did you try updating to a more recent version at the time of writing 1 0 7 is the current version if you are using bundler you can try bundle update eventmachine which will only change eventmachine and if neccessary its dependencies,0.149853497744
tceel,thank you rw950431 that error was solved but unfortunately another error has been occurrednow for rake db create i got this error tceel tceel thingspeak rake db createrake aborted gem loaderror you have already activated rake 10 4 2 but your gemfile requires rake 10 3 2 prepending bundle exec to your command may solve this home tceel thingspeak config boot rb 8 in top required home tceel thingspeak config application rb 1 in top required home tceel thingspeak rakefile 4 in top required see full trace by running task with trace tceel tceel thingspeak and when i use bundle exec rake db create i got another error u00a0 tceel tceel thingspeak bundle exec rake db create usr local lib ruby gems 2 2 0 gems activesupport 4 0 5 lib active_support values time_zone rb 283 warning circular argument reference nowrake aborted bundler gemrequireerror there was an error while trying to load the gem mysql2 gem load error is uninitialized constant mysql2 client secure_connectionbacktrace for gem load error is usr local lib ruby gems 2 2 0 gems mysql2 0 3 16 lib mysql2 client rb 12 in class client usr local lib ruby gems 2 2 0 gems mysql2 0 3 16 lib mysql2 client rb 2 in module mysql2 usr local lib ruby gems 2 2 0 gems mysql2 0 3 16 lib mysql2 client rb 1 in top required usr local lib ruby gems 2 2 0 gems mysql2 0 3 16 lib mysql2 rb 10 in require usr local lib ruby gems 2 2 0 gems mysql2 0 3 16 lib mysql2 rb 10 in top required usr local lib ruby gems 2 2 0 gems bundler 1 12 5 lib bundler runtime rb 86 in require usr local lib ruby gems 2 2 0 gems bundler 1 12 5 lib bundler runtime rb 86 in block 2 levels in require usr local lib ruby gems 2 2 0 gems bundler 1 12 5 lib bundler runtime rb 81 in each usr local lib ruby gems 2 2 0 gems bundler 1 12 5 lib bundler runtime rb 81 in block in require usr local lib ruby gems 2 2 0 gems bundler 1 12 5 lib bundler runtime rb 70 in each usr local lib ruby gems 2 2 0 gems bundler 1 12 5 lib bundler runtime rb 70 in require usr local lib ruby gems 2 2 0 gems bundler 1 12 5 lib bundler rb 102 in require home tceel thingspeak config application rb 5 in top required home tceel thingspeak rakefile 4 in require home tceel thingspeak rakefile 4 in top required usr local lib ruby gems 2 2 0 gems rake 10 3 2 lib rake rake_module rb 28 in load usr local lib ruby gems 2 2 0 gems rake 10 3 2 lib rake rake_module rb 28 in load_rakefile usr local lib ruby gems 2 2 0 gems rake 10 3 2 lib rake application rb 687 in raw_load_rakefile usr local lib ruby gems 2 2 0 gems rake 10 3 2 lib rake application rb 94 in block in load_rakefile usr local lib ruby gems 2 2 0 gems rake 10 3 2 lib rake application rb 176 in standard_exception_handling usr local lib ruby gems 2 2 0 gems rake 10 3 2 lib rake application rb 93 in load_rakefile usr local lib ruby gems 2 2 0 gems rake 10 3 2 lib rake application rb 77 in block in run usr local lib ruby gems 2 2 0 gems rake 10 3 2 lib rake application rb 176 in standard_exception_handling usr local lib ruby gems 2 2 0 gems rake 10 3 2 lib rake application rb 75 in run usr local bin rake 33 in top required usr local lib ruby gems 2 2 0 gems bundler 1 12 5 lib bundler cli exec rb 63 in load usr local lib ruby gems 2 2 0 gems bundler 1 12 5 lib bundler cli exec rb 63 in kernel_load usr local lib ruby gems 2 2 0 gems bundler 1 12 5 lib bundler cli exec rb 24 in run usr local lib ruby gems 2 2 0 gems bundler 1 12 5 lib bundler cli rb 304 in exec usr local lib ruby gems 2 2 0 gems bundler 1 12 5 lib bundler vendor thor lib thor command rb 27 in run usr local lib ruby gems 2 2 0 gems bundler 1 12 5 lib bundler vendor thor lib thor invocation rb 126 in invoke_command usr local lib ruby gems 2 2 0 gems bundler 1 12 5 lib bundler vendor thor lib thor rb 359 in dispatch usr local lib ruby gems 2 2 0 gems bundler 1 12 5 lib bundler vendor thor lib thor base rb 440 in start usr local lib ruby gems 2 2 0 gems bundler 1 12 5 lib bundler cli rb 11 in start usr local lib ruby gems 2 2 0 gems bundler 1 12 5 exe bundle 27 in block in top required usr local lib ruby gems 2 2 0 gems bundler 1 12 5 lib bundler friendly_errors rb 98 in with_friendly_errors usr local lib ruby gems 2 2 0 gems bundler 1 12 5 exe bundle 19 in top required usr local bin bundle 23 in load usr local bin bundle 23 in main bundler error backtrace home tceel thingspeak config application rb 5 in top required home tceel thingspeak rakefile 4 in require home tceel thingspeak rakefile 4 in top required nameerror uninitialized constant mysql2 client secure_connection home tceel thingspeak config application rb 5 in top required home tceel thingspeak rakefile 4 in require home tceel thingspeak rakefile 4 in top required see full trace by running task with trace tceel tceel thingspeak please help me again,0.806519031525
rw950431,googling the error message gives this thread on stackoverflowhttps stackoverflow com questions 27296856 rake or any other rake command not working properly,0.121559053659
tceel,dear friend i saw that thread before but it does not help me still get this error tceel tceel thingspeak rake db create usr local lib ruby gems 2 2 0 gems activesupport 4 0 5 lib active_support values time_zone rb 283 warning circular argument reference nowrake aborted bundler gemrequireerror there was an error while trying to load the gem mysql2 gem load error is uninitialized constant mysql2 client secure_connectionbacktrace for gem load error is getting crazy,0.0684768855572
rw950431,search the internet for the error message someone probably had the same problem,0.045239418745
Vinod,if you are a newbie u00a0or even an experienced developer i would recommend you use http www thingspeak com you do not need to install your local instance of the code to use http www thingspeak com,0.892311096191
tceel,dear u00a0rw950431 u00a0i searched the web but without any success u00a0dear vinod thank you for your reply but i need a standalone server that i can host it on a dedicated domain is there someone here to help me to fix this error any suggestion can be appreciated,0.824519515038
ambre00fr,i am trying the same thing my last attempt is via https gorails com setup ubuntu 16 04 tutorial but have not finished yet i will continue tomorrow,0.5
rw950431,perhaps this https github com brianmario mysql2 issues 603 seems you need just the right combination of versions of rails and mysql2 gem,0.241744399071
tceel,dear rw950431 thank you again for your help my rails version is 4 2 6 and i set up mysql u00a0 version 5 7 13 with sudo apt get install mysql server mysql client libmysqlclient devbut still get the same error when i run this command mysql vi got this error 1045 28000 access denied for user tceel localhost using password no could this be associated with the error that i have got that error make me crazy but fortunately i do not lose my hopedear ambre00fr tell me about your installation process do you proceed it successfully,0.0634136497974
tceel,up,0.82877266407
zaphod_beeblebrox,hello guys i would also u00a0appreciate a tutorial or even a statement that it works with 16 04 i have been working on this since a week or so but can not get it running u00a0current issues u00a0 usr src thingspeak bundle exec rake db create usr local rvm gems ruby 2 1 0 thingspeak gems activesupport 4 0 5 lib active_support values time_zone rb 283 warning circular argument reference nowrake aborted bundler gemrequireerror there was an error while trying to load the gem are sque_scheduler multijson adaptererror did not recognize your adapter specification incompatible library version usr local rvm gems ruby 2 1 0 thingspeak gems json 1 8 1 lib json ext parser so loaderror incompatible library version usr local rvm gems ruby 2 1 0 thingspeak gems json 1 8 1 lib json ext parser so see full trace by running task with trace u00a0and usr src thingspeak rails server webrick usr local rvm gems ruby 2 1 0 thingspeak gems activesupport 4 0 5 lib active_support values time_zone rb 283 warning circular argument reference now usr lib ruby vendor_ruby bundler runtime rb 80 in rescue in block 2 levels in require there was an error while trying to load the gem are sque_scheduler bundler gemrequireerror from usr lib ruby vendor_ruby bundler runtime rb 76 in block 2 levels in require from usr lib ruby vendor_ruby bundler runtime rb 72 in each from usr lib ruby vendor_ruby bundler runtime rb 72 in block in require from usr lib ruby vendor_ruby bundler runtime rb 61 in each from usr lib ruby vendor_ruby bundler runtime rb 61 in require from usr lib ruby vendor_ruby bundler rb 99 in require from usr src thingspeak config application rb 5 in top required from usr local rvm gems ruby 2 1 0 thingspeak gems railties 4 0 5 lib rails commands rb 74 in require from usr local rvm gems ruby 2 1 0 thingspeak gems railties 4 0 5 lib rails commands rb 74 in block in top required from usr local rvm gems ruby 2 1 0 thingspeak gems railties 4 0 5 lib rails commands rb 71 in tap from usr local rvm gems ruby 2 1 0 thingspeak gems railties 4 0 5 lib rails commands rb 71 in top required from bin rails 4 in require from bin rails 4 in main u00a0to be honest i only need the rest api all the visualization stuff is done be another web application i developed but the functionality of the api is very useful for me and it does a very good work creation of channels etc u00a0thanks best matthias,0.259048700333
zaphod_beeblebrox,after some real pita config stuff i managed to get it running on 16 04 with the newest gems my last issue is the access from the internet i can only connect from localhost i do not know how to change this u00a0 u00a0 thingspeak rails server webrick booting webrick rails 4 2 7 1 application starting in development on http localhost 3000 run rails server h for more startup options ctrl c to shutdown server 2016 08 26 14 06 01 info webrick 1 3 1 2016 08 26 14 06 01 info ruby 2 3 1 2016 04 26 x86_64 linux gnu 2016 08 26 14 06 01 info webrick httpserver start pid 15374 port 3000netstat netstat l active internet connections only servers proto recv q send q local address foreign address state tcp 0 0 localhost mysql listen tcp 0 0 ssh listen tcp 0 0 localhost 3000 listen tcp6 0 0 http listen tcp6 0 0 ssh listen udp 0 0 bootpc u00a0the installation was done on an amazon ec2 instance therefore the internal eth0 ip is different from the internet ip may this cause the issue u00a0helpfull stuff https gist github com marconilab f9f49cc473fa78ecfa72https github com iobridge thingspeak issues 43 u00a0best matthias,0.5
zaphod_beeblebrox,i have changed from webrick to puma now i can connect u00a0 thingspeak bundle exec pumapuma starting in single mode version 3 6 0 ruby 2 3 1 p112 codename sleepy sunday serenity min threads 0 max threads 16 environment development listening on tcp 0 0 0 0 9292 u00a0mabee this helps someone else u00a0best matthias,0.5
zaphod_beeblebrox,dudes i do not get it working check yourself http ec2 52 29 129 34 eu central 1 compute amazonaws com 9292 static pages work finehttp ec2 52 29 129 34 eu central 1 compute amazonaws com 9292 docs u00a0but when it comes to some interaction fail http ec2 52 29 129 34 eu central 1 compute amazonaws com 9292 users sign_up u00a0maybe someone experienced in ruby stuff knows what to do i do not ud83d ude41,0.5
zaphod_beeblebrox,can anybody help or at least comment please,0.856882095337
zarzaid,i have posted a tutorial step video however i tried this on vmware ubuntu 16 04 must do the exact steps hope it helps,0.929853737354
segepe,hi therei have some problems with my installation on a raspberry pi with jessie thingspeak starts ok but after a few hours it close down thanks in advance for your helpthis is a part of the log u00a0file 12 28 16 12 18 11 0100 thingspeak 10696 info starting the new relic agent in would evelopment environment 12 28 16 12 18 11 0100 thingspeak 10696 info to prevent agent startup add a newrelic_agent_enabled false environment variable or modify the would evelopment section of your newrelic yml 12 28 16 12 18 11 0100 thingspeak 10696 warn no configuration file found working directory home pi thingspeak 12 28 16 12 18 11 0100 thingspeak 10696 warn looked in these locations based on defaults home pi thingspeak config newrelic yml home pi thingspeak newrelic yml home pi thingspeak config newrelic yml home pi thingspeak newrelic yml home pi newrelic newrelic yml home pi newrelic yml 12 28 16 12 18 11 0100 thingspeak 10696 info environment development 12 28 16 12 18 11 0100 thingspeak 10696 info dispatcher webrick 12 28 16 12 18 11 0100 thingspeak 10696 info application development 12 28 16 12 18 11 0100 thingspeak 10696 warn no license key found this often means your newrelic yml file was not found or it lacks a section for the running environment would evelopment 12 28 16 12 18 12 0100 thingspeak 10696 info installing net instrumentation 12 28 16 12 18 12 0100 thingspeak 10696 info installing resque instrumentation 12 28 16 12 18 12 0100 thingspeak 10696 info installing rails 3 middleware instrumentation 12 28 16 12 18 12 0100 thingspeak 10696 info installing dalli memcache instrumentation 12 28 16 12 18 12 0100 thingspeak 10696 info installing activerecord 4 instrumentation 12 28 16 12 18 12 0100 thingspeak 10696 info installing deferred rack instrumentation 12 28 16 12 18 12 0100 thingspeak 10696 info installing rack builder middleware instrumentation 12 28 16 12 18 12 0100 thingspeak 10696 info installing rails 4 view instrumentation 12 28 16 12 18 12 0100 thingspeak 10696 info installing rails 4 error instrumentation 12 28 16 12 18 12 0100 thingspeak 10696 info installing rails 4 controller instrumentation 12 28 16 12 18 12 0100 thingspeak 10696 info finished instrumentation 12 28 16 12 18 18 0100 thingspeak 10696 info doing deferred dependency detection before rack startup 12 28 16 12 18 24 0100 thingspeak 10696 error invalid license key please contact support newrelic com 12 28 16 12 18 24 0100 thingspeak 10696 error visit newrelic com to obtain a valid license key or to upgrade your account u00a0ps u00a0got help in raspberry pi section so ignore thisthanks,0.5
roan861,hello my thingspeak server is installed as ror app howto install configure thingspeak with nginx passenger,0.762435793877
venkat0249,hello is it possible to install thingspeak application in a share webhosting which runs on ruby on rails for example i found a webhosting company which can support ruby on rails apps https www guebs com hosting thanks in advance ud83d ude42,0.5
venkat0249,can someone reply this,0.285502135754
Vinod,in general i would recommend using the capability on http www thingspeak com instead trying to host u00a0your own instance of the code if you are referring to the data collection server on github i am not aware of anyone who has hosted it on a http www guebs com also note that the source code on github u00a0does not have all of the functionality such as matlab analysis and matlab visualizations or several improvements and bug fixes,0.5
thingspeak_sc,hi i have thingspeak currently running on a unbuntu 14 04 lts server u00a0the google maps view on the channel dashboard is not working because the google api key is not set an javascript missingkeymaperror showed u00a0in the log where could u00a0the api key of google maps be specified u00a0thanks peter,0.5
tceel,hello dear friendsexcuse me for my english i have a linux host cent os with cpanel control panel and i wish to install thingspeak api on it unfortunately i u2019m a newbie and i don u2019t know where to start i searched the web but i do not find any simple method please help me u00a0,0.140896975994
R,by thingspeak api if you mean the thingspeak server installation then you can go through the below urls both are helpful http angryelectron com how to install a thingspeak server http www teracom cc how to install local thingspeak server,0.846683263779
tceel,dear r thank you for your reply i ask my question in another form i have my personal website and i wish to install thingspeak api on it all of the instruction that i found on the web are for rpi or install on local host i u00a0need a website like thingspeak but on my personal domain and host i hope i convey the concept,0.829081118107
R,hi after struggling with installation for almost 2 days thingspeak server installation was successful in ubuntu 14 04 with mysql when i started the server i got the below message booting puma rails 4 0 5 application starting in development on http 10 1 6 173 3000 run rails server h for more startup options ctrl c to shutdown serverpuma 2 9 1 starting min threads 0 max threads 16 environment development listening on tcp 10 1 6 173 3000but when i tried to access via browser http 10 1 6 173 3000 i get page timed out the machine is accessible via network and was able to connect using putty since i am a newbie to ubuntu rails ts can somebody please point me to where to look at and possible reasons for this u00a0thanks in advance ravi,0.5
R,finally i found out the root cause with the help of a colleague my bad port 3000 was not opened after opening the port now i am able to navigate to the application pages via browser u00a0thanks u00a0,0.15359711647
simonvo,hi i got problem during start the thingspeak server pls advice the issue details below thanksroot thingspeak usr local thingspeak rails server e production p 3001 b localhost booting puma rails 4 0 3 application starting in production on http thingspeak easytherm co uk 3001 run rails server h for more startup options ctrl c to shutdown serverexiting usr local thingspeak app models user_session rb 1 in uninitialized constant authlogic nameerror from var lib gems 2 0 0 gems railties 4 0 3 lib rails engine rb 465 in block 2 levels in eager_load from var lib gems 2 0 0 gems railties 4 0 3 lib rails engine rb 464 in each from var lib gems 2 0 0 gems railties 4 0 3 lib rails engine rb 464 in block in eager_load from var lib gems 2 0 0 gems railties 4 0 3 lib rails engine rb 462 in each from var lib gems 2 0 0 gems railties 4 0 3 lib rails engine rb 462 in eager_load from var lib gems 2 0 0 gems railties 4 0 3 lib rails engine rb 347 in eager_load from var lib gems 2 0 0 gems railties 4 0 3 lib rails application finisher rb 56 in each from var lib gems 2 0 0 gems railties 4 0 3 lib rails application finisher rb 56 in block in from var lib gems 2 0 0 gems railties 4 0 3 lib rails initializable rb 30 in instance_exec from var lib gems 2 0 0 gems railties 4 0 3 lib rails initializable rb 30 in run from var lib gems 2 0 0 gems railties 4 0 3 lib rails initializable rb 55 in block in run_initializers from usr lib ruby 2 0 0 tsort rb 150 in block in tsort_each from usr lib ruby 2 0 0 tsort rb 183 in block 2 levels in each_strongly_connected_component from usr lib ruby 2 0 0 tsort rb 219 in each_strongly_connected_component_from from usr lib ruby 2 0 0 tsort rb 182 in block in each_strongly_connected_component from usr lib ruby 2 0 0 tsort rb 180 in each from usr lib ruby 2 0 0 tsort rb 180 in each_strongly_connected_component from usr lib ruby 2 0 0 tsort rb 148 in tsort_each from var lib gems 2 0 0 gems railties 4 0 3 lib rails initializable rb 54 in run_initializers from var lib gems 2 0 0 gems railties 4 0 3 lib rails application rb 215 in initialize from var lib gems 2 0 0 gems railties 4 0 3 lib rails railtie configurable rb 30 in method_missing from usr local thingspeak config environment rb 21 in from usr local thingspeak config ru 3 in block in from var lib gems 2 0 0 gems rack 1 5 2 lib rack builder rb 55 in instance_eval from var lib gems 2 0 0 gems rack 1 5 2 lib rack builder rb 55 in initialize from usr local thingspeak config ru in new from usr local thingspeak config ru in from var lib gems 2 0 0 gems rack 1 5 2 lib rack builder rb 49 in eval from var lib gems 2 0 0 gems rack 1 5 2 lib rack builder rb 49 in new_from_string from var lib gems 2 0 0 gems rack 1 5 2 lib rack builder rb 40 in parse_file from var lib gems 2 0 0 gems rack 1 5 2 lib rack server rb 277 in build_app_and_options_from_config from var lib gems 2 0 0 gems rack 1 5 2 lib rack server rb 199 in app from var lib gems 2 0 0 gems railties 4 0 3 lib rails commands server rb 48 in app from var lib gems 2 0 0 gems rack 1 5 2 lib rack server rb 314 in wrapped_app from var lib gems 2 0 0 gems railties 4 0 3 lib rails commands server rb 75 in start from var lib gems 2 0 0 gems railties 4 0 3 lib rails commands rb 76 in block in from var lib gems 2 0 0 gems railties 4 0 3 lib rails commands rb 71 in tap from var lib gems 2 0 0 gems railties 4 0 3 lib rails commands rb 71 in from script rails 6 in require from script rails 6 in,0.5
lee,hi you may have to make sure the bundle install command works successfully before running your server lee,0.870090842247
xmflsct,i have the same problem while trying to run it in a production environment development mode is fine though,0.222010463476
hrko,hello i have successfully installed thingspeak as a ror app i can access it on the web but if i run it using apache passenger i am getting this error u00a0uninitialized constant authlogic nameerror var www iot thingspeak app models user_session rb 1 in top required var lib gems 2 1 0 gems railties 4 0 5 lib rails engine rb 465 in block 2 levels in eager_load var lib gems 2 1 0 gems railties 4 0 5 lib rails engine rb 464 in each var lib gems 2 1 0 gems railties 4 0 5 lib rails engine rb 464 in block in eager_load var lib gems 2 1 0 gems railties 4 0 5 lib rails engine rb 462 in each var lib gems 2 1 0 gems railties 4 0 5 lib rails engine rb 462 in eager_load var lib gems 2 1 0 gems railties 4 0 5 lib rails engine rb 347 in eager_load var lib gems 2 1 0 gems railties 4 0 5 lib rails application finisher rb 56 in each var lib gems 2 1 0 gems railties 4 0 5 lib rails application finisher rb 56 in block in module finisher var lib gems 2 1 0 gems railties 4 0 5 lib rails initializable rb 30 in instance_exec var lib gems 2 1 0 gems railties 4 0 5 lib rails initializable rb 30 in run var lib gems 2 1 0 gems railties 4 0 5 lib rails initializable rb 55 in block in run_initializers usr lib ruby 2 1 0 tsort rb 226 in block in tsort_each usr lib ruby 2 1 0 tsort rb 348 in block 2 levels in each_strongly_connected_component usr lib ruby 2 1 0 tsort rb 427 in each_strongly_connected_component_from usr lib ruby 2 1 0 tsort rb 347 in block in each_strongly_connected_component usr lib ruby 2 1 0 tsort rb 345 in each usr lib ruby 2 1 0 tsort rb 345 in call usr lib ruby 2 1 0 tsort rb 345 in each_strongly_connected_component usr lib ruby 2 1 0 tsort rb 224 in tsort_each usr lib ruby 2 1 0 tsort rb 205 in tsort_each var lib gems 2 1 0 gems railties 4 0 5 lib rails initializable rb 54 in run_initializers var lib gems 2 1 0 gems railties 4 0 5 lib rails application rb 215 in initialize var lib gems 2 1 0 gems railties 4 0 5 lib rails railtie configurable rb 30 in method_missing var www iot thingspeak config environment rb 21 in top required config ru 3 in require config ru 3 in block in main usr lib ruby vendor_ruby rack builder rb 55 in instance_eval usr lib ruby vendor_ruby rack builder rb 55 in initialize config ru 1 in new config ru 1 in main usr share passenger helper scripts rack preloader rb 112 in eval usr share passenger helper scripts rack preloader rb 112 in preload_app usr share passenger helper scripts rack preloader rb 158 in module app usr share passenger helper scripts rack preloader rb 29 in module phusionpassenger usr share passenger helper scripts rack preloader rb 28 in main u00a0can you help me thanks,0.5
nicbkw,thingspeak in an x86 docker environment is already supported but i struggled to find anything similar for arm so i adapted the x86 install replacing the required base images with two available for arm architecture on docker hub https hub docker com it was also necessary to add ruby on rails to the install the resulting docker build scripts are here https github com nicbkw docker thingspeaki created this install to run on a scaleway arm based server instance https nicbkw com serious cloud presence for e2 99 month be aware that the install takes around 30 minutes due to the need to build and compile some components from source for the arm platform i would try this on a raspberry pi but all of mine are in use,0.5
ledrew1407,i was wondering how one would go about migrating to new hardware would just transferring the database work providing the credentials are correctly set on the new hardware is it possible to have the thingspeak install use a database hosted on different hardware as well any help would be great thanks,0.92210817337
lee,hi yes you should be able to transfer the database mysqldump works well to a new server and then edit the config database yml file to point to the new server yes the database can exist on different hardware i would recommend doing this if you are able to since it will increase the performance of the application lee,0.933524250984
ledrew1407,awesome thanks for the reply,0.993674397469
morten,hi i have the same problem like in this thread http community thingspeak com forum installation can not start thingskpeak but my bundle works do you know where should be the problem thanks for answer,0.811109304428
Hans,some github users are talking about the issue here https github com iobridge thingspeak issues 26,0.0753944814205
morten,im using ubuntu 14 04 lts its no problem i forgot to mention im installing thingspeak on apache server with passenger,0.828642964363
Samuel,change your authlogic vesrsion to 3 3 since it does not work on rails 4 0,0.257870703936
cherry,i am working on a startup project and i want to use the thingspeak github code and customize it according to my business requirements after customization is it legally correct to use it in my production and run in my own cloud setup,0.274465054274
melkikh,hi i want to install a thingspeak on a web server ubuntu server 12 04 x64 on a virtual machine virtualbox linux is almost clean i installed only openssh and samba i used this script https gist github com abythell 8225124 file thingspeak install sh but also installed manually in step command bundle exec rake db create i get the following message access denied for user thing localhost using password yes please provide the root password for your mysql installation then i get an error access denied for user root localhost using password no usr local lib ruby gems 2 1 0 gems mysql2 0 3 16 lib mysql2 client rb 70 in connect usr local lib ruby gems 2 1 0 gems mysql2 0 3 16 lib mysql2 client rb 70 in initialize could not create database for adapter mysql2 encoding utf8 are connect false would atabase thingspeak_test pool 5 username thing password peak ocket var run mysqld mysqld sock i try the following 1 configure config database yml2 bundle install mysql2etcnothing helps how do i fix this sorry for my englishthank u,0.78969669342
hans,melkikh if you are installing thingspeak from the github repo you may need to change the username password in the database yml file line 24 of the linked script renames the database yml example file to database yml when the rails server starts it reads the database yml file to understand what it should connect to in this case the example file https github com iobridge thingspeak blob master config database yml example l23shows the username is thing and the password is peak from the output above it trying to connect to the database with username root and no password if the mysql database is setup correctly you can simply change the username password in the database yml or you will need to create a new user in database,0.5
melkikh,jklol said melkikh if you are installing thingspeak from the github repo you may need to change the username password in the database yml file line 24 of the linked script renames the database yml example file to database yml when the rails server starts it reads the database yml file to understand what it should connect to in this case the example file https github com iobridge thingspeak blob master config database yml example l23shows the username is thing and the password is peak from the output above it trying to connect to the database with username root and no password if the mysql database is setup correctly you can simply change the username password in the database yml or you will need to create a new user in database thanks,0.5
fortolano,hi everyone i need some help with the language files in the config locales folder i got my thingspeak installed just fine and everything looks good but i have been trying to switch the application language from english to portuguese without success in the folder config locales there are 2 files the en yml and pt br yml files the english and portuguese language files so my first attempt was to update the application rb file and replace the following config i18n default_locale enforconfig i18n default_locale pt brbut that di not work and i still got everything in english then i simply reverted my change above and then renamed the file pt br yml to en ymlbut again nothing the thingspeak application doesnt seem to pick up the new language file any ideas or suggestions i would appreciate your guidance thank youflavio,0.775506198406
lee,hi if you change your web browser language to portuguese then you should automatically be served the correct file lee,0.931860208511
jeovanevs,lee said hi if you change your web browser language to portuguese then you should automatically be served the correct file leehi there are many errors in the portuguese translation file so the server page cannot be displayed correctly the fields in the english translation is different from those in portuguese one my solution was to compare the both files on notepad and add the fields manually do you have any recent pt br yml file to update at the github thank you jeovane,0.771502912045
akhila,hi jeovanevs we currently do not have an updated pt br yml file akhila,0.855745315552
Hans,jeovane do you know if https thingspeak com displays correctly when you are set to portuguese thanks,0.819506883621
morse,i installed the server thing speak locally linux debian studies is working but the charts disappeared from the channel page any solution,0.223655492067
petrisal,hi this may be a stupid question but did you close those from the x link they can be still found from channel add windows tab,0.749280512333
morse,serial really stupid question if the tab windows did not work out sometimes no answer is better than response worthless,0.0166490972042
maksg,hi it was the same with me i did it and decided thank you,0.921111702919
akhila,hi morse if charts have disappeared from your channel page try adding them back via add visualizations windows tab in channel private view public view tab akhila,0.5
petrisal,i have installed the thingspeak open source version to raspberry pi and managed to get that run as production environment without ssl now as i create or register new user it will redirect to https channels page the https address is not working as i do not have the ssl certificates in where it defined that the https addresses should be used on production env is there any point to use production environment at home as i do not have the certificates should i use the development or test environments instead of production,0.126674413681
petrisal,are you all running the thingspeak server as a development mode,0.776508331299
jaty,hi leethank for your thingspeak i have run successfully my esp8266 sends data to api thingspeak com is ok but sends data to my thingspeak is error like 2015 05 24 04 35 14 0800 http parse error malformed request 2015 05 24 04 35 14 0800 env rack version 1 2 rack errors io rack multithread true rack multiprocess false rack run_once false cript_name content_type text plain query_string erver_protocol http 1 1 erver_software 2 9 1 gateway_interface cgi 1 2 are quest_method get my arduino source code tcp connection string cmd at cipstart tcp cmd 119 28 5 178 cmd 3000 serial println cmd if serial find error dbgserial println at cipstart error return prepare get string string getstr get http 119 28 5 178 update key tyydy6n5ne3riq6g field1 getstr string strtemp getstr send data length cmd at cipsend cmd string getstr length serial println cmd if serial find serial print getstr dbgserial print getstr else dbgserial println at cipclose alert user serial println at cipclose thingspeak needs 15 sec delay between updates delay 16000 waiting for your help uff01,0.756487131119
alatza,thingspeak is awesome but same problem here i am running esp8266 as an arduino code works perfectly with api thingspeak com but returns the same error with my ts server in ec2 amazon ubuntu i thought it could be the port tried to change the server to listen on port 80 but then the error is puma 2 12 3 starting min threads 0 max threads 16 environment development listening on tcp 0 0 0 0 80exiting home ubuntu rvm gems ruby 2 1 0 thingspeak gems puma 2 12 3 lib puma binder rb 231 in initialize permission denied bind 2 for 0 0 0 0 port 80 errno eacces from home ubuntu rvm gems ruby 2 1 0 thingspeak gems puma 2 12 3 lib puma binder rb 231 in new from home ubuntu rvm gems ruby 2 1 0 thingspeak gems puma 2 12 3 lib puma binder rb 231 in add_tcp_listener from eval 2 in add_tcp_listener from home ubuntu rvm gems ruby 2 1 0 thingspeak gems puma 2 12 3 lib rack handler puma rb 33 in run from home ubuntu rvm gems ruby 2 1 0 thingspeak gems rack 1 5 5 lib rack server rb 264 in start from home ubuntu rvm gems ruby 2 1 0 thingspeak gems railties 4 0 5 lib rails commands server rb 84 in start from home ubuntu rvm gems ruby 2 1 0 thingspeak gems railties 4 0 5 lib rails commands rb 76 in block in from home ubuntu rvm gems ruby 2 1 0 thingspeak gems railties 4 0 5 lib rails commands rb 71 in tap from home ubuntu rvm gems ruby 2 1 0 thingspeak gems railties 4 0 5 lib rails commands rb 71 in from bin rails 4 in require from bin rails 4 in,0.5
alatza,jaty it works now i followed this solution http community thingspeak com forum installation http1 1 400 bad request started the server with webricks rails server webrick and everything is fine thanks lee ud83d ude42,0.880482792854
hepcatjk,i tried adapting the ubuntu directions but had some issues does any one have a script to install thingspeak on a clean install of fedora,0.158526748419
hepcatjk,anyone try or care about fedora out there i think this would really befit from other linux distro installs and windows install instructions since i know i want to run my own server and really like this project,0.746845602989
Hans,sorry i do not have any experience with fedora let us know if you come up with anything and we will share with the community,0.759689211845
hepcatjk,this worked on fedora 21 and red hat sudo yum upgradesudo yum y install rubygems curl git libxslt devel libxml2 devel mysql devel mysql server mysql make automake gcc gcc c kernel devel libyaml devel readline devel libffi devel libtool sqlite devel ruby develcurl ssl https get rvm io bash s stable you might have to allow the key follow the command if the curl step errors replace your directory with what your prompted source home your directory rvm scripts rvmrvm install 2 1git clone https github com iobridge thingspeak gitcd thingspeakrvm install ruby 2 1 0gem install bundlergem install bundlegem install mysql you might need gem install mysql2 also this worked on red hat sudo yum y install ruby mysql bundle installcp config database yml example config database yml i had to add a line to the end of the section i activated host 127 0 0 1 modify the database yml to fit your needs vi config database yml or nano config database yml you should confirm that that sudo service mysqld start is started since it is needed for thingspeakrake db createrake db schema loadrails server i would make that a service or demonnow the the server was active http localhost 3000,0.805209219456
ledrew1407,hepcatjk said this worked on fedora 21 and red hat sudo yum upgradesudo yum y install rubygems curl git libxslt devel libxml2 devel mysql devel mysql server mysql make automake gcc gcc c kernel devel libyaml devel readline devel libffi devel libtool sqlite devel ruby develcurl ssl https get rvm io bash s stable you might have to allow the key follow the command if the curl step errors replace your directory with what your prompted source home your directory rvm scripts rvmrvm install 2 1git clone https github com iobridge thingspeak gitcd thingspeakrvm install ruby 2 1 0gem install bundlergem install bundlegem install mysql you might need gem install mysql2 also this worked on red hat sudo yum y install ruby mysql bundle installcp config database yml example config database yml i had to add a line to the end of the section i activated host 127 0 0 1 modify the database yml to fit your needs vi config database yml or nano config database yml you should confirm that that sudo service mysqld start is started since it is needed for thingspeakrake db createrake db schema loadrails server i would make that a service or demonnow the the server was active http localhost 3000 this worked on centos 7 running as a vm under xenserver 6 5 is there a way to make ts to autostart on boot,0.784752845764
lee,hi if you want the thingspeak service to start automatically after boot i suggest looking into phusion passenger as a webserver since it targeted at production builds while the rails server is just a local development server we even use phusion passenger enterprise to run the main thingspeak service lee,0.5
001010,i am newer here but i have read through all of the tutorials or i thought i had and i still have not found an answer for this i have multiple devices that i have recording temperatures and i would like them all on the same graph channel so that i can see their trends easily and how they relate to each other is there a means to do this,0.806977748871
lee,hi to plot multiple channels on the same graph you can create a plugin and select chart with multiple series as the template lee,0.80670696497
sanyaade,hello everyone i have setup thingspeak locally on an ubuntu 15 05 server and i will like to access its admin page from localhost 3000 admin but i have try all possible admin name still not being able to login into it i have follow instruction at http community thingspeak com forum thingspeak api retrieve my password and also https github com iobridge thingspeak optional admin setup but good results i need help how can i setup admin use or super user or site administrator for site administration many thanks hear from you soon god blesses best regards sanyaade,0.973179757595
lee,hi sanyaade when you follow the instructions at https github com iobridge thingspeak optional admin setup are there any errors after you create your adminuser are you running the rails console with the same environment as the server you are running lee,0.866474628448
sanyaade,hi lee many thanks for your reply and support 1 there were no errors adding email and password but i was unable to add user name when i was creating the adminuser as syntax for user was rejected if i add it to it 2 yes i was running the rails console on the same server i installed thingspeak please help i am very grateful for your reply many thanks hear from you soon god blesses best regards sanyaade,0.984006166458
sanyaade,hi lee i will be answering my own questions here again the admin login is working i dont know what i did that made it to work and i can now login into the admin page what i can remebered was that 1 shutdown the rails running2 execute the command rails console3 run adminuser create email myname email com password my_password password_confirmation my_password 4 exit the rails console exit5 run rails server6 access the server at localhost 3000 admin7 enter my email as login and my password created in step 3 above i was able to access the dashboard and navigate around it lee many thanks for your support i think i need to learn ruby and understand how rails works if i want to get the grip of thingspeak ruby erlang go are being used now in iot platforms iwont have much problems with java c c lua or python lastly i noticed that thingspeak interface was based after activeadmin i follow it from your github com i will need to study it as well so that i can contribute to thingspeak once again many thanks for your support really appreciated hear from you soon god blesses best regards sanyaade,0.746259450912
carryGod,i do not know what http command formmy thinghttp form url http 10 103 17 27 80 method gethttp version 1 1body hello wordbut my esp8266 server does not have receive any data from thinghttpwhat problem is it by the way how many server memory provided,0.5
dvdl16,hi thingspeak team first of all thanks for this wonderful open source project i wanted to test it out by installing thingspeak on ubuntu everything installed successfully and visiting localhost 3000 takes me to the correct page everything seems to be working fine except the showing of charts the text invalid channel is displayed in the chart area in the console some calls fail see error messages below also trying to view the data e g localhost 3000 channels 2 feed json key fails data is logged successfully through the api if i export the data it is there i am using sqlite3 here is the error messages i am getting http qcfresh com errormessage htmlhttp qcfresh com errormessage2 htmlany ideas,0.157860040665
lee,hi you may want to try using mysql instead i am not sure if sqlite3 has the ability to use the advanced indexes required for quick data retrieval and we have never tested on sqlite3 lee,0.848054528236
dvdl16,thanks lee i was mistaken i am currently using postgresql as i wanted to test it later on heroku and i learned as per this link http blog 2ndquadrant com hinting_at_postgresql postgresql consciously does not support advanced indexes i have removed the force index code from feed_factory rb and it seems it working now i will monitor and check for performance issues but i doubt it will be a problem with my small scale implementation i will keep my options open to mysql in the future thanks so much,0.830318212509
lee,hi glad you got things working that index is important for quick retrievals at scale but wo not matter if you do not have too much data i actually expected mysql to use that index automatically without it being forced hopefully postgresql will use the proper index you can also try using mariadb in the future which should be a drop in replacement for mysql lee,0.895710468292
rodri,hi i installed ts on rpi and working properly i would like to know how to get data that is stored in rpi i mean where is data stored inside thingspeak folder also where is information about users stored thank you regards rodri,0.806114137173
lee,hi rodri the data is stored in the database which is probably mysql in your case lee,0.717464566231
rodri,thanks lee i will take a look on how to retrieve data from mysqlrodri,0.929185211658
dalothi,i just installed thingspeak on ubuntu i created the admin account and can log in as the admin but i can not create more users on the admin pages the new user form shows me an email address field and a login but no matter what i put in the fields the error message is password can not be blank there is no password field on the form i can sign up on the front page so i am not without ways of creating users it just seems odd that i can not do it from the admin pages,0.201009660959
lee,hi we do not have the ability to create users manually using the admin interface on thingspeak com so it is not present in the open source version however you can easily modify your code to allow this by modifying the line at https github com iobridge thingspeak blob master app admin user rb l32 and adding the password field you will also have to add the permitted parameters at https github com iobridge thingspeak blob master app admin user rb l8 lee,0.5
Handosa,hi i have a local installation of thingspeak on an ubuntu server and it works fine i need to create a backup of the thingspeak database accounts and channels so in case of failure i will not have to recreate the channels and update the boards and applications that connect to those channels with the new channel ids read and write api keys taking a backup of the whole system might be a solution but it would be better if i can take a backup of thingspeak database only could you please provide me with backup restore instructions best regards,0.875811457634
lee,hi you can use something like mysqldump to backup the database http dev mysql com doc refman 5 1 en mysqldump htmlhttp www thegeekstuff com 2008 09 backup and restore mysql database using mysqldump lee,0.5
meltsys,hello does anyone already install thingspeak on a raspberry i am looking for a light and easy reusable install if not possible on rpi what is the best distri to use in vmware ubuntu server,0.973892331123
lee,i use vmware and virtualbox and the easiest linux distributions i have found to set up are ubuntu and debian lee,0.915563106537
Andrew,i have installed the thingspeak server on an raspberry pi using this script https gist github com abythell 8225124 while i can confirm it does run i cannot speak to the performance such as how it would perform with many simultaneous updates or retrieving very large feeds,0.5
meltsys,greatmany thanksworks perfectly two more question how i can export more than 2 days values from thingspeak com to import on rpi how can i configure the rail server to start at rpi boot many thanks againalex,0.847213923931
meltsys,hi i found how to launch the server at startup but i have still a problem to backup datas from thingspeak com to the raspberry i tried http api thingspeak com channels 9681 field 1 csv results 8000but i got an errorany idea thanks alex,0.5
Andrew,the proper way to start the rails server on boot would be to use an initscript however the quick and easy way is to add the following to etc rc local cd home pi thingspeak usr local bin rails server d this line should appear before the final exit 0 line and assumes the thingspeak application is found in home pi thingspeak,0.727256059647
meltsys,hi andrew thanks for your reply i choosed the easy way but i do not know how to stop it even with ssh,0.874496936798
meltsys,is the raspberry powerfull enough i can not display a simple chart with a um http ip 3000 channels 1 charts 2 sum 60 days 1wheras with timescale it works http ip 3000 channels 1 charts 2 timescale 10 days 1,0.5
rodri,hi i am trying to install thingspeak in a raspberrian pi with a debian distribution i am following step by step as in https github com iobridge thingspeakwhen i get to rake db create i have an error any idea thanks rodricould not create database for adapter mysql2 encoding utf8 are connect false would atabase thingspeak_development pool 5 username thing password peak ocket var run mysqld mysqld sock charset utf8 collation utf8_unicode_ci if you set the charset manually make sure you have a matching collation could not create database for adapter mysql2 encoding utf8 are connect false would atabase thingspeak_test pool 5 username thing password peak ocket var run mysqld mysqld sock charset utf8 collation utf8_unicode_ci if you set the charset manually make sure you have a matching collation create_table active_admin_comments force true rake aborted mysql2 error can not connect to local mysql server through socket var run mysqld mysqld sock 2 home pi rvm gems ruby 2 1 0 thingspeak gems mysql2 0 3 16 lib mysql2 client rb 70 in connect home pi rvm gems ruby 2 1 0 thingspeak gems mysql2 0 3 16 lib mysql2 client rb 70 in initialize home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record connection_adapters mysql2_adapter rb 18 in new home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record connection_adapters mysql2_adapter rb 18 in mysql2_connection home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record connection_adapters abstract connection_pool rb 440 in new_connection home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record connection_adapters abstract connection_pool rb 450 in checkout_new_connection home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record connection_adapters abstract connection_pool rb 421 in acquire_connection home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record connection_adapters abstract connection_pool rb 356 in block in checkout home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record connection_adapters abstract connection_pool rb 355 in checkout home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record connection_adapters abstract connection_pool rb 265 in block in connection home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record connection_adapters abstract connection_pool rb 264 in connection home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record connection_adapters abstract connection_pool rb 546 in retrieve_connection home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record connection_handling rb 79 in retrieve_connection home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record connection_handling rb 53 in connection home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record migration rb 615 in connection home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record migration rb 628 in block in method_missing home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record migration rb 601 in block in say_with_time home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record migration rb 601 in say_with_time home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record migration rb 621 in method_missing home pi thingspeak db schema rb 16 in block in home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record schema rb 42 in instance_eval home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record schema rb 42 in define home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record schema rb 62 in define home pi thingspeak db schema rb 14 in home pi rvm gems ruby 2 1 0 thingspeak gems activesupport 4 0 5 lib active_support dependencies rb 223 in load home pi rvm gems ruby 2 1 0 thingspeak gems activesupport 4 0 5 lib active_support dependencies rb 223 in block in load home pi rvm gems ruby 2 1 0 thingspeak gems activesupport 4 0 5 lib active_support dependencies rb 214 in load_dependency home pi rvm gems ruby 2 1 0 thingspeak gems activesupport 4 0 5 lib active_support dependencies rb 223 in load home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record railties databases rake 253 in block 3 levels in home pi rvm gems ruby 2 1 0 thingspeak bin ruby_executable_hooks 15 in eval home pi rvm gems ruby 2 1 0 thingspeak bin ruby_executable_hooks 15 in tasks top db schema load see full trace by running task with trace booting puma rails 4 0 5 application starting in development on http 0 0 0 0 3000 run rails server h for more startup options ctrl c to shutdown serverpuma 2 9 1 starting min threads 0 max threads 16 environment development listening on tcp 0 0 0 0 3000,0.857822537422
lee,hi rodri the location of your mysql socket needs to be set correctly in your config database yml file here the line you need to change https github com iobridge thingspeak blob master config database yml local l27 the location of the mysql socket varies between systems so you may have to search around to find out what works for you specifically lee,0.5
rodri,thanks lee i tried with every location and nothing here paths where both files are stored wich one should i use pi raspberrypi thingspeak whereis mysqld sockmysqld usr sbin mysqld usr share man man8 mysqld 8 gzpi raspberrypi thingspeak whereis mysql sockmysql usr bin mysql etc mysql usr lib mysql usr bin x11 mysql usr include mysql usr share mysql usr share man man1 mysql 1 gzbest rodri,0.5
lee,hi rodri you can try running mysqladmin variables or look into your mysql configuration file usually at etc mysql my cnf for the location of the socket lee,0.5
rodri,hi lee socket is ok on socket var run mysqld mysqld sock but i still have problems thingspeak_development is created but thingspeak_test still have problems best rodripi raspberrypi thingspeak rake db createthingspeak_development already existsmysql2 error access denied for user thing localhost to database thingspeak_test create database thingspeak_test default character set utf8 collate utf8_unicode_ci home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record connection_adapters abstract_mysql_adapter rb 287 in query home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record connection_adapters abstract_mysql_adapter rb 287 in block in execute home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record connection_adapters abstract_adapter rb 442 in block in log home pi rvm gems ruby 2 1 0 thingspeak gems activesupport 4 0 5 lib active_support notifications instrumenter rb 20 in instrument home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record connection_adapters abstract_adapter rb 437 in log home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record connection_adapters abstract_mysql_adapter rb 287 in execute home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record connection_adapters mysql2_adapter rb 222 in execute home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record connection_adapters abstract_mysql_adapter rb 382 in create_database home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record tasks mysql_database_tasks rb 16 in create home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record tasks database_tasks rb 73 in create home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record tasks database_tasks rb 87 in block in create_current home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record tasks database_tasks rb 183 in block in each_current_configuration home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record tasks database_tasks rb 182 in each home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record tasks database_tasks rb 182 in each_current_configuration home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record tasks database_tasks rb 86 in create_current home pi rvm gems ruby 2 1 0 thingspeak gems activerecord 4 0 5 lib active_record railties databases rake 20 in block 2 levels in home pi rvm gems ruby 2 1 0 thingspeak gems rake 10 3 2 lib rake task rb 240 in call home pi rvm gems ruby 2 1 0 thingspeak gems rake 10 3 2 lib rake task rb 240 in block in execute home pi rvm gems ruby 2 1 0 thingspeak gems rake 10 3 2 lib rake task rb 235 in each home pi rvm gems ruby 2 1 0 thingspeak gems rake 10 3 2 lib rake task rb 235 in execute home pi rvm gems ruby 2 1 0 thingspeak gems rake 10 3 2 lib rake task rb 179 in block in invoke_with_call_chain home pi rvm rubies ruby 2 1 0 lib ruby 2 1 0 monitor rb 211 in mon_synchronize home pi rvm gems ruby 2 1 0 thingspeak gems rake 10 3 2 lib rake task rb 172 in invoke_with_call_chain home pi rvm gems ruby 2 1 0 thingspeak gems rake 10 3 2 lib rake task rb 165 in invoke home pi rvm gems ruby 2 1 0 thingspeak gems rake 10 3 2 lib rake application rb 150 in invoke_task home pi rvm gems ruby 2 1 0 thingspeak gems rake 10 3 2 lib rake application rb 106 in block 2 levels in top_level home pi rvm gems ruby 2 1 0 thingspeak gems rake 10 3 2 lib rake application rb 106 in each home pi rvm gems ruby 2 1 0 thingspeak gems rake 10 3 2 lib rake application rb 106 in block in top_level home pi rvm gems ruby 2 1 0 thingspeak gems rake 10 3 2 lib rake application rb 115 in run_with_threads home pi rvm gems ruby 2 1 0 thingspeak gems rake 10 3 2 lib rake application rb 100 in top_level home pi rvm gems ruby 2 1 0 thingspeak gems rake 10 3 2 lib rake application rb 78 in block in run home pi rvm gems ruby 2 1 0 thingspeak gems rake 10 3 2 lib rake application rb 176 in standard_exception_handling home pi rvm gems ruby 2 1 0 thingspeak gems rake 10 3 2 lib rake application rb 75 in run home pi rvm gems ruby 2 1 0 thingspeak gems rake 10 3 2 bin rake 33 in home pi rvm gems ruby 2 1 0 thingspeak bin rake 23 in load home pi rvm gems ruby 2 1 0 thingspeak bin rake 23 in could not create database for adapter mysql2 encoding utf8 are connect false would atabase thingspeak_test pool 5 username thing password peak ocket var run mysqld mysqld sock,0.153785377741
rodri,hi lee in the end i got ts running on a raspberry pi thank you very much best rodrigo,0.961339473724
rodri,hi lee as i told you before i hace ts running in rpi cool now i have another problem i am sending data from an arduino to ts the code works ok on ts online but when i change to the server in my rpi i get this error pi raspberrypi thingspeak rails server booting puma rails 4 0 5 application starting in development on http 0 0 0 0 3000 run rails server h for more startup options ctrl c to shutdown serverpuma 2 9 1 starting min threads 0 max threads 16 environment development listening on tcp 0 0 0 0 3000 2014 12 10 15 53 46 0000 http parse error malformed request 2014 12 10 15 53 46 0000 env rack version 1 2 rack errors io rack multithread true rack multiprocess false rack run_once false cript_name content_type text plain query_string erver_protocol http 1 1 erver_software 2 9 1 gateway_interface cgi 1 2 are quest_method post are quest_path update json are quest_uri update json any idea i tried the code here and ir works i sent 2 values in 8 fields https thingspeak com channels 20390i changed api thingspeak com for 10 95 0 24 and port 80 for 3000 and got the errorbest rodri,0.5
lee,hi rodri you may have some malformed data in the request you are sending you can try using a different webserver for you requests by issuing a command such as rails server webrickinstead of just rails serverlee,0.729994773865
rodri,hi lee thank you very much with rails server webrick it is working perfectly last question i want rails server webrick run after a boot automatically do you know where should i add this line add it to etc rc local best rodri,0.947284698486
lee,hi rodri glad you have the server working correctly now starting a service automatically at boot is something that is extremely dependent on the operating system environment so i would not know for sure how to do this lee,0.92176425457
ori,i keep getting the following error while trying to build thingspeak projectanyone encountered the same problem fetching git github com gregbell active_admin gitgithub com 0 192 30 252 129 errno connection timed outfatal unable to connect a socket connection timed out retrying git clone git github com gregbell active_admin git hackathon sagyg rvm gems ruby 2 1 0 thingspeak cache bundler git active_admin d67faab65e9b74efbc8efb4a777a851e9f78b2ca bare no hardlinks quiet due to error 2 3 bundler source git gitcommanderror git error command git clone git github com gregbell active_admin git hackathon sagyg rvm gems ruby 2 1 0 thingspeak cache bundler git active_admin d67faab65e9b74efbc8efb4a777a851e9f78b2ca bare no hardlinks quiet in directory hackathon sagyg thingspeak has failed github com 0 192 30 252 129 errno connection timed outfatal unable to connect a socket connection timed out retrying git clone git github com gregbell active_admin git hackathon sagyg rvm gems ruby 2 1 0 thingspeak cache bundler git active_admin d67faab65e9b74efbc8efb4a777a851e9f78b2ca bare no hardlinks quiet due to error 3 3 bundler source git gitcommanderror git error command git clone git github com gregbell active_admin git hackathon sagyg rvm gems ruby 2 1 0 thingspeak cache bundler git active_admin d67faab65e9b74efbc8efb4a777a851e9f78b2ca bare no hardlinks quiet in directory hackathon sagyg thingspeak has failed github com 0 192 30 252 129 errno connection timed outfatal unable to connect a socket connection timed out git error command git clone git github com gregbell active_admin git hackathon sagyg rvm gems ruby 2 1 0 thingspeak cache bundler git active_admin d67faab65e9b74efbc8efb4a777a851e9f78b2ca bare no hardlinks quiet in directory hackathon sagyg thingspeak has failed,0.140725910664
lee,hi you may be behind a firewall that is preventing you from connecting to github http stackoverflow com questions 16298986 unable to connect to github com for cloning lee,0.5
DodBasim,possible at the moment the views are hidden,0.5
lee,hi unfortunately react and thinghttp are not available via the open source version lee,0.091418504715
DodBasim,any plan to add this feature to open source,0.764366984367
lee,there are currently no plans to add these to the open source version lee,0.682174801826
nancy,hi can anyone tell me if we can setup thinkspeak on windows or not if yes then what are the steps regardsnancy,0.5
lee,hi nancy yes thingspeak should be able to be installed on windows although i have never done it so i am not sure of the exact steps or any problems that may arise the easiest way i have found to install it on windows is to first install virtualbox https www virtualbox org so that you have a proper linux environment and then to install thingspeak inside of virtualbox lee,0.737269222736
archit2112,i have successfully installed ruby on rails i cloned the thingspeak repository now when i go to this directory and run bundle install a few bundles get installed and then i get an error gem installer extensionbuilderror error failed to build gem native extension c row ruby200 bin ruby exe extconf rbchecking for clock_monotonic in time h yeschecking for clockid_t in time h yeschecking for clock_gettime in lrt nochecking for t_open in lnsl nochecking for socket in lsocket nochecking for poll in poll h nochecking for getaddrinfo in sys types h sys socket h netdb h nogetaddrinfo required extconf rb failed could not create makefile due to some reason probably lack of necessarylibraries and or headers check the mkmf log file for more details you mayneed configuration options provided configuration options with opt dir without opt dir with opt include without opt include opt dir include with opt lib without opt lib opt dir lib with make prog without make prog srcdir curdir ruby c row ruby200 bin ruby with rtlib without rtlib with nsllib without nsllib with socketlib without socketlibhow do i fix this thanks in advance,0.22396454215
lee,hi are you trying to install thingspeak on windows if so i am not familiar with the process but you may have some success temporarily disabling any antivirus programs while you run bundle install you can also try installing each of the gems one at a time to find out which one is causing the error for example gem install mysql2lee,0.208589702845
archit2112,i am using windows 7 this is what is causing the error gem files will remain installed in c row ruby200 lib ruby gems 2 0 0 gems kgio 2 8 1 for inspection results logged to c row ruby200 lib ruby gems 2 0 0 gems kgio 2 8 1 ext kgio gem_make outan error occurred while installing kgio 2 8 1 and bundler cannot continue make sure that gem install kgio v 2 8 1 succeeds before bundling,0.5
lee,try running gem install kgio v 2 8 1 if there are any errors try to resolve them or paste them back here lee,0.177934587002
gerald,hi lee all is running smooth did a recent upgrade to ubuntu and now it runs with thin client hiccup anyways there a bug i noticed when i try to clear a channel that has data i log in and go in to the channel settings and hit the clear channel button it gives me a page with the following error any help would be apprecicated redis cannotconnecterror in channelscontroller clear error connecting to redis on 127 0 0 1 6379 econnrefused extracted source around line 339 337 else338 self update_attribute clearing true 339 resque enqueue clearchanneljob self id 340 end341 end342rails root home gerald thingspeakapplication trace framework trace full traceapp models channel rb 339 in delete_feeds app controllers channels_controller rb 208 in clear are questparameters authenticity_token zkbxjmjqovwzcymmk andmi7pq5yubkh1yo6ip nops id 2 toggle session dumptoggle env dump,0.757864773273
lee,hi i think you are running an older version of the thingspeak application since this error has been fixed in recent versions please try upgrading via the following commands git pull origin masterbundle installrake db migrateplease let me know if you have any trouble upgrading and i will try to help you out lee,0.758925199509
gerald,thanks for the quick reply lee got stuck on first command with error updating 4c98866 48daaf5error your local changes to the following files would be overwritten by merge gemfilegemfile lockplease commit your changes or stash them before you can merge abortingshould should i commit or stash the changes thanksgerald,0.787416756153
gerald,your suggestion worked with the added git stash first and the clear channel worked as usual big help lee gerald,0.900837302208
gerald,hi all i tried to have some fun and installed thingspeak api on ubuntu i followed the clean install procedure on github and all went well i created an account and a channel i was able to send values via web browser too then i took my arduino that i use to post to thingspeak changed the sketch for my server ip address and changed the port to 3000 i get connected to thingspeak http 1 1 400 bad requestcontent type text plainconnection closeserver thin 1 6 1 codename death proofin my sketch do i have to modify anything else from my original code other than thingspeakaddress api key and port 80 to 3000 here is my post client print post update http 1 1n client print host api thingspeak comn client print connection closen client print x thingspeakapikey writeapikey n client print content type application x www form urlencodedn client print content length client print tsdata length client print nn i am sure that it is something small since i have gotten this far thanks,0.85237300396
lee,hi that seems to be everything you would need to change in the code also make sure the devices are on the same network and that the ip address of the server running thingspeak is accessible from another computer on your network lee,0.5
gerald,lee said hi that seems to be everything you would need to change in the code also make sure the devices are on the same network and that the ip address of the server running thingspeak is accessible from another computer on your network leethanks lee they are both on the same switch and both connected to the internet the server is at 132 206 95 88 3000from other computers i was able to post data via firefox bad request for me means my post info is wrong would not server connection issues probably give me 404 error,0.146647930145
lee,hi yes you are right the 400 bad request probably means the connection is fine are you able to look at the rails server log while it running and see what the error is lee,0.818566560745
gerald,still a real newbie at the server stuff will try to find the log in the morning will let you know thanks gerald,0.5
gerald,i fould the error in the log have no clue how to fix it though any idea lee invalid request invalid http format parsing fails home gerald rvm gems ruby 2 1 0 thingspeak gems thin 1 6 1 lib thin request rb 84 in execute home gerald rvm gems ruby 2 1 0 thingspeak gems thin 1 6 1 lib thin request rb 84 in parse home gerald rvm gems ruby 2 1 0 thingspeak gems thin 1 6 1 lib thin connection rb 41 in receive_data home gerald rvm gems ruby 2 1 0 thingspeak gems eventmachine 1 0 3 lib eventmachine rb 187 in run_machine home gerald rvm gems ruby 2 1 0 thingspeak gems eventmachine 1 0 3 lib eventmachine rb 187 in run home gerald rvm gems ruby 2 1 0 thingspeak gems thin 1 6 1 lib thin backends base rb 73 in start home gerald rvm gems ruby 2 1 0 thingspeak gems thin 1 6 1 lib thin server rb 162 in start home gerald rvm gems ruby 2 1 0 thingspeak gems rack 1 5 2 lib rack handler thin rb 16 in run home gerald rvm gems ruby 2 1 0 thingspeak gems rack 1 5 2 lib rack server rb 264 in start home gerald rvm gems ruby 2 1 0 thingspeak gems railties 4 0 3 lib rails commands server rb 84 in start home gerald rvm gems ruby 2 1 0 thingspeak gems railties 4 0 3 lib rails commands rb 76 in block in home gerald rvm gems ruby 2 1 0 thingspeak gems railties 4 0 3 lib rails commands rb 71 in tap home gerald rvm gems ruby 2 1 0 thingspeak gems railties 4 0 3 lib rails commands rb 71 in cript rails 6 in require cript rails 6 in,0.5
gerald,also the content type is troubling me in my sketch i state client print content type application x www form urlencodedn but the server replies to me http 1 1 400 bad requestcontent type text plainconnection closeserver thin 1 6 1 codename death proof,0.227372676134
lee,are you sending the request via http or https can you paste your modified arduino code here so i can look at it,0.772972345352
gerald,should be http local network settingsbyte mac 0xd4 0x28 0xb2 0xff 0xca 0x21 must be unique on local network last digit matches static ipbyte ip xxx xxx 95 81 byte dnsserver xxx xxx 85 18 this is necessary for mcgill static ip networkbyte gateway xxx xxx 95 253 thingspeak settingsbyte thingspeakaddress xxx xxx 95 88 string writeapikey jjkuvnxuixxxxxxx api string for required channelconst int updatethingspeakinterval 20 1000 time interval in milliseconds to update thingspeak number of seconds 1000 interval 5 mins variable setuplong lastconnectiontime 0 boolean lastconnected false int failedcounter 0 initialize arduino ethernet clientethernetclient client void setup ethernet begin mac ip dnsserver gateway dht begin open serial communications and wait for port to open serial begin 9600 delay 2000 void loop print update response to serial monitor if client available char c client read serial print c disconnect from thingspeak if client connected lastconnected serial println disconnected serial println client stop update thingspeak if client connected millis lastconnectiontime updatethingspeakinterval read the value fromn the dht22 sensor int sensorvalue dht readtemperature int sensorvalue2 dht readhumidity convert the analog reading which goes from 0 1023 to a voltage 0 5v int temp sensorvalue offset can be added here for temperatureint humd sensorvalue2 offset can be addded here for humidity delay 250000 updatethingspeak field1 string temp dec field2 string humd dec modify necessary field numbers depending on what chart you are inputing to lastconnected client connected void updatethingspeak string tsdata if client connect thingspeakaddress 3000 serial println connected to thingspeak serial println client print post update http 1 1n client print host xxx xxx 95 88n client print connection closen client print x thingspeakapikey writeapikey n client print content type application x www form urlencodedn client print content length client print tsdata length client print nn client print tsdata lastconnectiontime millis failedcounter 0 else serial println connection failed serial println connection to thingspeak failed string failedcounter dec serial println failedcounter if failedcounter 3 resetethernetshield lastconnectiontime millis void resetethernetshield serial println are setting ethernet shield serial println client stop delay 1000 ethernet begin mac ip dnsserver gateway delay 1000,0.5
lee,in the line client print host xxx xxx 95 88n can you try adding the port afterwards like client print host xxx xxx 95 88 3000n if that does not work try stopping the server ctrl c and restarting it using an alternative server via rails server webrick to see if that can offer any more insight into the errors if i just use my browser and go to http localhost 3000 channels c i am able to reproduce the same error you are getting so you may want to double check the arduino code to make sure that all characters are escaped properly c in my example is invalid lee,0.5
gerald,i tried adding the 3000 before and confirmed that this did nothing something really strange though it works if start the rails server with the webrick connected to thingspeak http 1 1 200 okx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800content type text html charset utf 8etag c4ca4238a0b923820dcc509a6f75849b cache control max age 0 private must revalidatex request id 231c2c64 9338 49cc 85f2 cdb0f4147f58x runtime 0 116638server webrick 1 3 1 ruby 2 1 0 2013 12 25 date fri 28 mar 2014 15 33 32 gmtcontent length 1connection close1 disconnected,0.5
lee,i am not sure what the problem is then with our default development server called thin but i am glad webrick works for you if you need a more production quality server you can use phusion passenger with nginx which is what we use on thingspeak com lee,0.874417424202
gerald,lee said i am not sure what the problem is then with our default development server called thin but i am glad webrick works for you if you need a more production quality server you can use phusion passenger with nginx which is what we use on thingspeak com leethanks for all the help lee i guess due to my lack of server experience and that i only need to monitor a few labs here at the university i will stick with webrick on another note i would not mind securing the page so no one can create new accounts i am guessing removing things from the webpage would be easiest for a newbie i am sure there is away to do this via the database but still a newbie again thanks you were a great help gerald,0.809101343155
lee,hi gerald you can remove the signup page by deleting everything on this page https github com iobridge thingspeak blob master app views devise registrations new html erb lee,0.5
gerald,thanks i will look into that very last question is there a folder on the server where i can retrieve feed data to make backups gerald,0.80427968502
lee,since all of the feed data is saved only in the database there is no folder that allows you to retrieve feed data lee,0.157530248165
simonvo,hi admin http thingspeak easytherm co uk i have problem with nginx phusion passenger thingspeak even i have done all the dependencies lib thankssimon,0.205596476793
chrisjmears,when i posthttps api thingspeak com talkbacks 122 commands api_key myapikey command_string testingi would expect upon refreshing the talkback page to se a command called testing but nothing appears i get no confirmation message when making my post from the address bar have i got something wrong with the url,0.226060777903
lee,hi your url looks fine but your http method will be get if you enter that url in the browser address bar you need to use the post method for this to work properly lee,0.819789886475
chrisjmears,thanks lee but the instructions seemed to suggest its a getfrom the documentationlist all talkback commandsto show all of a talkback commands send an http get to https api thingspeak com talkbacks talkback_id commands replacing talkback_id with the actual id of your talkback am i wrong or do the docs need revising,0.164559453726
lee,hi the documentation is correct if you are trying to add a command then you should use http post but if you are trying to list all of your commands then you should use http get the urls for both of these actions are the same which may be a little confusing but we wanted to make this fully rest compliant https en wikipedia org wiki representational_state_transfer applied_to_web_services lee,0.904054641724
chrisjmears,sorry lee i see now i read it wrong thanks,0.166525304317
simonvo,hi i have problem with rake db create usr local thingspeak rake db createrake aborted database configuration does not specify adapter var lib gems 2 0 0 gems activerecord 4 0 3 lib active_record connection_adapters connection_specification rb 52 in resolve_hash_connection var lib gems 2 0 0 gems activerecord 4 0 3 lib active_record connection_adapters connection_specification rb 46 in resolve_string_connection var lib gems 2 0 0 gems activerecord 4 0 3 lib active_record connection_adapters connection_specification rb 32 in spec var lib gems 2 0 0 gems activerecord 4 0 3 lib active_record connection_handling rb 39 in establish_connection var lib gems 2 0 0 gems activerecord 4 0 3 lib active_record tasks database_tasks rb 89 in create_current var lib gems 2 0 0 gems activerecord 4 0 3 lib active_record railties databases rake 20 in block 2 levels in tasks top db create see full trace by running task with trace the previously steps are sucessfully but i have got problem with thisany advice plzthankssimon,0.5
simonvo,here is my database configuration file and be sure to use new style password hashing http dev mysql com doc refman 5 0 en old client htmlproduction adapter mysql2 encoding utf8 host localhost reconnect true database thingspeak pool 5 username thingspeak password password,0.5
lee,hi if you are only running the production server you should migrate your database using rails_env production rake db migratelee,0.753006279469
adms,hii am trying to configure my own thingspeak server on ubuntu 12 04 lts virtual machine i introduced this commands on terminal installation on clean install of ubuntu https github com iobridge thingspeak but at the final i use rvmsudo rails server d b p 80 this command let me run thingspeak app on port 80 as a daemon it works well but when the server reboot sudo reboot for example the thingspeak server shut down and i do not want this i want to automatically on booting or startup start the thingspeak server so i do not need to manually use in terminal the rvmsudo command again how can i achieve this thanks a lot for your attentionpd i try to add the command in etc rc local but nothing happens i probed with etc init d but it is a directory not a file,0.5
lee,hi you can also research using crontab and executing your linux command at every reboot lee,0.926065444946
meltsys,hello allinstalled from github on a vmware debian charts work only with timescale no sum average median sthat give a white iframe without axis or anything else do you have the same probelem,0.747878909111
Pablo Estevez,hello my question is about the channels of access that external applications can have to the internal database of thingspeak if i understand well the database is implemented using mysql so the main question is if it is possible to directly interact with that database from a different software and or what methods are available to extract data from that database to external software i have read in the forums that there are commands in the api to export json xml or csv files those would indeed be useful but i am looking for something more integrated where hopefully i could directly interrogate the mysql database from my application this would allow me to do real time statistical analysis create my own visualizations generate separate channels to add data to the database for instance adding data from another database joining two sensor networks etc i could always make regular requests to thingspeak to get new data and update a separate copy of the database but that does not seem very efficient and would be prone to errors i can imagine this is easier to do in a self hosted system which would not be a problem for me in that case would i be able to directly access the database from separate programs running in the same server or would i have to integrate my modules into the thingspeak code by the way i am still assessing if thingspeak is the right platform for my project and therefore do not have yet experience on using your system or your api,0.938097596169
lee,hi for security and performance reasons we cannot allow direct access to our database however if you install thingspeak and mysql locally or on a server you control you can certainly use any third party tools you want to connect to mysql and perform queries or analyses on the database your modules would not have to be integrated into the thingspeak code lee,0.5
joshuasimi,the ez430 chronos is a highly integrated wireless development system based for the cc430 in a sports watch it may be used as a reference platform for watch systems a personal display for personal area networks or as a wireless sensor node for remote data collection well you can monitor the sensors wireless use it as a mouse and off course it u2019s a working watch you really buy it to code for it and there are a bunch of projects out there from door entry systems robot control music and other such projects exosite worked with the ez430 chronos rf access point gateway system and monitor your wireless sensor data from the texas instruments u201cez430 chronos u201d watch development kit and sends it to exosite portal we provided all the information about how you can connect products with exosite and point to point information of apis and demo of public dashboard on exosite portals for more information about this products visit our website http exosite com project ti_chronos_pc_gateway,0.5
Stephan,hi guys i am currently trying to setup your great open source project on my server its an ubuntu 12 04 lts server with 32bit processor following your guide from github i had to notice that the rvm package manage system is somehow broken for this ubuntu version i could fix it with this guide here http stackoverflow com questions 9056008but at the step of installing rvm pkg install iconv i got some errors which i didnt understand or were not able to fix 1 error running autoreconf is force please read home sop rvm log libiconv autoreconf logthe corresponding log configure ac 100 warning macro am_iconv not found in libraryconfigure ac 101 warning macro am_gnu_gettext not found in libraryconfigure ac 149 warning macro am_langinfo_codeset not found in libraryconfigure ac 134 warning ac_lang_conftest no ac_lang_source call detected in body lib autoconf lang m4 194 ac_lang_conftest is expanded from lib autoconf general m4 2591 _ac_compile_ifelse is expanded from lib autoconf general m4 2607 ac_compile_ifelse is expanded from lib m4sugar m4sh m4 606 as_if is expanded from lib autoconf general m4 2032 ac_cache_val is expanded from lib autoconf general m4 2053 ac_cache_check is expanded from configure ac 134 the top levelconfigure ac 134 warning ac_lang_conftest no ac_lang_source call detected in body lib autoconf lang m4 194 ac_lang_conftest is expanded from lib autoconf general m4 2591 _ac_compile_ifelse is expanded from lib autoconf general m4 2607 ac_compile_ifelse is expanded from lib m4sugar m4sh m4 606 as_if is expanded from lib autoconf general m4 2032 ac_cache_val is expanded from lib autoconf general m4 2053 ac_cache_check is expanded from configure ac 134 the top levelconfigure ac 63 warning macro am_langinfo_codeset not found in librarylibtoolize putting auxiliary files in ac_config_aux_dir build aux libtoolize linking file build aux config guess libtoolize linking file build aux config sub libtoolize linking file build aux install sh libtoolize linking file build aux ltmain sh libtoolize consider adding ac_config_macro_dir m4 to configure ac andlibtoolize rerunning libtoolize to keep the correct libtool macros in tree libtoolize consider adding i m4 to aclocal_amflags in makefile am configure ac 63 warning macro am_langinfo_codeset not found in libraryconfigure ac 63 error possibly undefined macro am_langinfo_codeset if this token and others are legitimate please use m4_pattern_allow see the autoconf documentation autoreconf usr bin autoconf failed with exit status 12 error running make please read home sop rvm log libiconv make logthe corresponding file builddir pwd cd libcharset make all make install lib libdir builddir lib includedir builddir lib make 1 entering directory home sop rvm src libiconv 1 13 1 libcharset if d include then mkdir include ficp include libcharset h in include libcharset hcd lib make allmake 2 entering directory home sop rvm src libiconv 1 13 1 libcharset lib bin sh libtool mode compile gcc i i i i i include g o2 cflag_visibility dlibdir home sop rvm usr lib dbuilding_libcharset dbuilding_dll denable_relocatable 1 din_library dinstalldir home sop rvm usr lib dno_xmalloc dset_relocation_prefix libcharset_set_relocation_prefix drelocate libcharset_relocate dhave_config_h c localcharset c libtool 1 eval base_compile gcc not found libtool 1 eval base_compile i not found libtool 1 eval base_compile i not found libtool 1 eval base_compile i not found libtool 1 eval base_compile i not found libtool 1 eval base_compile i include not found libtool 1 eval base_compile g not found libtool 1 eval base_compile o2 not found libtool 1 eval base_compile cflag_visibility not found libtool 1 eval base_compile dlibdir home sop rvm usr lib not found libtool 1 eval base_compile dbuilding_libcharset not found libtool 1 eval base_compile dbuilding_dll not found libtool 1 eval base_compile denable_relocatable 1 not found libtool 1 eval base_compile din_library not found libtool 1 eval base_compile dinstalldir home sop rvm usr lib not found libtool 1 eval base_compile dno_xmalloc not found libtool 1 eval base_compile dset_relocation_prefix libcharset_set_relocation_prefix not found libtool 1 eval base_compile drelocate libcharset_relocate not found libtool 1 eval base_compile dhave_config_h not found libtool 1 eval base_compile c not foundlibtool compile you must specify a compilation commandlibtool compile try libtool help mode compile for more information make 2 localcharset lo error 1make 2 leaving directory home sop rvm src libiconv 1 13 1 libcharset lib make 1 all error 2make 1 leaving directory home sop rvm src libiconv 1 13 1 libcharset make lib localcharset h error 2maybe you have some more current installation instructions or can help me to fix this problem best regards stephan,0.129633486271
benni_75,hi i discovered this fabulous project and installed the version found onhttps github com iobridge thingspeak git on a test machine for the moment it is only happiness but i ask myself some questions is there a version on postgres because i am not able to make some fine tuning in mysql the three tabs plugin apps and devices and file import are not available with the version i have installed do you know where to find them do you think that memcached is needed to 10mio measures spread over approximately 100 channels knowing that there will be seldom more than 5 concurrent clients on the application,0.263619482517
Hans,benni glad that you found us and the github release is working for you there are differences between what we have on our website and the open source version the apps and plugins are not on github yet we are still working on another round of new features that we will release before we get to adding new functionality to guthub our intent is provide the base on which it u00a0easy u00a0to build new components to i do not know of any postgres variants internally we use mysql for u00a0time series data u00a0and redis for queuing to large scale also memcached u00a0is probably not needed for the applications that you are describing once you get to a 1000 it probably makes sense let us know if you have more questions good luck have fun,0.824408769608
benni_75,thank you for this information can you describe in more detail the configuration of mysql for example for a server 16gb ram what storage engine do you use do you have a sample my cnf i am also very interested in using redis i use publish subscribefor forwarding alarms and real time measurements from arduino unfortunately without archiving i am looking for more information on storing time series in redis with or without webdis because using the native redis protocol in the arduino is a great idea to save space and increase efficiency does the average values u200b u200bderived for example 60 are pre calculated and it available in a database or she are calculated on the fly during each query greetings,0.934011220932
Hans,open terminal and start in home user sudo apt get install aptitudesudo aptitude updatesudo aptitude install build essential git core curlbash curl http rvm beginrescueend com releases rvm install head echo s home rvm scripts rvm source home rvm scripts rvm bashrc u00a0 bashrcsudo aptitude install mysql server libmysqlclient dev libmysql rubysudo aptitude install libssl dev libopenssl rubysudo aptitude install libxslt1 1 libxslt1 dev libxml2 libxml2 dev rubygemsrvm install 1 9 2rvm default use 1 9 2gem install railsgit clone git github com iobridge thingspeak gitcd thingspeakgem updatebundle installgedit config database yml examplechange database username and password for development test and production databases and save the file as database ymlrake db createrake db schema loadrails server,0.5
Wam,hi u00a0is it possible to have an updated version of this tutorial for ubuntu 11 with may be a little more explanations i am quite a rookie in linux and database things but i am really interested in the thingspeak api installation what are the possibilities once thingspeak api is installed on our own servers is it really the same as the thingspeak website creating an account and so on u00a0i hope for an answer and please excuse me is some of my questions are dumb or na u00efve u00a0fabien,0.911966502666
hans,thingspeak installation instructions have been updated for ubuntu 11 10 and now the same instructions work on ubuntu 10 and up u00a0here are the instructions on github https github com iobridge thingspeak blob master readme textile u00a0each line is a command that you enter from the terminal window,0.5
peterhd,hi therei am a totally newbie to ruby and thingspeak but not to linux and hacking correct sense around so i thought i might add a few comments with regard to an install u00a0installing on slackware 12 1 oldish ruby version upgraded to ruby 1 8 7 2009 06 12 patchlevel 174 i686 linux rails rails 3 0 4llawlor thingspeak 5e54790 u00a0first thing i ran into as a newbie was the idea of production development test environments u00a0 by default the install runs in the development environment and does not add the production database to the mysql u00a0 this required switching to the production environment and re adding the database by setting an environment variable export rails_env production there are otherways of doing that but that worked for me u00a0 http oldwiki rubyonrails org rails pages environments u00a0 this will obviously be required going forward u00a0once that was set and i was running in the production environment the path for the public folder broke i have not figured out where to set that correctly yet i just used u00a0 enable serving of images stylesheets and javascripts from an asset server u00a0 u00a0 config action_controller asset_host http mysever thing by copy the files from public to the a directory in the document root of the local apache u00a0 and setting the above it worked fine u00a0i could then create an account but on logging out the login again had a problem u00a0 from the logs the error was u00a0 usr local src llawlor thingspeak 5e54790 app views users _login html erb 1 syntax error unexpected tassoc expecting kend u2026on usersession new url user_session_path html u2026 u00a0which is this first line u00a0 form_for user_session usersession new url user_session_path html id loginform do f u00a0after googling i took a flyer and changed that to this u00a0 form_for user_session url user_session_path html id loginform do f u00a0and that worked u00a0next up the link for managing keys does not work u00a0 from the logs u00a0actionview template error compile error usr local src llawlor thingspeak 5e54790 app views api_keys index html erb 42 syntax error unexpected u2026path channel write 0 output_buffer safe_concat u00a0and still no data being graphed u00a0i will update as i progress u00a0peter u00a0 u00a0,0.5
lee,we built the application while using ruby 1 9 2 and have not tested it with older versions of ruby u00a0hopefully if you can upgrade some of the errors will go away u00a0we also recommend using phusion passenger with nginx as the webserver u00a0if you have any questions let us know u00a0,0.834140539169
peterhd,hi therewell there you go u00a0i took your advice and upgraded ruby etc u00a0bingo all working thank you very much u00a0now i can play with more interesting things ud83d ude42 u00a0peter,0.99261367321
beluga,sometime in the last few days a visualization that uses thingspeakplot has stopped working the error is error using thingspeakplot line 59 the following error occurred converting from datetime to double undefined function would ouble for input arguments of type would atetime to convert from datetimes to numeric first subtract off a datetime origin then convert to numeric using theseconds minutes hours days or years functions the same code was previously working i have created a very simple test that reproduces the problem code below seems like something has changed in thingspeakplot help dummy table datatimestamps datetime 2015 12 18 08 03 05 2015 12 18 10 03 17 2015 12 18 12 03 13 2015 12 18 13 07 23 2015 12 18 14 45 51 temp1 37 3 39 1 42 3 38 9 33 6 temp2 33 5 33 7 34 5 35 7 37 6 temp3 24 0 28 1 26 3 27 3 33 6 create timetablett timetable timestamps temp1 temp2 temp3 visualize datathingspeakplot tt timestamps tt variables,0.0454668998718
cstapels,i am able to reproduce this issue we are working on a resolution and expect to implement it shortly,0.0731526017189
cstapels,the issue has been resolved i no longer see the same error when i test the code you provided please let us know if you continue to see the issue be sure to refresh your browser before testing thank you for your help,0.802243590355
beluga,working perfectly again thanks for the quick response,0.974690258503
svinzant,i had an email that my matlab analysis stopped working today around 11 35amthe general error is error using strfindinputs must be string scalars or character vectors error in urlfiltererror in scrape ambientweather net line 11 dataset urlfilter url winddir 20 this has been working fine for months now i can not get it fixed for the life of me i have been all over the map looking at and trying code examples with no luck any help would be greatly appreciated my redacted code is listed below writechannelidwritechannelid nnnnnn writeapikeywriteapikey abc123 url setupurl https api ambientweather net v1 devices applicationkey zyx apikey 098 data collectiondataset urlfilter url winddir 20 display all datadisplay dataset 1 wind direction display dataset 2 wind speed mph display dataset 3 wind gust mph display dataset 4 maximum daily wind gust mph display dataset 5 outside air temperature f display dataset 6 outside humidity display dataset 7 hourly rain rate inches display dataset 8 would aily rain total inches display dataset 9 weekly rain total inches display dataset 10 monthly rain total inches display dataset 11 yearly rain total inches display dataset 12 total rainfall inches display dataset 13 inside air temperature f display dataset 14 inside humidity display dataset 15 are lative barometric pressure inches of mercury display dataset 16 absolute barametric pressure inches of mercury display dataset 17 uv display dataset 18 olar radition w m2 display dataset 19 outside temperature feels like f display dataset 20 would ew point write eight parameters of datathingspeakwrite writechannelid dataset 1 dataset 2 dataset 5 dataset 6 dataset 7 dataset 8 dataset 15 dataset 19 writekey writeapikey attached is a screenshot of the output from the ambientweather api if you need additional info please let me know and i will track it down or explain in more detail thanks scott,0.0383623540401
cstapels,we are able to reproduce this problem and we are working a resolution we will post in the forum when it has been resolved,0.101000010967
svinzant,one thing i have noted my other matlab analysis that does work is only using http whereas the one that is not working uses https it is certainly something in the urlfilter command maybe something with the way input is handled or something with the way secure http is dealt with if there is a way to chat message privately please contact me and i can share my complete api keys with you for further testing on your end thanks scott,0.804541230202
cstapels,the issue has been resolved please let us know if you continue to see the issue be sure to refresh your browser before testing i think you have provided enough information for us to recreate the experiment thanks for the helpful information we will reach out if we need more information,0.859117925167
kikorojo,hello i have problems with the time stamps what i wanted to do is to send data that i have in my laptop to thingspeak so i can visualize it in the web i need that the time stamp of the data that appear in thingspeak be the same as the one that the data have in my laptop which is the time where the data was created in the first place however thingspeak shift the time to adjust for local time which is a problem in my case because i have weather data and i do not want my solar radiation sensor peak at 5 6 am as an example when i upload the data from matlab using thingspeakwrite with a time stamp of 04 sep 2018 16 23 43 in thingspeak appear shifted to 04 sep 2018 08 23 43 utc 7 then when i download the same data using the data export button this value appear shifted again to 04 sep 2018 12 23 43 utc 3 what i would really like to have is the option that thingspeak maintain the timestamp instead of keep changing it is there a way to do this can i configure the utc time in thingspeak or in matlab it seem that one way to control the shift is changing my laptop local time but hopefully there will be a better option as a rather prefer to maintain my laptop at the correct time i can see that there is an option in the data import export label to modify the utc time but it seems that this is just for manually upload data to thingspeak which is not what i want to do thank you very much for the help,0.238473474979
joergkainz,i subscribed to the service set up a react react is working on data insertion and with 10 min frequency but is not working with 30 60 min frequencey any ideas,0.5
cstapels,we are able to reproduce the issue and are investigating potential resolutions thank you for your post,0.834808290005
cstapels,the issue has been fixed please let us know if you continue to observe the original problem thanks again for reporting,0.144343078136
joergkainz,thx now its working perfectly,0.951310992241
fmarzocca,hi in my channel timestamps are corectly shown in the 24h format hh mm i made two matlab views from channel data but the x axis timestamps is shown in the 12h format hh mm p m how can i make things consistent,0.88939511776
cstapels,can you consider using the dateaxs settings https www mathworks com help finance dateaxis htmlhere is an example that uses those settings https www mathworks com help thingspeak candle plot with customized date axis htmli do not thing you can apply it to a thingspeakplot but it will work with other matlab plot types that you can use in thingspeak,0.839568376541
fmarzocca,hi i have set two matlab views on my channel i can see them from the web interface but they do not show in the smartphone app thingview full is it normal,0.5
cstapels,i found contact information for the thingview developer at the bottom of this page https play google com store apps details id com cinetica_tech thingview hl en_us if the developer or someone else who uses thingview checks the forum hopefully they can chime in if you reach out to them can you mention this forum to them in case they are not aware if you get the answer from the developer please post it here too,0.5
teratoulis,hi everyone is it possible to create artificially communication faults data congestion or corrupted data etc in order to test how the communication network responds to that thanks in advancenikolas,0.771490097046
Simone,hello everybody i am trying to visualize multiple series with mathlab visualization yy plot everything works great but the visualization is real bad i can not control y axis extention the right one should be from 0 5 to 1 5 and the numbers on the left are displayed with 10 decimals the plot is here https thingspeak com apps matlab_visualizations 238861this is actually my plot code thingspeakplotyy timestampst tmandata timestampsio correctstate ylabel1 temperature ylabel2 tate linewidth2 2 thank you,0.767451882362
cstapels,i would consider using the basic matlab plot function you lose some of the real time updating capabilities of thingspeakplots but there are a lot more axis options https www mathworks com help matlab ref plot html,0.238878518343
frenk0,how can i make a visualization of how many entries i recived in a day on a bar graph something like the the graph you can find in the account page https thingspeak com account but not for every entry the account recived but just the ones from a particular channel thank you ud83d ude42,0.852852284908
cstapels,see the workflow in the get started tutorial it has some similarities https www mathworks com help thingspeak getting started with thingspeak htmlcreate a new matlab analysis use thingspeakread to read the values from your raw channel read for one day you can read into a timetable and measure the height numentries height thingspeakread channelid numdays 1 outputformat timetable then use thingspeakwrite to write the value of numentries to another new channel that you create processed channel then save the analysis and set up a time control to call the analysis you made once per day the thingspeak plot in your processed channel view can be changed to a bar graph using the pencil icon in the upper right of the plot the default is a line plot,0.5
frenk0,thanks a lot this really helped i did not know about the height function,0.906789064407
cstapels,glad i could help let us know if you have an interesting new thingspeak application to share if you read into a vector such as data times thingspeakread channelid numdays 1 then you should use length times height and width are for timetables,0.978349089622
BoOM,hey everyone i really looking forward for some help i try to calculate the time difference between two rfid loggin data u00b4s i mapped the uid u00b4s from the cards with 1 so ich only get 1 on y axis and the time on x achsis see here https thingspeak com channels 497889i really dont u00b4t know what function to take for calculating time 2 time 1 minetime timeit tic toc plot time datediff diff and how do i get what i need the introductions from this functions are not givin examples from that what i want always the last value of the table minus the second last value can i take this code for starting and underneath the function i need readchannelid 497889 todo replace the with the field id to read data from fieldid1 1 channel read api key if your channel is private then enter the read api key between the below readapikey xxx read data read first data variable data timestamps thingspeakread 497889 fields 1 numminutes 360 then i get something like this data 9 9 9 9timestamps 4 u00d71 datetime array 21 may 2018 08 21 36 21 may 2018 08 21 53 21 may 2018 08 22 13 21 may 2018 08 30 36 many thanks for some help in advance ud83d ude42,0.5
rw950431,i suspect that the diff or caldiff functions are what you are looking for hopefully one of the matlab experts will chime in with the right syntax,0.880924522877
cstapels,when you read the data matlab takes care of interpreting the times and you can subtract the directly mydata mytimes thingspeakread 497889 numpoints 2 numminutes minutes mytimes 2 mytimes 1 i sometimes prefer to use a timetable mytabledata thingspeakread 497889 numpoints 2 outputformat timetable nummins minutes mytabledata timestamps 2 mytabledata timestamps 1 does that help you do what you wanted to do,0.5
tiaratan,hi all i want to plot a best fit 2d line on thingspeak i am using thingspeak matlab visualisations and i edited the program from there by adding in the function lsline to plot the best fit line my program is as such todo replace the with channel id to read data from readchannelid 484262 todo replace the with the field id to read data from fieldid1 1 read data data time thingspeakread readchannelid field fieldid1 numpoints 20 visualize data thingspeakplot time data lsline however i have an error code which says this to use lsline the following product must be licensed installed and enabled statistics and machine learning toolboxerror in create a 2 d line plot 3 line 21 lsline i wish to do all of the analysis on thingspeak cloud platform and not have to export the data out from thingspeak and analyse the trends by uploading data to the actual matlab r2018 program is it even possible to plot a best fit line on thingspeak itself based on the data points from my channel or can this only be done on the actual matlab program also is it possible to plot a best fit line on matlab analysis instead program above is using matlab visualisation,0.798836827278
cstapels,if you have a license that includes statistics and machine learning then log into thingspeak using the mathworks account that has the license you will then be able to use isline there are definitely other ways to fit data using the base matlab that is available through thingspeak such a solution will not require a license see the example at https www mathworks com help thingspeak visualize correlation between temperature and humidity html the last section at the bottom shows how to use polyfit to do linear regression poly fit will also fir to higher order polynomials there are also functions for fit other types of curves you can definitely do these operations in thingspeak matlab visualizations app or the matlab analysis app you cannot plot a fit line using matlab analysis but you can determine fit parameters to your data in matlab analysis the linear regression page shows you how to determine slope and intercept for a line of best fit https www mathworks com help matlab data_analysis linear regression htmlthe matrix technique shown will work in matlab analysis but you would not be able to visualize our data,0.5
jacktheripper125,hi i am trying to scrape the data from my temp sensor it is located at malcomp mooo com 1010 u00a0i have put the temperature between span tags like the example but it doest like it im sure im just missing something but it just doesnt seem to get any data u00a0any ideas u00a0 code scrape a website to identify the current temperature the temperature is then written to another thingspeak channel specify the url containing information on current temperature in natick ma u s a url http malcomp mooo com 1010 index htm todo replace the with channel id to write data to writechannelid 405063 todo enter the write api key between the below writeapikey ugeuh8a5t1v9afa9 fetch data and parse it to find information of interest learn more about the urlfilter function by going to the documentation tab on the right side pane of this page temp urlfilter url temp display temp temperature code,0.5
Vinod,looks like the site is loading some of the dom dynamically you will need to do this in two steps 1 create a thinghttp appset the url to http malcomp mooo com 1010set the parse string to u00a0 span 2 text now you can hit this thinghttp from a device or from matlab and the result will be the text in the second span on the page2 create a matlab analysis app with this code opts weboptions timeout 15 data webread insert api url from step 1 opts,0.5
jacktheripper125,i have no idea how that works in the second part but it does now i need to push the data to the feilds but the examples given dont make sence to mei have tried the code below but it is so far off it is probably laughable i am trying to get the data to u00a0 field u00a0 u00a0lounge_temp u00a0 and then once i have this i will try to play to get it to do the 4 other sensors u00a0thank you for your help im relived it is at least scraping u00a0 code enter your matlab code belowopts weboptions timeout 15 data webread https api thingspeak com apps thinghttp send_request api_key pc4eoctmndppqosw opts writechannelid 405063 todo enter the write api key between the below writeapikey blahblahblah fetch data and parse it to find information of interest learn more about the urlfilter function by going to the documentation tab on the right side pane of this page lounge_temp urlfilter numbers display lounge_temp temp write the temperature data to another channel specified by the writechannelid variabledisplay note to successfully write data to another channel assign the write channel id and api key to writechannelid and writeapikey variables above also uncomment the line of code containing thingspeakwrite remove sign at the beginning of the line learn more about the thingspeakwrite function by going to the documentation tab on the right side pane of this page thingspeakwrite writechannelid tempf writekey writeapikey code,0.235712349415
Vinod,just clarifying the reason you were unable to use webread to get to the data the website that was serving the data was serving it on port 1010 this is a non standard port for http web servers and matlab running in the cloud blocks access to these non standard ports u00a0by using the thinghttp app we were able to put a redirection from the normal port port 80 to the non standard port 1010 on the website serving the data,0.5
jacktheripper125,oohhhi only picked 1010 because i could remember it 80 is being used and a few others so i just picked 1010 as it isnt used by any of my software what is the best port to use other than 80i will move it to that port then once i have done that i would like to scrape this data from the page into their 4 fields can you help with the code to do it my fields are 1 lounge_temp 2 loft_temp 3 lounge_humid 4 loft_humidthe page comes out like this below source u00a0thank you for your help i think i shot myself in the foot u00a0the fan is 0 br u00a0 span temp span u00a0 span u00a018 u00a0 span u00a0 span temp2 span u00a0 span u00a07 u00a0 span u00a0 span humidity span u00a0 span u00a060 u00a0 span u00a0 span humidity2 span u00a0 span u00a081 u00a0 span u00a0 br u00a0click a href h here a turn the fan on br u00a0click a href l here a turn the fan off br,0.704006791115
Vinod,if you are not using port 80 you will need to use thinghttp to essentially proxy the data from port 1010 to port 80 i showed in the example above the temperature 18 is in the second span which is why i set the parse string to extract the value in the second span u00a0you can create any number of thinghttps one for each field say you want humidity2 you will change the parse string to u00a0 u00a0 span 8 text this parses the text and pulls the value within the 8th span u00a0hope this helps explain the concept so you can modify accordingly,0.5
jacktheripper125,u00a0super 3 questions please im nearly there 1 how often will the thinghttp or the app poll for infromation and where to i change it2 can i remove the span and just look for the temp before the temperature and temp2 before the second this way i can remove the spans from the code saving some software space as im pushing my luck on it3 how do i get that info to the correct fields in analysis u00a0i am aware of my stupidity with this but im so upside down with c my brain isnt coping well u00a0thank you for your patience and help u00a0,0.5
jacktheripper125,ok im nearly nearly there u00a01 i set that easy to answer u00a02 yes i can3 still cant figuremy output is now as belowbut i cant figure the command to take the 4 numbers and fill them into the for fields could anyone tell me what is needed i have got part way with u00a0 u00a0thingspeakwrite xxxxxx analyzeddata writekey xxxxxxxxxx its the analyseddata bit im stuck on u00a0data 17 6 61 83,0.171521037817
cstapels,have a look at the documentation for thingspeakwrite u00a0 there are some good examples there i think you want to use the name value pair fields thingspeakwrite xxxxxx values analyzeddata writekey xxxxxxxxxx fields 1 2 3 4 you may have to transpose analyzeddata depending on what shape it is in u00a0 use and apostrophe after the variable to transpose it u00a0 analyzeddata,0.71293592453
jacktheripper125,hi thank you for your replyi looked at the examples over and over and thought they would work but they only seem to be this sort u00a0 u00a0thingspeakwrite 17504 2 3 1 2 3 2 0 1 writekey 23zlgobbu9twhg2h perfect i thougt so off i went to use it and realised it was just filling in the data 2 3 to the first and so on and i dont know how to turn the output into a string i tried your command but it saidundefined function or variable analyzeddata is no one else doing this scraping data off a webpage and putting it into thingspeak a big thank you for your help,0.299086213112
cstapels,can you show what the value or some sample values you have for analyzeddata u00a0 or show the command where you scrape web data you need to be pretty explicit about format so that thingspeak can put stuff where you want it perhaps consider this format u00a0thingspeakwrite 17504 fields 1 4 6 values 2 3 on good writekey 23zlgobbu9twhg2h the result of the above will be an entry as followstime field1 field2 field3 field4 field5 field6 field7 field8 status location write time u00a0 u00a0 u00a02 3 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 on u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 good u00a0is that the effect you are looking for,0.824870169163
jacktheripper125,kind of i saw an example like that but every example i see are not taking values from the output and putting them into the channel they all say the values in the code and i dont see the point in that the output it sees aredata lounge_temp 17 loft_temp 6 lounge_humidity 64 loft_humidity 88 i have fields with the names lounge_temp and loft_temp etc so i need the value after putting in its field and every time i try to do this i get an error u00a0i would have thought this is a normal thing to do but i cant find any examples hopefully you can help,0.5
jacktheripper125,if anyone is interested i fixed it rather than trying to do all the data in one go and feed it to the channel i made 4 matlab apps and have set them to keep requesting data this is the code that worked u00a0 u00a0 template matlab code for reading numeric data from a webpage analyzing the data and storing the analyzed data in a channel prior to running this matlab code template assign the url for the webpage to scrape to the url variable also assign the target string to search for in the web page to the targetstring variable to store the scraped data you will need to write it to a channel other than the one you are reading data from assign this channel id to the writechannelid variable also assign the write api key to the writeapikey variable below you can find the write api key in the right side pane of this page as well todo specify url of the page to read data from url https api thingspeak com apps thinghttp send_request api_key xxxxxxxxxxxxxxx todo specify the target string to search in webpage targetstring lounge_temp todo replace the with channel id to write data to writechannelid xxxxxx todo enter the write api key between the below writeapikey xxxxxxxxxxx scrape the webpage data urlfilter url targetstring display data analyze data add code in this section to analyze data and store the result in the analyzeddata variable analyzeddata data write data thingspeakwrite writechannelid analyzeddata lounge_temp writekey writeapikey,0.24824860692
Vinod,you can use a single matlab analysis to scrape your data parse the different fields and write it to 4 fields of a channel or 4 different channels if that is what you wish i was trying to write the example for you but your website is malcomp mooo com 1010 does not seem to be up,0.238445669413
Vinod,i set up a u00a0thinghttp that reads the t1 element on your page to get its data here the simple matlab analysis app example that parses the data and writes u00a0it into fields 1 through 4 of your channel in a single write opts weboptions timeout 18 data webread https api thingspeak com apps thinghttp send_request api_key use your thinghttp api key here opts d2 strsplit data char 13 loungetemp str2double regexprep d2 2 0 9 lofttemp str2double regexprep d2 4 0 9 loungehumidity str2double regexprep d2 6 0 9 lofthumidity str2double regexprep d2 8 0 9 thingspeakwrite yourchannelidhere loungetemp lofttemp loungehumidity lofthumidity writekey use your channel write api key here u00a0if you are new to matlab you can search for what some of the functions like strrep strsplit str2double regexprep etc do here,0.5
jacktheripper125,wow u00a0thank you it works i would never had got to that point to many syntax traps for me in that code u00a0thank you thank you thank you u00a0,0.792741060257
jacktheripper125,after trying this code ive found it doesnt show minus figures anymore do you know why u00a0,0.0748820304871
Vinod,the example code works by splitting the return string based on new lines d2 strsplit data char 13 and then replaces all characters that are not in 0 9 in each of the subsets with a this will essentially convert 123 into 123 if you want to modify it to not drop the sign then you will need to modify the regular expression to u00a0regexprep d2 4 0 9 that says replace everything that is not 0 1 9 with a null value it spares your sign from being converted to a null string if you want to ensure decimal points also should not be dropped you will need to modify toregexprep d2 4 0 9,0.206739634275
jacktheripper125,amazing how do you know this stuff u00a0unfortunately due to me being useless i broke it u00a0i think it had something to do with me changing the name from loungetemp to lounge_temp but i have now changed both back but i still get the error u00a0index exceeds array bounds error in main_sensor_data line 4 loungetemp str2double regexprep d2 2 0 9 u00a0opts weboptions timeout 18 data webread https api thingspeak com apps thinghttp send_request api_key xxxxxxxxxxxxx opts d2 strsplit data char 13 loungetemp str2double regexprep d2 2 0 9 lofttemp str2double regexprep d2 4 0 9 loungehumidity str2double regexprep d2 6 0 9 lofthumidity str2double regexprep d2 8 0 9 thingspeakwrite xxxxxx loungetemp lofttemp loungehumidity lofthumidity writekey xxxxxxxxxxxx display data u00a0my channel info isname u00a0main_sensor_datachannel id 4xxxxxxxxxaccess publicread api key u00a0oxxxxxxxxxwrite api key u00a0zxxxxxxxxxffields u00a0 u00a0 u00a0 1 loungetemp u00a0 u00a0 u00a0 u00a0 2 lofttemp u00a0 u00a0 u00a0 u00a0 3 loungehumidity u00a0 u00a0 u00a0 u00a0 4 lofthumidity u00a0 u00a0as usual thank you for helping me out ud83d ude42,0.0352602303028
Vinod,i think there is something else going on your server at http malcomp mooo com 1010 has become terribly slow and takes a long time to render additionally there are changes in the server which cause it to sometimes return 1 for the rendered text to confirm this open a new chrome tab and hit f12 you will see the chrome debugger now click no the network tab of the debugger now in the address bar type http malcomp mooo com 1010 you will see that the page takes 15s for it to render this will likely cause your matlab code to timeout since as a free user your matlab code has to execute in less than 20 seconds i do not believe the solution to what you are looking for is on the thingspeak end you would need to modify the code on your server that is rendering the page at http malcomp mooo com 1010 u00a0good luck,0.5
turgo,i have been spending lots of time learning matlab in the thingspeak matlab analysis webpage u00a0the size of the code window is limiting u00a0please allow code window to be resized larger is there a group indent capability or a whole document auto format,0.5
Hans,this is a good feedback thanks we are working on editor improvements would you be open to discuss this further,0.955258667469
raihan97,hi you can take advantage and get 74 off coupon to learn matlab udemy coursecoupon code matlab25https www udemy com learn matlab couponcode matlab25,0.745806574821
shahsavan,thank you usefull u0637 u0631 u0627 u062d u06cc u0633 u0627 u06cc u062a,0.999567389488
abdmet74,hi u00a0i am new in mat labi have set of data that are constitute of station year month day and temperaturei want to plot the temperature values per month in each year according to a specific station u00a0any one can help me to make this process will be appreciatebest regards u00a0,0.5
cstapels,the configuration of plots in thingspeak depends strongly on how the data is organized u00a0 u00a0 does each station have its own channel u00a0 or is all the station data in one big table where the fields have the labels you describe u00a0if the channel is public you can share the channel number here and we can have a look at it to help the discussion u00a0 u00a0there are a lot of analysis and visualization tools in matlab that are available in thingspeak u00a0 have a look through some of the tutorials and examples especially the getting started tutorial for some ideas welcome to matlab and thingspeak,0.92384827137
jacktheripper125,hi i would like to ignore data outside a range ie if the data is over 400 or below 0 this is what i am using now occasionally the sensor goes mad i have had a try but im just messing up my data more with errors this is my current code u00a0 code u00a0 todo specify url of the page to read data fromurl https api thingspeak com apps thinghttp send_request api_key xxxxxxxxxxxxx todo specify the target string to search in webpagetargetstring is todo replace the with channel id to write data to writechannelid xxxxxxx todo enter the write api key between the below writeapikey xxxxxxxxxxxxx scrape the webpage data urlfilter url targetstring display data analyze data add code in this section to analyze data and store the result in the analyzeddata variable analyzeddata data write data thingspeakwrite writechannelid analyzeddata fields 1 writekey writeapikey u00a0 code,0.0546265542507
Adarsh_Murthy,hi how many points does the output of urlfilter command contain for the code examples below i am assuming that it only contains a single point there are several options available based on what is required for your applications here are a couple options that might be relevant option 1 if the data is outside the desired range then you can choose not to write that data to writechannelid todo specify url of the page to read data fromurl https api thingspeak com apps thinghttp send_request api_key xxxxxxxxxxxxx todo specify the target string to search in webpagetargetstring is todo replace the with channel id to write data to writechannelid xxxxxxx todo enter the write api key between the below writeapikey xxxxxxxxxxxxx scrape the webpage data urlfilter url targetstring display data analyze data add code in this section to analyze data and store the result in the analyzeddata variable maxvalue 400 minvalue 0 if data maxvalue data minvalue do nothing because data is outside the range defined 0 400 else write data thingspeakwrite writechannelid data fields 1 writekey writeapikey end u00a0option 2 if the data is outside the desired range then you can write a predefined value to writechannelid for example if the value is greater than 400 then you write 400 and if the value is less than 0 then you write 0 u00a0 todo specify url of the page to read data fromurl https api thingspeak com apps thinghttp send_request api_key xxxxxxxxxxxxx todo specify the target string to search in webpagetargetstring is todo replace the with channel id to write data to writechannelid xxxxxxx todo enter the write api key between the below writeapikey xxxxxxxxxxxxx scrape the webpage data urlfilter url targetstring display data analyze data add code in this section to analyze data and store the result in the analyzeddata variable maxvalue 400 minvalue 0 if data maxvalue u00a0 u00a0 analyzeddata maxvalue elseif data minvalue u00a0 u00a0 analyzeddata minvalue else u00a0 u00a0analyzeddata data end write data thingspeakwrite writechannelid analyzeddata fields 1 writekey writeapikey,0.827711582184
turgo,i am using thingspeakwrite to upload nov 2013 data to a new channel u00a0i downloaded data from a channel dated u00a022 nov 2013 00 00 00 utcthe last data point i processed and wrote is dated 22 nov 2013 00 00 00 u00a0when i view the data on the graph in the private view on my channel the last date is 22 nov 2013 00 00 00 u00a0gmt 800when i download the newly written channel the last date is 2013 11 22 08 00 00 utcmy data appears to have been shifted ahead 8 hours on the thingspeakwrite step is there an error in the way thingspeak is handling these dates or is there some nuance that i do not understand,0.5
turgo,i see in the documentation that u00a0 u00a0 the u00a0timestamp u00a0provided is interpreted in local timezone how do i get thingspeak to take my timestamp data in utc or how do i convert it to local time accounting for daylight savings time,0.5
turgo,this timestamp business is a confusing topic u00a01 for example when i use thingspeakread in matlab are the start and end dates in utc or local time u00a0the documentation does not say 2 is thingspeakread returning utc or local time in a timetable 3 are the datetime values shown in matlab utc or local time u00a04 if i set a local timezone d timezone america new_york does it affect the timetable i send to thingspeakwrite or just the display values in the matlab output pane,0.5
Adarsh_Murthy,hi turgo datetime now function in matlab by default displays the local timezone defined in matlab if you set the time i e evaluate code likedt datetime 1 jan 2018 then the datetime value is assigned to dt without a timezone you can assign a timezone to this variable by setting the property dt timezone america new_york ordt timezone local are fer to this link for further information https www mathworks com help matlab matlab_prog specify time zones html u00a0when you use thingspeakread in matlab the returned timestamps are always in local time by default this is the case whether you return the data in an array table and timetable i e for each of the cases below timestamps will be in your local timezone data time thingspeakread 12397 numpoints 10 datat thingspeakread 12397 numpoints 10 outputformat table datatt thingspeakread 12397 numpoints 10 outputformat timetable if the timestamps provided to thingspeakwrite do not have their timezone property set then thingspeakwrite assumes local timezone as defined by matlab else if the timestamps provided to thingspeakwrite have their timezone property set then thingspeakwrite will use the specified timezone u00a0 adarsh u00a0,0.5
turgo,thanks adarsh u00a0upon examination of the flow of dates in and out of matlab and thingspeak i think that there is no problem with the new recorded data 1 u00a0thingspeakread start and end dates are in local time 2 u00a0results are returned from thingspeakread to matlab in local time 3 u00a0datetime values displayed in matlab are in local time4 u00a0did not mess with d timezone5 thingspeakwrite converts local times to utc and writes utc to the channel feed,0.796767950058
Deimos,i have chosen a thingspeak example calculate hourly max temperature i modified the code to calculate the max temperature for 30 days temperature for the past hour is read from a thingspeak channel and maximum temperature is written to another thingspeak channel channel 12397 contains data from the mathworks weather station located in natick massachusetts the data is collected once every minute field 4 contains temperature data channel id to read data fromreadchannelid 300978 temperature field idtemperaturefieldid 2 channel read api key if your channel is private then enter the read api key between the below readapikey to store the maximum temperature write it to a channel other than the one used for reading data to write to a channel assign the write channel id to the writechannelid variable and the write api key to the writeapikey variable below find the write api key in the right side pane of this page todo replace the with channel id to write data to writechannelid todo enter the write api key between the below writeapikey read temperature data for the last 60 minutes from the mathworks weather station learn more about the thingspeakread function by going to the documentation tab on the right side pane of this page tempf timestamp thingspeakread readchannelid fields temperaturefieldid numminutes 60 24 30 are adkey readapikey calculate the maximum temperature maxtempf maxtempindex max tempf choose the timestamp at which the maximum temperature was measuredtimemaxtemp timestamp maxtempindex display maxtempf maximum temperature for the last hour is write the maximum temperature to another channel specified by the writechannelid variabledisplay note to successfully write data to another channel assign the write channel id and api key to writechannelid and writeapikey variables above also uncomment the line of code containing thingspeakwrite remove sign at the beginning of the line learn more about the thingspeakwrite function by going to the documentation tab on the right side pane of this page thingspeakwrite writechannelid maxtempf timestamp timemaxtemp writekey writeapikey the code previously was calculating data for 60 minutes and it works fine i have changed u00a0it to u00a060 24 30 trying to calculate for 30 days and the result max temperature is not correct the result may be true for 7 days but not for 30 does not u00a0matter what i use u00a060 24 7 or u00a060 24 30 or u00a060 24 90 i always get the same max temperature i assume that there is some limit probably 8000 points p s i am new to matlab maybe i am doing something wrong please explain to me,0.5
cstapels,you are correct thingspeak limits the number of points you can read with thingspeakread or a single rest api call to 8000 u00a0 however you can read more by creating a loop if you need to u00a0 just be careful not to hit the code time maximum for your license type,0.906278967857
Vinod,a much better approach than to read more than 8000 points in a loop is to downsample the data and store it in another channel u00a0so let say you are getting raw data from your sensors every 15 seconds you could set up a timecontrol that runs every hour and averages this data and saves it to another channel if you needed averaging at a lower resolution you could further resample the 1 hour averaged data to every day and write to another channel etc the main advantage of this approach is that it allows you to operate on smaller amounts of data which is much more efficient and quick than operating on large arrays of data to give an analogy if you had to count the number of grains of sand in a bucket of sand rather than count each grain a better approach would be to count the grains in a small cup and count the number of cups in the bucket the second is an approximation but it is a good enough approximation that you can hope to complete the task in a reasonable amount of time than spending a few years on something that does not need to be that precise,0.5
cstapels,i agree downsampling is a much better solution and can be exact not an approximation in the case of measuring a maximum compared to counting sand,0.9371535182
turgo,i have got a data channel with 8 million fifteen second entries u00a0i need to aggregate this into hourly averages u00a0how do i practically do this given the 8000 point limit and the 20 second calculation timeout u00a0,0.5
cstapels,turgo one method you could try would be to downsample the data bit by bit and use a timecontrol to run this code regularly u00a0 the code below uses a new channel and reads its length to determine where to start the downsampling u00a0 put the code in a matlab analysis and trigger it with a timecontrol u00a0 it will eventually reach the max or run out of data and stop u00a0 then you can turn off the timecontrol you need to set up a new channel and provide its read and write api keys u00a0 the variable oldchannel is the channel with many entries hourlychannel is the downsampled data u00a0 if your old channel is a private channel you will need to provide its read api key as well u00a0oldchannel 1234 hourlychannel 123456 writeapikey xxxxxxxxxxxxxxxx readapikey yyyyyyyyyyyyyyyy sizecheck thingspeakread hourlychannel are adkey readapikey numdays 2000 outputformat timetable dayspot round height sizecheck 24 hourly datadaysmax 1000 3 years of dataif dayspot daysmax make sure you do not read foreveronedaydata thingspeakread oldchannel would aterange datetime today days dayspot 1 datetime today days dayspot outputformat timetable if height onedaydata 0hourlydata retime onedaydata hourly mean thingspeakwrite hourlychannel hourlydata writekey writeapikey endend u00a0keep in mind that this method could consume a lot of messages as many as 24 000 u00a0 u00a0for future channels that you need long periods of data from i suggest setting up a downsampled channel at design time hopefully that will save you the trouble next time u00a0 u00a0,0.694877028465
turgo,thanks for your effort to craft this solution one note it will take 5 day to run this script on each channel 11 total u00a0i would best get going as i have 15 days left,0.800939381123
turgo,i discovered that staples method result in a channel which is written backwards in groups this results in a channel feed that is hard to use and read when downloaded here is a method that writes the channel from start to finish averaging hourly data into daily data u00a0note the use of channel arrays to manage large numbers of channels u00a0i assemble the arrays from an excel spreadsheet aggregate daily from hourly channel 1 mychannelname channel 1 datetimestart datetime 2013 11 11 update start date of data channellist hourly channel 1 would aily channel 1 hourly channel 2 channelid channelreadkey xxxxxxxxxxx xxxxxxxxxx xxxxxxxxxxxx channelwritekey xxxxxxxxxxx xxxxxxxxxx xxxxxxxxxxxx channeltable table channelid channelreadkey channelwritekey rownames channellist hourlychannelid channeltable channelid hourly mychannelname hourlyreadapikey channeltable channelreadkey hourly mychannelname dailychannelid channeltable channelid would aily mychannelname dailyreadapikey channeltable channelreadkey would aily mychannelname dailywriteapikey channeltable channelwritekey would aily mychannelname determine the next day to read aggregateprogress thingspeakread dailychannelid numpoints 1 are adkey dailyreadapikey outputformat timetable display aggregateprogress if isempty aggregateprogress new hourly channel display would aily channel empty datetimestop dateshift datetimestart tart would ay days 300 else existing hourly channel datetimestart dateshift aggregateprogress timestamps 1 tart hour hours 24 datetimestop dateshift aggregateprogress timestamps 1 tart would ay days 300 end read the next day worth of data display datetimestart display datetimestop data thingspeakread hourlychannelid would aterange datetimestart datetimestop are adkey hourlyreadapikey outputformat timetable display summary data if height data 5 display data 1 5 end convert text numbers strvars varfun iscellstr data output uniform display strvars for varnum 1 length strvars if strvars varnum celldata table2cell data varnum celldata str2double celldata data varnum celldata end end error correction 999 to nan for humidity data negtonanfunc x x x 100 x 100 display negtonanfunc 1000 data varfun negtonanfunc data if height data 5 display data 1 5 end if isempty data display no data for that day period else datadaily retime data would aily mean display datadaily 1 5 thingspeakwrite dailychannelid datadaily writekey dailywriteapikey end,0.5
jacktheripper125,anyone out there who can help u00a0can anyone help on what i need to send the data from a matlab output to a field on thingspeak this is my current code enter your matlab code belowopts weboptions timeout 15 data webread https api thingspeak com apps thinghttp send_request api_key pc4eoctmndppqosw opts writechannelid xxxxx todo enter the write api key between the below writekey xxxxxxxxxx thingspeakwrite writechannelid data writekey but it comes up with this in the output u00a0 data 18 6 60 88 error using read temp line 10 error using thingspeakwrite expected a string scalar or character vector for the parameter name,0.5
jacktheripper125,bumpy road,0.0655990540981
jacktheripper125,i have now got to u00a0this is my current code enter your matlab code belowopts weboptions timeout 15 data webread https api thingspeak com apps thinghttp send_request api_key pc4eoctmndppqosw opts writechannelid xxxxx todo enter the write api key between the below writekey xxxxxxxxxx thingspeakwrite writechannelid data writekey but it comes up with this in the output lounge_temp18loft_temp6lounge_humidity62loft_humidity88 must be a string scalar or character vector that can represent a field name any ideas how to fix im not sure the blank lines are causing this but there is no help at all for thingspeak such a shame as im sure it is just a little bit of code im missing but no one on the forum no help and no real support unless i want to pay 200 for it maybe i should abandon thingspeak u00a0 ud83d ude41,0.5
turgo,use would isplay data to see what exactly you are sending to thingspeakwrite u00a0check out the data format expectations in the documentation for thingspeak write u00a0change your code to get the format right u00a0good luck,0.757818460464
jacktheripper125,thank you for your help but the data comming in seems fine i have even got rid of the the spaces before and after from the server but now i just cant get the code to push it to the fields into the channelmy code is below including your display data and the output what i need is the code to get the it to the fields but nothing i try has worked why is it so difficult the field names are there and they match my fields i am guessing that i need to push them to the database but nothing i have tried gets any part of it to the database u00a0data webread https api thingspeak com apps thinghttp send_request api_key pc4eoctmndppqosw opts writechannelid 405063 writekey ugeuh8a5t1v9afa9 display data thingspeakwrite writechannelid data writekey u00a0 u00a0my output is u00a0data lounge_temp 17 loft_temp 6 lounge_humidity 64 loft_humidity 88 would ata lounge_temp 17 loft_temp 6 lounge_humidity 64 loft_humidity 88 error using read temp line 13 error using thingspeakwriteunmatched parameter name lounge_temp 17 loft_temp 6 lounge_humidity 64 loft_humidity 88 must be a string scalar or character vector that can represent a field name,0.140179634094
Vinod,you can use a single matlab analysis to scrape your data parse the different fields and write it to 4 fields of a channel or 4 different channels if that is what you wish the example i wrote is in this post,0.269719004631
turgo,it looks to me like your would ata is a string with line feeds in it u00a0i bet that thingspeakwrite does not like that u00a0the documentation shows that thingspeakwrite expects data types data u2014 data to write to channelarray numeric table timetable u00a0i would look for some slick matlab command to load your string with line feeds into a table you could also try commas instead of line feeds this stuff is hard u00a0you will get it,0.5
turgo,i am trying to u00a0determine the date of the first channel entry point u00a0this would seem a simple exercise but there are problems u00a0for example downloading the channel yield a 500 mb file which is impossible to open u00a0using thingspeak read with a broad range of dates yields only the ending points u00a0if the dates are both prior to the channel start an error is generated u00a0what do i do u00a0it would be really helpful for thingspeak read to have the ability to return points by index value,0.123920828104
Vinod,if have the file on a linux computer you can use the head command u00a0if you are on windows you will need to open up a powershell and executeget content c path_to_fileyour_file_name totalcount 10to get the first 10 lines out of curiosity of this 500mb of data how much of it is critical to you and how do you use it,0.5
turgo,i use the data in realtime as a gage u00a0rapid update is important u00a0however i do not need this kind of resolution in the historical data hence my other threads about consolidating my data u00a0is there a unix shell command that will work on the mac os,0.5
Vinod,the head command should work on the mac tryhead n 10 filename csv,0.5
turgo,i found another way u00a0first start downloading the entire channel then cancel the download finally open the small file containing the first points,0.5
turgo,thanks hans for all the years of thingspeak functionality and data storage u00a0i have gigabytes of data on your servers and with the new pricing i need to average it down into new channels u00a0how do i do this u00a0i expect there will be many users in my situation is there a template for doing this,0.5
turgo,the free year is almost expired and now i need to consolidate my data u00a0again i ask how do i do this u00a0i expect there will be many users in my situation is there a template for doing this,0.129082560539
cstapels,i have posted a slow but sure solution in another topic u00a0 please let us know if that helps,0.92148244381
turgo,how do i do processing on large channels with say 8 million points u00a0the apparent limitations are 8000 points per load and the 20 second compute timeout,0.5
cstapels,i have posted a slow but sure solution in another topic,0.823938965797
avbuuren,hi i would like to ask for help i am sending value to thingspeek periodically lets say every 5 minute where the original message is number but the transmission changes the string number value into hex format so instead of 40 i do receive u00a03430 after 5 minutes instead of value lets say 45 i receive u00a03435 and so on i want to plot original values i started with analysis tool writing code below but i need help with function for changing hexadeciaml value back into original value readchannelid xxxxx readapikey xxxxxx writechannelid xxxxxx writeapikey xxxxxx data thingspeakread readchannelid are adkey readapikey outputformat table analyzeddata data analyzeddata counter data counter thingspeakwrite writechannelid analyzeddata writekey writeapikey tank you,0.708536922932
cstapels,try this value 3435 intconvert str2num char sscanf value 2x notice that value has to be a character vector if you can keep the device or program that is posting from converting to hex thingspeak will definitely accept field values as string u00a0 however adding a string manipulation class your code may not be easy if you are using a limited hardware u00a0 u00a0,0.811522722244
Max Marder,hello i want to create a plot with the derivation of existing channel data i send about every 5 minutes the amount of used energy to thingspeak this is more or less a constant increasing value watching these values in a graph is boring i want to display the derivation of these values in a graph example sending each time a value of totally used kilo watt hours kwh 100 00 100 01 100 02 100 03 100 10 using the microwave 100 11 100 12 100 12 main fuse blows 100 12 this should display a const horizontal line with a single peak microwave and going back to zero at the end i tried this but i does not work energydata time thingspeakread readchannelid fields energyfieldid numpoints 100 are adkey readapikey dydx diff energydata diff time cannot divide a double array by a duration array u00a0and it should be some kind of logarithm i want to see small changes e g kitchen light with 60w as well as big changes e g microwave with 1500w u00a0is there a easy way to do so thanks a lot,0.5
cstapels,try converting to seconds dydx diff data seconds diff time,0.256970047951
Max Marder,hy thanks a lot for the really fast response i guess its pretty close to a working solution my code is data time thingspeakread readchannelid field fieldid1 numpoints 250 are adkey readapikey dydx diff data seconds diff time thingspeakplot time dydx and the result is error using thingspeakplot line 59 x must be same length as y error in create a 2 d line plot 2 line 25 thingspeakplot time dydx u00a0can you help me one more time,0.753490805626
cstapels,since dxdy is a difference there is one less point in that array compared to the time stamps after you do the calculation remove the first point in the time array i changed one of your variable names in the code below data times thingspeakread readchannelid field fieldid1 numpoints 250 are adkey readapikey dydx diff data seconds diff times times 1 u00a0 remove one data point for plotting u00a0 matlab arrays stary at 1 not zero thingspeakplot times dydx,0.5
Max Marder,perfectthanks a lot nice christms gift ud83d ude42 u00a0my code looks at the end like this energy 2 days deviation log readchannelid xxx public fieldid yy numofpoints 750 numofhours 2 numofdays 2 readapikey u00a0 read data data time thingspeakread readchannelid field fieldid numpoints numofpoints are adkey readapikey data time thingspeakread readchannelid field fieldid numdays numofdays dydx 100 diff data seconds diff time numofpoints numel time number of array elementsdisp numofpoints is num2str numofpoints time2 time 2 numofpoints 1 whos debugging visualize data thingspeakplot time2 dydx linewidth 1 color are d yscale log u00a0,0.5
cstapels,thanks for posting the solution i like your syntax better it is more generic and happy new year too,0.984431505203
fcoppo,hi how do i download all the data from the channel and open it in matlab i saw the download in csv but it not ok for matlab i tried webread with the json page but it only has 100 data points could you please help channel id is u00a0372152 thank you,0.211387097836
Vinod,you can use the thingspeak support toolbox u00a0from desktop matlab to directly pull the data into matlab without having to go through a file you can also use the same functions in matlab apps on thingspeak,0.5
cstapels,using thingspeakread in the u00a0thingspeak support toolbox u00a0is the easiest way u00a0if you do need to use the rest command to get channel information with webread u00a0 you can use the results parameter to increase the number of entries up to 8000 u00a0get https api thingspeak com channels 9 fields 1 json results 8000,0.850362062454
chrissaxon,why do visualizations no longer work since some days before everything was ok all graphics are now empty and i can not create u00a0 new ones matlab code runs successfully but nothing shows up,0.142354369164
Vinod,the visualizations seem to work fine on my channel can you please share a screenshot of the channel view alternatively please share the channel privately with me vinod period cherian mathworks period com,0.802813887596
chrissaxon,ok thanks for the reply i have shared the channel with you hope you can fix the issue,0.934965610504
chrissaxon,same problem again a few hours ago everything was fine i did not change anything now all my visualizations u00a0 are empty,0.0737427175045
chrissaxon,now everything is ok again visualizations are ok,0.212139099836
cstapels,u00a0it tried mine after i read your post and they seemed to be working by then u00a0 u00a0 good to hear u00a0 thanks for updating the thread u00a0 u00a0,0.957853198051
kim,i have made a plot from multiple fields using thingspeakplot which works but my fields can only have the value 1 or 0 corresponding to on or off the problem i have is the y scale is 0 to 1 with 0 1 ticks which does not look that good is there a way to do any of the following use the yticks i tried but cannot get it to work use another method to set the ticks to just 0 and 1 to remove the tick labels completely thankskim,0.0395449697971
gillesroszak,hi everyone u00a0how can i change the color of graph background u00a0 in matlab visualization is there any solution u00a0 u00a0thank you for your answershere is my code template matlab code for visualizing data using the thingspeakplotyy function prior to running this matlab code template assign the channel id to read data from to the are adchannelid variable also assign the field ids within the channel that you want to read data from to fieldid1 and fieldid2 todo replace the with channel id to read data from readchannelid 343953 todo replace the with the field id to read data from fieldid1 1 todo replace the with the field id to read data from fieldid2 2 channel read api key if your channel is private then enter the read api key between the below readapikey would t410a2h8tt2vpxi read data read first data variable data1 time1 thingspeakread readchannelid field fieldid1 numpoints 850 are adkey readapikey read second data variable data2 time2 thingspeakread readchannelid field fieldid2 numpoints 850 are adkey readapikey visualize data thingspeakplotyy time1 data1 time2 data2 title t u00b0 sol 15 cm rouge 30 cm bleu grid on,0.5
lboucher,hi alli had the below code working a week ago and now that i finally got my setup deployed its not working the marker only lines work but the lines aka 1 and 3 do not show at all however its clear that the scaling is correct for the actual data what gives https thingspeak com apps matlab_visualizations 180907 u00a0thanks u00a0readchannelid todo replace the with the field id to read data from fieldids 1 2 3 4 channel read api key if your channel is private then enter the read api key between the below readapikey read data data time thingspeakread readchannelid field fieldid1 numpoints 30 are adkey readapikey tempdata timestamps thingspeakread readchannelid fields fieldids numdays 7 are adkey readapikey visualize data u00a0plot timestamps tempdata 1 hold onplot timestamps tempdata 2 rx markersize 10 hold onplot timestamps tempdata 3 g hold onplot timestamps tempdata 4 k markersize 10 xlabel time ylabel temperature legend well temp power loss min well temp outside temp power loss min outside temp grid on title cabin temp last week hold off,0.789584100246
cstapels,my guess is it is the data you are reading u00a0 u00a0i tried your code with some made up data and i see all the lines u00a0 have a look at each series individually make sure there are not nan or missing points or text data timestamps 100 200 tempdata 1 1 101 tempdata 2 201 301 tempdata 3 301 401 tempdata 4 401 501 plot timestamps tempdata 1 hold onplot timestamps tempdata 2 rx markersize 10 hold onplot timestamps tempdata 3 g hold onplot timestamps tempdata 4 k markersize 10 xlabel time ylabel temperature legend well temp power loss min well temp outside temp power loss min outside temp grid on title cabin temp last week hold off,0.760230123997
lboucher,hi alli am a newb and this should be a real simple question trying to plot some data for the past week which works but the x ticks are unreadable i would like it to just display the month and day regardless of scrolling or zooming link to unreadable plothttps thingspeak com apps matlab_visualizations 180907i have been searching the documenation on xtickformat and xdatetick but nothing works my code is below if i run it with the xtickform mm dd i get the following error error using xtickformat line 34 invalid numeric tick label format error in last week cabin well temperature line 30 xtickformat mm dd also a secondary question i would like 1 line to plot solid and another to plot only markers i assume i must specifically edit each line as desire after the thinkspeakplot command but i do not know the syntax u00a0any help is much appreaciated thanks readchannelid 339540 fieldids 1 2 3 4 readapikey tempdata timestamps thingspeakread readchannelid fields fieldids numdays 7 are adkey readapikey thingspeakplot timestamps tempdata xlabel timestamps ylabel measured values title last week cabin temperature data legend well temp power loss well min temp outside temp power loss outside temp grid on xtickformat mm dd,0.074795871973
cstapels,thingspeakplot has some extra functionality built in to simplify things but it does not have all of the matlab plot options u00a0you could use plot plot timestamps tempdata xlabel timestamps ylabel measured values title last week cabin temperature data grid onlegend well temp power loss well min temp outside temp power loss outside temp xtickformat mm dd for your secondary question have a look at the line specification page u00a0 there are some examples using multiple line styles there u00a0 u00a0,0.182604700327
lboucher,thanks i was thinking along those lines but was not sure how much of matlab thingspeak supports been about 10 years since i have done heavy matlab work,0.198986530304
lboucher,follow on question now i have a plot looking the way i want but i loose the dynamic zooming capability inspecting the html coming back to the browser it appears that u00a0 using the plot command results in an image coming back to the browser instead of a webplot when using thingspeakplot any way to get zoom control when using regular old plot i do online there is some fancy javascript out there to make nice looking plots but thats probably more work than i need to do,0.193427979946
decx,i am currently doing a school project where i collect data using the bosch xdk 110 sensor and send the data to thingspeak which i then need to analyse the data and figure out the predictive algorithm i am currently using sample data to work on to try it out first however i am unsure of how to do data analysis may i request help from anybody who knows to help out,0.239702671766
cstapels,what data are you collecting and what are you trying to predict that kit has an accelerometer gyroscope humidity magnetometer pressure temperature sensor according to the spec,0.5
decx,i will be collecting and predicting temperature,0.833819925785
trach555,hi the question is too general that is why it is not possible to give you precise answer but i will try to give you some tips first answer for yourself for these two questions how often you will read temperature data once per month week day hour minute how many data points you want to predict u00a0generally analysing temperature data you can expect periodical behaviour so you may assume model some cyclical trend maybe even some deterministic function like sin or cos and some noise check google holt winters seasonal model u00a0regardsgc,0.5
decx,i believe thingspeak allows data insertion once every 15 seconds for the trial account however not sure why the bosch sends out data about every 1 min the temperature will always be monitored as i am doing a industry 4 0 project doing machine monitoring so it like a live monitoring thing u00a0i am however unsure of how many data points to predict as i have never done this before but for my current project i can say perhaps just a small amount should be enough u00a0my plan is to get the average working temperature of the machine in my case a 3d printer so when there is a anomaly in the temperature it sends out notifications via thinghttp and thingtweet to notify the user,0.5
trach555,your plan does not sound like a prediction model it is more like an alert when present situation is different than normal average behaviour simple solution you can calculate simple mean of your temperature avg measurements and its standard deviations sd then you can rise an alarm if present temperature does not belong into interval avg alpha1 sd avg alpha2 sd where alpha1 and alpha2 are some constants those constants depends how much dispersion from the mean you are able accept as normal alpha1 and alpha2 could be equal but it is up to you if you want symmetrical interval or not for example you can accept avg 3 sd temperature but you will want to rise an alarm if temperature exceeds value avg 2 sd u00a0 u00a0 u00a0 u00a0add some complexity will you be measuring the temperature 24h per day or just when 3d printer is on if you think about measuring the temperature 24h per day u00a0you will have to face cyclical behaviour you will have different values temperature at night and during the day and also it does matter if the 3d printer is on or off u00a0so the simple model should be divided your measurments on some time intervals conditionally if your 3d printer is on or off u00a0 u00a0,0.5
decx,i think i made a mistake in try to explain what im doing but i see you got the right idea but i need a predictive graph for my project as well as for my project we are aiming to integrate industry 4 0 into it attached is the link to what industry 4 0 is aiming for u00a0 u00a0as for that it requires 24h monitoring as it will mostly be used on heavy machineries used in factories however i forgot about the fact that im using a 3d printer therefore it will only be monitored when it is on,0.242128103971
rushanarshad,hello everyone i am new to thingspeak and i am getting data from 2 sensors for liquid measurement onto my thingspeak channel i want to create a matlab visualization that combines data from 2 fields of the channel combine the data for a day and display it in the form of scatter or 2 d line plot how can i do that i am new to matlab and thingspeak u00a0 u00a0i look forward to your answers thanks,0.861998796463
trach555,hi you have to just clicked matlab visualisation and the choose create correlation plot you will be on the tab with some code already prepared in the code you must put in proper place there are suitable comments your channel id and fields ids in thingspeakread function you will see numpoints parameter with default value 30 then you must adjust this number to get values from one day if you think about day as a 24 hour period u00a0if you think about one day as exactly one day one date in calendar you will have adjust this number as above but then you will have to filter data to only present date regardsgc u00a0,0.789388656616
trach555,hi i am using 2d plot with two y axes it was working when i configured it but on another day it stopped working when i edit the code and hit ave and run button i see info that matlab code run successfully but there is no matlab plot output what is going on,0.262648165226
getty,trach555 said hi i am using 2d plot with two y axes it was working when i configured it but on another day it stopped working when i edit the code and hit ave and run button i see info that matlab code run successfully but there is no matlab plot output what is going on u00a0 u00a0 exactly the same problem as above the visualizations ceased to work a few days ago,0.123084366322
Vinod,thank you for reporting this i am unable to reproduce this on my channels could one of you facing the problem please share a screenshot or share the channel privately with me vinod period cherian mathworks period com u00a0if you do not mind sharing the code used on the visualization with the read api keys redacted that would be helpful in debugging the issue,0.802126348019
Vinod,for the folks who reported this are you using data from the weather channel are you pre processing your data to remove nan u00a0before plotting your data can you display the data that is being plot and observe if it has nan in them,0.276294648647
LvdK,hello i think i have the same problem i already had an old chart visualization on my channel from months ago and i can see my data updating the problem is my new plot visualizations do not work too when u00a0hit ave and run i see info that matlab code ran ok but there is no u00a0plot output only a blank windowtried some examples but plot visualizations do not work what is happening,0.0847038924694
trach555,hi there are no nan in data if i scratch semicolon after subsetting data1 i can see data in output window but there is no plot in matlab plot output window and also on private view there is only empty iframe i use chrome on microsoft edge it behaves exactly the same my channel is marked as public so you do not need api key below is my code but the same happens when i just create new matlab visualisation and put channelid and fieldid no matter which visualisation or even analysis i chose u00a0 template matlab code for visualizing data using the thingspeakplotyy function prior to running this matlab code template assign the channel id to read data from to the are adchannelid variable also assign the field ids within the channel that you want to read data from to fieldid1 and fieldid2 todo replace the with channel id to read data from readchannelid 212263 todo replace the with the field id to read data from fieldid1 7 todo replace the with the field id to read data from fieldid2 7 channel read api key if your channel is private then enter the read api key between the below readapikey read data n 30 read first data variable data1 time1 thingspeakread readchannelid field fieldid1 numpoints n are adkey readapikey data1 data1 1 2 end 1 time1 time1 1 2 end 1 read second data variable data2 time2 thingspeakread readchannelid field fieldid2 numpoints n are adkey readapikey data2 data2 2 2 end 1 time2 time2 2 2 end 1 visualize data if min data1 0 thingspeakplotyy time1 data1 time2 data2 color1 0 35 0 0 0 0 color2 blue linewidth1 2 linewidth2 2 ylabel1 g_humidity ylabel2 photo else thingspeakplotyy time1 data1 time2 data2 color1 blue color2 0 35 0 0 0 0 linewidth1 2 linewidth2 2 ylabel1 photo ylabel2 g_humidity endregardsgc,0.5
Vinod,we are able to reproduce the issue it appears to impact the thingspeakplot thingspeakplotyy and similar functions u00a0note that visualizations using the matlab plot plotyy and similar functions are unaffected we are investigating a solution that does not require any code changes to your code thank you for your patience as we work to resolve the issue,0.159457266331
trach555,new version of java killed functionality,0.793141484261
Vinod,a fix was deployed earlier today that restored full functionality everything is working as documented please let us know if you are still seeing any issues,0.206550121307
trach555,yes it is working now is it intentional behaviour that matlab visualisation can be displayed only in private view i found some info that matlab visualisations are preferred option for public view instead of plugins like google gauge for example which cannot be used in public view even the comment for for multiple series chart plugin says note this plugin will not be visible on public views of a channel if you intend to make your channel public consider using the matlab visualization app to create your visualizations are gardsgc,0.5
Vinod,it is possible to add a matlab visualization to the public view of your channel steps 1 make your channel public2 on the matlab visualization page check the checkbox that says create a public url 3 on the same page enable the checkbox to add the visualization to the public view of the channel let me know if that does not work u00a0,0.5
trach555,yes it works it was not clear for me that i must create a public url i just saw the tooltip which appear when you drug mouse on the checkbox public view it says matlab visualisation is private when checkbox create public url is not marked thanks,0.804949760437
decx,enter your matlab code belowreadchid 322698 readkey 548gqep6olosfzir writechid 334199 writekey ergwrt0ac8yb5b9z temp timestamps thingspeakread readchid fields 1 numpoints 100 are adkey readkey thingspeakwrite writechid tempavg fields 1 timestamps timestamps writekey writekey thingspeakplot timestamps tempavg xlabel timestamps ylabel avg temp title average temperature legend avg temperature grid on u00a0above is my current code i am doing a school project on machine monitoring and i need to calculate the average temperature of every 4 data inputted from the sensor i have bosch xdk 110 then find out what is the average working temp so when there is anomaly in the temperature the predictive algorithm can hopefully display it and send an alert to the user thingtweet or twillio please help me out with how i can make this current code find the average of every 4 data inputted and also how to write the predictive algorithm code as i have seen multiple codes but i do not understand it,0.5
rushanarshad,u00a0hello everyone u00a0 u00a0i am using matlab visualizations to display data from two fields of same channel in one chart basically i want to calculate average liquid from two liquid sensors into one chart it works for one field with the following line of code to extract data from one field u00a0data1 thingspeakread cid numpoints 10 fields 1 but when i use the same code and add them it doesnt display anything u00a0 u00a0can anyone help me with this problem u00a0 u00a0thanks u00a0,0.269516348839
cstapels,there could be u00a0different data types or missing data in one of the arrays u00a0if you remove the semicolon the output window should show you the values in data1 u00a0do the same thing for your other sensor and make sure there is not any text in there or missing values by accident u00a0 u00a0can you show the step where you are averaging the values and then the step where you plot the values u00a0,0.5
rayellam,hi all im using the following code in matlab visualization to display some text of a field value in a public view the problem is it does not dynamically update how do i achieve that u00a0code flowlh thingspeakread xxxxxxxx field 1 flowlh flowlh 1000annotation textbox 0 2 0 2 0 6 0 6 horizontalalignment center have rticalalignment middle linestyle none tring num2str flowlh m3 fontsize 48 u00a0thanksray,0.5
cstapels,ray the matlab code will only run when you tell it to i would suggest setting a timecontrol u00a0to update your value on a regular schedule or you could set up a react to change every time the channel value changes,0.5
rayellam,hi thanks for the reply but it seems that time and react controls will only work with matlab analysis and not with visualization if im correct then this seems like a major draw back can anyone confirm this is the case as my matlab experience is very limited u00a0i am using this non elegant work around to refresh the public view below edit your public channel id and refresh time then save as an html file then run this file html lang en body style margin 0 padding 0 body var width window innerwidth document documentelement clientwidth document body clientwidth var height window innerheight document documentelement clientheight document body clientheight var framehdl document getelementbyid myiframe framehdl src https thingspeak com channels your channel number here framehdl height height framehdl width width window setinterval are loadpage 1 60 1000 minutes to milliseconds function reloadpage location reload true html u00a0tiaray,0.912132501602
cstapels,i assume there is some data tht you are posting to a channel that you want to reference somewhere else u00a0if that is incorrect can you provide more info on what is your final goal use a react or timecontrol to trigger matlab analysis that writes data to a field use thingspeakwrite in your matlab analysis for example u00a0then when you read that field u00a0if your data is numeric and you can display it in a plot you can use the to embed your plot in a page raw html u00a0and set the plot to dynamic with a refresh rate where you want it see embed a plot u00a0 update is the time in seconds to refresh the plot,0.870470643044
rayellam,here is a link to my public channel https thingspeak com channels 311730the problems are associated with the middle two iframes that are both matlab visualizations and the data for these comes from channels that are updated once per minute the problem is both these iframes do not dynamically update when new channel values are received as the rest of the thingspeak iframes do instead i have to manually refresh the whole screen using f5 keyboard key to view the new data so my question is how do i assign a dynamic update to matlab visualizations thanks againray,0.84034961462
cstapels,ray at present it is not possible to have the visualizations update automatically in the same way thingspeak plots update u00a0this may be considered as a possible upgrade in the future u00a0you may also consider using the plugins app u00a0another possibility to consider would be to embed the iframe for your visualization in a different page that has an automatic refresh built in but the rate available to you may be limited u00a0,0.719206511974
nielsb100,u00a0hi u00a0i am logging my energy usage to channel u00a0203631 public i would like to calculate the average or median energy usage per weekday monday tuesday wednesday u00a0i am clueless on how to do this can somebody help me the channel contains 2 fields no1 the energy used per 30 seconds the other the sum of energy used per 24 hours i hope the timestamp from the channel it self can be used for date time that is requierd u00a0feel free to use the data from the channel u00a0thanx in advance u00a0niels,0.749752759933
piajola,hi niels please first run as is hope it run in your machine ud83d ude09see the output windows to check it is doing something useful read the comments then change it however you want needfinally post questionshow are you reading watts can we know always good to know u00a0 u00a0ver time is utc datestr datetime now timezone utc lima datestr datetime now timezone america lima dichanaidi 203631 taim 1 u00a0 u00a0 timestampscam1 2 u00a0 field1cam2 3 u00a0 field2 etc t1 datetime now u00a0 u00a0 time at running time i e right now yi 2017 u00a0 year t1 initial point in space time as in star trek ud83d ude09mi 1 u00a0 u00a0 u00a0 month t1 di 5 u00a0 u00a0 u00a0 day t1 hi 16 u00a0 u00a0 hour t1 mmi 0 u00a0 minute t1 si 0 u00a0 u00a0 u00a0 second t1 yf 2017 u00a0 ending point in desired time lapsemf 1 df 5 hf 16 mmf 14 minute t1 sf 59 u00a0 u00a0 second t1 tini datetime yi mi di hi mmi si timezone utc tini datetime yi mi di hi mmi si tfin datetime yf mf df hf mmf sf tkomo 0 if tkomo 1 tini timezone utc tfin timezone utc else tini timezone america lima u00a0 u00a0 change as per your galaxy and sun color tfin timezone america lima end tini timezone tfin timezone from datestr tini to datestr tfin datch thingspeakread dichanaidi fields 1 2 numpoints 100 outputformat table last 100 points datch thingspeakread dichanaidi fields 1 2 would aterange tini tfin outputformat table t1 datch taim u00a0 x1 datch cam1 datch start end field nothing nothing means all arrayx2 datch cam2 total kw num2str sum x1 second t1 prome mean x1 median avrg kw num2str median x1 prome max x1 prome min x1 xdif diff datch taim keyword diff finds 2nd 1st 3rd 2nd 4th 3rd 5th 4th so on to end of array there are not regular 30 sec,0.885223865509
nielsb100,thanx piajola i have been working on the code and have so far the following code now i want to calculate the averages per weekday have not figured out how to do this u00a0 u00a0ver time is utc datestr datetime now timezone utc lima datestr datetime now timezone america lima dichanaidi 203631 taim 1 u00a0 u00a0 u00a0 timestampscam1 2 u00a0 u00a0 field1cam2 3 u00a0 u00a0 field2 etc t1 datetime now u00a0 u00a0 u00a0 time at running time i e right now yi 2017 u00a0 u00a0 year t1 initial point in space time as in star trekmi 1 u00a0 u00a0 u00a0 u00a0 u00a0 month t1 di 5 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 day t1 hi 0 u00a0 u00a0 u00a0 u00a0 hour t1 mmi 0 u00a0 u00a0 minute t1 si 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 second t1 yf 2017 u00a0 ending point in desired time lapsemf 1 df 5 hf 23 mmf 59 u00a0 u00a0 u00a0 minute t1 sf 59 u00a0 u00a0 u00a0 u00a0 second t1 for j 1 8 u00a0 u00a0 u00a0 day x to y u00a0 u00a0 u00a0 stepsize to 7 for weekdays u00a0 u00a0 u00a0 assign j to any of the yi di variablesdi j df j tini datetime yi mi di hi mmi si timezone utc tini datetime yi mi di hi mmi si tfin datetime yf mf df hf mmf sf tkomo 0 if tkomo 1tini timezone utc tfin timezone utc elsetini timezone america lima u00a0 u00a0 u00a0 u00a0 change as per your galaxy and sun colortfin timezone america lima end tini timezone tfin timezone datch thingspeakread dichanaidi fields 1 2 numpoints 100 outputformat table last 100 pointsdatch thingspeakread dichanaidi fields 1 2 would aterange tini tfin outputformat table t1 datch taim u00a0 u00a0 x1 datch cam1 u00a0 datch start end field nothing nothing means all arrayx2 datch cam2 u00a0 out total energy during num2str yi num2str mi num2str di num2str max x2 kwh disp out end to figure out group by weekday and post to anonther channel,0.5
Rob Purser,i am probably being simplistic but timetables in matlab are probably what you need here u00a0you can use the retime function to apply an operation on a daily basis energydata thingspeakread 203631 numdays 7 outputformat timetable retime energydata would aily median u00a0you will get ans 5 u00d72 timetable arraytimestamps kwatt totalkwh ____________________ _____ ________05 jan 2017 00 00 00 0 37 8 642 06 jan 2017 00 00 00 0 36 5 373 07 jan 2017 00 00 00 0 37 7 736 08 jan 2017 00 00 00 0 24 5 787 09 jan 2017 00 00 00 0 23 3 357,0.5
rayellam,neat rob just what im looking for as a starting point for my application i think u00a0thanksray,0.907890677452
LEDsREPAIR,u00a0hi u00a0i am discovering matlab on the go i have one problem u00a0i get an incrementing value of rainfall in mm i would like to get a bar graph for example per day u00a0the substraction of two values i have figured out at begin of the day and at the end but how do i link it to a date and visualize it thanks in advance for any help,0.753634750843
rushanarshad,hello guys u00a0i am getting data from flow sensor and i want to calculate and display total liquid recorded for a day and for a specific hour how can i do that using matlab visualizations or analysis u00a0thank you and i look forward to some great suggestions best regardsrushan,0.932887971401
cstapels,rushan there is an example of how to aggregate data in the documentation here u00a0you can find more information on retime in the main matlab documentation you can also use the mean function in matlab to create an average value u00a0read the data using matlab analysis into a variable using thingspeakread u00a0 you could use the numpoints or numminutes to select a slice of your data u00a0then you can use the between function to calculate the elapsed time between your first and last points u00a0multiple the average flow rate by the time to get the total liquid u00a0then use the thingspeakwrite to write the data to another channel or another field of the same channel u00a0and if you really want to get fancy you can create a plugin to display the numbers you are looking for on your private view of the channel good luck,0.5
zkornz,i am very impressed what thingspeak cloud service do but now i can not solve the problem with running matlab code that ask for waiting the 15 second although i put the delay 45 up and down the command u00a0please help me for the current project according to the attacted photo error displaymatlab command,0.13016974926
zkornz,please help me guys t_t,0.180957347155
Hans,thanks for the comment i will try and find someone to help you as soon as possible thanks u00a0,0.985972821712
Adarsh_Murthy,hi u00a0a channel on thingspeak can be updated at the fastest rate of once every 15 seconds free account or once every 1 second paid account this limit is enforced even if multiple independent sources clients are writing to the same thingspeak channel at different rates with this is mind could you confirm that the matlab code that you have shared above is the only source writing to channel u00a0242517 note that the update rate limit is enforced even if you are writing to different fields at different rates consider the following example for the free account case on channel 242517 if fields 1 and 2 are being updated once every 15 seconds from one client matlab function and fields 3 and 4 are being updated once every 30 seconds by another client matlab program you might see an error because channel 242517 might get two updates in less than 15 seconds u00a0let us know if you are still seeing an error after ensuring that there is only one client matlab program writing to your channel u00a0 u00a0 adarsh,0.899953067303
Doug,hello i have a thingspeak project that requires some analysis u00a0 however matlab is totally foreign to me u00a0 i have been able to accomplish much of what i need but i am stuck and would like some guidance u00a0i have a channel that has 8 fields and the values within those fields are zeroes or ones u00a0 i want to calculate for one specific day and one specific field how much time the zeroes have been on u00a0 i cannot create a variable that contains the data points for just those zeroes such that i can then calculate the difference between the timestamps and then sum them u00a0 here what i thought would work but does not u00a0 data2 timestamps chinfo thingspeakread yyyyyy are adkey xxxxxx fields 1 would aterange datetime jan 21 2017 datetime jan 22 2017 outputformat timetable t table2array data2 for i 1 1 60 u00a0 u00a0 u00a0 if t i 1 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 zerodata t i 1 1 u00a0 u00a0 u00a0 endendt1 diff t timestamps t1a cumsum t1 t2 max t1a t2 u00a0i believe the statement defining zerodata is wrong but i cannot fix it u00a0 also i am just trying 60 data points rather than all the data for that day u00a0please excuse any stupid errors since i am trying to use matlab without getting deeply into it u00a0thank for any guidance you can give me,0.226804465055
Rob Purser,i think you are looking for a feature in matlab called logical indexing all you need is the timetable that is in the variable data2 in your example u00a0assuming it looks something like this data2 u00a0 u00a0 u00a0 u00a0time u00a0 u00a0 u00a0 u00a0 u00a0field1 field2 field3____________________ ______ ______ ______23 jan 2017 06 57 28 1 u00a0 u00a0 u00a0 0 u00a0 u00a0 u00a0123 jan 2017 07 57 28 0 u00a0 u00a0 u00a0 u00a0 0 u00a0 u00a0 u00a0123 jan 2017 08 57 28 0 u00a0 u00a0 u00a0 u00a01 u00a0 u00a0 u00a0123 jan 2017 09 57 28 0 u00a0 u00a0 u00a0 u00a01 u00a0 u00a0 u00a0123 jan 2017 10 57 28 1 u00a0 u00a0 u00a0 1 u00a0 u00a0 u00a0023 jan 2017 11 57 28 0 u00a0 u00a0 u00a0 0 u00a0 u00a0 u00a0023 jan 2017 12 57 28 0 u00a0 u00a0 u00a0 0 u00a0 u00a0 u00a01you can take the diff of the timestamps to get the duration between the timestamps like you didtimeon diff data2 time since diff returns one fewer rows than it given you will need to decide what to do with the last row u00a0if you just ignore it which is simple you will need to tack on a duration of 0 timeon timeon hours 0 a more sophisticated solution would be to tack on the elapsed time since the last row was written ok now you can use the logical indexing u00a0with it you only select the rows that meet your condition in this case where field1 0 timeon data2 field1 0 ans 5 u00d71 duration array 01 00 00 01 00 00 01 00 00 01 00 00 00 00 00really you want the sum though sum timeon data2 field1 0 ans duration 04 00 00repeat for the other fields sum timeon data2 field2 0 sum timeon data2 field3 0 hope this helps rob,0.5
Doug,rob purser said timeon diff data2 time ok now you can use the logical indexing u00a0with it you only select the rows that meet your condition in this case where field1 0 timeon data2 field1 0 rob thanks a lot for your help one thing i do not understand does not the second equation listed above from your post go back to the original data ie data2 rather than use the difference data of equation one will i not get from timeon data2 field1 0 u00a0the original data from data2 that has 0 in field 1 but not the difference in the timestamps u00a0 so should not i do it this way then timeon data2 field1 0 thentimeondiff diff timeon time btw u00a0when i run your code i get message unrecognized variable name time of course my code does not run either what now u00a0thanks again for your help,0.5
Rob Purser,hi the timeon array contains the duration of time elapsed between each reading both the times that the condition was met and the times when it was not this line does two things timeon data2 field1 0 1 it compare the contents of field1 in the data2 timetable with the value of 0 u00a0this produces a logical array of trues and falses identifying all the rows that met the condition in this case has a value of zero 2 it then uses that logical array to select from the timeon array the only the periods of time when the condition was met u00a0now you have an array of all the durations when the field1 value was 0 u00a0you can just sum them rob,0.732113003731
Doug,i got it thanks u00a0i am now able to get an email each day saying how long my boiler was on for the previous day u00a0this way i can monitor it if i am away u00a0cool u00a0thanks again u00a0doug,0.745084941387
Doug,well i guess it is not quite perfect u00a0at times i get the following message count 966index exceeds matrix dimensions i then run it again later and all is well u00a0count 1023etc u00a0here my code u00a0i have removed comment lines but left in lines that are never used in the code that could be removed but have not been u00a0field1 is boiler with values of 0 or 1 and field8 is datano an index that counts the number of data points created by the arduino but not necessarily transmitted for whatever reason u00a0readchannelid xxxx boilerfieldid 1 readapikey xxxxxxx writechannelid xxx writeapikey xxxxx data2 timestamps chinfo thingspeakread xxx are adkey xxxxxx fields 1 8 numminutes 1440 outputformat timetable t table2array data2 count max data2 datano timeon diff data2 timestamps sum sum timeon data2 boiler 0 formatout 13 sets output to hh mm ss see datestr descriptiontotalboileron datestr sum formatout convert to stringthingspeakwrite writechannelid totalboileron count writekey writeapikey needed to write nonnumeric data u00a0i test it by running it every hour everything is fine then set it to every day and it sometimes gives that error index exceeds matrix dimensions u00a0can anyone explain u00a0thanks for your help,0.182267457247
Rob Purser,i can not see anything obvious by inspection u00a0can you add a few calls to disp to try and figure out what line is failing u00a0,0.0899180471897
Doug,rob purser said i can not see anything obvious by inspection u00a0can you add a few calls to disp to try and figure out what line is failing u00a0 u00a0 u00a0 u00a0i do not have a lot of experience with it but i was thinking that since it printed count and a number and then said index exceeds matrix dimensions that the problem would be with the next statement that should have printed a result that being the statement timeon diff data2 timestamps u00a0would disp tell me anything different u00a0i suspect index means in this context the position within the matrix that is being referred to and then that position is larger than the matrix dimension u00a0but i do not see anywhere that i am doing that thanks for your help,0.114608258009
Rob Purser,hi doug you are absolutely right u00a0i tried a few experiments to figure out what would cause the diff function to give that error and did not see anything obvious u00a0 can you send me an email at rob purser at mathworks com and we can try to figure it out another way thanks rob,0.9356726408
ykim,in my channel there are several fields that their names was written with unicode character uc628 ub3c4 uc2b5 ub3c4 uae30 uc555 fyi uc628 ub3c4 is temperature uc2b5 ub3c4 is humidity and uae30 uc555 is air pressure u00a0it looks like thingspeakread function does not work well with non ascii characters the function reads uc628 ub3c4 field but it throws unrecognized variable name x error when it reads uc2b5 ub3c4 field however uc2b5 ub3c4 field is read since i renamed the field to humidity,0.5
Adarsh_Murthy,thanks for sharing the issue could you share your channel id as well to help us reproduce the error u00a0,0.241605788469
ykim,i created new public channel and public matlab visualization to reproduce the error please check following links https thingspeak com channels 206990https thingspeak com apps matlab_visualizations 116059,0.276891171932
Adarsh_Murthy,thanks for creating and sharing the new public channel i am able to reproduce the u00a0behavior u00a0thingspeakread 206990 outputformat table u00a0ans 1 u00d72 timetable arraytimestamps u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 x u00a0 u00a0 u00a0 u00a0x_1 ____________________ ______ ______26 dec 2016 01 20 11 u00a0 u00a017 271 u00a045 443 u00a0as you mentioned non ascii characters are not supported for column names by the existing functionality u00a0we will consider adding this to a future release of thingspeakread thanks again for sharing your use case,0.829994678497
SoupiestZebra,has anyone tried to use the report generation toolbox in one of their scripts i have the license for it but it wo not load in the cloud version on thingspeak,0.5
akhila,hi soupiestzebra u00a0currently these are the matlab toolboxes that are supported by thingspeak u00a0https www mathworks com help thingspeak matlab toolbox access htmlwe plan to add more toolboxes in the future u00a0thanksakhila u00a0,0.963677465916
rw950431,i have got the following code that de cumulates counter values into a rate display using the matlab diff function fired by a react every time data is inserted into the channel u00a0 it works but seems like a kludge is there a neater way to do the same thing i couldnt quite see how to do a multi dimensional diff u00a0 read last 2 pointsdata thingspeakread readchannelid outputformat table numpoint 2 are adkey readapikey get the latest pointd data 2 ts d timestamps difference each parameterxdiff diff data xcount if xdiff 0 u00a0 u00a0 u00a0 xdiff d xcount end u00a0 u00a0 u00a0ydiff diff data ycount if ydiff 0 u00a0 u00a0 u00a0 ydiff d ycount endzdiff diff data zcount if zdiff 0 u00a0 u00a0 u00a0 zdiff d zcount end update new channel with the results thingspeakwrite writechannelid xdiff ydiff zdiff writekey writeapikey timestamp ts,0.150858253241
Adarsh_Murthy,hi u00a0could you share the would ata table without looking at the data my suggestion would be to u00a0extract the numeric data from the would ata variable and then call diff on the array for example u00a0data thingspeakread readchannelid outputformat table numpoint 2 are adkey readapikey dataarr data 2 end diffarr diff dataarr u00a0diff function supports 2d arrays however it does not support tables the would ifferences between matrix rows example on this page should be relevant to this case https www mathworks com help matlab ref diff htmlin this case would iffarr variable should be 1xn row vector with the differences even with this since you are looking to replace each variable in diffarr with a different value if negative the simple way is to use the if construct to check if it is negative and then replace the value u00a0hth u00a0,0.5
rw950431,thanks adarsh u00a0 u00a0 if i understand correctly there is no easier way to do the if negative replace with value from another array step would it be easier if i used the data timestamps thingspeakread form for the original extraction rather than a table i am a total newbie at matlab and only used table because i am familiar with it,0.183734536171
Adarsh_Murthy,you could use arrays as you suggested this would remove the additional line to extract data from the table data thingspeakread readchannelid numpoint 2 are adkey readapikey diffarr diff data u00a0regarding conditional replacement of values in an array my suggestion would be to use if construct to keep the code readable there are other techniques that you could consider such as diffarr 1 diffarr 1 0 d xcount diffarr 1 0 diffarr 1 diffarr 2 diffarr 2 0 d ycount diffarr 2 0 diffarr 2 diffarr 3 diffarr 3 0 d zcount diffarr 3 0 diffarr 3 u00a0where each element of the diffarr is assigned a value depending on whether it is negative for example in the code snippet above if the first element of diffarr is negative then it is replaced by d xcount else it is replaced by its present value if you were replacing all negative elements in an array with the same value instead of different values d xcount d ycount d zcount there are other techniques that you could u00a0consider as well u00a0,0.5
nmac,3 days to search but no result u00a0every minutes i have a counter value in a chanel how can i find a value juste one one year day or hour before for now it okdata1 thingspeakread 202xxx fields 4 are adkey 1f16b5ppnyxxxxxx do not working for u00a0 year day or hour before data2 time thingspeakread 202xxx fields 4 would aterange start stop are adkey 1f16b5ppnyxxxxxx thank to you for helpnicolas,0.275890409946
rw950431,from the documentation retrieve the data for august 8 2014 through august 12 2014 for fields 1 and 4 of a public channel including the timestamp and channel information data time channelinfo thingspeakread 12397 fields 1 4 would aterange datetime aug 8 2014 datetime aug 12 2014 did this not work for you perhaps you are not formatting start and stop correctly might be helpful if you submit more of your code showing how the start and stop times are derived,0.5
nmac,i have see this documentation but it not that i want u00a0in that case you have a specific date in my case i want to differentiate between a value from today and a value from day or month before for that i have value of now it easy and oka thingspeakread 202xxx fields 4 are adkey 1f16b5ppnxxxxxxx a u00a013376742but i can not retrieve the data from there is a me from nowi try lots of things but nothing works each time it is to have full valuedate datetime tart would aterange t1 t2,0.5
nmac,correction about my translation but i can not retrieve a data from a month ago from now,0.258240163326
rw950431,have you tried the datetime year month day hour minute second format see https au mathworks com help matlab ref datetime html this works for me using the public channel enter your matlab code below data thingspeakread 12397 fields 1 4 would aterange datetime 2014 8 8 0 0 0 datetime 2014 8 8 1 0 0 outputformat table data timestamps winddirectionnorth0degrees temperaturef ____________________ __________________________ ____________ 08 aug 2014 00 00 22 0 78 6 08 aug 2014 00 01 22 270 78 6 08 aug 2014 00 02 22 270 78 6 08 aug 2014 00 03 22 225 78 6 08 aug 2014 00 04 22 135 78 6 08 aug 2014 00 05 22 315 78 7 08 aug 2014 00 06 22 45 78 7,0.5
nmac,thank you for help i have find that i want u00a0time month day hour here counter value in one hourt1 datetime now hours 1 t2 datetime now b time channelinfo thingspeakread 202xxx fields 4 would aterange datetime t1 datetime t2 are adkey 1f16b5ppxxxxxxx u00a0take first end valuea b 1 c b end diff u00e9rence between end 1 first valued c a have a good year 2017,0.749963760376
wasted,hey guys i am facing a problem inserting a table with my data from thingspeak to a matlab uitable in guide u00a0when i press a button i run the following code to put the data into the uitable created with guide before data thingspeakread channelid would aterange datetime oct 27 2016 datetime nov 4 2016 outputformat table set handles uitable1 would ata data u00a0and this is the result in the command window data timestamps u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0fahrer u00a0 u00a0 u00a0 kilometerstand u00a0 u00a0 u00a0fahrtgrund ____________________ _________ ______________ ________________27 oct 2016 18 15 25 u00a0 u00a0 u00a0 u00a0 u00a0 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 initialisieren 27 oct 2016 18 17 01 u00a0 u00a0 u00a0217314240 u00a0 u00a0 u00a0 u00a0 u00a00 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 would ienstfahrt 27 oct 2016 18 17 34 u00a0 u00a0 u00a0 u00a0 u00a0 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a013 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 fahrtende 27 oct 2016 18 18 05 u00a0 u00a0 u00a0741914369 u00a0 u00a0 u00a0 u00a0 13 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 analyse 27 oct 2016 18 18 36 u00a0 u00a0 u00a0 u00a0 u00a0 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a020 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 fahrtende error using matlab ui control table setwhile setting the would ata property of table data must be a numeric logical or cell arrayerror in test_download pushbutton1_callback line 82 set handles uitable1 would ata data error in gui_mainfcn line 95 feval varargin error in test_download line 42 gui_mainfcn gui_state varargin error in hobject eventdata test_download pushbutton1_callback hobject eventdata guidata hobject error while evaluating uicontrol callbackwhen i do not use the outputformat table option in thingspeakread it works but then the timestamp and the last coloumn with the strings are missing which is bad because they are necessary for my application i do not know how to access the datatypes properly to get everything running can anybody help me with this u00a0thanks a lot u00a0,0.5
Adarsh_Murthy,hi u00a0uitable u00a0is currently supported only on matlab desktop and matlab online it is not supported on thingspeak an error is generated by u00a0your code because uitable at present does not support table u00a0and datetime u00a0types in matlab therefore when you read data from thingspeak with outputformat set to table the returned table is not supported by uitable to work around this here is some example code u00a0 read data from a channel as a tabledata thingspeakread 1417 would aterange datetime oct 27 2016 datetime oct 28 2016 outputformat table create an empty u00a0uitablet uitable convert the timestamps in the table to string format from datetime type data timestamps datestr data timestamps convert the table to a matlab cell arraycelldata table2cell data assign the data to uitablet data celldata let us know if this does not resolve the issue u00a0thanks,0.106418758631
wasted,hello adarsh_murthy thank you for your reply i did the same thing with my table and formated all vectors to cell array data here is some example code for others facing the same problem data thingspeakread channelid would aterange datetime startdatevar datetime enddatevar outputformat table t1 was datetime variablet1 data 1 1 t1 datestr t1 t1 cellstr t1 t2 is num variablet2 data 2 2 t2 num2str t2 t2 cellstr t2 t3 is num variablet3 data 3 3 t3 num2str t3 t3 cellstr t3 t4 is cell variablet4 data 4 4 thanks again for your help,0.71343421936
Niqx,hi everyone i am a newbie in matlab seeking to develop my programming skills i have the following code to compute systemic expected shortfall ses as in the paper of acharya et al 2010 so the ses is based on marginal expected shortfall this code is just for one company but i have n companies banks more precisely in my sample everyone having its mes_training_sample lvg_training_sample ses_training_sample mes and lvg i need a for loop for computing ses for all companies at once but it hard at this stage to figure it out any info will be useful thanks in advance num_firms length mes_training_sample regressorsx ones num_firms 1 mes_training_sample lvg_training_sample regress systemic expected shortfall on marginal expected shortfall and leveragebetas regress ses_training_sample x b betas 2 c betas 3 ses b mes_firm c lvg_firm b c,0.5
Vinod,i am not sure how your question relates u00a0to thingspeak since your question is about matlab programming i would encourage you to post your question to the matlab u00a0community u00a0https www mathworks com matlabcentral answers you may also want to look up the matlab syntax for loops https www mathworks com help matlab matlab_prog loop control statements html,0.5
kvv213,dear all it seems that i like thingspeak service very much but as usually i want to get a little bit more than the standart functionality can offer for example i colled data from a gas meter and do that with real digits that means that every single update increases number and always i can see my gas meter actual values but i also would like to get momentum values of consumtion with slices 15 or 60 minutes u00a0in that case i need to get data from my channel and substract every value precedessor from the current value then as i guess i need to put these substracted values to a new channel or field and build a graph that will show me real consumption for every time period but the problem is that i do not understand the principles how matlab analyst mostly and can not route my work into the right direction where can i read something on order to understand the language principles sintaxsys and other core things of the used languages,0.5
jvasudev,hi i am not sure if i understand 100 about what you want to achieve nevertheless i will try to provide my suggestions create open a u00a0matlab analysis app use the thingspeakread function in the matlab analysis to read data from your channel that contains the u00a0gas meter actual values use the diff function in matlab to substract every value precedessor from the current value there are also other similar arithmetic matlab functions that you can find in this page use the thingspeakwrite function to write the values back into a new a channel u00a0there are many built in matlab functions for using basic descriptive statistics also since now thingspeak supports matlab toolboxes you can use advanced matlab functions that belong to these toolboxes some examples of using functions from these toolboxes in thingspeak can be found here if you are looking to learn matlab from the basics you can visit the matlab getting started page which has links to nice tutorials of how to get started using matlab also you have the matlab central where you can ask matlab users u00a0and get responses for any matlab related questions that you may have and you can visit the matlab file exchange u00a0to find matlab code that other matlab users have posted that may help you u00a0,0.5
kvv213,jvasudev said if you are looking to learn matlab from the basics you can visit the matlab getting started page which has links to nice tutorials of how to get started using matlab also you have the matlab central where you can ask matlab users u00a0and get responses for any matlab related questions that you may have and you can visit the matlab file exchange u00a0to find matlab code that other matlab users have posted that may help you u00a0 u00a0 u00a0thank you very much will try to use these suggestions,0.77895963192
kvv213,jvasudev said hi i am not sure if i understand 100 about what you want to achieve nevertheless i will try to provide my suggestions u00a0 u00a0hello u00a0jvasudev i have manage to realize two new grpahs using thingspeak matlab analysis apps the first app reads twice values from one field and calculates difference between two values in hour time the pbolem here that not every record in the original field contains data i update the original channel with 8 fields but not all of them have values at the time of update so here i get hourly consumption of my gas and i write it to a new channel the second app does a little bit different work it calculates momentum consumption it uses diff function i hope that this is a function and the result is written to a new field if there are some nan values that is ok as i understand from the description they are processed correctly by diff function so now i have two new fields with consumption values hourly and momentum but i would like to generate bars graph not ordinary grpah is it possible with thingspeak somehow update i think that i will be able to do so with matlab visualization app ud83d ude42 u00a0ps here are two usefull links for matlab and thingspeak online reference manuals http www mathworks com help matlab functionlist htmlhttp www mathworks com help thingspeak functionlist htmlthey helped me very much,0.5
Meenakshi,you are right you can use matlab visualization app checkout bar u00a0function from matlab https www mathworks com help matlab ref bar htmlin the following article refer looking at weekly sums for eastbound and westbound traffic and plotting section to learn more about plotting bar graphs u00a0http makerzone mathworks com blog counting cars and analyzing traffic raspberry pi thingspeak hope this helps feel free to share your final visualization u00a0,0.879196047783
kvv213,meenakshi said you are right you can use matlab visualization app checkout bar u00a0function from matlab https www mathworks com help matlab ref bar htmlin the following article refer looking at weekly sums for eastbound and westbound traffic and plotting section to learn more about plotting bar graphs u00a0http makerzone mathworks com blog counting cars and analyzing traffic raspberry pi thingspeak hope this helps feel free to share your final visualization u00a0 u00a0 u00a0thank you for the good example i am already managed to use bar grpah and get something like this u00a0 u00a0i use the following code figure bar timestamp gasimpnow xlabel u0412 u0440 u0435 u043c u044f ylabel u041f u043e u0442 u0440 u0435 u0431 u043b u0435 u043d u0438 u0435 u043a u0431 u043c title u041f u043e u0442 u0440 u0435 u0431 u043b u0435 u043d u0438 u0435 u0433 u0430 u0437 u0430 u0437 u0430 u043f u043e u0441 u043b u0435 u0434 u043d u0438 u0435 24 u0447 u0430 u0441 u0430 ax gca set gca xticklabel timestamp grid onbut the graph does not look pretty the bars are too thin and the date labels are not very informative but i can not impruve it easily if i use xticklabel i need to convert timestamp into strings and i receive just empthy graph i also tried to collapse timestamp into only hours because i use 24 hours graph frame but with no success u00a0the hard way is to process all the data into a much simplified data where i collect all the data into hour frames or something like this u00a0,0.92268717289
rw950431,i have the matlab code below but it sometimes fails because of duplicated time stamps in the data this causes bar to fail with xdata must be unique error wondering how to get a unique set of timestamps then rejoin them to the values i dont particularly care which of the duplicated values gets matched u00a0 my newbie attempts to use the unique function do not work because the row as a whole is considered unique even when the timestamps are the same u00a002 10 2016 01 30 436 4302 10 2016 01 30 390 6102 10 2016 01 35 390 6802 10 2016 01 35 390 6 draw a bar graph of interconnector power red for positive blue for negativepower thingspeakread 150393 outputformat table numdays 3 pos unique power power interconnect 0 1 4 neg unique power power interconnect 0 1 4 figure position 0 0 1200 700 bar datenum neg timestamps neg interconnect r barwidth 1 edgecolor r hold onbar datenum pos timestamps pos interconnect b barwidth 1 edgecolor b hold offdatetick x would dd dd mm title outh australian interconnector load ylabel net power mw legend buying power elling power location northwest axis tight,0.287027776241
Adarsh_Murthy,since you are looking to find rows with unique timestamps call unique only on timestamps column u00a0i added a couple lines of code to your snippet and it should work now power thingspeakread 150393 outputformat table numdays 3 uniqueindx unique power timestamps power power uniqueindx pos power power interconnect 0 1 4 neg power power interconnect 0 1 4 insert u00a0the remaining lines of code take a look at the link below for further info about unique function https www mathworks com help matlab ref unique html u00a0i am curious about the cause for duplicate timestamps how are you adding data to channel 150393 from a device or matlab script tied to a timecontrol react or another method u00a0,0.5
rw950431,thanks adarsh that worked perfectly the repeated timestamp appears to be an artefact of the start of daylight savings time the values are coming from a script that scrapes data off a website the data includes a timestamp so i use created_at to set this time in the thingspeak record,0.934360325336
rw950431,i have the following code in a matlab visualisation which used to work fine however in the last few days the data source has had problems and now my matlab code complains undefined operator for input arguments of type cell u00a0readchannelid 150393 read data read first data variablepower thingspeakread readchannelid outputformat table numdays 3 visualize data dates datenum power timestamps price power priceprice price 2000 2000 u00a0 4e 05 u00a0 u00a0 u00a0 0 00014 u00a0 u00a0 u00a0 0 00014 u00a0 u00a0 u00a0 0 00014 u00a0 u00a0 u00a0 0 00014 u00a0 u00a0 u00a0 0 00014 u00a0 u00a0 u00a0 3e 05 u00a0 u00a0 u00a0 6e 05 u00a0undefined operator for input arguments of type cell u00a0i am guessing it doesnt like the 4e 05 type of entry u00a0 if i reduce the time period to exclude these values it runs ok what can i do to clean my data so this works properly,0.5
Adarsh_Murthy,you are right it looks like data represented in exponential format is leading the column u00a0to be represented as a string couple options to resolve the error u00a01 manually convert the data in price column to double datatype here is some example code u00a0readchannelid 150393 read data read first data variablepower thingspeakread readchannelid outputformat table numdays 3 visualize data dates datenum power timestamps price cellfun str2num power price price price 2000 2000 u00a0 u00a0the cellfun function call is used to apply the str2num function to all elements of the price column you can find more information about cellfun u00a0and str2num u00a0functions at the following link https www mathworks com help matlab ref cellfun htmlhttps www mathworks com help matlab ref str2num html u00a02 update your source to send data to thingspeak in a non exponential format u00a0we will look into options to update the thingspeakread function to handle exponential data representation u00a0thanks u00a0,0.5
rw950431,thanks adarsh cellfun works perfectly,0.995941519737
Adarsh_Murthy,when you have matlab analysis code that uses a timecontrol the timecontrol stops running if there are a number of consecutive errors in the matlab analysis code you can choose to receive an alert via email by checking the box notify me via email if this matlab analysis fails when triggered by timecontrol or react in the matlab analysis app u00a0to restart the timecontrol fix the error in the associated matlab analysis app and press the save and run button u00a0,0.166973173618
piajola,hi adarsh from my analysis and timecontrols 1 hour frequency i have troubles with two of themfirst analysis ends with webwrite to pushingbox server that sometimes reply 502 error and i have a red line in the corresponding analysis and timecontrolsecond analysis ends with a try catch as this u00a0 u00a0 u00a0 try u00a0 u00a0 u00a0 u00a0 u00a0webwite text for 1st try timestamp u00a0 u00a0 u00a0 catch u00a0 u00a0 u00a0 u00a0 u00a0webwite text for 2nd try timestamp until now 1 4 error 4 red lines in 2 weeks and 40 catch 263 ok no one thingspeak error email in any case example of todayfirst column from first analysis fired by a timecontrolsecond column from another analysis fired by another timecontrol is some text plus the timestamp from thingspeak server 20160923t150013 u00a0 u00a0 u00a0 u00a0 u00a0 20160923t150406 20160923t140011 u00a0 u00a0 u00a0 u00a0 u00a0 20160923t140405 20160923t130015 u00a0 u00a0 u00a0 u00a0 u00a0 20160923t130407 20160923t120014 u00a0 u00a0 u00a0 u00a0 u00a0 20160923t120408 20160923t110014 u00a0 u00a0 u00a0 u00a0 u00a0 20160923t110409 20160923t100016 u00a0 u00a0 u00a0 u00a0 u00a0 20160923t100407 20160923t090013 u00a0 u00a0 u00a0 u00a0 u00a0 20160923t090407 20160923t080014 u00a0 u00a0 u00a0 u00a0 u00a0 20160923t080407 20160923t070014 u00a0 u00a0 u00a0 u00a0 u00a0 20160923t070408 20160923t060013 u00a0 u00a0 u00a0 u00a0 u00a0 20160923t060406 20160923t050017 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0red line no email 20160923t040013 u00a0 u00a0 u00a0 u00a0 u00a0 20160923t040407 20160923t030011 u00a0 u00a0 u00a0 u00a0 u00a0 20160923t030406 20160923t020014 u00a0 u00a0 u00a0 u00a0 u00a0 20160923t020407 20160923t010015 u00a0 u00a0 u00a0 u00a0 u00a0 20160923t010410 20160923t000014 u00a0 u00a0 u00a0 u00a0 u00a0 20160923t000406i understood that a check in notify sends email thank you in advance,0.0606536269188
Vinod,the behavior is u00a0documented here u00a0as when you have matlab analysis code that uses a react react stops running if there are a number of consecutive errors in the matlab analysis code you can choose to receive an alert via email by checking the box notify me via email if this matlab analysis fails when triggered by timecontrol or react in the matlab analysis app it is similar for timecontrol apps the email is only triggered after the analysis code fails after a number a consecutive errors exceeds a predetermined limit in the example you gave the u00a020160923t050017 execution errored but the immediate next execution of the analysis at u00a020160923t040013 executed successfully this caused u00a0the counter on number of consecutive u00a0failures is reset back to zero and since this number never exceeded our predetermined limit you did not get an email the idea is that we do not want to shut off the matlab analysis u00a0if it was a temporary failure such as in your case a failure code from the pushingbox service if there is a consistent repeated number of failures then it needs user intervention which is when the email is generated also if you try catch errors in your code and do not let the errors propagate out of your analyses the counter u00a0of the u00a0number of failed executions will not be incremented ultimately resulting in not getting an email since you will not u00a0hit the predetermined limit hope this helps clarify the behavior,0.132831484079
piajola,hi vinod thank you for answering me so as the try catch reduces a lot the pushingbox server error in accepting data from ts i would try then a wait before the webwrite in catch in pseudo code u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0try u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 webwrite u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0catch u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 wait how to put here a 2 seconds wait here u00a0i think a two second wait and then insist will work u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 webwrite u00a0is that possible it seems that there is a slot of time for us to run our analysis in your servers i think u00a0thank you in advance for any help u00a0,0.79433631897
Vinod,if you are looking to send email from matlab on some error condition you can do so following the directions here you can generate an app specific password in gmail and use the sendmail function in matalb inside of your u00a0exception handling catch clause to send an email on every failure instead of waiting until the failure count exceeds the limit in thingspeak i hope this helps,0.763982117176
piajola,vinod thank you for your help and apologies for the delay i was waiting for mondayi will try send sendmail but it seems it sends fixed strings i use pushingbox the only i am aware because i can send variables character strings so i can report the alarming values my analysis work fine every time when after the process wish to write values to another channel it does that perfectly no need emails here when some process has alarming values uses the webwrite to send to pushingbox these variables pushingbox composes an email with those variables and are sent to my smartphone service provider free email server that also composes a free sms sent to my phone so i have the email subject in less than 30 seconds after the alarming condition also report values hourly also if there are more than 5 minutes of no recording data in my thingspeak base channelall my tribulations start when pushingbox refuses the thingspeak sendings with the 502 response and subsequent red line and i have no email that occurs with 2 of sent values when i can see the red line and ave and run inmediately on time this are petition is now accepted by pushingbox and all works so the question if catch is a little delayed the second webwrite will be accepted this time anyway thank you for your time,0.750480055809
Vinod,turns out i was wrong and the sendmail function in matlab is not supported in matlab analysis apps on thingspeak at this time u00a0let me think of u00a0a different solution for you,0.0460484027863
rw950431,piajola u00a0 u00a0 u00a0 not sure of the details but you can capture the result of webwrite u00a0 u00a0 u00a0 resp webwrite u00a0 u00a0 u00a0 then this is the bit that i dont know u00a0 u00a0 u00a0 if resp status_code 200 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 pause 60 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 webwrite u00a0hopefully one of the matlab gurus will chime in with the correct syntax u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0,0.796078205109
jvasudev,piajola u00a0you can use the try catch construct in matlab to catch the errors in your matlab analysis code and add a delay of two seconds as shown below try u00a0 u00a0 webwrite your call catch exception u00a0 u00a0 pause the execution for 2 seconds u00a0 u00a0 pause 2 u00a0 u00a0 webwrite your call see the documentation for the pause u00a0command note that pausing for more than 2 seconds is not allowed in matlab analysis code u00a0,0.5
piajola,hi vinod again thank you for your time after writing my prior response to you i tried sendmail with a red output saying that is not for users of thingspeak i think u00a0anyway thank you for your concern u00a0,0.98001408577
piajola,hi rw950431 thank you very much for your post will try that magic word pause i was thinking it was wait or would elay earch mathworks help is complicated if you do not have the exact word are gards,0.904655098915
piajola,hi jvasudev thank you very much for your post i have my code with try catch but sometimes both webwrites fail it seems the time to catch the catch exception is not always enough for the insist so the ask for the magical word that can get some more wait before the insist besides now i know the server slot time for us users is 2 sec once trying a loop that become eternal ended in a red output sayimg i occuped all my turn and get out thanks again,0.888257682323
rw950431,interested to find out if webwrite throws an exception when the remote site returns a 502 error u00a0 my guess is that it wont,0.161604374647
piajola,hello rw950431 delay you know when you write i am sleeping and send my answer when you sleep and also you live the next day u00a0the code that ends in webwrite variables fails about 15 so 15 100 rejects with 502 and the red line in my analysis the code that ends in u00a0 u00a0 u00a0 u00a0try u00a0 u00a0 u00a0 u00a0 u00a0 webwrite u00a0 u00a0 u00a0 u00a0catch u00a0 u00a0 u00a0 u00a0 u00a0 webwritefailed about 1 now with pause 1 5 in catch before webwrite 0 fails in almost 2 days time will tell i have webwrite in 3 analysis 2 report each xxhour 0 min and xxhr 4 min the third runs each 5 min checking there are 5 points of data each minute i send 1 value if there are 2 or less points i webwrite how many points are recorded so this is random in my analysis when i send u00a0 u00a0 u00a0 response webwrite it returns u00a0 u00a0 u00a0 response u00a0 u00a0 u00a0 u00a0 1 u00d70 empty char arraywhen webwrite fails in the output box i find in rederror using readcontentfromwebservicethe server returned the message bad gateway for url http api pushingbox com pushingbox with http response code 502 error in webwrite varargout 1 nargout readcontentfromwebservice connection options in try catch each webwrite has a very slight different text to know wich one was succesful or the red line if noneregards u00a0,0.264904916286
rw950431,thats good news u00a0 u00a0 glad to find that try catch does work as expected,0.928607344627
paul,hello i am getting error index exceeds matrix dimensions after running this peace of code in matlab analysis u00a0readchannelid 106292 pumpfieldid 5 readapikey myapikey timerange 10 pump timestamp thingspeakread readchannelid fields pumpfieldid numminutes timerange are adkey readapikey i can successfully read other channel fields except field5 this was working until september 15th i have tried clear channel but still it does not work i have no idea what could be wrong,0.0485837161541
Adarsh_Murthy,hi paul u00a0i could not reproduce the error on my end since channel 106292 is a private channel i replaced the channel id with 12397 and the following code worked readchannelid 12397 pumpfieldid 5 timerange 10 pump timestamp thingspeakread readchannelid fields pumpfieldid numminutes timerange could you share the last 10 minutes worth of data in your channel in json format using the get feed endpoint https www mathworks com help thingspeak get a channel feed html,0.235415786505
paul,here you go reveal spoiler channel id 106292 name olar heating latitude 0 0 longitude 0 0 field1 collector field2 boiler_mid field3 boiler_bottom field5 pump_state created_at 2016 04 06t14 50 48 03 00 updated_at 2016 09 19t23 35 10 03 00 last_entry_id 52 feeds created_at 2016 09 19t22 57 09 03 00 entry_id 33 field1 9 31 field2 52 44 field3 21 88 field5 0 created_at 2016 09 19t22 59 07 03 00 entry_id 34 field1 9 31 field2 52 31 field3 21 88 field5 0 created_at 2016 09 19t23 01 11 03 00 entry_id 35 field1 9 25 field2 52 31 field3 21 88 field5 0 created_at 2016 09 19t23 03 10 03 00 entry_id 36 field1 9 25 field2 52 25 field3 21 88 field5 0 created_at 2016 09 19t23 05 08 03 00 entry_id 37 field1 9 25 field2 52 13 field3 21 88 field5 0 created_at 2016 09 19t23 07 06 03 00 entry_id 38 field1 9 19 field2 52 13 field3 21 88 field5 0 created_at 2016 09 19t23 09 10 03 00 entry_id 39 field1 9 13 field2 52 13 field3 21 81 field5 0 created_at 2016 09 19t23 11 08 03 00 entry_id 40 field1 9 13 field2 52 00 field3 21 75 field5 0 created_at 2016 09 19t23 13 06 03 00 entry_id 41 field1 9 13 field2 52 44 field3 21 63 field5 0 created_at 2016 09 19t23 15 11 03 00 entry_id 42 field1 9 06 field2 52 88 field3 21 63 field5 0 created_at 2016 09 19t23 17 09 03 00 entry_id 43 field1 9 06 field2 53 00 field3 21 63 field5 0 created_at 2016 09 19t23 19 07 03 00 entry_id 44 field1 9 00 field2 53 00 field3 21 63 field5 0 created_at 2016 09 19t23 21 11 03 00 entry_id 45 field1 9 00 field2 52 88 field3 21 63 field5 0 created_at 2016 09 19t23 23 09 03 00 entry_id 46 field1 9 00 field2 52 75 field3 21 63 field5 0 created_at 2016 09 19t23 25 07 03 00 entry_id 47 field1 8 94 field2 52 69 field3 21 63 field5 0 created_at 2016 09 19t23 27 12 03 00 entry_id 48 field1 9 00 field2 52 56 field3 21 69 field5 0 created_at 2016 09 19t23 29 09 03 00 entry_id 49 field1 8 94 field2 52 50 field3 21 69 field5 0 created_at 2016 09 19t23 31 08 03 00 entry_id 50 field1 8 88 field2 52 44 field3 21 69 field5 0 created_at 2016 09 19t23 33 05 03 00 entry_id 51 field1 8 94 field2 52 38 field3 21 69 field5 0 created_at 2016 09 19t23 35 10 03 00 entry_id 52 field1 8 94 field2 52 25 field3 21 69 field5 0 i am afraid that it is channel specific problem,0.5
Adarsh_Murthy,thanks for sharing the data i am able to reproduce the error while we are working on fixing thingspeakread here are two options that you could consider option 1 enable field 4 in the u00a0channel settings tab of channel 106292 enable field 4 by selecting the check box this should resolve the error note that you do not need to add field 4 chart to your channel view page to disable the field 4 chart click on the x you can add it back later by using the add visualizations button u00a0option 2 edit the thingspeakread call instead of option 1 you could change the matlab code to data timestamp thingspeakread readchannelid numminutes timerange are adkey readapikey pump data 4 u00a0let me know if this does not fix the error for you we u00a0will post again when thingspeakread is updated u00a0thanks adarsh,0.811002790928
paul,i used option 2 and it works now thanks for help,0.835299372673
Adarsh_Murthy,the matlab plot function to visualize thingspeak u00a0data plot xdata ydata might generate the following error if xdata is a datetime vector thingspeak encountered an internal error try executing your code again u00a0to resolve the error use the following commands instead u00a0plot datenum xdata ydata datetick,0.0779030025005
Adarsh_Murthy,the u00a0plot function on thingspeak u00a0has been updated to resolve the error you can now u00a0visualize thingspeak channel data using the plot function even when xdata is a datetime vector for example data time thingspeakread 12397 numpoints 10 fields 4 plot time data title temperature plot,0.214335262775
rw950431,anyone know if its possible to export a matlab visualization automatically as an image file u00a0say i wanted to save a snapshot at a given time or when a given condition occurs,0.5
Vinod,it should be possible to u00a0use the saveas u00a0function in matlab to save a figure to an image u00a0and then upload it to dropbox using dropbox rest api and the webwrite function u00a0the u00a0condition detection could be in your matlab code,0.799463927746
Vinod,since an example is more useful than general instruction i have this example for you u00a0 u00a0step 1 sign up for a dropbox account if you do not already have one step 2 go to u00a0https www dropbox com developers apps u00a0and create a new app select would ropbox api and app folder as your choice for item u00a0 1 and 2 for u00a0item 3 pick a name i use thingspeak as the name of the folder click create app tep 3 on the page click generate access token copy down this string exactly it will be needed in your matlab app step 4 in thingspeak create a new matlab visualization appfor u00a0the matlab code type this u00a0 u00a0tstamp regexprep char datetime now format yyyy mm dd t hh mm _ fname fullfile tempdir sprintf imagegeneratedat_ s jpg tstamp plot rand 1 10 if some condition u00a0 u00a0 u00a0 u00a0saveas gcf fname u00a0 u00a0 u00a0 u00a0dropboxaccesstoken insert your dropbox access token here without angle brackets u00a0 u00a0 u00a0 u00a0fid fopen fname r u00a0 u00a0 u00a0 u00a0data char fread fid u00a0 u00a0 u00a0 u00a0fclose fid u00a0 u00a0 u00a0 u00a0headerfields authorization bearer dropboxaccesstoken u00a0 u00a0 u00a0 u00a0headerfields 2 1 content length u00a0 u00a0 u00a0 u00a0headerfields 2 2 string length data u00a0 u00a0 u00a0 u00a0headerfields string headerfields u00a0 u00a0 u00a0 u00a0 u00a0 u00a0opt weboptions u00a0 u00a0 u00a0 u00a0opt mediatype application octet stream u00a0 u00a0 u00a0 u00a0opt characterencoding iso 8859 1 u00a0 u00a0 u00a0 u00a0opt requestmethod post u00a0 u00a0 u00a0 u00a0opt headerfields headerfields u00a0 u00a0 u00a0 u00a0 u00a0 remotefname remoteext fileparts fname u00a0 u00a0 u00a0 u00a0 u00a0 u00a0webwrite sprintf https api content dropbox com 1 files_put auto s s remotefname remoteext data opt end u00a0modify your to be the condition when u00a0you want to save the u00a0snapshot of your matlab visualization remember to modify the dropboxaccesstoken to exactly be the token you got from dropbox u00a0presumably you will replace the plot rand 1 10 with some other interesting plot you want to make now whenever this matlab app is run if some condition is met you will see a jpg file show up in your dropbox folder u00a0enjoy,0.76399821043
Vinod,if you can define your condition u00a0in u00a0a react app then you can u00a0create a matlab analysis app that runs in the react to u00a0generate the plot in your dropbox folder the matlab analysis app would u00a0be u00a0tstamp regexprep char datetime now format yyyy mm dd t hh mm _ fname fullfile tempdir sprintf imagegeneratedat_ s jpg tstamp eval plot rand 1 10 saveas gcf fname dropboxaccesstoken insert your dropbox access token here without angle brackets fid fopen fname r data char fread fid fclose fid headerfields authorization bearer dropboxaccesstoken headerfields 2 1 content length headerfields 2 2 string length data headerfields string headerfields u00a0opt weboptions opt mediatype application octet stream opt characterencoding iso 8859 1 opt requestmethod post opt headerfields headerfields remotefname remoteext fileparts fname u00a0webwrite sprintf https api content dropbox com 1 files_put auto s s remotefname remoteext data opt u00a0this matlab analysis app will u00a0be triggered based on your condition specified in the react and the matlab visualization should show up in your dropbox apps thingspeak u00a0folder u00a0you will need to modify the eval plot rand 1 10 to do whatever interesting visualization you want,0.5
piajola,hi vinod thank you for the tips my experience follows blindly following your steps with visualizations worked fine i have some working visualizations with plot with annotation sort of color boxes with numbers inside with histogramall worked all are in dropboxbut i have two types with thingspeakplot time humiditydata temperaturedata legend h t c with thingspeakplotyy time2 data2 time1 data1 ygrid1 on ylabel1 h r ylabel2 c xlabel feha y hora title tempix y humix ultimas semana code finished with this error messagecurl opt mlsedu matlab r2016b bin glnxa64 libcurl so 4 no version information available required by curl are vision 15 bytes 9704 thumb_exists true are v f4e35680f modified at 17 sep 2016 20 06 49 0000 mime_type image jpeg path mimagen_2016_09_17t15_06 jpg is_dir false ize 9 5 kb root app_folder client_mtime at 17 sep 2016 20 06 48 0000 icon page_white_picture with a white box in dropbox there is a file not tried your analysis because i do not know how to eval my visualizations your example is one line eval one_line_only and i need to read data thingspeakread and more lines with the parameters etc how to do thatand keep the tips coming,0.943058431149
Vinod,thingspeakplot and thingspeakplotyy use a different technology and my solution will not work for u00a0those functions however you can still use the plot and yyaxis u00a0functions in your matlab analysis app and use the suggestion as above as for multi line analysis you can do all of that using u00a0matlab code the only thing that needs to be in the eval plot something is the matlab commands for plotting which is typically just one line of code anyway switching to pseudo code as i do not have a concrete example thingspeakread matab code for mathematical analysis eval plot something matlab code to capture snapshot and upload to dropbox u00a0if you have a public u00a0channel with data that you would be comfortable sharing along with the matlab analysis and visualizations you currently have u00a0i may be able to transcode it for you,0.26175519824
rw950431,vinod u00a0 u00a0 thats a neat hack wonder if the same technique could be used with imgur u00a0 looks a little more complex due to oauth and the 1 month expiry on access tokens https api imgur com oauth2,0.748797237873
piajola,hi vinod thank you very much for your explanation and offer sorry for the delayed postreading plot and yyaxis and trying i have now the plots going to dropbox u00a0again thanks a lot u00a0,0.928690731525
David,this is really a 2 part question 1 how do you average data from 3 fields that i have read in using thingspeakread u00a0this is data taken from 3 different temperature sensors that i want to average across the 3 sensors and u00a0have this be done for each time that the samples are taken u00a0in other words i want to calculate and display one temp time graph out of 3 2 how do you automatically trigger a refresh based on data that is being updated sent to thingspeak,0.5
Robert Mawrey,here is the basic outline u00a0create a matlab analysis that does something like this ______________temp1 thingspeakread temp2 thingspeakread temp3 thingspeakread alltemp temp1 temp2 temp3 meantemp mean alltemp chid xxxxx your channel id for the mean temp write the mean to a new channelthingspeakwrite chid meantemp _______________to automatically trigger a refresh based on data that is being updated sent to thingspeak u00a0use the react app to run your matlab analysis on insert of your data assuming you can reliably use one of you three temp readings to trigger with the other two already updated u00a0if react timing is an issue then try the timecontrol app,0.836745023727
Rob Purser,you may also find the u00a0movmean u00a0and u00a0movmedian u00a0functions to be highly useful as well u00a0 rob,0.886217355728
David,exactly what i was looking for u00a0thanks for the help u00a0,0.787874341011
Adarsh_Murthy,if you are manually setting the axis limits of your plot using the datenum function as below u00a0plothandle parent xlim datenum datetime 8 august 2016 datenum datetime 20 august 2016 u00a0the following error might be generated u00a0error using matlab graphics axis decorator datetimeruler validatelimitsvalue must be a 1x2 vector of increasing datetime values error in matlab graphics axis decorator datetimeruler setlimitsdelegate u00a0to resolve the error use the following command instead u00a0plothandle parent xlim datetime 8 august 2016 datetime 20 august 2016,0.220060914755
David,i am trying to plot data on a log scale using this code fragment thingspeakplot time light yscale log however all i get is an empty chart u00a0the x axis has time values but no y axis value or data plotted u00a0the data is read in correctly i can see it when i plot it without the log u00a0can anyone shed some light on this,0.5
piajola,hi u00a0vwgtimk5 it works without any issues in my case i hope this help you u00a0copy paste this code blindly no questions no typing in a u00a0matlab visualizations in matlab codetime 0 1 5light exp time thingspeakplot time light thingspeakplot time light yscale log 2 tries first try erase in first u00a0thingspeakplot and save and run u00a0see in output the values for time and u00a0light and the u00a0matlab plot outputsecond try put again in the first u00a0thingspeakplot and u00a0erase in second thingspeakplot and save and run see results maybe the characters in your machine are different good luck,0.793394625187
David,it turns out that i had zeros in my data u00a0the log plot works fine once i adjusted the offending 0 values,0.118915498257
rw950431,anyone know how to make matlab plot a bar column graph instead of a line u00a0i have got this graph https imgur com a elcjl u00a0 which i would like to plot as a bar graph with a different colors for positive and negative values what i am looking for is kind of like the stem plots https au mathworks com help thingspeak thingspeakstem html but i would really like solid bars rather than lines with circles on the ends,0.810208201408
Hans,hi you might be looking for a histogram or hist i will check with others to find other options u00a0,0.906754970551
Rob Purser,histogram is a good option if you want to look at frequency of observations or variation u00a0however if you want a traditional bar or column chart take a look at the bar u00a0and barh commands in matlab for example to make a bar graph of the cars going east bound for the past 10 minutes from our car counter cars thingspeakread 38629 outputformat table numminutes 10 bar datenum cars timestamps cars numberofeastboundcars datetickrob,0.5
rw950431,thanks rob u00a0 i got this code that works but looks pretty crappy u00a0 do you know how i can set the width so the bars dont have gaps between them i tried the width parameter but it seems to make no difference https thingspeak com apps matlab_visualizations 89481 u00a0 draw a bar graph of interconnector power red for positive blue for negativepower unique thingspeakread 148317 outputformat table numdays 1 pos power power interconnect 0 neg power power interconnect 0 bar datenum power timestamps power interconnect 1 0 bar datenum neg timestamps neg interconnect r hold onbar datenum pos timestamps pos interconnect b hold offdatetick u00a0,0.5
Rob Purser,now you are getting into aesthetics u00a0the doc pages linked earlier u00a0provide a lot of info and examples on the large number of parameters you can tweak to your liking u00a0based on your comment you want barwidth to be 1 u00a0i would suggest setting edgecolor to match the facecolor as well cars thingspeakread 38629 outputformat table numminutes 10 h bar datenum cars timestamps cars numberofeastboundcars r barwidth 1 edgecolor r hold onh2 bar datenum cars timestamps cars numberofwestboundcars b barwidth 1 edgecolor b datetickhold off rob,0.5
rw950431,rob u00a0 u00a0 thanks for the info u00a0one day graph looks much better https thingspeak com apps matlab_visualizations 89481 u00a0however extending the time frame to 3 days still leaves a little to be desiredhttps thingspeak com apps matlab_visualizations 89640 draw a bar graph of interconnector power red for positive blue for negativepower unique thingspeakread 148317 outputformat table numdays 3 pos power power interconnect 0 neg power power interconnect 0 bar datenum power timestamps power interconnect 1 0 bar datenum neg timestamps neg interconnect r barwidth 1 edgecolor r hold onbar datenum pos timestamps pos interconnect b barwidth 1 edgecolor b hold offgrid ontitle outh australian interconnector load ylabel net power mw legend buying power elling power datetick x would d mm,0.5
Adarsh_Murthy,given the amount of data that your looking to plot u00a0in a single chart another option to consider is an area chart u00a0here is an example code snippet u00a0power unique thingspeakread 148317 outputformat table numdays 3 make a copy of the data to manipulate for the area plotpos power interconnect for the positive data define all points less than or equal to zero to be nanpos pos 0 nan make a copy of the data to manipulate for the area plotneg power interconnect for negative data define all points greater than zero to be nanneg neg 0 nan plot the negative dataarea datenum power timestamps neg facecolor r hold on plot the positive dataarea datenum power timestamps pos facecolor b additional settingshold offgrid ontitle outh australian interconnector load ylabel net power mw legend buying power elling power datetick x would d mm,0.292675495148
rw950431,thanks adarsh that looks great https thingspeak com apps matlab_visualizations 90293is there an easy way to reduce the areas of unused space at the beginning and end of the plotted data u00a0 currently my plot has 3 days of data but a 4 day timescale,0.842231869698
Adarsh_Murthy,axis tight should u00a0do the trick here is the full doc for the function if you want to set custom limits http www mathworks com help matlab ref axis html u00a0,0.5
rw950431,fabulous u00a0 thanks very much,0.999997138977
rw950431,attempted to plot 3 days worth of 5 minute data https thingspeak com apps matlab_visualizations 89640 but the matlab visualisation gives the following error thingspeak cannot display the amount of data requested reduce the size of the output or suppress the output with a semicolon u00a0i calculated that 5 min data for 3 days should only be 864 points u00a0what is the limit u00a0 less than 1000 data points does not seem very generous,0.155087769032
Adarsh_Murthy,there are two topics here u00a01 number of characters u00a0displayed in the output window of a matlab analysis or visualization app page2 number of points to be visualized in a plotthe error message that is generated for your case is due to topic 1 too many characters are being returned to the output window u00a0since i do not have your code the general suggestion to resolve this error is to end your matlab commands with a semicolon this prevents the lhs arguments from being printed to the output window u00a0for example return characters to output windowdata thingspeakread 12397 do u00a0not return characters to output windowdata thingspeakread 12397 u00a0if this does not resolve the error share your code and i might be able to find the cause of the error adarsh,0.5
rw950431,thanks adarsh adding the trailing semi colons fixed it,0.975284934044
jemapel,is this possible i am able to do so outside of matlab by sending a post request to u00a0https api thingspeak com channels via the procedure outlined at http www mathworks com help thingspeak create a channel htmlbut i would like to do so within matlab so i am seeking another method u00a0,0.5
jvasudev,hi u00a0you can use the following matlab code as a template to send a post request to create a channel from within matlab u00a0userapikey xxxxxxxxx this is your account api key found on the account my account pageurl https api thingspeak com channels json u00a0data api_key userapikey name test channel these are the parameters for the post requestresponse webwrite url data using webwrite command to send a post request u00a0you can visit the u00a0https www mathworks com help thingspeak queue commands using the talkback app from matlab html u00a0for an example as how to use matlab commands to send get and post requests u00a0 u00a0,0.5
jamin,hey im trying to get around the 15 sec update limit by having 3 channels that update depending on a few counters on the arduino i was hoping the next part would be easy but it is not the data i am sending to each channel is very basic its a door bell counter so its either 0 or 1 if the bell is pressed a few times within 15 seconds then it will send the three 1 to different channels the rest of the presses are disregarded i would like to show the combined presses with a 30sec timescale on another channel as a vertical line graph can anyone help u00a0this is what i have so far u00a0readchannelid1 xxxxxx readchannelid2 xxxxxx readchannelid3 xxxxxx readapikey1 xxxxxxxxxxxxxxxxx readapikey2 xxxxxxxxxxxxxxxxx readapikey3 xxxxxxxxxxxxxxxxx chan1 thingspeakread readchannelid1 fields 1 are adkey readapikey1 numdays 2 chan2 thingspeakread readchannelid2 fields 1 are adkey readapikey2 numdays 2 chan3 thingspeakread readchannelid3 fields 1 are adkey readapikey3 numdays 2 thingspeakplot chan1 chan2 chan3,0.807491779327
rw950431,suspect you need to read the timestamps as well as the data from the 3 channels u00a0 u00a0 i dont know enough matlab to show exactly how to do this u00a0 maybe this will work maybe not u00a0 data1 time1 thingspeakread data2 time2 thingspeakread data3 time3 thingspeakread plot time1 data1 time2 data2 time3 data3 u00a0 based off https au mathworks com help matlab ref plot html,0.5
jamin,hey rw950431 this is creating the errorerror using horzcatdimensions of matrices being concatenated are not consistent will keep searching google cheers,0.84946501255
rw950431,guessing that its complaining because the arrays have different numbers of data points u00a0 does it work if you only plot one series at a time plot time1 data1 you may end having to figure out how to merge the 3 datasets together before plotting please show me how to do it when you figure it out,0.200431793928
briscoe,hello everyone i am trying to write a matlab analysis file to calculate the days of battery life remaining on a esp8266 based on the slope of the decreasing battery readings and extrapolate how many days of power are left i have the code all written and tested works great however displaying a single number or string result in my channel has proved to be a huge pain are any of the following possible to display the information use u00a0thingspeakwrite to write string or number to the status field use u00a0thingspeakwrite to write to a field but have the raw text displayed not interpreted as a number and be graphed channel the matlab analysis text output to a channel or visualization a visualization that only displays one number or string does anyone have any example code to do any of these things as of now im not sure any are possible based on the documentation i have read thanks for your help briscoe,0.176775246859
piajola,hi u00a0briscoe if this is of any help i hope it is near your last question1 apps matlab visualizations green button new u00a0 create a new visualization no analysis no plugin 2 custom no starter code green button create near page bottom so you get a blank box without templates examples 3 matlab code box copy paste the blue code below u00a0 u00a0green button ave and run u00a0 u00a0 u00a0see results in below matlab plot output box u00a0output box i hope you have your results in a field s of your channel s u00a0 u00a0maybe this can be a start point http www mathworks com help matlab ref annotationtextbox properties html currenttemp thingspeakread 58826 field 1 58826 my public channelcurrenthume thingspeakread 58826 field 2 58826str num2str currenthume num2str currenttemp u00b0c izquierannotation textbox 0 0 0 01 0 35 0 99 backgroundcolor 0 1 0 facealpha 0 15 color 0 1 1 linewidth 2 horizontalalignment center have rticalalignment bottom linestyle tring str fontsize 38 u00a0 u00a0 45 medioannotation textbox 0 36 0 01 0 19 0 99 backgroundcolor 1 0 1 facealpha 0 15 color 0 0 1 linewidth 2 horizontalalignment center have rticalalignment bottom linestyle tring num2str currenthume fontsize 20 u00a0 u00a0 25 ajobadereannotation textbox 0 56 0 01 0 43 0 65 fontname fixedwidth backgroundcolor 2 3 5 0 1 1 facealpha 0 95 linewidth 2 horizontalalignment right have rticalalignment top linestyle color 51 50 1 tring num2str currenttemp u00b0c fontsize 43 u00a0 u00a0 30 arridereannotation textbox 0 56 0 67 0 43 0 33 fontname fixedwidth backgroundcolor 1 1 0 facealpha 0 35 linewidth 2 horizontalalignment left have rticalalignment middle linestyle color 1 0 1 tring otra cosa fontsize 20 u00a0 15 good luck u00a0,0.871845602989
fanest,hello i would like to know if its possible to increase graph size so that when you load the page graph is already bigger than the default 240x100 i know this is possible with with normal plugins but is the same possible with matlab apps if so can you please tell he how to do it all i would like to do is display my data publicly can not with normal plugins can with matlab and have ability to customize graph size can with normal plugin do not know if possible with matlab graph this is my graph that i would like to resize https thingspeak com apps matlab_visualizations 45521cheers fanest,0.737998247147
stofakiller,hi fanest i had the same problem and here is my solution 1 create an plugin chart with multiple series also if you only need 1 ud83d ude422 in the css you change 425px to 100 and 235px to 100 3 in the java script you put in channelid field number etcif you only need one plot then delete the following lines variables for the second series var series_2_channel_id 9 var series_2_field_number 2 var series_2_read_api_key var series_2_results 10 var series_2_color 00aaff add the second series addseries series_2_channel_id series_2_field_number series_2_read_api_key series_2_results series_2_color save and now push the view buttonregards jan,0.5
skoogs,i am trying to visualize temperature logging data over a time span of days which corresponds to more than 8000 data points at a 15 sec post rate since thingspeakread wo not get more than 8000 data points i figured i can use more than one call and fetch one day worth of data per call all in one visualisation script unfortunately the scripts times out when i try to gather more than 3 days of data at a time is there any way of getting data over longer periods of time i do not even need all consecutive data points some kind of low pass filtering would also be fine for me my example code readchannelid 93093 fieldid 1 2 3 4 5 6 compile 1 week of data read last day first day out of seven days t0 datetime now noofdays 3 t cell noofdays 1 for i 1 noofdays set t i to represent exatly now but i days ago t noofdays i 1 t0 t noofdays i 1 day t noofdays i 1 day i 1 end fetch all data from ts alldata 0 alltime 0 for i 1 noofdays 1 data time thingspeakread readchannelid fields fieldid would aterange t i t i 1 merge data if i 1 alldata data alltime time else alldata cat 1 alldata data alltime cat 1 alltime time end end downsample data with 1 100 y alldata 1 10 end x alltime 1 10 end visualize data figure 1 plot x y xlabel time ylabel temperature u00b0c title ensor values last week legend a b c would e f,0.5
rw950431,you can use the average or median modifiers to reduce the number of data points although thingspeak only supports a limited number of intervals see https au mathworks com help thingspeak get a channel feed html,0.228933125734
lingvo,hi there we are using embedded coder to create executable c code from matlab simulink models for our controllers it works quite well so i wonder if it would be possible to use same approach for thingspeak analysis actions e g it would be nice if i could generate code from my simulink models and upload them to thingspeak to be executed periodically or on events the input data for model would be fed by channels and outputs would be connected to some actions in thingspeak that would be a great cloud controller,0.94109660387
ThijsFeenstra,hi everyone i made a setup with an ldr connected to the adc of an esp12e the esp12e sends every 20 seconds data to my thingspeak channel the data is shown very neat in a graph so it works but here is my problem when i try to download the data in a csv file i only get the latest 101 data points but somehow the other data points are not dumped because i still see them in my graph can anybody tell me if i am doing somtething wrong or that i need to change something in the settings thanks in advance for your reply thijs,0.0778704881668
fishmastaflex,hello and thanks for reading i have two fields of data in a channel and i need to find the easiest way to parse the data once a day at the end of the day from the two fields and output it result into a third field basically what i am doing is calculating the area under the curve of the two data fields comparing them and then outputting the percent difference result to the third field my initial thoughts were to write a python script that runs on a computer and set it to run once a day however that means that the computer must always be on and the data must be pulled from thingspeak what if it does not work that day any other ideas,0.5
lee,hi you can look at timecontrol for executing a thinghttp once a day https thingspeak com docs timecontrol timecontrol your thinghttp would have to access a webserver that performs the actual calculation and posts it back to another channel we realize that this is not an ideal solution and will work towards allowing calculations to be performed using thingspeak in the future lee,0.799110651016
fishmastaflex,thank you lee having a webserver may be even more work than my initial idea of a python script running everyday on a computer probably because i know nothing about running webservers allowing calculations through thingspeak sounds like the perfect solution that probably pretty far away on your road map any ideas of when that may happen,0.5
lee,hi i am not sure of an exact date but it is a feature that has been requested often so it high on our list of priorities lee,0.5
Hans,we have added matlab analysis as an app on thingspeak you can use matlab analysis in combination with timecontrol to run scheduled code the matlab code can script a lot of possible interactions,0.5
kayakpete,hi is it possible to do the bar3 function on thingspeak http www mathworks com help matlab ref bar3 htmlhas anyone done it on thingspeak and can share their code thanks,0.839234650135
Adarsh_Murthy,hi kayakpeteyou can create a bar3 plot on thingspeak here is a sample code snippet x randi 100 24 3 bar3 x thanks,0.932950496674
mircasam,hi everyone i u00b4m suffering fails on urlfilter command i u00b4ve used an analysis to calculate some variables that uses urlfilter to get data from a webpage it worked fine for last 3 months but now from three weeks ago it u00b4s failing at random sometimes work fine sometimes fails by the way i don u00b4t receive email informing failed https thingspeak com channels 56115in private view i have mora data and graphics but as seen in other topics can u00b4t make them public does anybody realized this behaviour thanks in advance b r,0.770684957504
Hans,we will look into the issue with urlfilter we have not had any complaints wider than yours but we will investigate what kind of analysis are you doing thanks for joining the thingspeak community hans,0.880197703838
mircasam,dear hans i have a matlab analisys that makes a request through a thinghttp that consults openweather page to retrieve wind speed i have an authorised acces to openweather through my api the rest of the analisys calculates dew point wind chill cloud base level and some other params as i said before it worked fine since three months ago but now from three weeks ago i notice that the charts were no updating the calculated parameters so go to the analisys page and found error using urlfiltertarget string speed does not appear i tried the thinghttp request pasting the url directly on chrome and works fine thanks a lot,0.232059746981
Adarsh_Murthy,hi thanks for the additional information urlfilter function parses through the http response to find the target string peed once it finds the word peed it finds the first number occurring after we have not changed the urlfilter function since we introduced it therefore my suspicion is that the response from openweather might sometimes not contain the word peed in it and therefore urlfilter generates an error if this does not resolve the issue tell me more about how you are using urlfilter function with thinghttp in your matlab analysis app thanks adarsh,0.796317219734
mircasam,hi i u00b4ve been making some test and i think you u00b4re right i make a call to openweather org throgh thinghttp https api thingspeak com apps thinghttp send_request api_key 6ebvwee0fcm6txu9if you paste literally in your browser you would receive a text maybe json with the response but i found that sometimes fails so urlfilter cannot find the string more or less every two or three times you request from openweather fails example of right response coord lon 3 86 lat 40 73 weather id 800 main clear would escription ky is clear icon 01n base cmc stations main temp 274 17 pressure 932 87 humidity 82 temp_min 274 17 temp_max 274 17 ea_level 1051 18 grnd_level 932 87 wind peed 3 02 would eg 9 0007 clouds all 0 would t 1454530522 ys message 0 0025 country es unrise 1454484198 unset 1454520947 id 3117503 name manzanares el real cod 200 example of wrong response cod 401 message invalid api key please see http openweathermap org faq error401 for more info obviously in this response urlfilter cannot find string peed o fails i u00b4ll try to contact to openweather org anyway if matlab analisys could not stop trying to parse probably on second try it will work maybe it would be a good evolution for urlfilter function or maybe a max number of errors before failing and i u00b4m still waiting for the email informing the fail i used to receive it thank you very very much i u00b4ll try to inform you about openweather issue b r miro,0.793376803398
Adarsh_Murthy,one option to avoid errors in matlab for known conditions is to use the try catch construct http www mathworks com help matlab ref try htmlif you want the code to do nothing when urlfilter does not find peed leave the catch portion empty try urlfilter catchendthis will keep the matlab code running you can also nest try catch constructs i e try first attempt urlfilter catch try second attempt urlfilter catch endendthis allows you to call urlfilter twice and it also prevents your matlab analysis app from erroring even if on both attempts peed data is missing we are looking into the email issue and will get back soon thanks adarsh,0.22834995389
mircasam,dear adarsh if you leave thingspeak alone don u00b4t mind if matlab says that code contains an error everything works fine as we spoke error only happens once every two or three times so sometimes when you find the error message in the matlab analisys maybe next time the analisys runs it works and that u00b4s it right it u00b4s working correctly since thursday maybe some updates are not correct but doesn u00b4t mind at the end it u00b4s no so important if you miss a data in hundreds thank you very much best regards miro,0.0181993544102
edcasati,i have sensors that wake up at specific intervals ie 15 minutes take a measurement and send it to thingspeak i also have a matlab analysis script that examines the data in the stored fields and derives different values and then writes it to a different field in the same channel my specific question is is there a way to trigger an matlab script by watching for an update on a channel field so for example when field1 gets updated the matlab analysis triggers and updates field2 the other option is just triggering on fixed intervals but that feels inefficient and inaccurate,0.264883667231
edcasati,found my own answer create a trigger that on insertion of data into a specific field checks for not equal to a value and triggers if true if i give it a nonsense value to check for like a humidity reading of 500 it will never meet the condition and trigger the matlab analysis every time,0.768154501915
picpic020960,bonjour i have two devices so two channelswhen plote data one error that say datetime not synchro no date time merge between two data serieshow to for merge easy thanks for help,0.852430045605
Adarsh_Murthy,hi when visualizing data from two channels with different time stamps you can plot them individually with the hold command for example i am plotting data from two channels below read data from channel 9 and 12397 data1 time1 thingspeakread 12397 numpoints 20 fields 3 4 data2 time2 thingspeakread 9 numpoints 20 plot data corresponding to channel 12397plot time1 data1 hold the previous plothold plot data corresponding to channel 9plot time2 data2,0.5
picpic020960,thanks manwork fine with thingspeakplot draw legend but with plot good time stamp result edit title legend added too fun,0.987365245819
picpic020960,bonjour i have a mtalab visualization with tree fields works fine but when when i want update the source code not possible at each time some time wait wait other issue when more than 3 days stucks at 3 days but thingspeak is fun more easy to write on the cloud than on sd card thanks,0.885618686676
picpic020960,bonjour still blocked is it possible to export the source of my matlab visualization so can use it to update and save in new version information with android browse can see the source but not edit and not copy on windows 10 on mpman tablet always waiting source write on vista this is irritating,0.5
Adarsh_Murthy,hi thank you for letting us know about the issue on mpman tablet we will look into this the source code for all your matlab visualization and matlab analysis apps should be available for edit and copy you do not need to export it if you use a laptop or any computer to access your matlab visualization page you will have full access to your code thanks adarsh,0.976312875748
piajola,adarsh same here but econd repetition now please see http community thingspeak com forum matlab matlab analysis and visualizations forbidden to me see reply 13 there hans solved my ex issue that time but now it returned to me the same issue i upgraded to w10 in the same machine and i could work well and test well my thingspeak adventures in w7 and later in w10 until 2 3 weeks ago this trouble returned i am working in my hardware all sensors i would use so i am not pressed to work in matlab in thingspeak for now that is why i have not reported this again so if you work in thingspeak i think please check with hans as he already solved this issue i think same behavior in android 4 phone tablet thank you in advancehs,0.0565884709358
picpic020960,bonjour okall is fineprobably no signout on other pc thanks,0.848171949387
siclark,hi i am trying to analyse the heating in my house in which i have 12 thermostats i am keen to understand better the relationship of heating in each room between the set point and how often and how long the thermostat has to call for heat to get the room to a specific temperature or heat the room by 1 degreeto start off i was hoping to be able to plot the temperature of a thermostat in degrees as a line vs the setpoint of the thermostats as a step line vs whether the stat is calling for heat as a bar chart of either zero or one my first issue is getting the temp and set point on the same graph with the set point being a stepped line ie not a sloping line between points is this possible or do i need to generate the missing values as the channel only records values when it changes then how would i change the on or off values on the heating field to a 0 or 1 to then plot and can i do line vs column on the same chart i am hoping this would be a useful example for others once i can get this working and then i keen to learn from others what they do ie i would love to calculate the number of hours per day that each room is calling for heat and the total and plot vs outside temperature humidity wind etc thanks,0.704923033714
hans,siclark i was hoping to be able to plot the temperature of a thermostat in degrees as a line vs the setpoint of the thermostats as a step line yes it is possible to create a step line type visualization using the matlab visualizations app and the matlab visualization function tairs for more information and examples please see the following documentation page http www mathworks com help matlab ref stairs html how would i change the on or off values on the heating field to a 0 or 1 one method of achieving this task is writing to the channel tatus field on or off or to one of the other 7 channel fields 0 or 1 for more information on how to update a channel feed see the following documentation page https thingspeak com docs channels update_feed can i do line vs column on the same chart yes it is possible to overlay different forms of visualizations on the same plot or figure again using the matlab visualization app the following matlab code will produce a bar chart with a line chart overlaid on top bar 1 10 retain current plot when adding new plots hold plot 10 1 1 note that the symbol is used to add comments to matlab code http www mathworks com help matlab matlab_prog comments html documentation 1 bar http www mathworks com help matlab ref bar html2 hold http www mathworks com help matlab ref hold html3 plot http www mathworks com help matlab ref plot html,0.5
siclark,hi thanks for all this it took me a while to realise i could just enter the matlab code as i would the thingspeak functions as thats not clear in the documentation however i get an error when using the stairs function of input arguments must be numeric i guess it doesnt like the date values this is the code readchannelid 64586 fieldid1 1 fieldid2 2 data1 time1 thingspeakread readchannelid field fieldid1 numdays 5 data2 time2 thingspeakread readchannelid field fieldid2 numdays 5 plot time1 data1 hold stairs time2 data2 also if i use thingspeakplot time2 data2 i get a proper chart but it doesnt plot the values if i use plot time2 data2 is there a known reason for this do the functions behave differently thanks,0.171297132969
hans,siclark however i get an error when using the stairs function of input arguments must be numeric i guess it doesnt like the date values yes that is correct according to the tairs documentation the x and y input arguments must be numeric values of type would ata types single double int8 int16 int32 int64 uint8 uint16 uint32 uint64 logical http www mathworks com help matlab ref stairs html searchhighlight stairs inputarg_x with additional matlab code it is possible to convert the matlab datetime object returned by the matlab function thingspeakread to a numeric value and have the x or y axes label formatted to display a date string it is possible to convert a datetime object to a numeric value using the matlab function would atenum http www mathworks com help matlab ref datenum htmlonce the figure is plotted it is possible to change the formatting of the x or y axes label using the matlab function would atetick http www mathworks com help matlab ref datetick htmnote that the matlab function accepts a would ateformat string as the second argument please refer to the the documentation section for more information http www mathworks com help matlab ref datetick html searchhighlight stairs 20xtick inputarg_dateformatfor example data time thingspeakread id field field numpoints 5 stairs datenum time data datetick x mm dd yy i use thingspeakplot time2 data2 i get a proper chart but it doesnt plot the values if i use plot time2 data2 the interactive thingspeak plotting functions such as thingspeakplot are incompatible with the static matlab plots such as plot or tairs and cannot be combined please refer to the troubleshooting section of the documentation https thingspeak com docs troubleshooting,0.268580317497
siclark,thanks its taken a while as using datenum on the time argument for my first data set worked but it was the second i wanted to plot as stairs and this still didnt work the first has many more data points than the second hence wanting to plot the second as stairs and i assumed that this would work however in the end i had to read the original 2nd series use the matlab analysis to clean up and remove all the nulls from that series and write to a new channel reading that channel in to the visualisation for the step line on top of the line plot from the original channel works well now to work out how to do the on off conversion which i think i will also have to clean up and then write to a new channel as well as converting to 0 1,0.0898670852184
jimmyjiangyq,hi helper i am a total green hand on matlab stuff and i have a question about how i can call a matlab function in thingspeak matlab analysis for example i have a matlab function as below function data1 data2 parameter1 parameter2 calculate_something parameter1 parameter2 parameter3 is there a way that i can call this function in thingspeak matlab analysis matlab code this is very similar to call thingspeakread function in the current matlab analysis panel window i am wondering if i can call a customized function in the panel window thanks a lot for any comments in community regards,0.861011624336
Adarsh_Murthy,hi jimmyjiangyq at present you will not be able to call custom functions from either the matlab analysis app or the matlab visualization app both the apps only allow a matlab script to be written and this script can only call functions already defined in matlab we will consider this capability for a future release as a workaround you can move the logic in the calculate_something function into each matlab analysis visualization app that requires it as a script thanks adarsh,0.701777338982
gamerji,if you have your function publicly hosted somewhere then you can try urlwrite as follows urlwrite http pastebin com raw php i fyqbphwh total m total 23 10 hope that helps,0.901562452316
jimmyjiangyq,hi adarsh and gamerji thanks a lot for your comments it seems like i may need to use standalone matlab platform to do such task jimmyjiangyq,0.738752067089
rkgarg,i am also facing problem using if function i am getting current time using clock function then i want to do some check on time and based on the time i want to feed data to new channel it appears if function does not work at all update i did not write end statement it works,0.106993257999
rw950431,adarsh_murthy if you are considering feature requests for future releases can i suggest passing url parameters through to the matlab environment this would allow more generic and re usable code since you could specify a channel or field number in the url and have matlab process it rather than have to hard wire it into each block,0.5
Hans,this is a good idea for enhancing our matlab functionality we will take a closer look at it thanks,0.985842108727
Adarsh_Murthy,thanks for sharing your idea rw950431,0.96943116188
moballa,hello i have a few devices sending 3 variables to thingspeak every 30 minutes device id temperature and mode i need some help making one graph to display the following 1 a separate line plotted on the same graph for each deviceid2 for each line plotted i would like the line style to change from a solid linestyle when mode is 1 to a dashed linestyle when mode is 0 3 y axis should represent temperature and x axis should represent the timestampi am new to thingspeak and matlab the best i have been able to achieve so far is one line on a graph but it has all temperatures and mode from all devices i have not been able to separate the lines by deviceid and have no clue if matlab can plot a line using different linestyles partway through the line any gurus out there that can point me in the right direction thanks marco,0.5
hans,moballa it is possible to plot multiple lines on a single graph in matlab using the plot function http www mathworks com help matlab ref plot htmlaccording to the documentation you would provide your data to the function as a column vector or matrix depending on the number of lines to plot lines can be assigned a line style or linespec at this time it does not appear possible for segments between points to be different linespecs however it is possible to break the data down into more line segments and assign linespecs to each line segment see the following example in the documentation http www mathworks com help matlab ref plot html searchhighlight plot btzpndl 1,0.5
Rob Purser,hi plotting is a huge subject in matlab see the doc for the plot command here http www mathworks com help matlab ref plot htmlthere are lots of ways to do this but here something to get you started generate some datad table d timestamp datetime now minutes 240 minutes 30 datetime now d temperature 23 45 56 24 44 56 23 43 55 d id 1 2 3 1 2 3 1 2 3 d mode 1 1 1 1 1 1 0 0 0 d plot by sensor idplot d timestamp d id 1 d temperature d id 1 d timestamp d id 2 d temperature d id 2 d timestamp d id 3 d temperature d id 3 however it does not solve your would otted when mode is 1 request you can do this but it will take some more work you will need to plot the non dotted and dotted separately so you will have 6 lines in your plot rob,0.5
ALikelyLad1942,i am new to matlab but have found a matlab function stairs that appears to be able to plot the step line graph that is the form in which i would like to visualize my data is the stairs function available to me in the matlab visualisation app if the answer is yes i am happy to have a go at finding out for myself how to do so but i do not want to waste time if it not possible ud83d ude42looking forward to becoming another happy thingspeak and matlab user,0.799307107925
hans,yes it is possible to use the matlab plotting function tairs in thingspeak,0.5
piajola,hi thingspeak i think this is a problem for an administrator that knows who can answer next thank you in advance to who can help me also english is not my mother language so i hope you can understand me and please do not laugh a lot ud83d ude42i will use the esp8266 everywhere in my house and send data to thingspeak and see there some processeddata visualizations after sign in in my channels i can click and pick one of the channelsin the channel picked i can use the 5 tabs and click the 5 buttons 3 green the trouble begins in the apps window https thingspeak com appsi tried succefully chart with multiple series and google gauge in the plugins link boxwhen clicking matlab analysis or visualizations i get the new button and then the choices and exampleswhen clicking the create button i get the next window but the matlab code box is empty with a little rotatingcircle indicating to wait for something that never happens i can not write anything there either also in react the same behaviorthe only thing i can do is to delete this windowi have this problem since the early days of octoberwhat am i doing wrong hs,0.811176776886
rw950431,did you try to clear your browser history restart your browser and try again sometimes this helps,0.778138041496
aby,hi everybody i am facing exactly the same problem as piajola unable to start matlab with the same symptom rw950431 a chrome session with a crystal clear history does not change anything please thingspeak team help us alain,0.199395954609
hans,aby and piajola thank you for reporting this issue to further diagnose the problem can you tell us which browser and version you are using older browsers like internet explorer 9 are not fully supported,0.097510933876
aby,thank you jklol for your quick answer you are right it is actually a question of browser in which the matlab editor can not open for me it doesnt work with the latest releases of firefox 41 0 1 and chrome 45 0 2454 101 m running on windows8it works with the latest one of ie 11 ie 11 0 9600 18036 running on the same computeri hope it will be useful,0.194660127163
piajola,my tribulations in w7 chrome versi u00f3n 45 0 2454 101 m ie versi u00f3n 11 0 8600 18015in my android 4 smartphone via wifi same router so i think same ip to mathworks cm browser cheetah mobile inc 5 20 10 uc browser ucweb inc 10 7 0also tried in w8chrome and ie but i am starting to use w8 so i do not know versions because i do not have that machine at handall same odd behavior little waiting circle in matlab boxmy guess is that mathworks is blocking my ip i access thingspeak server and i think the matlab box is resolved in mathworks server who refuses my ip if sent just a wild and uninformed guess i have not tried to update my ie i do not use it but later i will try it for the cause aby lucky you at least you can use ie jklol thank you very much from this lost and alone soul a ray of hope to me hsps jklol i will try anything you ask for,0.5
aby,to be exact i have tested chrome on vista pro not on w8alain,0.747427403927
gamerji,this might also happen if javascript cannot run on the page can you see if you have extensions that are blocking any javascript from running on the page such as noscript if you do not see any that might be causing the issue can you list all the extensions that are installed on chrome here,0.169717848301
piajola,gamerjiremember we are 2 aby and me it seems not exactly same cause only the resulthe can use ie 11in chrome extensions avast online security 10 2 0 190 documentos de google sin conexi u00f3n 0 5 offline google docs google docs 0 9 hojas de c u00e1lculo de google 1 1 google spreadsheets presentaciones de google 0 9 like office powerpointi think that i did not install these extensions at least not on purpose also remember i use chart with multiple series google gauge in the plugins link boxthat is javascript right hs,0.5
gamerji,extensions can block some javascript but allow others not sure but in your case it looks like avast online security could be the issue can you try accessing the matlab apps visualizations in chrome without these extensions you can try using incognito mode in chrome or start chrome with the disable extensions flag,0.111725151539
piajola,gamerjiwell nothing newall the same behavior little waiting circle every try normally i use chrome in incognito mode i think i had avast extension always disabled because i tried it enabled and disabled enabled has some warnings about blocked things i did not saw before also tried disbling all avast shields directly in avast with respective warnings and redsigns the world is ending hs,0.0103977918625
Hans,hi we made some updates to the editor window to reduce the file size and load time can you try again and see if you get better results thanks hans,0.879317820072
piajola,hans 10 30 my time about 4 hours ago checking with my smartphone via chrome i get the little waiting circle and after some 10 seconds suddenly the box is filled with code fantastic so i tried to edit the code and it worked so next try in the pc when started i get a window saying to install windows 10 free so now i have w10 in my pc and working chrome with matlab analysis working now a lot of changes at same time so you have to guess what the problem was i will try matlab visualizations next and report here also i will report the results of my ventures in matlab in thingspeakhans say thank you very much to yourself and all the persons involved in my happiness i hope this is permanent to continue and finish my project hs,0.195153295994
AYAduino,i need to be able to retrieve the last value written to a specific field along with its timestamp i have no way of knowing if the field was written to a minute ago or 20 days ago it entirely possible there are 8000 nan values between now and that last write so i can not reliably read in an array and search for the data i was able to get the value using the urlfilter url https thingspeak com channels 666 fields 2 last json api_key blechimtiredofflailing but i can not see how i can retrieve the date time i do not suppose there a simple name value pair for last or perhaps a workaround i need to retrieve two or three values from the same channel and unfortunately it not possible for me to split them up into their own dedicated channels thanks brad,0.5
Hans,brad try webread instead of urlfilter this will allow you to get all of the data fields inside of last json hans,0.168374359608
AYAduino,thanks exactly what i needed brad,0.934222817421
muunduk@gmail.com,hey i recently joined thingspeak com and i want to log voltage and current reading and measure up the 10th harmonic hence i am wondering if anyone knows how to perform the fast fourier transform of data posted to thingspeak com i am monitoring a like that expects dc current only hence i would like to implement a moving average filter if it has any disturbances any help or suggestion will be highly appreciated,0.852606058121
akhila,hi you could use matlab analysis app in thingspeak to do the fast fourier transform of data you would need to read the data from your thingspeak channel via thingspeakread api here are links to relevant documentation 1 matlab analysis https thingspeak com docs matlab_analysis matlab_analysis2 thingspeakread https thingspeak com docs matlab_analysis thingspeakread3 fft using matlab http www mathworks com help matlab ref fft htmlthanksakhila,0.729684352875
muunduk@gmail.com,hey akhilathanks for this really helped i managed to read my data and plot a graph of the data in thingspeak by usingthingspeakplot data but i am not able to do the fft if you know the syntax on how to perform the fft please help thanksmuundu,0.749778211117
Rob Purser,hi like akhila commented earlier there a good discussion of how to use the fft function in matlab see the link she posted there also a good discussion here http www mathworks com matlabcentral newsreader view_thread 27009typically people are really interested in the power spectral density rather than the true fft the topic above discusses that and wikipedia has a lot of good information rob,0.983976244926
Rob Purser,if you are interested in getting a more in depth introduction to matlab this vanderbilt mooc is excellent https www coursera org course matlabthis is an introductory college level course in computer science for engineering and science students however it is also suitable for high school students who are interested in programming the material assumes no background in mathematics beyond the standard high school curriculum students taking the course will get a matlab license free of charge for a three month period students who successfully complete this course will become familiar with general concepts in computer science gain an understanding of the general concepts of programming obtain a solid foundation in the use of matlabhighly recommended rob,0.920783340931
hmslouis,hi all my first post and am new to matlab and thingspeak so hope my code is easy to fix basically i need to read from fields 1 2 then send the difference to field 3 when i run my code below i keep getting this error messageerror using thingspeakwritewait for 15 seconds since the last update was completed before requesting another my code channel id to read data fromchannelid 48915 field index idportfieldid 1 stbdfieldid 2 listfieldid 3 api keywritekey oqqmwydw2j5wlajq read port and stbdportval thingspeakread channelid fields portfieldid stbdval thingspeakread channelid fields stbdfieldid calculate differencelist portval stbdval thingspeakwrite channelid list fields 3 writekey writekey,0.799770951271
Adarsh_Murthy,hi hmslouis thingspeak implements a 15 sec limit between consecutive updates to a channel therefore if your fields 1 and 2 on channel 48915 are being updated once every 15 seconds then the update to field 3 from your matlab code will be within 15 seconds of the last update to fields 1 2 on channel 48915 therefore thingspeakwrite function generates an error in such a case i would create a new channel to store the difference between field 1 and field 2 this would avoid the update rate limit example code i have renamed channelid to readchannelid and added writechannelid to store the id of the new channel that the difference data needs to be written to i have also set the difference data to be written to field 1 of the new channel instead of field 3 channel id to read data fromreadchannelid 48915 writechannelid field index idportfieldid 1 stbdfieldid 2 listfieldid 3 api keywritekey read port and stbdportval thingspeakread readchannelid fields portfieldid stbdval thingspeakread readchannelid fields stbdfieldid calculate differencelist portval stbdval thingspeakwrite writechannelid list fields 1 writekey writekey adarsh,0.5
hmslouis,hi adarsh thanks so much for your explanation that make perfect sense now i set up a new channel and send the data there now and the error is gone which is great when i check the data in the new channel however there is nothing there do i need to do something for this code to loop so that the new data will show up in the new channel thanks heapslouis,0.924082636833
lee,hi louis the easiest way to do this would be to create a react https thingspeak com docs react which is connected to your matlab analysis every time new data is written to your original channel react will automatically run the matlab code and write to your derived channel via thingspeakwrite lee,0.94717246294
hmslouis,thanks lee i will do some more reading and give it as go if i am right my process flows like this 1 photon 1 reads pressure to field 1 on my data collection channel2 photon 2 reads pressure to field 2 on the same data collection channel3 react senses a change in values of field 1 above and runs matlab analysis4 matlab analysis reads in the 2 values above and sends them to a new channel5 the new channel data is posted via a google gauge plugindoes this make sense cheers thanks again for your help louis,0.879718661308
hmslouis,hi all i think the whole loop works better for me by using separate channels as opposed to sending info to different fields within the same channel i will test further but for my application i need more frequent feeds and less storage of data is there a paid version or equivalent service that reads every 5 seconds but stores much less data maybe the previous 5 10 readings for my current application i only need to know what is happening right now and the past is not so relevant any more am loving the learning curve and the flexibility of thingspeak and can not wait to set my little project up cheers louis,0.752920866013
lee,hi louis yes you have got the workflow correct i am glad that you seem to have things working no we do not have a paid version that would allow updates to a single channel at a more frequent rate but it is something we are considering for the future lee,0.921394824982
hmslouis,thanks lee all working well now the other way of achieving a more frequent output for my project would be to alter the react to include multiple parameters for example having either of two conditions met e g if channel x field 0 or if channel y field 0 i tried to make 2 separate reacts but it would not allow it currently i can setup the 2 feed channels to update every 15 seconds but have them set up to alternate thereby sending a value every 7 8 seconds this frequency of data would be ideal for me but the react on only one channel gets me back to reading only every 15 seconds is my understanding correct and if so might there be another work around for me cheers louis,0.780192136765
lee,hi louis an alternative could be to set react to update on every data insert and run a matlab analyses each time you could check both conditions in matlab and then write to the derived channel if necessary if you are ok with delayed data you can also set a timecontrol to run every 5 minutes and perform the matlab analysis lee,0.729519486427
hmslouis,thanks again lee yes i have set it up to react on every data insert all working well cheers louis,0.938376069069
Rob Purser,fishmastaflex asked a question about using the trapz function in matlab to calculate the average temperature on a channel where the samples come in irregularly there no built in function to do this but it only a couple lines of code i have a similar challenge with one of my temperature sensors it only sends data when there is a significant change data thingspeakread 32188 numpoints 5 outputformat table data timestamps tempf ____________________ ______ 15 sep 2015 13 28 33 68 584 15 sep 2015 13 29 34 68 685 15 sep 2015 13 30 34 68 861 15 sep 2015 13 34 36 69 047 15 sep 2015 13 36 36 69 188to use trapz you need to convert the timestamps into x coordinates do this by calculating the relative time for each timestamp in seconds x seconds data timestamps data timestamps 1 x 0 61 121 363 483calculate the area under the curve approximate integral using trapz then divide by the number of elapsed seconds to get the mean average avg trapz x data tempf x end avg 68 9317more about trapz http www mathworks com help matlab ref trapz html,0.5
fishmastaflex,thanks rob glad to spark the conversation my method works pretty good too using the posix time function it only one line of code areaundercurve trapz posixtime x y x is my matrix of timestampsy is my datawatch out for nan values though as well even if you have just one the trapz function will spit out nan i used isnan to delete values in the matrix,0.878502249718
Rob Purser,i like it,0.977477967739
fishmastaflex,hey guys i am noticing a some strange things with a matlab function i am using it seems to be missing the hour minute and seconds in the calculation posixtime t takes a datetime value t and should output the number of seconds elapsed since 00 00 00 1 jan 1970 utchttp www mathworks com help matlab ref posixtime htmli am reading in the correct datetime values using thingspeakread if i print the string in the console for the first value i get exactly 13 sep 2015 18 20 58sounds good okay now i try to apply the matlab function posixtime t to get the number of seconds for the value above and it outputs 1 4422e 09 1442200000 seconds which is according to human readable format gmt mon 14 sep 2015 03 06 40 gmtthe date seems to be fairly accurate probably off by a timezone but the hour minutes seconds do not make sense i am thinking that the matlab function has thrown away the hh mm ss and not performing the calculation i do not think this is me i also tried a different function for calculating time and got some issues i used datenum t and it also forgets to add hours minutes seconds further out i used datenum t formatin to try to force the timestamp format and the console gave me this error datenum t would d mmm yyyy hh mm ss error using datetime datenumtoo many input arguments can someone look into this thanks,0.2271258533
Rob Purser,hi we will look into this and try to understand what is going on that said in general i would strongly recommend working with the reasonably new datetime object which understands timezones and has a wide array of functions for manipulating dates and times this is what thingspeakread retuns many of the plot functions natively understand it as well and would o the right thing when you pass them in more on datetime http www mathworks com help matlab ref datetime html and http www mathworks com help matlab date and time operations 1 html rob,0.918353617191
fishmastaflex,thanks rob going a little bit off topic here for my specific project but how would you recommend me using the matlab trapz x y function to look at the area under the curve of my data over time where x is my data and y would be my datetime object that thingspeakread outputs obviously the trapz function does not take datetime objects i tried that first thing which is why i started looking into changing my datetime value to epoch seconds that is an easy number for matlab to calculate which is why i went that route trapz integral integral2 intelgra3 functions do not take datetime objects damn,0.805794000626
Rob Purser,hi fishmastaflex i tried this x datetime now y posixtime x z datetime y convertfrom posixtime and got x 14 sep 2015 15 52 32y 1 4422e 09z 14 sep 2015 15 52 32which is what i would expect if you are trying to calculate elapsed seconds between two datetimes just subtract them which will give you a duration object and you can convert that to seconds elapsedtimeinday datetime now datetime today elapsedtimeinday 15 57 09 seconds elapsedtimeinday ans 5 7429e 04 hours elapsedtimeinday ans 15 9526 days elapsedtimeinday ans 0 6647,0.5
fishmastaflex,thank you for your help rob i think i see what is going on here and my spirits have been lifted i was using the console to double check my work and did not realize that it was not outputting the entire double number in the console screen the console keeps outputting 1 4422e 09and i am expecting more decimal places 1442245952i never tried z datetime y convertfrom posixtime to read back as a datetime object not sure if you can increase the number of decimal places in the console screen i would assume that somebody might run into a similar situation as i did and just assume my mistake sorry,0.5
Adarsh_Murthy,hi fishmastaflex that is a good point i use the format long g command to display the a number in a non exponential format i e dt datetime now format long gposixtime dt ans 1442248971 20384 adarsh,0.876030743122
Rob Purser,glad you figured out the console display thing matlab is generally optimized to print out matrixes so it tends to choose terse display formats by default as adarsh says you can set the display format on trapz i broke my answer into a seperate topic on the forum so other people might see it http community thingspeak com forum matlab solution calculating the average of channel with uneven timestamps using trapz,0.194864451885
fishmastaflex,good call cheers,0.9990914464
altineller,hello i just made this channel https thingspeak com channels 51914all nice and everything is working nice but i would like to be able to define xmin xmax ymin ymax for both thingspeakplot and thingspeakscatterdefine graph width for both thingspeakplot and thingspeakscatter i would also be able to lock the graph so the pointer can not change things like scales defining size of iframe does not lead to a bigger or wider graph for both matlab or regular field plots best regards c a,0.848531365395
Adarsh_Murthy,hi the channel and the custom visualizations you have created look great thank you for sharing your channel thank you also for sharing feedback on features you would like to see with thingspeakplot thingspeakscatter and the interactivity of the graph we will consider adding this for a future version of these functions one option for you to control the x axis and y axis limits and for creating a static plot for now would be to use the non interactive matlab plotting functions plot and scatter for these functions you will be able to use xlim and ylim functions to define the axis scaling you will be able to find additional help for these functions at the links below plot http www mathworks com help matlab ref plot html scatter http www mathworks com help matlab ref scatter html xlim http www mathworks com help matlab ref xlim html ylim http www mathworks com help matlab ref ylim html thanks adarsh,0.977997899055
Vojta1,hi is there a way how to write data into the field of the same channel i am doing calculations from example i would like to calculate dew point from temperature and humidity based in field 1 and 2 and write it to field3 if i do it using react app it gives me error because it trying to perform 2 field writes in 1 second i suppose a delay function would do the trick but it seems it is not supported i also tried to use timecontrol to do calculations but it is not really something i am satisfied with as it writes blank values in case there are no new data in fields 1 and 2 any idea for a usable workaround,0.113073796034
Robert Mawrey,one approach is to write to a new channel your matlab code could be set up to read field 1 and 2 perform your dew point calculation and write to a new channel you could optionally perform a calculation such as mean or median on your original data and write them to the new channel too note that since a channel stores time series data each time you write one or more fields a date and time is associated with each of the eight fields like this date and time stamp field 1field 2field 3field 4field 5field 6field 7field 8time 1 temphumiditynull nullnull null null nulltime 2 null null dew pointnull null null null nullwhich may not be what you expect if you write to a new channel you could get something like this date and time stamp field 1 field 2 field 3 field 4field 5field 6field 7field 8time x avg tempavg humiditydew point null null null null nullwhich may be closer to what you are looking for,0.5
BMcC,hi would it be possible to add error bars to the data in a chart i would like to be able to plot the mean value of some sample data one standard deviation on each point represented by an error bar something like this for example http 3 bp blogspot com aipecwsj0ve uep8hsq0qti aaaaaaaabn0 iwv5sv9oj1i s1600 error_bars_both pngthanks,0.100633829832
Rob Purser,yes you can using the matlab errorbar plot i will try to post an example later but here the documentation http www mathworks com help matlab ref errorbar html rob,0.837275445461
BMcC,hi rob thank you for your reply i will have a look at the matlab link and see if i can figure out what i need to do ud83d ude42thanks,0.977538943291
BMcC,hi again is it possible to create an error bar plot using matlab visualizations i can not see an option using thingsspeakplot if i try to use matlab analysis and the errorbar x y e function i get an error that states cannot use matlab visualization code bar x y e in the matlab analysis app you must create a matlab visualization,0.146371275187
Adarsh_Murthy,that is correct you can create an error bar plot using matlab visualizations app you will not be able to create an error bar plot in a matlab analysis app create a new matlab visualization app and select custom no starter code option from the templates paste the below matlab code in the new matlab visualizations app to generate an example errorbar plot x 0 pi 10 pi y sin x e std y ones size x errorbar x y e,0.204314351082
Rob Purser,hi i have an arduino that is contantly writing to thinkspeak to monitor the system intake performance here some code that i use to visualize the data associated with that you should be able to copy paste this into a matlab visualization verbatim numhours 6 data ts thingspeakread 52622 are adkey p3dewwfw89dvmuiy numminutes numhours 60 fields 1 create hour of day categories to summarize byhourofday floor hours timeofday ts apply the function max min mean and standard deviation to each of the hours in the daysumstats table sumstats hour unique hourofday sumstats max arrayfun x max data hourofday x sumstats hour sumstats min arrayfun x min data hourofday x sumstats hour sumstats mean arrayfun x mean data hourofday x sumstats hour sumstats std arrayfun x std data hourofday x sumstats hour errorbar sumstats hour sumstats mean sumstats std would hold onplot sumstats hour sumstats max sumstats hour sumstats min hold off,0.5
BMcC,thanks rob that got it all working well now ud83d ude42 thank you thanks also adash makes sense now ud83d ude42cheers mean co2 with errors https thingspeak com channels 51602,0.951314210892
Rob Purser,looks awesome thanks for sharing rob,0.971712827682
jesjimher,hii am posting energy measurements to a channel feed that are not periodic i mean one hour there may be 10 values but the next one there may be 50 or 100 the problem comes when i want to calculate daily totals because something like this api thingspeak com sum dailyreturns meaningless values the reason is that sum simply adds all the values inside each day and so days with a lot of measurements have higher values than days with fewer is there some way to calculate a sum taking into account the would istance between measurements graphically speaking i would need the area under the line chart not just the sum of the values,0.5
Rob Purser,i have a similar channel you can do this in a matlab analysis function get the data data ts thingspeakread 32188 numminutes 60 calculate the number of minutes for each value the weight weights minutes diff ts discard the last data point because you do not know its weight data end need to use would ot product operator since matlab default is cross product operator sum data weights,0.5
pedrin2,hola compa u00f1eros como veis soy nuevo en este foro espero poder estar a la altura u00a0estoy intentando enviar informaci u00f3n a un canal que funciona correctamente el problema esta al usar el m590 neoway se conecta correctamente pero no actualiza el canal estoy usando un puerto serie y comandos atalguno del grupo conoce el tema no quiero usar arduino que esta hasta en la sopa d u00eda y noche y festivos u00a0un saludo,0.211209386587
pedro.henrique,hi there i am trying to use a cc1350 to update my thingspeak channel through a gsm modem since cc1350 does not have a proper api to build the string to be sent u00a0i am trying to u00a0do it myself the problem is i did not find how to properly create this string i would like to know how do i format a string just to send one or 2 fileds of data thanks in advance,0.155672967434
piajola,hi pedro is it a texas launchpad newer my picohelp would be search u00a0 e2e ti com support a forum with subforums u00a0 forum 43oh com search forums for energia the red ide imitating arduino u00a0 https training ti com simplelink cc1350 sub 1 ghz and ble launchpad development kit software example u00a0 https github com mik4el testing cc1350 found by accident and of course old uncle google he knows a lot of blogs search for ti implelink approachbut all my experience is launchpads with energia with the mspxxx microcontroller ages agogood luck u00a0,0.5
Linaa,hi i would like to connect nfr8001 to a renesas microcontroller but i could not find any documentation on how to proceed with this step the only documentation i could find is how to connect nfr8001 with arduino rf http www kynix com detail 532956 nrf8001 html i was wondering if anyone could give me a brief explanation on the steps need to be taken to implement this any help would be highly appreciated thank you in advance,0.756410956383
chulian1,i am trying to learn about interrupts using one of the teensy usb boards it got an avr at90usb1286 chip on it i am using the code below and i am expecting my isr block to get called and periodically flash the led on pin 6 but nothing is happening can anyone see what i am doing wrong code include avr io h include avr pgmspace h include util delay h include avr interrupt h define pin_on n portd 1 n define pin_off n portd 1 n define led_config ddrd 1 6 define cpu_prescale n clkpr 0x80 clkpr n define overflow_interrupt_enable timsk0 1 toie0 volatile unsigned int overflow_count 0 count of overflowsisr timer0_ovf_vect cli disable global interupt if overflow_count 0xffff overflow_count else pin_on 6 _delay_ms 500 pin_off 6 overflow_count 0 sei enable global interupt int main void set for 16 mhz clock and make sure the led is off cpu_prescale 0 led_config overflow_interrupt_enable sei enable global interupts while 1 _delay_ms 1000 analogwrite 6 10,0.5
Vinod,i am not sure how thingspeak fits in here perhaps this post is more relevant u00a0on the arduino forums,0.81564617157
arvimg,i want to use thingspeak features as server for my product which has lpc2387 as the processor is there any library available for nxp lpc2387,0.171839773655
JasonW,there are not any arm7 specific libraries for thingspeak that i know of u00a0but i would not let that stop you u00a0all you need an http client library of which there are many u00a0then just use the http library to send get or post requests to thingspeak with your api key and data alternately you can also interact with thingspeak using mqtt u00a0thingspeak is specifically designed for low performance hardware so the reading or writing data is very straightforward take a look at the documentation to see how to construct the requests,0.5
luisantunez,hello everyone i am fairly new here and was wondering if i would be able to use the redbearlabs cc3200 microcontroller with the thingspeak website the same way i would with an arduino thanks,0.979463338852
hans,luisantunez thingspeak is device agnostic and will accept any valid http request specified in the documentation https www mathworks com help thingspeak index html currently official thingspeak libraries only exist for the arduino and particle which are available on the github page https github com mathworks thingspeak arduinohttps github com mathworks thingspeak particle,0.5
BSB,jklol said luisantunez thingspeak is device agnostic and will accept any valid http request specified in the documentation https www mathworks com help thingspeak index html currently official thingspeak libraries only exist for the arduino and particle which are available on the github page https github com mathworks thingspeak arduinohttps github com mathworks thingspeak particlenot strictly true http www awam com au design cc3200 launchxl thinkspeak temperature logger for energia https thingspeak com channels 66798http embeddedcomputing weebly com advanced iot data processing with thinkspeak htmli do not know enough about the 3200 to give much more than the links that took google less than a second to find using thingspeak cc3200,0.5
ghalib.janjua,hi folks i am developing a temperature logger with redpine module rs9113 i am facing difficulties in updating data on channel by using http_post need your help to find out the right parameter for command command with parameter at rsi_httppost i am using at rsi_httppost 0 80 arctyn 3tup4xac7dfznpjx https api thingspeak com 184 106 153 149 update 0 25error 400 bad request i am able to send data with postman google app on channel at https thingspeak com channels 56577can you people guide me the port to be used and verify it for me that am i using the right parameters thanks in advance kind regards ghalib janjua,0.217488110065
Hans,hi ghalib are you able to use the same code with http instead of https thanks hans,0.88793861866
ghalib.janjua,hi all good afternoon i am using redpine rs9113 wifi module and i need thingspeak com ssl tls1 2 certificate and password to upload in it kindly let me know from where i can download this certificate and password i am novice to this stuff so apologies if i might be wrong in any aspect and that bothers you thanks in advance best regards ghalib,0.945492744446
almarion,hi i am using thingspeak running on ubuntu 12 04 4 lts it works well with thingspeakclient ino running on msp exp430f5529lp when accessing thingspeak comif i make minor modifications to thingspeakclient ino to allow access to my ubuntu version the app connects to wifi and reports updating thingspeak but no actual update takes place does anyone have experience with this ti configuration thanks i have been using arduino yun to update my ubuntu thingspeak and thingspeak com and both work well energia thingspeak channel via cc3000 simplelink wifi boosterpackhttps github com energia energia blob master libraries simplelinkwifi examples thingspeakclient thingspeakclient ino,0.5
tz,i have a few motorola c168i phones ttl uart via the jack which it would be nice to use sms instead of trying to put together a network connection especially for mobile apps also i am not going to post often if i have to do a catchpa each time u00a0,0.77213549614
Hans,we will think about how we could do this and add it to the growing list we might be able to leverage existing sms u00a0gateways u00a0or even twitter,0.823014140129
wiktor,is it possible to configure sms send via mobile phone to trigger a reaction,0.5
dexterindustries,i am getting the same problem u00a0i am not using arduino i am using a gainspan wifi module u00a0 u00a0i send the following at nctcp 184 106 153 149 80connect 0ok0 u001b0post update http 1 1host api thingspeak comconnection closex thingspeakapikey v key key bcontent type application x www form urlencodedcontent length 10sensor1 19 u001bo u001bo u001b u00a0the response i get is u00a0 u001bs0http 1 1 301 moved permanentlyserver nginx 0 8 53date sun 11 mar 2012 03 02 29 gmtcontent type text htmllocation https www thingspeak com content length 185connection close html head title 301 moved permanently title head body bgcolor white center h1 301 moved permanently h1 center hr center nginx 0 8 53 center body html u001bedisconnect 0when i use a webbrowser to try to enter data i have no problems however when i am connected via the module i get this error u00a0any ideas what could be wrong here u00a0,0.5
Hans,i have seen this issue with certain tcp ip stacks try using http 1 0 in the request and let me know if that works if not i will keep digging u00a0also just to confirm i have looked up the dns with the same module u00a0the response i get for api thingspeak com0at dnslookup api thingspeak com184 106 153 149,0.811615943909
dexterindustries,thanks admin i tried sending 1 0 and received the same response u00a0post update http 1 0host api thingspeak comconnection closex thingspeakapikey vf key key bcontent type application x www form urlencodedcontent length 10sensor1 19 u001bo u001bo u001bs0http 1 1 301 moved permanentlyserver nginx 0 8 53date mon 12 mar 2012 04 14 00 gmtcontent type text htmllocation https www thingspeak com content length 185connection close html head title 301 moved permanently title head body bgcolor white center h1 301 moved permanently h1 center hr center nginx 0 8 53 center body html,0.5
Hans,okay it not the http 1 1 thing are you posting ensor1 19 u001bo u001bo u001b that might be the issue you need to post field1 1900 since the update is wrong the api is forwarding you to the website i will look into a more verbose error for this situation let us know if that helps ps we would be interested in hearing more about your project i do not have any experience with gainspan so it would be helpful,0.153417170048
dexterindustries,hans u00a0thanks u00a0i really appreciate the help with this u00a0sorry for the confusion the oo i am seeing is the modules response to the escape sequences sent to the module over the serial line u00a0the first o is really an esc o ok response for entering the escape sequence and then another esc o ok response for exiting the escape sequence u00a0 u00a0to be clear there is no crlf after the data entered the data being entered is sensor1 19 u00a0i would be more than happy to share my code and any of the other problems we encounter u00a0i am working on a program for our lego mindstorms sensor the wifi sensor u00a0http www dexterindustries com wifi html,0.820693731308
Hans,sounds like a cool project product try field1 19 in the post body,0.966285228729
dexterindustries,problem solved u00a0thanks for your help with this u00a0the problem was really dropped bytes from the lego mindstorms nxt to the wifi module u00a0this has been corrected and i will be releasing the example code a little later in the week on our blog u00a0http www dexterindustries com blog u00a0one quick tip for everyone u00a0i used a program called fiddler to test html post data u00a0the program allows you to rapidly try different formats u00a0it gives very detailed information including hex code on the message and response u00a0 u00a0thanks,0.811939537525
zeke,i realize that this topic is old but this is what i know the escape o is the gainspan module telling you that its transmit buffer is full the buffer is only 4k bytes in size you will have to stop pushing data into the module if you get it,0.5
Hans,thanks for the extra input it is good to know,0.994256556034
dexterindustries,we recently finished a u00a0successful u00a0project getting the lego mindstorms nxt to post to thingspeak u00a0the project enables your robot to post data to thingspeak u00a0we hope to do a more extensive application project later u00a0here is the link to our writeup on the project u00a0http dexterindustries com blog 2012 03 22 the internet of things thingspeak with diwifi and lego mindstorms nxt u00a0and here is the module we used the dexter industries wifi module http www dexterindustries com wifi html u00a0 u00a0thank you to everyone who helped out troubleshooting our issues on the forum,0.793015062809
Hans,very nice thanks for sharing,0.986882030964
sirloon,hi guys u00a0just a few words to share my first internet of things based on jaluino bee board microchip pic based using jalv2 language jallib libraries this is a simple powermeter counting w h from a flashing led publishing collected data to thingspeak every minute u00a0http jaluino org building a powermeter with jaluino bee u00a0thanks to thingspeak guys for your great service u00a0cheers seb u00a0,0.857587218285
Hans,cool project i have not used the u00a0jaluino bee before i will post this up and link to the project thanks for posting,0.971555888653
mattyw,i have just ordered a teensy usb board u00a0http www pjrc com teensy u00a0as soon as it arrives i am going to try moving my arduino project over to that anyone used this sort of board before u00a0matt,0.5
Hans,i do not have much experience with the teensy but i do have the arduino mini nano from gravitech i think all you need is the ability to read some inputs and send the data as serial via the usb cable to the computer if so i think teensy might be a good option,0.261566102505
nedsons,u00a0i need to send an entire json to my channel on thingspeak but i do not know how to do that just make use of the post method,0.248079001904
cstapels,you can update a channel with get or post u00a0 have a look at the documentation for write data you can send a json object to a single field or you can write it to multiple fields u00a0 each field has a 255 character limit u00a0 you may have to reformat your json object to get it in the correct format if you are writing multiple fields at once using this method you can also update with many entries at the same time using the bulk write method for json data,0.796746730804
cstapels,here is a sample json post to the update endpoint post update json http 1 1host api thingspeak comcontent type application json api_key channel_write_api_key created_at 18 04 23 23 25 21 0200 field1 avalue field3 61 field4 52 field5 43 latitude 4 longitude 2 2 tatus perfect,0.5
fonzikun,hi is there any documentation on how i can get the last data entry in a field to use in an android app,0.726983964443
Vinod,take a look here https www mathworks com help thingspeak get a channel feed htmlyou can also do something like this if you only want the last point in a certain channel https thingspeak com channels 9 feeds last jsonor for the last point in a certain field of a channel you can do https thingspeak com channels 9 fields 1 last json,0.5
hedwig,have a look here https play google com store apps details id com alex93savari pulsy_thingspeak,0.5
valid8r,i love my thingview app on my android phone and use it to remotely monitor data graphically works like a charm u00a0but now my wife wants to see the same thing on her iphone what are my options u00a0 u00a0thanks for any help insight you can provide,0.210121154785
Vinod,you could always open http www thingspeak com on your ios device another option is to u00a0follow the instructions here https www igeeksblog com how to add website shorcuts on iphone and ipad in safari ios 7 to create a shortcut to the thingspeak channel and add it to your homescreen,0.89818239212
valid8r,thanks vinod u00a0while those are good workarounds they certainly are not as nice as having a dedicated app like the beautifully executed android app thingview u00a0 u00a0any chance someone is working on such a project u00a0seems strange to me that this has not already been done and that more people are not asking for this just curious u00a0thanks again,0.75720179081
Vinod,hi valid8r i am not aware of anyone working on an ios version of the thingview app or something similar if you are into developing u00a0ios apps this might be an interesting project for you u00a0if you think about it an u00a0native ios app may u00a0not be more preferable than a web app that accesses thingspeak for a number of reasons for example a badly written app can run in the background and drain your battery presumably apple has made u00a0as many optimizations as possible to safari to ensure low battery drain more importantly any app can only u00a0provide a subset of the functionality of the thingspeak website and you can get the full experience using the website directly,0.5
mprolo,hello i just released thingview in the app store it a simple version i will be adding more features in the next monthshere is the link https itunes apple com uy app thingview id1284878579 mt 8,0.5
espolli,mprolo said hello i just released thingview in the app store it a simple version i will be adding more features in the next months here is the link https itunes apple com uy app thingview id1284878579 mt 8 u00a0 u00a0this would be perfect if it would be running on ios9 3 5 as well so i can use it on an iphone 4s as well any chance to make it available for ios ios 10 that would be really cool i have no idea how complicated my request is though,0.913402080536
mprolo,sorry the minimum i can do is 10 required by some components im using,0.171675771475
rachelhobbss2,released by apple back in 2013 ibeacon gained considerable fame by the online retail industry and has even continued to gain additional momentum over the years a team of expert researchers has just found that companies interested in online retailing are considering ibeacon as the next big revolution in the global online retailing segment based on its value added features u00a0a team of professionals from an iphone app development company said that apple has launched a number of applications that have considerably eased the lives of their end users but ibeacon has proved to be the one of its kind application that has totally revolutionized the area of online retailing businesses are now considering to invest more in this area as they have realized the true potential of increasing their revenue generation capabilities backed by ibeacon industry experts conclude that it is just the beginning and there are a number of new developments expected in the near future when it comes to ios application development all over the world,0.5
AnnLi,galleryvault is a fantastic privacy protection app to easily hide and encrypt your photos videos and any other files that you do not want others to see u00a0 galleryvault can hide its app icon and keep your privacy absolutely safe you can import your private images and videos in this secure vault and nobody knows the existence of it u00a0 what is more galleryvault has the beautiful design it provides you the smooth and amazing media browse experience photo vault u2013 hide photos videos is a photo vault app to lock photos and videos using pin pad with this gallery vault app you can secure your private photos videos no one can snoop them without password main features use pin pad to access gallery vault view locked photos and videos in the vault lock 200 photos videos in total for basic version photo vault u2013 hide photos videos premium version unlimited privacy space to store personal photos and videos no annoying ads u00a0 u00a0 u00a0https itunes apple com us app gallery vault id1289531259 mt 8,0.957965791225
Wilice K,hello i have developed and uploaded new android widget to google play thingspeak monitor try it https play google com store apps details id ua livi thingspeakmonitorthingspeak monitor widget will help you to be always up to date with current state of your things connected to thingspeak service every instance of the widget will display last actual field value of your channel the values will be refreshed automatically every 30 mins you can refresh them immediately tapping any time at a widget center your channel and field name will be got from thingspeak just set your channel id it is possible to monitor several fields from different channels in one screen in any possible combinations just create several instances of the widget you can monitor private channels using read api keys for public chanels just leave read api key input line emty during configuration so it is quite simple and free try it i will be really appreciated for your feedback here or in google play,0.829239666462
Hans,awesome thanks for sharing,0.986882030964
kniazio,exelent,0.973930835724
0xFF,nice work thanks i have small issue with widget refresh every time when i add new widget tap to refresh function does not work at first time after phone reboot it works perfect,0.91168987751
Wilice K,0xff said nice work thanks i have small issue with widget refresh every time when i add new widget tap to refresh function does not work at first time after phone reboot it works perfect it is not so good i will try fix this issue thanks for your feedback,0.852780342102
Wilice K,0xff said nice work thanks i have small issue with widget refresh every time when i add new widget tap to refresh function does not work at first time after phone reboot it works perfect it has been recently fixed and published in google play alredy available wait for the widget update from google play soon ud83d ude42additionly some cosmetisc updates has been performed to increase usage convenience just try it,0.891544222832
0xFF,great can i have some future requests ud83d ude09i would like to have a option checkboxes to select data visibility chanel name y n chanel id y n field description y n field number y n chanel update date y n in my opinion old caption chanel name looked better than new concatenating chanel name chanel id ud83d ude09there is small issue on my device i do not know how to insert picture here link https lh3 googleusercontent com offgengtwbj6ssq4z3e__jhhbqaaum5mkxft1tyscp 2_opuxhx9qslrrgr5kmlsepks2lgar6uw w480 h854 noas you can when widget is scaled down main value is not visible is this fixable thanks again,0.781355261803
Wilice K,0xff said great can i have some future requests ud83d ude09i would like to have a option checkboxes to select data visibility chanel name y n chanel id y n field description y n field number y n chanel update date y n in my opinion old caption chanel name looked better than new concatenating chanel name chanel id ud83d ude09there is small issue on my device i do not know how to insert picture here link https lh3 googleusercontent com offgengtwbj6ssq4z3e__jhhbqaaum5mkxft1tyscp 2_opuxhx9qslrrgr5kmlsepks2lgar6uw w480 h854 noas you can when widget is scaled down main value is not visible is this fixable thanks again thanks for your opinion a part of your wishes has been implemented and already published check the following update ud83d ude42regarding caling issue unfortunately in scope of android widget it is impossible to automatically adapt font size for parent layer size so the only possible way is to create one more option in conf screen it is font size option for manual taloring i will try this apprach when have time and sure new options to swith off displaying of channel name and last update date will be tryed too have a nice day,0.779390633106
0xFF,wow really fast update ud83d ude09thanks for your effort,0.917664170265
Wilice K,new version 1 1 0 of the widget has just been released new features 1 now it is possible to change every widget configuration any time when you need just tap at the right top corner of a widget at special new icon 2 font size of item value can be changed in a widget configuration screen to avoid some possible displaying issues try it and have a nice day ud83d ude42p s unfortunately android ice cream sandwich ver 4 0 4 0 4 is not supported any more the lowest supported version is jelly bean ver 4 1,0.82683545351
0xFF,cool editing widget configuration was my next wish ud83d ude09adjustable font size is also nice feature i am on android 6 cyanogenmod i do not care if you drop support fot ancient versions ud83d ude09of course i have another wish ud83d ude09is it possible to hide edit icon for normal view something like auto hide visible for few second after tap visible after long press thank you for your contribution i gave you ud83d ude09,0.896657645702
Wilice K,0xff said cool editing widget configuration was my next wish ud83d ude09adjustable font size is also nice feature i am on android 6 cyanogenmod i do not care if you drop support fot ancient versions ud83d ude09of course i have another wish ud83d ude09is it possible to hide edit icon for normal view something like auto hide visible for few second after tap visible after long press thank you for your contribution i gave you ud83d ude09thank you for your 5 stars in google play it is strange but almost anyone who use the widget has done it ud83d ude41to be continued,0.914135217667
Wilice K,new release has been published ver 1 1 2 new features 1 set update timeout feature has been implemented set different update timeouts for different widget instances 2 upper third of the widget is fully tappable tap there to open configuration window 3 middle and lower thirds of the widget are fully tappable too tap there to update widget manually next release features ver 1 1 4 1 add a possibility to hide configuration icon2 add a possibility to center channel name,0.788988828659
m-blue,really good job that is it i was looking for to fast check temp since some time i know that for free i can not expect that you will spend all of your time for this app but will be nice to have possibility to get some history after tap temp value i am using 4 widgets on screen with 4 id will be good to can have one smaller with a few id just to put on main screen on the phone 5 stars from me,0.902144551277
0xFF,wik said 1 add a possibility to hide configuration icon2 add a possibility to center channel namehow to hide icon how to center,0.741614937782
Wilice K,0xff said wik said 1 add a possibility to hide configuration icon2 add a possibility to center channel namehow to hide icon how to center keep calm my friend there was a mistake with previous verion number it was formally the bug fix and should be numbered as 1 1 3 btw new version 1 1 6 with a possibility to hide configuration icon including automatically channel name alignment has been released please wait for a notification from google play there is one more thing oxff could you please check polish language translation in configuration screen i suppose i feel it but it should be checked by a native speaker is it correct,0.5
Wilice K,m blue said really good job that is it i was looking for to fast check temp since some time i know that for free i can not expect that you will spend all of your time for this app but will be nice to have possibility to get some history after tap temp value i am using 4 widgets on screen with 4 id will be good to can have one smaller with a few id just to put on main screen on the phone 5 stars from me a few ids and history charts i am thinking about them,0.902877867222
0xFF,wik said 0xff said wik said 1 add a possibility to hide configuration icon2 add a possibility to center channel namehow to hide icon how to center keep calm my friend there was a mistake with previous verion number it was formally the bug fix and should be numbered as 1 1 3 btw new version 1 1 6 with a possibility to hide configuration icon including automatically channel name alignment has been released please wait for a notification from google play there is one more thing oxff could you please check polish language translation in configuration screen i suppose i feel it but it should be checked by a native speaker is it correct oh i see after today update everything is clear your polish is very good ud83d ude09only few remarks api klucz do czytania better will be klucz api do odczytu odnowienie min 30 better will be od u015bwie u017canie min 30 or even better od u015bwie u017canie co 30 min,0.715468287468
m-blue,wik said m blue said really good job that is it i was looking for to fast check temp since some time i know that for free i can not expect that you will spend all of your time for this app but will be nice to have possibility to get some history after tap temp value i am using 4 widgets on screen with 4 id will be good to can have one smaller with a few id just to put on main screen on the phone 5 stars from me a few ids and history charts i am thinking about them i am waiting for update ud83d ude42 and i am agree with oxff at polish remarks ud83d ude42,0.910945117474
Wilice K,be patient it is coming,0.919998407364
mprolo,hello everyone i just uploaded an application to view the thingspeak channels in the android platform check it out here https play google com store apps details id com cinetica_tech thingview,0.5
kniazio,would it be possible to do so to date last temperature was displayed in large font at the center of the chart as half transparent at the moment it is a bit difficult to read regards,0.5
vespapierre,hi nice app great congratulations maybe could be nice to have some historical data view,0.995613336563
mprolo,yes i totally agree with you i will add this functionality as soon as i have some free time,0.98557305336
BSB,gave you a 5 star on play store this is a great app and has not crashed on me once on either my samsung or acer devices,0.935090065002
skydesign,hi nice app can you add auto refresh and gauage,0.993908345699
wheato22,thingview is a quality android app with excellent support from the author u00a0 the current iteration of thingview provides an accurate u00a0 visualization of you thingspeak channel public view i have both views running on my android device and have found one glitch with multi day visualizations of my private channel the author has indicated he is working on an update to make private view better in my opinion thingview is a best of breed app for visualizing my public channel 90870 with a simple arudino sketch 50 instructions a ethernet shield a pulse output water meter sub meter in my case and a hardware debounce circuit my channel is updated every minute with a water flow count zero if no flow and a total flow month to date no more 500 water bills for me,0.866201162338
Ron24B,wow nice good app,0.962303996086
jenifferhomes,this is a great app i have both views running on my android device and have found one glitch with multi day visualizations of my private channel at the moment it is a bit difficult to read maybe could be nice to have some historical data view,0.824613213539
mprolo,hi if you want some help with your channel email me your channel id and u00a0 a read api key to mprolo at gmail what do you mean with one glitch if you can explain u00a0your problem a little more i will be glad to help you out if you are interested in historical data view this functionality is available in the paid version check it out herehttps play google com store apps details id com cinetica_tech thingview full u00a0you can check any period of time and compare it with another given period cheers marcelo,0.917989253998
lover50,i found a small bug u00a0 when the data being plotted is all negative numbers the max displayed will always be 0 u00a0 image can not be found,0.0889550447464
mprolo,hi lover50 u00a0thanks for pointing out this bug i have just discovered that float min_value is a positive number in java that was the cause i have just uploaded the bug fix it will be available in a few minutes thank you,0.938455224037
lover50,u00a0 u00a0 u00a0 thank you u00a0,0.999606847763
lover50,a found a small bug when i moved to my new phone a galaxy s8 u00a0the first picture is on my old phone lg g4 and the 2nd is the s8 basically the negative number seems to overflow the field width and end up wrapping onto the next line u00a0it does bring up another question how do i change the color it uses for the graph,0.5
mprolo,hi u00a0i am not sure if i understand what is your problem you mean the box with the value date etc is out of the screen if the channel is public the color is taken from your configuration in thingspeak if it private it should use red,0.214008033276
androidcontrol,app on google play https play google com store apps details id iot sensor data monitormore info on blog http androidcontrol blogspot com 2015 06 android iot thingspeak data monitor html,0.5
ellivna,works well but limited functionality so far pretty basic at the moment i am looking forward to what you come up with in the future,0.874259829521
wayari,hi all i am desperately in need of help with my daughter recently she u2019s been very disobedient towards me and my husband she would yell back at us if something we said upset her sometimes she would even push or throw stuffs on the floor in front of our faces the other day i was able to spy on her phone she has been texting with some strange people and seems they u2019ve met several times too i and my husband are very worried we u2019d tried talking some sense into her but it was pointless and often ended with her storming out i fear she might be hanging out with wrong types of people but there is no way for us to find out my friend recommed me two spy apps name mobiispy and spyapp247 and everyone pls help me to find out which one is better many thanks,0.0200035870075
hilgi,hi everyone u00a0i just started to code an app which allows me to handle my channels and feeds with the thingspeak api u00a0creating channels and feeds isnt that hard but i also need my user api key i know i can get it from my profile but i want my app to get it i looked up the code fromhttps thingspeak com loginand tried to get all informations to login without original thingspeak site i just got this https thingspeak com users sign_in utf8 e2 9c 93 authenticity_token ejo5hg4yjzntipqlmnrvudvqz1gunmusmch5i9ejltw user login myemail 40adress com user password mypassword commit sign inif you see the source code of the login site there is given the authenticity_token from the ts site u00a0but always i try to login this way by url it says orry that user cannot be found u00a0 i dont realy get why im not that approved in coding u00a0 plz can someone give me a hint to get this run u00a0greetings hilgi,0.5
cstapels,hilgi can you describe more about your application u00a0almost all the data you store in thingspeak can be obtained via mqtt broker or api calls u00a0there is no way to obtain the api key s without logging in,0.5
hilgi,hi cstapels u00a0this app can be used to control your electricity consumption gas water whatever much people dont know much about iot or smth else but want to use new technologies so my app must be able to make the registration login create a channel create a multi chartand so on automaticly u00a0creating channel and chart isnt that hard but to register and login is the prob the web component saves the first cookie on thingspeak com login and i now know hot to get thetoken and how to send it and send the login data with post by ai2 web component but by sending this datau will be redirected to sign_in where u get a new cookie which u need to hand it to next redirection mwa_linking but this cookie the web component doenst take or get or whatever u00a0after changing the code the orry that user cannot be found thing is gone and i can see by packet capture thatthe app follows the same way like the browser do but as i can see too the cookie isnt set at first redirection u00a0so how to handle this im just triying this extensoin webviewtools extension maybe i can macgyver that problem ud83d ude09 u00a0greets and thanks for any ideahilgi,0.5
hilgi,hi u00a0i had success ud83d ude42 u00a0maybe it is possible to do it as i wanted it to do but i found another solution u00a01 use the webviewer component to open site and to login2 use webviewcookietools extension to read the webviewer given cookie3 hand over the cookie to the web component and open site u00a0now i can open the sites i need and pick out the data i need by responsecontent u00a0it works in my case and so my problem got solved so far ud83d ude1b u00a0thanks for any idea greetz hilgi,0.766128957272
Wilice K,hello community as you may be know samsung created absolutely new smart watch platform last year the first representative of this new smart watch family is gear s2 for now a lot of various apps have been created and available in galaxy apps store for gear s2 the watch is really amazing but unfortunately there is no app for thingspeak it is sadness so is there at least one person here who really interested to have thingspeak data representation on his wirst has someone got any thoughts about this suff,0.725229203701
Joel,hi i just purchased a gear s3 and would very much like to have data from thingspeak on my wrist have you made any progress with this or found any solution,0.805093407631
evgeny_bigheadone,hey there we are small team of experts in web and mobile development who is focusing business to solve their problems in it field like create service website mobile application fix bugs on your current site application add new features and much more that we can do win win is our main principle you can try us risk free we don u2019t take any upfront payment let u2019s have a quick talk about your needs skype dark_gf or email me ev bigheadone com,0.953928649426
vondes,i want to create a mobile recorder https mobilerecorder24 com what i can do u00a0,0.7139570117
ic3m4n,hello everyone i have a question is it possible the last send data from my channel to make it visible on my phone i know there are many apps but i want to make my own for my school project simple i send sensordata from my arduino gsm to my channel i hope you can help me thank you,0.891282618046
Vinod,i am not familiar with the mit app inventor so i cannot comment on that specifically in general if you are building an app you can use thingspeak restful api to query for points on the channels and display it on your app for example to get the most current u00a0data from channel 9 of thingspeak you can do this https api thingspeak com channels 9 feed last jsonyour app will need to make the restful call and parse the field value to display the current value,0.5
ic3m4n,thanks for the reply what is a restful api,0.980398774147
Vinod,when web services use rest architecture they are called restful apis application programming interfaces you can read up more about rest here https en wikipedia org wiki representational_state_transfer,0.948377728462
Robert Mawrey,ic3m4n said hello everyone i have a question is it possible the last send data from my channel to make it visible on my phone i know there are many apps but i want to make my own for my school project simple i send sensordata from my arduino gsm to my channel i hope you can help me thank you u00a0 u00a0it is actually quite easy to build an mit app inventor app to display thingspeak data u00a0please see the following post on my blog for an example of how to do this http www mawrey com simple thingspeak viewer app using mit app inventor 2,0.895621716976
Dhan,i do not understand how to get data from thingspeak using the eclipse android how to retrieve data with fire and channel are there,0.134453892708
azlardo,hi guys i got a question what i want to do is use and arduino board to send data to thinkspeak but also i want to create a mobile app to see the latest data send and also givelike a link to the main page of thinkspeak and see all the historicall data i was thinking on develop the app using processing but i dont know if is the best option or if i will be able to do what i want to do some advices,0.771918356419
viciba,hi i just uploaded u00a0in google play my android app called domote https play google com store apps details id com vicibadesign micasapp u00a0this application allows manage the thingspeak fields in diferent rooms for simpler way of viewing but domote is not only a viewer it is posible to create alerts and notifications with conditions that will be thrown if the fields fullfil the conditions another feature of domote is the buttons creation this feature in combination with thinghttp allows modify some parameters the system finally the last feature is the voice commands with it domote can tell you the room state or press a button only with a few words u00a0nothing else i am still developing this application but here is the first version i welcome your coments and wish you like it u00a0regards u00a0,0.5
lover50,it looks nice but why does it have some of these permissions u00a0 i do not see what they are needed for u00a0 record audio u00a0 disconnect from wifi u00a0photos media filesread the contents of your usb storagestorageread the contents of your usb storagemicrophonerecord audiowi fi connection informationview wi fi connections other connect and disconnect from wi fi,0.855270266533
viciba,lover50 said it looks nice but why does it have some of these permissions u00a0 i do not see what they are needed for u00a0 record audio u00a0 disconnect from wifi u00a0photos media filesread the contents of your usb storagestorageread the contents of your usb storagemicrophonerecord audiowi fi connection informationview wi fi connections other connect and disconnect from wi fi u00a0 u00a0 u00a0thank you very much ud83d ude42it simple photo media files are requiered to choose a picture for the room as you can see in the captures of the main menu every room is shown with this photos wifi connection in the alerts and alarms section every alarm is defined as a condition and events combination there are 3 types of condition one of them is conectivity with this type you can program for example if your are connected or disconnected to a specified wifi network for example your home network following this domote can check if you are in you home not that why domote requiered wifi connection information the microphone is necessary to use the voice asistant you can say for example how me the temperature graph and domote will show it and finally storage is used to save the user configuration that all again thank you very much for your interestregards,0.860657274723
0xFF,it spent few minutes trying to login before i u00a0discovered my channel needs to be public why there is no information about channels u00a0settings requirements finally why do i have to publish my channel u00a0,0.5
viciba,0xff said it spent few minutes trying to login before i u00a0discovered my channel needs to be public why there is no information about channels u00a0settings requirements finally why do i have to publish my channel u00a0 u00a0 u00a0hi thank you very much for your coment it not necessary make your channels public at the begining in the loggin screen you only have to have to insert your username in thingspeak and your user apikey to get this user apikey you have to go to account my account section in thingspeak website once you are there you only have to copy the apikey shown and paste it in domote u00a0i attach a capture of account my account section u00a0captura 1with this information domote will get and show in the next screen your channels defined in your thingspeak account public or not if this channels are public domote will show every field defined in the channel if it is not domote will show a textbox to insert the read apikey of the channel i hope it could be helpfull thank you very much again for your comment it makes me take note where improve the next version of the app regards,0.5
0xFF,thanks for explanation that clear now i tried to put channel apikey instead of account apikey so there is my first suggestion please put account api key hint in login form ud83d ude09second thing system parameters form lacks u00a0translation best regards ud83d ude09,0.812670469284
vespapierre,hi thingspeakers here is a simple really basic android application to get the last entry of your feed will need to input your channel id this comes from the json format of get feed and will give back the datetime and value of 8 fields feel free to use https www dropbox com s 2swh2ozrfz4el3a thingspeaklastentry apk dl 0,0.746172487736
Infinity,its a good app but see this one with alarm functionality and many other features https www youtube com watch v peetdzxmwva,0.856588721275
Infinity,this is one of the latest app for thingspeak channel with alarm functionality quite cool features eagerly waiting for its new version with more features https www youtube com watch v peetdzxmwva,0.775660634041
androidcontrol,app on google play https play google com store apps details id iot arduino controlhardwarearduino esp8266 wifi modulewiring diagram arduino code http androidcontrol blogspot com 2015 06 android iot control thingspeak html,0.5
lee,hi nice project thanks for providing the videos and diagrams are you making frequent calls every 1 or 5 seconds to the api to get the last data and then reacting on that data lee,0.898804783821
ingamedeo,hi i am an android developer and i am using thingspeak some time now i am interested in making an android app for the play store with many features including material design channels and feeds monitoring last time values list of old entries graphs real time notifications on your smartphone when a feed value meets a specific condition i plan to sell the app on the play store sometime soon raise your hand if you are interested amedeo https play google com store apps developer id amedeo arch,0.895960986614
burgchevap,i am currently trying to develop an iphone app which has buttons to update my talkback commands using nsurl in swift just wondering if anyone else has done this and if they have would you mind sharing your code,0.795694470406
chrisjmears,i notice you now have a new parameter to minimise the number of http headers being sent could you please give me an idea of how much data this saves per get request just thinking mobile data plans thanks,0.787783801556
lee,hi i tested this with one of my channels and got the following results for a channel update request the http response went from 517 bytes to 293 bytes 43 less for a channel get last value request the http response went from 588 bytes to 364 bytes 38 less lee,0.5
chrisjmears,ive noticed if i repeated use the same urlhttps api thingspeak com channels 5384 feed last json status true offset 1most of the time it will report the time with the offsett created_at 2014 04 17t11 17 15 01 00 etcbut if you keep doing it you often get times returned with no offset created_at 2014 04 17t10 17 15z etcthese are throwing my app as i am relying on having accurate times returned with the offsett this seems to be recreatable just paste in the url above and fire it off arond every 9th or 10th call to it will drop the offset,0.682618021965
lee,hi we have just implemented a fix for this can you verify that it working properly for you now lee,0.871987342834
chrisjmears,i will test it previously utc was showing 1 hour behind gmat we are in british summertime now so i was correcting for that with offset 1 since your fix the raw utc feed now seems to match gmt is this intentional i e previously was utc wrong or is it now wrong,0.159998953342
lee,yes that fix was intentionally added in too so that the offset correctly matches the description offset of your timezone without daylight savings time lee,0.756586432457
chrisjmears,still a bit of a bug just grabbing the last json correctly gives the time as utc i e 7 29am however if i add offset 1 i would expect to get back the utc 1 hour i e 8 29 what i get is 9 29it seems to be treating an offset of 1 as an offset of 2probably just a very minor bug somewhere in the code but a fix would be appreciated,0.5
lee,hi if the offset is set to 1 let call it berlin time then daylight savings time is applied during part of the year including now to get an offset of 2 for the current time zone offset http www timeanddate com worldclock city html n 37lee,0.5
chrisjmears,hi lee i still have the problem say it 8 21am in the uk british summertime f i do not specify an offset it gives 7 21am if i apply offset 1 it gives 9 29am i can not figure how to get 8 21am,0.154297292233
lee,hi chris we are currently working on this problem as we are now noticing subtle inconsistencies in our implementation of the offset parameter as you have pointed out i will post back here when we have a final solution lee,0.83475625515
lee,hi chris we have made some changes to the way offset works offset no longer has a direct correlation with time zones and will output the results in whatever offset is specified for example an offset of 5 will always output feeds with a timestamp that includes 5 regardless of daylight savings time we introduced a new parameter called timezone that ensures proper time zone transformation you will probably want to use this parameter since it much more accurate and automatically handles any daylight savings time issues here the changes to the parameters https thingspeak com docs channels get_feed and here the relevant time zone documentation https thingspeak com docs timezones lee,0.5
chrisjmears,hi im developing for ios android using ajax it seems ios 6 7 still have a nasty bug called the long polling bug basically when i use an delete i extend ajax to do this the ui spinner at the top of the screen never stops spinning get works fineis it possible to have all the talkback functions support standard get requests to work around this horrible ios bug,0.0762156248093
lee,hi unfortunately we are unlikely to do this since it would conflict with existing rails routes and break the restful design of talkback lee,0.104602783918
gadjet,hi i have created an app that allows you to enter the channel id and read key to display your graph you can find it here https dl dropboxusercontent com u 2253850 thingspeak1 apk,0.771676898003
Hans,awesome thanks for sharing the app with the community are you planning on putting the source code on github,0.953340172768
vespapierre,hi gadjet app looks fine is it just display only one graph i have added the channel id and the api key and it is displaying only one graph thanks,0.9272133708
mattyw,hi guys i have posted a really simple android application on github https github com mattyw publicsandpit tree master android u00a0at the moment you just enter your channel id and it will get the channel name and the last recorded value for feed1 it very simple but feel free to add stuff to it u00a0matt,0.909142136574
Veeramani_karthick,hi everyone i have confusion in home automation project for indicating the bulb turn on and off in the platform can we indicate the bulb condition in the platform if it can be done how can i do it,0.752942204475
cstapels,it is definitely possible to indicate the status of a bulb or switch on your thingspeak channel there are several ways you can achieve this you can write data https www mathworks com help thingspeak writedata html and use a field value to indicate the light status then the value would show in your thingspeakplot on your channel view you can even add a gage widget that will visually show the value https www mathworks com help thingspeak channel_display_widgets htmlanother option would be to use a matlab visualization to show a color on the channel based on the light status that you write to a filed here is an example of that kind of indicator with traffic https thingspeak com channels 38629you could write an indication to the status field and then use your channel settings to show the status on your channel view here is the format for using the rest api to update the status https api thingspeak com update json api_key status lighton can you tell us more about the project what hardware are you using what is the goal of the project,0.5
andrey20,hello i write for a website how would a student upload a photo in my covoco gallery i see that they can embed a photo but that not helpful if i instruct to go to the files page it brings up the course files in order for them to then access their individual files they need to select all my files upload the photo then return to the discussion board and embed it there that at least 5 clicks in order to simply upload a photo to a discussion forum something that i would think would be one of the simpler functions is there another way of doing it that i am missing any help will be appreciated thank you,0.5
cstapels,hello andrey20 are you using thingspeak to interface with your convoco gallery,0.5
nigb2389,hi there i want to try thingspeak platform with our meshlium gateway using mqtt u00a0this is the windows to configure mqtt in the gateway i will appreciat your support for made this connection mqtt configuratorthanks in advance ng,0.5
JasonW,we are working on a custom connector for meshlium u00a0 we have been experimenting with the mqtt org connector but have not had any luck the way the message template is setup is not a good fit for thingspeak channels and fields u00a0 but there is a small chance you can get the mqtt org connector to work u00a0 u00a0let me know if this works for you u00a0 u00a0ip address mqtt thingspeak comport 1883user your thingspeak usernamepassword your mqtt api key from thingspeak com account my accounttopic template this will be your channel publish topic u00a0 it is best to try a single field first u00a0 if that works you can attempt a more complicated feed publish with json u00a0 here is as example topic for channel 123 with a write api key of xxxxxxxxxxxxxxxxx channels 123 publish fields field1 xxxxxxxxxxxxxxxxmessage template value,0.763994932175
nigb2389,hi jason i tried to fill the fields as you recommended but i do not know if i did it correctly i attached the screenshot of my thingspeak setting and mqtt setting in meshlium it correct https 1drv ms u s amugj4xu7puug989st_a_il7yxnv9ghttps 1drv ms u s amugj4xu7puug99n4vt9azw6sqn6agin message template temperature is the variable name of my sensor,0.842707037926
cstapels,i think your topic syntax is incorrect see https www mathworks com help thingspeak publishtoachannelfieldfeed html for the correct format channels publish fields field is the topic format to publish to a field as in jasonw example,0.797858476639
nigb2389,thank you cstapels and jasonw finally i obtained data in thingspeak i had been wrong interpreting the syntax thanks for you support,0.899477124214
Sambeet Panigrahi,hey i am a newbie and trying to build simple firmware using netduino plus the dev board comes with a built in ethernet port but i have got a free wifi connection in university is there a way i can use my dev board through the wifi connection if so how,0.768287777901
lizapendray,get your ip address will vary for using the netduino this was given to my u00a0netduino plus u00a0by my router u00a0using u00a0given address u00a0use u00a0on u00a0web browser on your local connected network to open up a u00a0connection u00a0to your u00a0netduino plus u00a0,0.880924224854
alirafami,there are adapters to bridge wired ethernet and wifi found this article on the subject in general http howto cnet co r home network u00a0i have got some old d link product at home that does this for me such a link would be totally transparent to your netduino you could of course also get a wifi shield to do the job but then you probably can not take advantage of the built in networking capabilities of the n2 instead you would need a special driver,0.5
jimackay,hello u00a0wanted to ask if there are any guidelines to get rockblock to send data to thingspeak there is an official announcement on rockblock thingspeak compatibility on the net but can not find any tutorial to help me through u00a0any help welcomedjim,0.5
ljbeng,i have a fona from adafruit com and a ting data card can i post data to thingspeak straight from a cellular modem u00a0 if not is there a way to do this using another service this series of commands does not work ud83d ude41 u00a0 601 is a network error at httpinitokat httppara cid 1okat httppara url https api thingspeak com update api_key 9bpamxxxxxxxxxxx field1 1 okat httpaction 0ok httpaction 0 601 0at httpreadokat httptermok,0.5
yashvi,leading companies are providing best training for software networking courses u00a0after the best research and development they conduct this kind of training to all students it increases the career opportunity of applicant skilled in networking based industrialized network training center,0.809253811836
bradhnz,i have a gsm easemind datalogger this send a csv to an ip address in the below format 2017 04 20 19 29 02 49 224 78 80 25675 sta 000000 821 l 146 tm 170420193500 d 1 t 01 c 81 a01 00000 a02 00000 a03 81 29 a04 12 93 p01 10694803 p02 00000403 p03 00002807 k01 1000 o01 00 42 2017 04 20 19 29 03 49 224 78 80 25675 sta 000000 821 l 146 tm 170420193500 d 1 t 01 c 81 a01 00000 a02 00000 a03 81 29 a04 12 93 p01 10694803 p02 00000403 p03 00002807 k01 1000 o01 00 42 u00a0is thingspeak something that could work with this u00a0thanksbrad,0.5
Vinod,currently you can send up to 11 u00a0fields counting the 8 fields the latitude longitude and the status field with up to 256 characters of text in each your data looks like it can u00a0fit in the u00a0question i have is how will you be posting this data will an arduino or some other device poll the datalogger and post it to thingspeak can you modify the firmware of your datalogger to make rest mqtt calls to the thingspeak servers i am u00a0curious to know how you intend to analyze and use this data with matlab analytics in thingspeak it should be fairly easy to parse and convert this text string into something more useful,0.5
yashz123,hey everyone u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 i am u00a0fairly new to the intel edison and would like to know how to upload data that is acquired by my intel edison to my thingspeak channel either by using the arduino ide or using intel system iot edition arduino ide is preferred thank you in advance,0.949491322041
Vinod,have you checked out this tutorial http community thingspeak com tutorials arduino send data to thingspeak with arduino u00a0,0.5
SilverNodashi,hi u00a0 u00a0does anyone know if there is a thingspeak library that compatible with arm or the linkit one platform or are there any plans to release a compatible library,0.5
HzA,someone have experience udoo neo full with thingspeak thanks,0.877087831497
StefanoBettega,hello i made that working please take a look to my channel and to my blog article python source code is provided to post temperature and pressure data from brick sensors cheers stefano,0.927184998989
ujjwalrathod007,hello i am new to thingspeak and want to ask that i have a sensor data from my pic board which i connect with pc i have c programm u00a0in my pc can i send data to thingspeak u00a0using my pc internet wifi or i must have wifi module,0.714619100094
vagelis,i recently received the wio link from a kickstarter backed project from seeedstudio the board is based on esp8266 and has grove connectors u00a0can we integrate it on the u00a0thingspeak platform i have done it with initialstate ifttt probably the same can happen with thingspeak probably by arduino python method u00a0please comment on that thanks,0.5
smmaxxx,i am trying to send temperature data from a cai webcontrol 8 to my channel on thingspeak i can manually send the data with an http command and it shows up on the graph but i can not get the processor to do it is anyone famaliar with this processor and can give me help with setting up the commands in the wc8 i have read all the examples i can find but am missing some key point thanks for any help,0.5
OZ2CPU,hello folks here it is a no special hardware solution any microcontroller with a serial port can be used all you need is an online windows pcrunning this little program http webx dk commail index htmif you want to see my little aquarium monitor page made using this stuff have a look herehttp webx dk ak oh did i mention this pc program commail can also send emails very usefull for urgent alarm notifications as far is a found out thingspeak do not support emails only twitter i do not know what that is,0.5
rw950431,it is true that thingspeak cannot send emails however you can now use thinghttp to send emails or other notifications via the ifttt maker channel https ifttt com maker its an option if you dont want to run your pc all day and all night,0.742528438568
OZ2CPU,i need my little tiny pc anyways on and online for other stuff else this way to push data to thingspeak would have been a silly way due to power consumption but now it is here and on why not just use it and be happy ud83d ude42it is by far the mosy easy way i have seen so far,0.184731304646
ddevilliers,please help i am using a connectport x2 running xig as a gateway on my arduino i am using the api command as explain in the thingspeak tutorial on my home network it works at work the problem is that we use a proxy server and dedicated port what commands do i need to send to the connectport or is there a setting which i need to change,0.232803553343
boomer55,hi i am a newby having a problem i try to update more than one field on a u00a0 channel u00a0 on things peak i am using this string field1 temp1 u00a0 field2 temp2 visual c does come up with the folowing error u00a0 operator can not be applied to operands of type string one field is working fine is there an other way of updating u00a0 more then one field i could not find anything in the netduino tutorials thanks,0.160579144955
mik,hi u00a0i do not have any experience with netduino but i think the solution is u00a0 field1 temp1 field2 temp2 u00a0michael,0.212219506502
Hans,net micro framework developer paolopat created a client for the thingspeak platform this allows any device that supports the net micro framework to access u00a0thingspeak web services by using the u00a0 u03bcplibrary u00a01 8 the library is available u00a0on u00a0nuget gallery u00a0and abstracts the u00a0thingspeak api the library works u00a0with the popular netduino plus and other devices running u00a0 net micro framework,0.860643863678
H07R0D,i am playing around with the netduino tutorial and i am so close but i can not see what i am doing wrong i form up the post and then send it off post update http 1 1host api thingspeak comconnection closex thingspeakapikey my write key content type application x www form urlencodedcontent length 14field1 300 627 u00a0and i always get back http 1 0 408 request time outcache control no cacheconnection closecontent type text html html body h1 408 request time out h1 your browser did not send a complete request in time body html i really can not see what is going wrong i am using the tutorial cut paste and i get the response back from the api well before the timeout what am i missing,0.242610514164
Hans,can you ping api thingspeak com on the same network and let us know what ip address that you are getting back we do not issue a 408 error code i am wondering if you are pointing to a different ip address,0.890206217766
H07R0D,turns out i am just a newb i was using http www thingspeak com as the dns lookup instead of the api ip address so i think i was sending an api post header to the main web server hence the weird responses sorry about that i am able to post data now,0.136624634266
Hans,from master inventor jordan husney we just fixed a bug where urls longer than 72 characters were getting mangled some folks were using the packetization timeout ro parameter as a work around but this is no longer necessary have a look at the xig v1 3 2 release http code google com p xig jordanthis fixes the issue that some users were reporting about using the connectport with thingspeak updating twitter via thingtweet and inserting data into a thingspeak channel thanks for the update,0.21917951107
Hans,getting started with the netduino plusthe netduino plus is an atmel 32 bit microcontroller development board that includes on board ethernet and usb you create firmware using the microsoft net micro framework visual c and microsoft visual studio ide the board also has the same header foot print as the arduino so the board makes use of the many arduino shields available setting up the programming environmentinstall u00a0microsoft visual c express 2010install u00a0 net micro framework sdk v4 1install u00a0netduino sdk v4 1 0 32 bit or u00a0netduino sdk v4 1 0 64 bit visit netduino com for the most current downloads and support optionssetting the ip address of the netduino plusconnect the netduino plus with a micro usb cableopen the u00a0 net micro framework tools folder under u00a0program files u00a0c program filesmicrosoft net micro frameworkv4 1toolsdouble click on the file mfdeploy exe under u00a0device select u00a0usb and u00a0netduinoplus_netduinoplusclick u00a0ping if you recieve tinyclr then the netduino plus is connected properly to the pcfrom the navigation u00a0menu select u00a0target u00a0configuration and u00a0network to open the network settings pageenter a unique u00a0static ip address subnet mask and default gateway that are valid for your networkenter a u00a0dns address 4 4 4 4 is a public dns server connect an ethernet cable to the netduino plus creating a new netduino plus projectstart visual studioselect new projectselect micro framework under the visual c sectionselect netduino plus applicationclick u00a0oksetting up the netduino plus in visual studioconnect the netduino plus with a micro usb cableunder your project right click on properties and select openselect the net micro framework panelunder transport select usbunder device select netduinoplus_netduinoplus notesyour program will be contained in the program cs u00a0project fileto build your program press f6 or select debug build solution to deploy your program to the netduino plus press f5 or select debug start debugging connecting to thingspeakthe interface with the thingspeak api is either http get or http post when the netduino plus is getting data from the api use http get when the netduino plus is sending data to the api use http post u00a0download u00a0the thingspeakclient application for reference code on how to connect the netduino plus to thingspeak the thingspeak api u00a0documentation u00a0can be found here the thingspeakclient application highlights the following features reading analog inputs with a netduino plusblinking the on board ledsending http post requestsupdating a thingspeak channel with sensor datasending thingspeak status updatesconnecting a light u00a0sensor u00a0to the webhere a project demonstrating how to connect a light sensor to the web using the netduino plus and the thingspeak web service parts netduino plusphoto resistor1k ohm resistorhookup wirebreadboardcircuit diagram for light sensor photo resistor project photo thingspeak chart of light levels netduino plus project file click here to download the thingspeakclient application for the netduino plus web front endhere how you can take this project further with a design from shadowlord you can create a web u00a0front end u00a0using html css and jquery to u00a0visualize u00a0your status updates from the netduino,0.5
larimow,hi all i am pretty new to this topic but i have searched the forum and the web but have not yet found a solution i am a hobby wine maker and just recently upgraded my production room with a temperature and humidity control system using a raspberry pi and a dht22 the data get uploaded with the following code slightly altered as this is taken from a tutorial to thingspeak ________________________________________________________________________________________________________________import thingspeakimport timeimport adafruit_dhtchannel_id 206897 put channel id herewrite_key 24gjqv17h7h4xgj5 put your write key hereread_key 9ez7e0918uvvagay put your read key herepin 4sensor adafruit_dht dht22def measure channel try humidity temperature adafruit_dht read_retry sensor pin write response channel update field1 temperature field2 humidity read read channel get print are ad read except print connection failed if __name__ __main__ channel thingspeak channel id channel_id write_key write_key api_key read_key while true measure channel free account has an api limit of 15sec time sleep 15 ________________________________________________________________________________________________________________the transmission itself and displaying of the data works without any complications unfortunately the router has some major issues and shuts down more or less every day i will tackle that problem as well but for the moment i would like to create a workaround hence the question is it possible to locally log the data in a round robin data base for instance as soon as the wifi shuts down and transmit all the logged data as a bulk to thingspeak as soon as the connection is up again this would help me to consistently monitor and analyze the necesseary information for the fermentation process online if i just missed the right tutorial to do just that a link might suffice to solve my problem i am eager to read and learn to solve my problems on my own but as of yet i do not see a starting point thank you in advance cheers larimow,0.5
cstapels,i think i have the tutorial you ordered https www mathworks com help thingspeak continuously collect data and bulk update a thingspeak channel using a raspberry pi board htmlplease let us know how it works and when there are open tastings,0.849556148052
Nano,i connected a sensor to capture volt and current across a component to a raspberry pi and i wanna plot an iv curve in my code i am running a sweep to capture those data my code works just fine and i can plot the iv curve on my gui by using matplotlib in addition to my project i wanna display plot the iv curve online then i thought of using thingspeak for this matter but i noticed that it can only plots one data against time date is there anyway that i can plot two data on one graph and neglect the time note that the data i am sending to my thingspeak channel are two variables i and v which each one has 14 values screenshots data exported from thingspeak commands used in python,0.5
cstapels,here is a two axis plot example without time on the independant axis https www mathworks com help thingspeak visualize correlation between temperature and humidity htmlyou can also use the matlab plot or scatter functions they have different options your data format is not in the standard arrangement do you intend each entry to be a new iv sweep you can read the datadatatable thingspeakread chid outputformat timetable are adkey xxxxxxxxxxxxxxxx then use str2num and char to get the values vectorx str2num char datatable field1label repeat for both field 1 and 2 then you can plot or thingspeakscatter vectorx vectory etc let us know if that works,0.5
thingspeak4matt,hi guysi have built a circuit with 5 dht22s there data pins are connected to io 21 20 16 26 12 respectively and power directly from the psu a total of 10 fields 2 each temp and humidity with a max of 8 fields per channel i had to split the channelsunfortunately i have very little coding skills using the below code i managed to get one sensor to work correctly https www hackster io adamgarbo raspberry pi 2 iot thingspeak dht22 sensor b208f4 u00a0 span class hljs string span span class hljs string dht22 py span span class hljs string temperature humidity monitor using raspberry pi and dht22 span span class hljs string data is displayed at thingspeak com span span class hljs string original author mahesh venkitachalam at electronut in span span class hljs string modified by adam garbo on december 1 2016 span span class hljs string span span class hljs keyword import span sys span class hljs keyword import span rpi gpio span class hljs keyword as span gpio span class hljs keyword from span time span class hljs keyword import span sleep span class hljs keyword import span adafruit_dht span class hljs keyword import span urllib2 myapi span class hljs string lt your api code here gt span span class hljs function span class hljs keyword def span span class hljs title getsensordata span span class hljs params span span rh t adafruit_dht read_retry adafruit_dht dht22 span class hljs number 21 span span class hljs keyword return span str rh str t span class hljs function span class hljs keyword def span span class hljs title main span span class hljs params span span span class hljs keyword print span span class hljs string tarting span baseurl span class hljs string https api thingspeak com update api_key s span myapi span class hljs keyword while span span class hljs keyword true span span class hljs keyword try span rh t getsensordata f urllib2 urlopen baseurl span class hljs string amp field1 s amp field2 s span rh t span class hljs keyword print span f read f close sleep span class hljs number 300 span span class hljs comment uploads dht22 sensor values every 5 minutes span span class hljs keyword except span span class hljs keyword print span span class hljs string exiting span span class hljs keyword break span span class hljs comment call main span span class hljs keyword if span __name__ span class hljs string __main__ span main u00a0i have no idea how to get it more readings to send and also the fact that i need to send to more than one channel might be tricky any help appreciated thanks,0.5
thingspeak4matt,baseurl https api thingspeak com update api_key s would ht22 pytemperature humidity monitor using raspberry pi and dht22 data is displayed at thingspeak comoriginal author mahesh venkitachalam at electronut inmodified by adam garbo on december 1 2016 import sysimport rpi gpio as gpiofrom time import sleepimport adafruit_dhtimport urllib2count 0myapi jdyurk8tagwrzl29 would ef getsensordata21 u00a0 rh t adafruit_dht read_retry adafruit_dht dht22 21 u00a0 return str rh str t def getsensordata16 u00a0 rh t adafruit_dht read_retry adafruit_dht dht22 16 u00a0 return str rh str t def getsensordata26 u00a0 rh t adafruit_dht read_retry adafruit_dht dht22 26 u00a0 return str rh str t def getsensordata12 u00a0 rh t adafruit_dht read_retry adafruit_dht dht22 12 u00a0 return str rh str t def getsensordata20 u00a0 rh t adafruit_dht read_retry adafruit_dht dht22 20 u00a0 return str rh str t print tarting baseurl https api thingspeak com update api_key s jdy rh t getsensordata21 f urllib2 urlopen baseurl u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 field1 s field2 s rh t print f read f close baseurl https api thingspeak com update api_key s cyj rh t getsensordata16 f urllib2 urlopen baseurl u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 field1 s field2 s rh t print f read f close baseurl https api thingspeak com update api_key s cyj rh t getsensordata26 f urllib2 urlopen baseurl u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 field3 s field4 s rh t print f read f close baseurl https api thingspeak com update api_key s i9q rh t getsensordata12 f urllib2 urlopen baseurl u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 field1 s field2 s rh t print f read f close baseurl https api thingspeak com update api_key s i9q rh t getsensordata20 f urllib2 urlopen baseurl u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 field3 s field4 s rh t print f read f close print end leep 30 uploads dht22 sensor values every 5 minutes u00a0i have had some luck with the above code above but the channel fields 3 and 4 of the second sensor do not upload ud83d ude41,0.5
digimation,i am trying to publish a multiple random data using mqtt to send data from raspberry pi to thingspeaks i want to publish the 10 values of temp to thingspeaks field but it limits me to one value every 15 seconds so is there anyway to send a list of values every 15 second to graph it with time in thingspeaks channels u00a0 span class pln temp span span class pun span span class pun span span class pln current span span class pun span span class pun span span class kwd while span span class pun span span class lit 1 span span class pun span span class com get the system performance data over 20 seconds span span class kwd for span span class pln i span span class kwd in span span class pln range span span class pun span span class lit 10 span span class pun span span class pln temp span span class pun span span class pln append span span class pun span span class pln random span span class pun span span class pln randint span span class pun span span class lit 0 span span class pun span span class lit 100 span span class pun span span class pln current span span class pun span span class pln append span span class pun span span class pln random span span class pun span span class pln randint span span class pun span span class lit 0 span span class pun span span class lit 100 span span class pun span span class com build the payload string span span class pln payload span span class pun span span class tr field1 span span class pun span span class pln str span span class pun span span class pln temp span span class pun span span class pun span span class tr amp field2 span span class pun span span class pln str span span class pun span span class pln current span span class pun span span class com attempt to publish this data to the topic span span class kwd try span span class pun span span class pln publish span span class pun span span class pln single span span class pun span span class pln topic span span class pun span span class pln payload span span class pun span span class pln hostname span span class pun span span class pln mqtthost span span class pun span span class pln transport span span class pun span span class pln ttransport span span class pun span span class pln port span span class pun span span class pln tport span span class pun span span class pln auth span span class pun span span class tr username span span class pun span span class pln mqttusername span span class pun span span class tr password span span class pun span span class pln mqttapikey span span class pun span span class kwd print span span class pun span span class tr published temp span span class pun span span class pln temp span span class pun span span class tr current span span class pun span span class pln current span span class pun span span class tr to host span span class pun span span class pln mqtthost span span class pun span span class tr clientid span span class pun span span class pln clientid span span class pun span span class kwd except span span class pun span span class typ keyboardinterrupt span span class pun span span class kwd break span span class kwd except span span class pun span span class kwd print span span class pun span span class tr there was an error while publishing the data span span class pun span span class pln time span span class pun span span class pln sleep span span class pun span span class lit 15 span span class pun span,0.5
Gerdi_666,hello u00a0im try to install the thingspeak on a raspberry pi3 without success did someone try to install it on raspberry pi3 the installation instruction at the web are only for version 1 and 2 they did not work on raspberry pi3 u00a0thanks,0.5
cstapels,can you describe what you are trying to do with your pi3 u00a0 are you trying to read or post data with thingspeak u00a0 are you trying to use mqtt u00a0 what language are you coding in u00a0 u00a0,0.278694689274
jpsabo,i installed thingspeak to a pi 3 in june 2016 without any real issues it u2019s been running continuously since then have you tried this install procedure https www teracomsystems com blog how to install local thingspeak server,0.16369125247
Gerdi_666,yes i dried it already i used the newest version from raspberry u00a0raspbian stretch with desktopimage with desktop based on debian stretchversion september 2017release date 2017 09 07kernel version 4 9 u00a0here i had problems to install ruby version 2 1 4 so i used 2 4 1 u00a0after the comand rails server webrick the server started but when i tried to connect local to it it crashed which image for raspi should i use i think the new version is the problem,0.180264890194
jpsabo,i used u00a0raspbian jessie 4 4 2016 05 27 with ruby 2 1 5 u00a0,0.5
alcapar,jpsabo said i used u00a0raspbian jessie 4 4 2016 05 27 with ruby 2 1 5 u00a0 u00a0 u00a0i u00b4ve used the same but after the comand udo gem install rails responses error unable to require openssl openssl 1 0 1k is installed i have no idea what happens,0.1646746099
heh,look at their install instructions installation on clean install of ubuntu 12 04 ltsyou would immediately notice that these guys are a bunch of rookies all you would get from them is a permanent headache just stay away and let others know,0.706830620766
tia,i have run the following program to read ldr values from the ldr connected to my raspberry pi 3 and send the data to my thingspeak channel but no update is being made to the channel i am using python 2 7 on raspbian u00a0 usr local bin python usr local bin pythonimport sysimport rpi gpio as gpiofrom time import sleep u00a0import urllib2myapi y1087ht5ectd8u6p gpio setmode gpio board pin_to_circuit 7def rc_time pin_to_circuit u00a0 u00a0count 0 u00a0 u00a0gpio setup pin_to_circuit gpio out u00a0 u00a0gpio output pin_to_circuit gpio low u00a0 u00a0time sleep 0 1 gpio setup pin_to_circuit gpio in u00a0 u00a0 u00a0 u00a0while gpio input pin_to_circuit gpio low u00a0 u00a0 u00a0 u00a0 u00a0count 1 u00a0 u00a0return counttry u00a0 u00a0while true u00a0 u00a0 u00a0 u00a0print rc_time pin_to_circuit except keyboardinterrupt u00a0 u00a0 u00a0passfinally u00a0 u00a0 u00a0gpio cleanup def main u00a0 u00a0print tarting u00a0 u00a0baseurl https api thingspeak com update api_key s myapi u00a0 u00a0while true try u00a0 u00a0 u00a0 u00a0 u00a0 u00a0ldrdata rc_time pin_to_circuit u00a0 u00a0f urllib2 urlopen baseurl field1 s ldrdata u00a0 u00a0 u00a0 u00a0print f read u00a0 u00a0 u00a0 u00a0f close u00a0 u00a0 u00a0 u00a0sleep 15 except u00a0 u00a0print exiting u00a0 u00a0break call mainif _name_ __main__ u00a0 main,0.5
perry,after several successful writes to my thingspeak channel an error will occurlog log failed to reach server reason e reasontypeerror cannot concatenate tr and sslerror objectsi am using raspberry pi and an odroid w i receive the error when sending data individually to a channel and when sending to one channel from each pi and the ordroid w i do not know how to resolve this error or the cause i have 1 raspberry pi that has been sending weather data and cpu temperature to a channel with no errors when i used another python program to send cpu temperature separately to another channel the error occurs after several successful attempts import osimport timeimport urllib thinkspeakimport urllib2import sys thinkspeak user settings pi_name wx pi am inutes_between_reads 15thingspeakkey mykey thingspeakurl https api thingspeak com update def senddata url key field7 odroid send event to internet site values key key field7 odroid postdata urllib urlencode values req urllib2 request url postdata log time strftime m d y h m s log log 2f f format odroid try send data to thingspeak response urllib2 urlopen req none 1 html_string response read response close log log update html_stringexcept urllib2 httperror e log log erver could not fulfill the request error code e code except urllib2 urlerror e log log failed to reach server reason e reason except log log unknown error print logdef getcputemperature res os popen vcgencmd measure_temp readline return res replace temp replace c def main while true cputemp int float getcputemperature cputemp_f cputemp 9 0 5 0 32 cputemp_f float 0 2f format cputemp_f curtime time strftime m d y h m s print and stream print pi_name cpu temp f str cputemp_f print pi_name current time str curtime senddata thingspeakurl thingspeakkey field7 cputemp_f sys stdout flush time sleep 60 minutes_between_reads if __name__ __main__ main thank you perry,0.095252841711
rw950431,can you get a stacktrace for the error u00a0eithera comment out the except urllib2 urlerror section and run it manuallyorb include stacktrace in your error log see https docs python org 2 library traceback html u00a0that might give you more information on the failure u00a0it may be that this is a temporary network error or time out and that you have to have your program wait and re try,0.0842499732971
perry,thank you i will try a trace back how would i make the program wait and re try,0.931440472603
walshmagger,try exception handling,0.752673923969
fm7385,hello guys i want to create a simple example of an internet of things application with matlab simulink is there an easy possibility to read data from thingspeak in simulink like the thingspeakwrite block in simulink i know that it can be done with c python but in my case it should be really easy like connecting blocks in simulink and write parameters in the block and it should be done in simulink maybe some of you allready have a solution for this btw why is there a thingspeak read block for arduiono and not for raspberry pi thank you guys,0.931545615196
embdev,dear fellow coders i am trying to upload temperature data from my rpi sensehat thingspeak channel i copied the scripts from the internet and tried to integrate them together u00a0i executed the python script u00a0on putty terminal the printed u00a0temperature looks ok hovering between 29 30 degrees c but when displayed on thingspeak it shows up as werid numbers like 4 or 6 degrees c greatly appreciate your advice thank you u00a0 usr bin env python u3000import httplib urllibimport timesleep 3key u3000def thermometer u3000from sense_hat import sensehat u3000sense sensehat sense clear u3000 tmax 40tmin tmax 8 u3000while true temp sense get_temperature rd off temp to 2 d p temp round temp 2 print temp temp int temp tminfor x in range 0 8 for y in range 0 temp sense set_pixel x y 255 0 0 for y in range temp 8 sense set_pixel x y 0 0 0 u00a0params urllib urlencode field1 temp key key headers content typzze application x www form urlencoded accept text plain conn httplib httpconnection api thingspeak com 80 u3000try conn request post update params headers response conn getresponse print tempprint response status response reasondata response read conn close except print connection failed break u3000 sleep for desired amount of timeif __name__ __main__ while true thermometer time sleep sleep u3000 u3000,0.5
cstapels,i think i see part of the problem following these lines in your code tmax 40tmin tmax 8then tmin 32 temp int temp tmin or temp 30 32for temps such as 29 30 you would get a temp of 2 to 3 when you post to thingspeak u00a0this does not explain the values of 4 or 6 except if your variable type for temp is unsigned but it explains some of the difference rounding could explain more u00a0generally thingspeak is pretty literal about what it does with your data so i would not usually look there if i see a wrong format of my data as long as you get a success response after your post good luck with your project,0.5
rw950431,i suspect the previous poster is correct you are messing up the value of temp before you send it to thingspeak either save a copy of the variable or move the section where you send to thingspeak before you update the pixels u00a0if that doesnt work you could also try printing out the value of params to make sure you are sending what you think you are sending u00a0print tempprint paramsprint response status response reason,0.77145755291
Pvince10,u00a0hi everyone i am currently working on a raspberry pi based solution to monitor a greenhouse i have got all my sensors namely temperature and humididty sensors to work and would like to display the readings i get from them on my website as graphs using thingspeak i have successfully updated one channel but never managed to update the two i need at the same time here my code usr bin python3import smbusimport timeimport http client urllib parse get i2c busbus smbus smbus 1 sht31 address 0x44 68 send measurement command 0x2c 44 u00a0 u00a0 u00a0 u00a0 u00a0 u00a00x06 06 u00a0 u00a0 u00a0high repeatability measurementbus write_i2c_block_data 0x44 0x2c 0x06 time sleep 0 5 sht31 address 0x44 68 read data back from 0x00 00 6 bytes temp msb temp lsb temp crc humididty msb humidity lsb humidity crcdata bus read_i2c_block_data 0x44 0x00 6 convert the datatemp data 0 256 data 1 ctemp 45 175 temp 65535 0 ftemp 49 315 temp 65535 0 humidity 100 data 3 256 data 4 65535 0 send humidityparams urllib parse urlencode field3 humidity key xxxxxxxx headers content typzze application x www form urlencoded accept text plain conn http client httpconnection api thingspeak com 80 try u00a0 u00a0 u00a0 u00a0 u00a0 u00a0conn request post update params headers u00a0 u00a0 u00a0 u00a0 u00a0 u00a0response conn getresponse u00a0 u00a0 u00a0 u00a0 u00a0 u00a0print humidity u00a0 u00a0 u00a0 u00a0 u00a0 u00a0print response status response reason u00a0 u00a0 u00a0 u00a0 u00a0 u00a0data response read u00a0 u00a0 u00a0 u00a0 u00a0 u00a0conn close except u00a0 u00a0 u00a0 u00a0 u00a0 u00a0print connection failed send temperatureparams urllib parse urlencode field1 ctemp key xxxxxxxxxxx headers content typzze application x www form urlencoded accept text plain conn http client httpconnection api thingspeak com 80 try u00a0 u00a0 u00a0 u00a0 u00a0 u00a0conn request post update params headers u00a0 u00a0 u00a0 u00a0 u00a0 u00a0response conn getresponse u00a0 u00a0 u00a0 u00a0 u00a0 u00a0print ctemp u00a0 u00a0 u00a0 u00a0 u00a0 u00a0print response status response reason u00a0 u00a0 u00a0 u00a0 u00a0 u00a0data response read u00a0 u00a0 u00a0 u00a0 u00a0 u00a0conn close except u00a0 u00a0 u00a0 u00a0 u00a0 u00a0print connection failed output data to screenprint temperature in celsius is 2f c ctemp print temperature in fahrenheit is 2f f ftemp print are lative humidity is 2f rh humidity u00a0i would like to know what i am doing wrong and any advice or help is greatly appreciated,0.75937473774
piajola,pvince10 welcome to the forum and tsyou can read your sht31now read this linkhttp www raspberrypi spy co uk s thingspeak just tried my code cloning and it is working fine in thingspeak mix and stir your sht31 code with his code and it will work for surethen analyze the mix and you can understand a way to use python in raspi it is python 2 but does not mattergood luck it is easy,0.96172529459
HyFy,hii am having a problem with one or other of two pi clashing with each other trying to send data to 5 fields on the same channels on thingspeak the loser crashes i have two pi one is back home in england and that has been happily sending temperature data every 10 minutes from three ds18b20 in different parts of my home for weeks if not months see channel 62333 fields 1 thro 3 the second pi is here with me in spain and i have been trying the same thing with two more ds18b20s again every 10 minutes to fields 4 and 5 when this starts up it runs ok until the times of the two pi sending information become close at which point one or other fails in the posting and eventually one crashes has anyone got an idea as to how to avoid this without spending big money on separate channels thankshyfy,0.5
rw950431,the updates are probably failing due to the 15 second rule you cant update the same channel more often than 15s why this causes them to crash is impossible to say without knowing more about the code you are using the only difference in response is that you get 0 instead of a positive number if your update fails this shouldnt cause anything to crash i would have thought that your internet connected pi should be able to run an ntp client that keeps their time in sync so as to avoid the timing conflict given you have 10 minutes between updates as a worst case you could modify your program to re try after 15 seconds if it gets the 0 return code,0.030484110117
HyFy,thanks for that rw950431 u00a0i will review my coding but at the moment i can not think that the 0 response on it own is causing the crash the terminal display just gives connection failed or 200ok and then tries again 10 minutes later u00a0it seems that after a succession of failures it just gives up the ghost i am a bit stuck with what i can try here basking in the hail snow gales and floods of southern spain as i do not want to try anything that will crash the one at home which i can not re start from here i am not sure about the try again in 15 seconds option as that may keep the two pi in conflict for longer u00a0i will put something on paper and see what it does thanks for your suggestions hyfy,0.0459465384483
rw950431,hyfy said i am not sure about the try again in 15 seconds option as that may keep the two pi in conflict for longer u00a0i will put something on paper and see what it does u00a0 hyfy u00a0 u00a0if you check the return code and ensure that only the failed one retries this wont be a problem since the first one will suceed and not retry maybe you have a memory leak in your code thats only triggered by the error condition u00a0 it seems odd though since every request still returns the same 200 ok status even if the channel rejects the update u00a0 u00a0 could it be that the error condition doesnt properly close the connection so eventually you run out of available sockets netstat inet is helpful here along with ulimit n to get the max when you say crashes what exactly do you mean u00a0 the process sending the data exits or the whole rpi somehow locks up one option is to modify your local copy to push the data somewhere else temporarily i often use https requestb in for such purposes and see if that makes the problem go away,0.5
HyFy,rw950431 said maybe you have a memory leak in your code thats only triggered by the error condition u00a0 it seems odd though since every request still returns the same 200 ok status even if the channel rejects the update u00a0 u00a0 could it be that the error condition doesnt properly close the connection so eventually you run out of available sockets netstat inet is helpful here along with ulimit n to get the max when you say crashes what exactly do you mean u00a0 the process sending the data exits or the whole rpi somehow locks up i will have a second go at this the gremlins got into my last reply and dropped it where ever in my original i mentioned that i either get connection failed or 200 ok depending on whether there had been a conflict u00a0or not if the were a series sometimes even only one of the former the sending pi locked up and if it was at a distance i could not restart it but you have given me plenty to read up on and try out once i have access to both pi i will let you know what the results are and if this rain in spain which is not on the plain does not ease up i will be home and trying things sooner rather than later thanks againhyfy,0.0658931732178
avdvyver,hi all i am using a u00a0raspberry pi and dragino lora hat to build a single channel lora gateway i unfortunately have not been able to find any sample code to get it to forward packets to the thingspeak api if anyone perhaps have used these components or have any sample code available i would greatly appreciate it if you would be willing to share it thank you very much albert,0.829427242279
piajola,hi u00a0albert click this link u00a0 u00a0 u00a0 u00a0 http cpham perso univ pau fr lora rpigateway htmlit is a copy pas copy clone kind of 1st solution to get started and then with a working thing start your own wayfully read and go to the mentioned github address there is one example to post to u00a0thingspeakhope this is of some help and good luck u00a0,0.5
avdvyver,thanks a lot u00a0piajola much appreciated,0.994885444641
Vinod,thank you for posting that link piajola that u00a0pretty well documented for a 1st solution u00a0,0.972419261932
piajola,hi vinod,0.998049914837
segepe,hi therei have some problems with my installation on a raspberry pi with jessie thingspeak starts ok but after a few hours it close down thanks in advance for your helpthis is a part of the log u00a0file 12 28 16 12 18 11 0100 thingspeak 10696 info starting the new relic agent in would evelopment environment 12 28 16 12 18 11 0100 thingspeak 10696 info to prevent agent startup add a newrelic_agent_enabled false environment variable or modify the would evelopment section of your newrelic yml 12 28 16 12 18 11 0100 thingspeak 10696 warn no configuration file found working directory home pi thingspeak 12 28 16 12 18 11 0100 thingspeak 10696 warn looked in these locations based on defaults home pi thingspeak config newrelic yml home pi thingspeak newrelic yml home pi thingspeak config newrelic yml home pi thingspeak newrelic yml home pi newrelic newrelic yml home pi newrelic yml 12 28 16 12 18 11 0100 thingspeak 10696 info environment development 12 28 16 12 18 11 0100 thingspeak 10696 info dispatcher webrick 12 28 16 12 18 11 0100 thingspeak 10696 info application development 12 28 16 12 18 11 0100 thingspeak 10696 warn no license key found this often means your newrelic yml file was not found or it lacks a section for the running environment would evelopment 12 28 16 12 18 12 0100 thingspeak 10696 info installing net instrumentation 12 28 16 12 18 12 0100 thingspeak 10696 info installing resque instrumentation 12 28 16 12 18 12 0100 thingspeak 10696 info installing rails 3 middleware instrumentation 12 28 16 12 18 12 0100 thingspeak 10696 info installing dalli memcache instrumentation 12 28 16 12 18 12 0100 thingspeak 10696 info installing activerecord 4 instrumentation 12 28 16 12 18 12 0100 thingspeak 10696 info installing deferred rack instrumentation 12 28 16 12 18 12 0100 thingspeak 10696 info installing rack builder middleware instrumentation 12 28 16 12 18 12 0100 thingspeak 10696 info installing rails 4 view instrumentation 12 28 16 12 18 12 0100 thingspeak 10696 info installing rails 4 error instrumentation 12 28 16 12 18 12 0100 thingspeak 10696 info installing rails 4 controller instrumentation 12 28 16 12 18 12 0100 thingspeak 10696 info finished instrumentation 12 28 16 12 18 18 0100 thingspeak 10696 info doing deferred dependency detection before rack startup 12 28 16 12 18 24 0100 thingspeak 10696 error invalid license key please contact support newrelic com 12 28 16 12 18 24 0100 thingspeak 10696 error visit newrelic com to obtain a valid license key or to upgrade your account,0.5
segepe,am i alone with this problem,0.00535714626312
segepe,not much help from here,0.305439651012
rw950431,you may be able to eliminate the complaints about the new relic license by disabling the agent see https docs newrelic com docs agents java agent configuration java agent config file template u00a0 u00a0you may get more help if you post the log file entries when the crash occurs not just the startup u00a0you may also find it helpful to monitor the free memory on your server there may be a memory leak that is causing your issues,0.220375180244
segepe,hi thanks for the input ud83d ude42i will try this out and upload the log also thanks again for your reply u00a0best regards,0.981128573418
MohanadOdema,hello i am trying to read data from an existing channel on thingspeak using a python code running on a raspberry pi in order to automate some devices connected to the pi but i am having problems finding the proper library and function that facilitates these readings help anyone,0.855007767677
Hans,cheerlights is a project where devices read data from the thingspeak channel 1417 that might point you in the right direction also this library looks to be api complete you can read and write to thingspeak channels https github com ninjawil pythingspeakthe problem is that there are zero examples with the lib what version of python are you using,0.854492425919
rw950431,basic example using standard python libraries fetching last update from a given channel also at https gist github com rw950431 d186bb72f7d531b76a0b in case the forum mucks up the indentation see https au mathworks com help thingspeak get a channel feed html for other variants usr bin env pythonimport urllib2 jsonread_api_key your_read_api_key channel_id your channel id def main u00a0 u00a0 conn urllib2 urlopen http api thingspeak com channels s feeds last json api_key s u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 channel_id read_api_key u00a0 u00a0 response conn read u00a0 u00a0 print http status code s conn getcode u00a0 u00a0 data json loads response u00a0 u00a0 print data field1 data created_at u00a0 u00a0 conn close if __name__ __main__ u00a0 u00a0 main,0.5
MohanadOdema,thank you both for your u00a0support i am using python 2 7 and it worked just fine with the url u00a0and json u00a0libraries as rw950431 advised u00a0much much gratitude,0.96694791317
shubham_chopra3,the code only reads one value can someone provide me with the code which reads values from thing speak continuously u00a0as it gets updated,0.766024410725
rw950431,if you wish to read data continuously you have 2 options1 u00a0 wrap the above code in a loop that continually re reads the data after a delay at least 15 seconds possibly more depending on your data 2 if you have an internet accessible device set it up as a http server and set up a thingspeak react to push the data out to your device this will obviously require much different code to the above unfortunately no matter how nicely everyone asks thingspeak does not yet support mqtt or similar pub sub protocols that would make this task very easy,0.875098466873
grido,more details here u00a0https hackaday io project 10759 outdoor hot tub monitoring u00a0thanks thingspeak i wish i could send emails from your service without going through ifttt com though,0.5
rw950431,that a neat hack to position the temp sensor so it doubles as a water level check u00a0 for a lower cost version check out the esp8266 range of embedded wifi controllers,0.780119895935
frazelle09,we just figured out how to use the privateeyepi programs to upload the info to their site and now today are looking for a more robust website and more opensource we found thingspeak and this tutorial http www raspberrypi spy co uk 2015 06 basic temperature logging to the internet with raspberry pi for a different type of sensor but do not know how to modify the python script to make it work with our ds1820 matt script looks very robust but we have neither a button nor a led nor his type of sensor so we are kinda stuck suggestions welcome and in the meantime have a great afternoon ud83d ude42,0.24600893259
frazelle09,found a site in spanish which has a script which we will use first we will see if we can get it working like it is then maybe translate into english http nergiza com como hacer un registrador de temperatura online con raspberry pi have a great evening ud83d ude42,0.948421001434
frazelle09,just a day after finding the site we had it working later on we located what appears to be another more user friendly site called thingspeak which we are currently using experimenting with we can translate some all of the nergiza page that has to do with the script we used if anyone needs it to be done just let us know and we will be happy to help have a great day ud83d ude42,0.945430040359
ThomasD,i have tryed to copy the script from the link i keep getting an 400 bad request error did you have same problem,0.030470430851
rw950431,theres also https learn adafruit com adafruits raspberry pi lesson 11 ds18b20 temperature sensing hardware,0.5
ThomasD,i have the sensor working i could not get contact to the thingspeak channel the problem was a rookie mistake i had written an o instead of a zero 0 in nano in terminal they are very similar i have contact to the thingspeak now but can not get the script to keep pushing data to thingspeak com,0.0303118228912
rw950431,easiest way to run a script periodically is via cron http linux die net man 5 crontabalternatively you can implement a loop in the python script but then you need to worry about keeping the script running in all error conditions,0.224782943726
mikronauts,i just saw the other thread asking about using a raspberry pi with thingspeak great timing i just posted an article about exactly that on my site i tested three ldr u2019s with different pull down resistors at the same time to see which would give the best results with low and high lighting levels and posted the python code for logging to the thingspeak iot service plenty of charts for you http www mikronauts com raspberry pi raspberry pi iot experiment 1 and thingspeak howto i used the 24 channel daq board i wired up for my pi earlier http www mikronauts com raspberry pi raspberry pi analog to digital conversion experiments and howto,0.885110497475
mmachenry,hello everyone i am trying to evaluate devices for communication with things speak my current application is to put a heat sensor in a room and monitor that via think speak remotely i am leaning toward using a raspberry pi for this because as a standalone linux environment i can ssh into it easily from my remote location and make adjustments as necessary this is import because the device will be monitoring temperature over seas the reservation i have with this is that there are a lot more tutorials and documentation on using the arduino and i wonder if the community has decided that the raspberry pi is not a good fit and that why were is not much adoption the other reason just might be that http post from raspberry pi is trivia whereas it requires a little bit not setup to get the ethernet working on the arduino i realize the limitation of non realtime io on the raspberry pi but i want to make sure i am not walking into any other traps does anyone know of any concerns thanks a bunch mike,0.917201757431
Hans,we u00a0have u00a0gotten a few reports of thingspeak running directly on a raspberry pi this means you can create a connected application without running a server 24 7 the u00a0eve alpha for the raspberry pi u00a0created by u00a0ciseco aims at giving you a lot of wireless options in a tiny form factor all connected to an integrated computer called the raspberry pi the kicked off on kickstarter will be interesting to see if users can use eve and thingspeak running on a raspberry pi to build wireless sensor networks,0.5
tina.mir,hello everyone u00a0i am pretty new in arduino and thingspeak the project that i am currently working on is to collect temperature and humidity using arduino uno and dh11 and transfer both values into a channel at thingspeak using sim900 gprs communication i was able to transfer one parameter either temperature or humidity could anyone help and show me how is this possible to update multiple fields with one write using the following command string str2 get https api thingspeak com update api_key write api key field2 0 string humi i have search a lot but all examples are either for ethernet shield or not working properly u00a0thanks u00a0,0.5
tina.mir,never mind i found the solution in the function you have to define all parameters you are willing to send int temperature dht readtemperature int humidity dht readhumidity and then use the following command string str get https api thingspeak com update api_key writeapikey field1 string temperature field2 string humidity substitute writeapikey with your channel,0.5
Aitorto8,hi could you share your code with us i am working on the same project and i have some problems with the sketch thank you,0.809925556183
melanogaster,aitorto8 said hi could you share your code with us i am working on the same project and i have some problems with the sketch thank you u00a0 u00a0 update a channel feed u00a0https de mathworks com help thingspeak update channel feed html include wifi h wifi stuffconst char ssid xxxxx const char pwd xxxxx wificlient client thingspeak stuffstring channelid u00a0 u00a0 xxxxx string apikeychannel u00a0 xxxxxxxxxxxxxxxxx string apikeyuser u00a0 xxxxxxxxxxxxxxxxx const char server api thingspeak com void setup wifi connectionwifi begin ssid pwd while wifi status wl_connected serial print delay 500 serial println serial println wifi connected serial println ip address serial println wifi localip void loop if millis thingspeakprevioustime 20000 client connect server 80 184 106 153 149 or api thingspeak comthingspeakprevioustime millis string u00a0str_sensor u00a0 12345 string str_sensor2 67890 string u00a0poststr u00a0 api_key apikeychannel field1 str_sensor field2 str_sensor2 client println post update http 1 1 client println host api thingspeak com client println connection close client println content type application x www form urlencoded client print content length client println poststr length client println client print poststr client stop,0.853259265423
assignmenthelpexperts,thingspeakplot timestamps dewpointdata xlabel timestamps ylabel measured values title would ew point measurement legend temperature humidity would ew point grid on,0.5
PaulDee094,i am new to this forum the main reason to join this is to get more and more information regarding different topics so i can write in details for my clients to help them in academic writing help usa,0.5
teratoulis,hello i am trying to send some data from matlab to a thing speak server through a channel using the thingspeakwrite command however i receive the following error the server returned the message internal server error for url https api thingspeak com channels 575425 upload_json with http response code 500 can you help me with that thanks a lotnikolas,0.720172703266
cstapels,it is possible for the server to be temporarily overloaded please pause and then try your request again and it should complete,0.748369455338
Beavis1703,hi i have try to upload weatherdata from a bme280 with the wemosd1mini to my thingspark channel but i can get no connection to thingspark i have tried the hostname api thingspark com and a lot more but the problem is still there all other things like the wifi connection and to collect the temperatur etc works thank you very much for your help beavis,0.247647464275
cstapels,can you try https api thingspeak com and let us know if that works i think you have a spelling error in the address you used are you able to update your channel using an internet browser try something like https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 10but use your channel write api key,0.753152132034
rizafajar,i am a new user of thingspeak and a new user from arduino uno at the moment i am still confused with my school assignments i have a plan 1 results from the temperature sensor humidity will be stored in the sdcard module csv file 2 then the csv files stored in the sdcard module will be imported to thingspeak automatically with the time specified i am using esp8266 is this possible how i can do it i am still confused please help methank you ud83d ude42,0.5
cstapels,i would recommend starting with the examples at https www mathworks com help thingspeak examples html there are some specific to the esp8266 but the arduino examples are very similar and possibly portable to esp what advantage will you get from the sd card your esp should be able to connect to thingspeak whenever there is a network,0.5
rizafajar,cstapels said i would recommend starting with the examples at https www mathworks com help thingspeak examples html there are some specific to the esp8266 but the arduino examples are very similar and possibly portable to esp what advantage will you get from the sd card your esp should be able to connect to thingspeak whenever there is a network u00a0 u00a0the advantage is that it can save battery power the plan is i will send csv files once a week is that possible what is your opinion because if every second sends data to thingspeak the battery will run out quickly,0.5
cstapels,saving power is definitely a good reason to limit your posts here is an esp8266 example using deep sleep https www mathworks com help thingspeak moisturemonitor htmlwhen you wake the device you will want to use the bulk update to write multiple points in one entry seehttps www mathworks com help thingspeak bulkwritejsondata htmlandhttps www mathworks com help thingspeak continuously collect data and bulk update a thingspeak channel using an arduino mkr1000 board or an esp8266 board htmlif you have very many points the buffer may get filled before you are able to print all the points if you are using the the last example i linked above and the buffer overflows you can resize the data array and then print to the wifi client one character at a timeinstead of client println data use something likeloop i client println data i i have heard that the memory for sd card management is large can you let us know if you get it working,0.5
SukiYoon,by referring to my output as shows below the connection to thingspeak is success but there nothing uodate in my thingspeak channel that already in public hope anyone can give some suggestion to solve it thanks below is my coding int main cout hello beaglebone black char waterlevel 60 flowrate int i first need to run the program in etc ttyu sh sudo wvdial this will put the modem into internet access modecout hello internet endl socket for i 0 i 3 i separatedataintomultiplestr waterlevel flowrate printf preparing sending to thingspeak puts waterlevel puts flowrate system wget http api thingspeak com update key ipb56dswp8aq5y5i field1 waterlevel field2 flowrate sleep 20 below is my result root arm home ubuntu desktop beaglehello internetsetting up the structs creating a socket connect ing send ing message waiting to receive data 1000 bytes received http 1 1 200 okdate thu 28 apr 2016 04 59 52 gmtexpires 1cache control private max age 0content type text html charset iso 8859 1p3p cp this is not a p3p policy see https www google com support accounts answer 151657 hl en for more info erver gwsx xss protection 1 mode blockx frame options sameoriginset cookie nid 79 y3wonxyxg9aq0m3x7mjlbyhvddvbvqrc2mow8dnjdigbmztir 1uw5xqd93rmm_ob7rkg5reobou3t1 _iqebrhbxrecdxddxieiiceguoroow hgy4fgvqqcezxbvc2bpjate9bxzejpn8 expires fri 28 oct 2016 04 59 52 gmt path domain google com httponlyaccept ranges nonevary accept encodingtransfer encoding chunked8000 doctype html html itemscope itemtype http schema org webpage lang en head meta content earch the world information including webpages images videos and more google has many special features to help you find exactly what you are looking for name would escription meta content noodp name robots meta content text htmreceiving complete closing socket reading level and flow from filelevel 4 73 121 72preparing sending to thingspeak 4 73 121 72 2016 04 28 12 59 52 http api thingspeak com update key ipb56dswp8aq5y5iresolving api thingspeak com api thingspeak com 54 164 214 198 54 88 155 198connecting to api thingspeak com api thingspeak com 54 164 214 198 80 connected http request sent awaiting response 200 oklength 2 text html saving to u2018update key ipb56dswp8aq5y5i 6 u2019100 2 k s in 0 001s2016 04 28 12 59 53 2 08 kb s u2018update key ipb56dswp8aq5y5i 6 u2019 saved 2 2 reading level and flow from filelevel 4 73 121 72preparing sending to thingspeak 4 73 121 72 2016 04 28 13 00 12 http api thingspeak com update key ipb56dswp8aq5y5iresolving api thingspeak com api thingspeak com 54 164 214 198 54 88 155 198connecting to api thingspeak com api thingspeak com 54 164 214 198 80 connected http request sent awaiting response 200 oklength 2 text html saving to u2018update key ipb56dswp8aq5y5i 7 u2019100 2 k s in 0s2016 04 28 13 00 13 9 84 kb s u2018update key ipb56dswp8aq5y5i 7 u2019 saved 2 2 reading level and flow from filelevel 4 73 121 72preparing sending to thingspeak 4 73 121 72 2016 04 28 13 00 32 http api thingspeak com update key ipb56dswp8aq5y5iresolving api thingspeak com api thingspeak com 54 164 214 198 54 88 155 198connecting to api thingspeak com api thingspeak com 54 164 214 198 80 connected http request sent awaiting response 200 oklength 2 text html saving to u2018update key ipb56dswp8aq5y5i 8 u2019100 2 k s in 0s2016 04 28 13 00 33 10 1 kb s u2018update key ipb56dswp8aq5y5i 8 u2019 saved 2 2,0.5
Hans,did you get this working in your wget line do you need to separate u00a0waterlevel and u00a0flowrate so that it writes the variable value versus the string,0.680463731289
cxq638,i also encounter the similar issue my stat data is updated but i can not see data in field my channel created 11 days ago updated 2 days ago last entry 2 minutes ago entries 17the entries is updated but i can not see data in field4 the cmd wget http api thingspeak com update api_key nbmf2hcfgbx1521b field4 21debian beaglebone wget http api thingspeak com update api_key nbmf2hcfgbx1521b field4 21 1 13760debian beaglebone 2015 03 04 09 15 53 http api thingspeak com update api_key nbmf2hcfgbx1521bresolving api thingspeak com api thingspeak com 34 202 98 102 34 226 44 238 2404 160 0 f 0 1 22ca 6266 connecting to api thingspeak com api thingspeak com 34 202 98 102 80 connected http request sent awaiting response 200 oklength 2 text html saving to update api_key nbmf2hcfgbx1521b 12 100 2 k s in 0s 2015 03 04 09 15 54 25 4 kb s update api_key nbmf2hcfgbx1521b 12 saved 2 2,0.205853790045
cstapels,there can be a short delay before the data appears on your thingspeak plots it is also possible that the auto scaling has rendered your data not visible if you read the data in your channel using a rest call or the data export button or the data export table on your channel do you see the data that you wrote,0.718759357929
cxq638,the data export as follow jason format created_at 2018 08 17t09 33 18z entry_id9field4null9created_at 2018 08 19t13 16 42z entry_id10field4null10created_at 2018 08 19t13 17 15z entry_id11field4null11is that no data be uploaded to my channel field 4,0.5
cstapels,yes it appears that field 4 did not get updated are you using the write api key for your channel in your command above the field4 21 part is truncated the second time it appears is the buffer overflowing in some interfaces you need to send the url and server name separately though im not sure with wget on beaglebone can you try pasting the url into a browser window and see if the channel is updated,0.837869048119
isaacjohnsong007,please team i have an sd card used as a server to display gauges of voltages from my arduino pins a0 a3 on web browser internet now i want those same data to send the voltages to my thingspeak channel the data are data_val1 to data_val4 to be displayed on my thingspeak channel below is the html code on the sd card serving as server please help me insrt the right code that will fetch the data to thingspeak channel jboy power parametervar data_val 0 var data_val2 0 var data_val3 0 var data_val4 0 var gauge function b function l a b for var c in b object typeof b c object array object prototype tostring call b c are nderto c object typeof a c a c l a c b c a c b c function q z width b width z height b height a z clonenode 0 b a getcontext 2d c z width d z height t c 2 u d 2 f t u t u a i8d 1 b translate t u b save a translate t u a save function v a var b new date g setinterval function var c new date b a duration 1 c c 1 var f function typeof a delta a delta m a delta c a step f 1 c clearinterval g a delay 10 function k g clearinterval g var a i n h n c b animation v delay c delay duration c duration delta c fn step function b n parsefloat h a b e draw function e a return a math pi 180 function g b h c c a createlineargradient 0 0 0 c c addcolorstop 0 b c addcolorstop 1 h return c function p var m 93 f 100 h f m c 91 f 100 e 88 f 100 d 85 f 100 a save b glow a shadowblur h a shadowcolor rgba 0 0 0 0 5 a beginpath a arc 0 0 m 0 2 math pi 0 a fillstyle g ddd aaa m a fill a restore a beginpath a arc 0 0 c 0 2 math pi 0 a fillstyle g fafafa ccc c a fill a beginpath a arc 0 0 e 0 2 math pi 0 a fillstyle g eee f0f0f0 e a fill a beginpath a arc 0 0 d 0 2 math pi 0 a fillstyle b colors plate a fill a save function w a var h 1 a 0 b majorticksformat dec math round a tostring a tofixed b majorticksformat dec return 1 b majorticksformat int h 1 a indexof 1c c b majorticks push w b minvalue h c b majorticks push w b maxvalue for c 0 c b majorticks length c a rotate e 45 c 270 b majorticks length 1 a beginpath a moveto 0 m a lineto 0 m 15 f 100 a stroke a restore a save b stroketicks a rotate e 90 a beginpath a arc 0 0 m e 45 e 315 1 a stroke a restore a save function j var m 81 f 100 a linewidth 1 a strokestyle b colors minorticks a save for var h b minorticks b majorticks length 1 c 0 c h c a rotate e 45 c 270 h a beginpath a moveto 0 m a lineto 0 m 7 5 f 100 a stroke a restore a save function s for var m 55 f 100 h 0 ha a math abs a if 0 h a a tofixed h tostring split h 0 for c a 0 length h c h a 0 0 a 0 a f a 0 a 1 else a math round a tostring h 0 for c a length h c h a 0 a a f a return a function f a b var c math sin b f math cos b return x 0 f a c y 0 c a f function n a save for var m 81 f 100 h m 15 f 100 c 0 g b highlights length cn math abs b minvalue n 0b maxvalue b maxvalue d a 7 4 b 11 a math pow 11 6 b 11 a 4 2 math pow c 2 break a a void 0 return 1 a elastic function a a 1 a return 1 math pow 2 10 a 1 math cos 30 math pi 3 a g null a linecap round this draw function if a i8d b clearrect t u c d b save var g ctx a a b p n j d s b title a save a font 24 f 200 px arial a fillstyle b colors title a textalign center a filltext b title 0 f 4 25 a restore b units a save a font 22 f 200 px arial a fillstyle b colors units a textalign center a filltext b units 0 f 3 25 a restore a i8d 0 a g ctx delete g ctx a clearrect t u c d a save a drawimage a t u c d if gauge initialized l k h e onready e onready h 0 else var e setinterval function gauge initialized clearinterval e l k h e onready e onready h 0 10 return this gauge initialized 1 function var b document l b getelementsbytagname head 0 q 1 navigator useragent tolocalelowercase indexof msie v font face font family led src url fonts digital 7 mono q eot ttf k b createelement tyle k type text css if q l appendchild k l k stylesheet l csstext v else try k appendchild b createtextnode v catch e k csstext v l appendchild k l k stylesheet k stylesheet k sheet b stylesheets b stylesheets length 1 var g setinterval function if b body clearinterval g var e b createelement would iv e style fontfamily led e style position absolute e style height e style width 0 e style overflow hidden e innerhtml b body appendchild e settimeout function gauge initialized 0 e parentnode removechild e 250 1 gauge collection gauge collection get function b if tring typeof b for var l 0 q this length l q l if this l config renderto tagname this l config renderto document getelementbyid this l config renderto getattribute id b return this l else return number typeof b this b null function domready b window addeventlistener window addeventlistener would omcontentloaded b 1 window attachevent onload b domready function function b b for var e b 0 d 1 g b length d g d e b d substr 0 1 touppercase b d substr 1 b d length 1 return e for var l document getelementsbytagname canvas q 0 v l length q v q if canv gauge l q getattribute would ata type var k l q e g p parseint k getattribute width 10 w parseint k getattribute height 10 e renderto k p e width p w e height w p 0 for w k attributes length p w p if g k attributes item p nodename would ata type g would ata g substr 0 5 var d g substr 5 g length 5 tolowercase split if g k getattribute g switch d 0 case colors d 1 e colors e colors needle d 1 d g split s e colors needle d 0 d 1 start d 0 end d 1 g d shift e colors b d g break case highlights e highlights e highlights g g match d d 1 2 2 0x 0 9a f a f 3 8 rgba g for var d 0 j g length d j d var s g d replace s s g split s x s 0 s 0 x from s 0 s 1 s 1 x to s 1 s 2 s 2 x color s 2 e highlights push x break case animation d 1 e animation e animation fn d 1 s functions test g g eval g e animation d 1 g break default d b d if onready d continue if majorticks d g g split s else if troketicks d glow d g true g 0 1 else if valueformat d if g g split 2 g length g int parseint g 0 10 dec parseint g 1 10 else continue e d g e new gauge e k getattribute would ata value e setrawvalue parsefloat k getattribute would ata value k getattribute would ata onready e onready function eval this config renderto getattribute would ata onready e draw window gauge gauge function getarduinoinputs nocache nocache math random 1000000 var request new xmlhttprequest request onreadystatechange function if this readystate 4 if this status 200 if this responsexml null data_val this responsexml getelementsbytagname analog 0 childnodes 0 nodevalue data_val2 this responsexml getelementsbytagname analog 1 childnodes 0 nodevalue data_val3 this responsexml getelementsbytagname analog 2 childnodes 0 nodevalue data_val4 this responsexml getelementsbytagname analog 3 childnodes 0 nodevalue data_val1 data_val 23 99 1024 0 4 95 data_val2 data_val2 24 01 1024 0 2 31 data_val3 data_val3 167 0 1024 0 2 82 data_val4 data_val4 167 0 1024 0 2 75 request open get ajax_inputs nocache true request send null settimeout getarduinoinputs 2500 vdt pop battery ac mains voltagespop battery bankrectifier battery bankgenerator mainspublic mains this is powered by jboy,0.5
cstapels,here are the options for reading data from a thingspeak channel https www mathworks com help thingspeak read data from channel htmlif you need additional help with a particular method please let us know what you tried and what were the results,0.5
dimbil,i use the thingspeak writefield mychannelnumber 1 sendval mywriteapikey to send endval to thingspeaki have declared the following string mywriteapikey 77nqyr833qpfrn2g api keyint sendval unsigned long mychannelnumber 557953 i get the error no matching function for call to thingspeakclass writefield long unsigned int int int string can you please help me and tell me what is wrong,0.0709635019302
cstapels,i am not sure the thingspeak library plays perfectly with the string class in the writevoltage example that comes with the library the api key is declared as const char mywriteapikey xxxxxxxxxxxxxxxx can you try that and let us know if it works,0.761974215508
dimbil,it worked i am sorry i had forgotten to declare it as const i had declared it just as char thank you very much for your help i am having another problem now i do not see the value that i am sending to thingspeak can you please tell me what i do wrong,0.0124384760857
dimbil,i get the following warning now and i guess this is the reason that i do not see the value that i am sending to thingspeakwarning deprecated conversion from string constant to char wwrite strings espserial find i cannot see anything wrong calling the find function can you please tell me what i do wrong,0.0170058012009
cstapels,dimbil can you please elaborate why are you using the find function are you using this to interact with thingspeak somehow,0.796005487442
dimbil,yes i wanted to interact with thingspeak and try to read some information i removed this part and i am focusing in writing data to thingspeak i don u2019t get any error this time on the serial monitor i see u201cat comman u2e2e u201dbut i don u2019t see any data written on thingspeakfor sending data i use the command thingspeak writefield mychannelnumber 1 sendval mywriteapikey do you have any suggestions to make,0.182901591063
dimbil,may i send you the code to help me please,0.716568589211
dimbil,here is my code if you want to take a look in it include include thingspeak h includesoftwareserial espserial 0 1 define debug truestring myssid vodafone_135 string mypwd 7euradk2qg const char mywriteapikey 77nqyr833qpfrn2g string myhost api thingspeak com string myport 4 string myfield field1 int sendval unsigned long mychannelnumber 557953 void setup serial begin 9600 espserial begin 9600 espdata at rst 1000 debug espdata at cwmode 1 1000 debug espdata at cwjap myssid mypwd 1000 debug delay 1000 wificlient client thingspeak begin client void loop sendval 105 string senddata get update api_key string mywriteapikey myfield string sendval espdata at cipmux 1 1000 debug espdata at cipstart 0 tcp myhost myport 1000 debug espdata at cipsend 0 string senddata length 4 1000 debug espserial println senddata serial print value to be sent serial println sendval espdata at cipclose 0 1000 debug delay 10000 string espdata string command const int timeout boolean debug serial print at command serial print command serial println string response espserial println command long int time millis thingspeak writefield mychannelnumber 1 sendval mywriteapikey while time timeout millis while espserial available char c espserial read response c return response,0.5
cstapels,it looks like you have combined a few techniques here you seem to be using commands from the thingspeak communication library along with at commands the at commands are a manual method for doing some of the things the library will do for you i would recommend you start with a clean slate have look at the examples in the thingspeak doc for example this one https www mathworks com help thingspeak read and post temperature data htmlit looks like you are using esp so this example should work for you i am pretty sure you should not need to use the at commands to manually set up your wifi connection though you may need another library such as esp8266wifi,0.832008242607
dimbil,i tried the example https www mathworks com help thingspeak read and post temperature data htmlbut i am getting the following warning and errors warning espcomm_sync failederror espcomm_open failederror espcomm_upload_mem failederror espcomm_upload_mem failed,0.104828476906
cstapels,that is a programming error not related to thingspeak try resetting your device if it persists change to a new com port and change the port in arduino,0.5
Deimos,hi guys my esp8266 sends data to thingspeak every minute also it resolves api thingspeak com to its ip every minute that is because you have set dns ttl to 60 seconds i have noticed that your ip address rarely changes or not changes at all but still all esp8266 esp32 and other resolve api thingspeak com to its ip every minute because ttl is 60 is there any reason why you choose ttl 60s i suggest using 300 seconds or even 600 seconds for example cloud blynk cc uses 3600 seconds dns ttl more here https github com esp8266 arduino issues 5102thanks,0.5
vkadal,i am trying to post data to thingsspeak channel the following is the code i tried server http api thingspeak com update set server urlcount 0 set initiale count to 0code 10data 20wifi setmode wifi station set wi fi mode to stationwifi sta config totoro totoro1986 set ssid pwd to configwifi sta connect connect to routerprint wifi sta getip function posttothingspeak callback function for post datastring api_key xxxxxxxxxxxxxxxxxxxxx field1 counthttp post server string function code data if code 0 then print http request failed else print code data count count 1 increment count after each successfull post end end end call post function after each 20 second for thingspeak server updatetmr alarm 1 20000 1 function posttothingspeak end the following is the error message from esp8266 can anyone help me panic unprotected error in call to lua api attempt to index a nil value,0.5
cstapels,i found a reference to an unloaded library by doing a google search with your error message perhaps check that all the relevant libraries are loaded if not i suggest taking things out of your code one a t a time to fine the source of the error,0.804325759411
rado,starting 8 27 2018 the updated field got frozen stuck on a fixed timestamp for one of my channels even if the field data gets still updated properly every two minutes like before the channel has been up for 2 years and nothing changed on the reporting node client so right now the feed reports updated as a day ago yet the last entry properly reads a minute ago see the attached screenshot this only affects one of the channels on all the other ones the 2 fields are in sync as before anyone facing the same issue i could just go on ignoring the field but i have a set of monitoring scripts that monitor the field via json api request to see if the node is alive or not so it quite an annoyance,0.0941448807716
cstapels,previously the updates at and last entry fields were duplicates a recent upgrade provides updated at u201d when the channel settings were updated and u201clast entry u201d when an entry was sent to the channel is it possible for you to base your monitoring scripts on a call to the last value of the channel if the timestamp of the last value is old it will let you know if the node is dead https www mathworks com help thingspeak readlastentry html,0.222697228193
rado,thank you for the clarification surely rewriting the scripts will be possible now that it clear that the change of behavior is an expected feature change and a permanent one it seems it being rolled out gradually just 3 hours ago another one of my feeds froze the updated at field cstapels said previously the updates at and last entry fields were duplicates a recent upgrade provides updated at u201d when the channel settings were updated and u201clast entry u201d when an entry was sent to the channel is it possible for you to base your monitoring scripts on a call to the last value of the channel if the timestamp of the last value is old it will let you know if the node is dead https www mathworks com help thingspeak readlastentry html,0.884696185589
cstapels,yes the process is being rolled out gradually all new channels created will have this behavior going forward old channels will be migrated to this format gradually the api call to api thingspeak com channels feeds last will be a very stable replacement,0.8425989151
Am18,hi i have arduino uno fastrexgps up501 wifi esp8266 and website contain a map my project is tracking system by using these tools i wrote code you can see code at the bottomfirst how i can send data to my chanel in thingspeak after that send it to my website or to google maps directly by this code include includesoftwareserial esp8266 2 3 int counttruecommand int counttimecommand boolean found false name networkstring ssid sssssssss password the networkestring password 000000000 ip_address thr server and port numper string ip_address 192 168 0 string port 2020 string datagps int rxpin 5 int txpin 6 int gpsboud 9600 tinygpsplus gps softwareserial gpsserial rxpin txpin void setup serial begin 9600 esp8266 begin 115200 gpsserial begin gpsboud sendcommand at 5 ok sendcommand at cwjap ssid password 20 ok sendcommand at cwmode 3 5 ok sendcommand at cipmux 1 5 ok sendcommand at cipstart 4 udp ip_address port 5 ok sendcommand at cipsend 4 9 5 serial println datagps esp8266 println at delay 3000 esp8266 println at cwmode 3 delay 3000 esp8266 println at cipmux 1 delay 3000 esp8266 println at cipstart 4 udp 192 168 8 102 2020 delay 3000 esp8266 println at cipsend 4 9 void loop this sketch displays information every time a new sentence is correctly encoded while gpsserial available 0 if gps encode gpsserial read displayinfo if 5000 milliseconds pass and there are no characters coming in over the software serial port show a no gps detected error if millis 5000 gps charsprocessed 10 serial println f no gps detected while true if esp8266 available serial write esp8266 read if serial available esp8266 write serial read void displayinfo serial print f location if gps location isvalid serial print gps location lat 6 serial print f serial print gps location lng 6 else serial print f invalid serial print f date time if gps date isvalid serial print gps date month serial print f serial print gps date day serial print f serial print gps date year else serial print f invalid serial print f if gps time isvalid if gps time hour 10 serial print f 0 serial print gps time hour serial print f if gps time minute 10 serial print f 0 serial print gps time minute serial print f if gps time second 10 serial print f 0 serial print gps time second serial print f if gps time centisecond serial print command serial print while counttimecommand maxtime 1 esp8266 println command at cipsend if esp8266 find readreplay ok found true break counttimecommand if found true serial println oyi counttruecommand counttimecommand 0 if found false serial println fail counttruecommand 0 counttimecommand 0 found false,0.5
cstapels,you can program an esp8266 directly in the arduino ide they you can avoid the difficult syntax of the at command set if you have esp8266 01 you will need another programmer with a serial connection you can also use an arduino uno as the programmer if you have node mcu or wemos you can program directly from arduino ide have a look at these examples https www mathworks com help thingspeak examples htmlin this example you can use the thingspeak communication library to help you communicate with thingspeak https www mathworks com help thingspeak read and post temperature data htmlhere is an example using the mqtt protocal which works on esp8266 https www mathworks com help thingspeak mqtt publish and subscribe with esp8266 htmlplease let us know if that helps,0.5
topsy,hias thinkspeak gives you the data for 100 recent time slots how to retrieve previous data,0.234784215689
piajola,hi topsy sign in with your account go to your channel interested in about 5th line there are 6 tabs in green letters click last tab would ata import export opens new webpage in the new webpage bottom export tells you send an e mail asking nicely for the data a while ago you could download data directly try and i hope helped you,0.930107831955
cstapels,there is an api to export your data https www mathworks com help thingspeak readdata htmlup to the last 8000 points can be retrieved using https api thingspeak com channels _channel_id_ feeds csv api_key _read_api_key_ results 8000see the documentation with examples here https www mathworks com help thingspeak readdata html,0.5
MURLIDHAR ROY,i am trying to send two sensor data to thingspeak please tell me how to write command to send two sensor data the basic program which i am using is given below u00a0 include softwareserial h create object named sim900 of the class softwareserial softwareserial sim900 8 7 void setup sim900 begin 9600 define baud rate for software serial communication serial begin 9600 define baud rate for serial communication void loop serial println http post method serial print at sim900 println at check communication delay 500 showserialdata print response on the serial monitor delay 500 configure bearer profile 1 serial print at sapbr 3 1 contype gprs sim900 println at sapbr 3 1 contype gprs connection type gprs delay 500 showserialdata delay 500 serial print at sapbr 3 1 apn airtelgprs com sim900 println at sapbr 3 1 apn airtelgprs com apn of the provider delay 500 showserialdata delay 500 serial print at sapbr 1 1 sim900 println at sapbr 1 1 open gprs context delay 500 showserialdata delay 500 serial print at sapbr 2 1 sim900 println at sapbr 2 1 query the gprs context delay 500 showserialdata delay 2000 serial print at httpinit sim900 println at httpinit initialize http service delay 2000 showserialdata delay 500 serial print at httppara cid 1 sim900 println at httppara cid 1 set parameters for http session delay 500 showserialdata delay 500 serial print at httppara url api thingspeak com update sim900 println at httppara url api thingspeak com update set parameters for http session delay 500 showserialdata delay 500 serial print at httpdata 33 10000 sim900 println at httpdata 33 10000 post data of size 33 bytes with maximum latency time of 10seconds for inputting the data delay 200 showserialdata delay 200 serial print api_key 8mmr5dd7qc42nauj field1 2 data to be sent sim900 println api_key 8mmr5dd7qc42nauj field1 2 delay 500 showserialdata delay 500 serial print at httpaction 1 sim900 println at httpaction 1 start post session delay 1000 showserialdata delay 2000 serial print at httpterm sim900 println at httpterm terminate http service delay 2000 showserialdata delay 500 serial print at sapbr 0 1 sim900 println at sapbr 0 1 close gprs context delay 500 showserialdata delay 500 void showserialdata while sim900 available 0 if data is available on serial port serial write char sim900 read print character received on to the serial monitor,0.5
cstapels,see rest api documentation for the appropriate syntax u00a0does this code work to update a single field u00a0 i think you may need a before the api key https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 0then continue to append fields with the https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 0 field2 56 field3 123can you describe your hardware,0.5
royalghost,you may need a before the api key,0.5
alombardi,hello i would like to know if it is possible to add also delete modify a talkback command from a mobile xamarin form app written in c i tried with several fragments of codes without success one of them is the following async static void postrequest string url u00a0 u00a0 u00a0 ienumerable keyvaluepair string string queries new list keyvaluepair string string u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 new keyvaluepair string string api_key xxxxxxxxxxxxxxxx u00a0 u00a0 u00a0 u00a0 u00a0 new keyvaluepair string string command_string alarm u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 httpcontent q new formurlencodedcontent queries u00a0 u00a0 u00a0 q headers clear u00a0 u00a0 u00a0 q headers add content type application x www form urlencoded u00a0 u00a0 u00a0 using httpclient client new httpclient u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 using httpresponsemessage response await client postasync url q u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 using httpcontent content response content u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 string mycontent await content readasstringasync u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 httpcontentheaders headers content headers u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 str headers tostring u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 and i called this method usingpostrequest https api thingspeak com talkbacks xxxxx commands u00a0this is not working i think that i am passing the parameters api_key and command_string in a wrong way any help is welcome thanks u00a0ariel u00a0 u00a0,0.783430218697
cstapels,what you are trying should definitely be possible the syntax looks correct to me u00a0 can you try the post with postman or curl as see if it is added correctly u00a0 that will make sure the api key is the correct one and the talkback id is correct,0.988886833191
alombardi,thank you u00a0cstapels sorry the problem was with the internet connection of the android emulator the syntax was correct and also the parameters,0.207246512175
Piez,hello i am experiencing considerable inconsistencies when posting data to the api using this url http api thingspeak com update api_key hdrijnetddisntdrl field1 45 00 field2 80 68 api_key humidstr tempstri am able to log all outbound connections and i can clearly see that in fact my system is sending the url every 60 seconds like clockwork u00a0 i can also see that the urls appear to contain valid data u00a0 so the problem appears to be on the thingspeak com side what i get is entries with varying intervals such as 1 minute 2minutes 5 minutes 6 minutes 8 minutes 10 minutes 15 minutes etc even though i can verify that my side is sending the url consistently every 1 minute downloading and viewing the raw data in a spreadsheet this seems to be confirmed u00a0if i manually enter this string into the browser the points seem to be entered u00a0 that makes me feel it not on the thinkspeak side u00a0 is there some problem with the data is this a known issue that you simply have to deal with or is there a way to make the receiving and plotting of data more consistent or is this an isolated issue that only i am experiencing thanks u00a0,0.5
cstapels,what response do you get from the get url you are using u00a0 if the update is successful thingspeak will return the entry id which should get incrementally higher u00a0i am confused by the commas at the end of your url u00a0 it looks like part of a string building operation u00a0 there should not be any commas at the end of the get command after the field data unless its part of another valid parameter if you were trying to perform two successive writes the server might reject the writes for being too fast u00a0 are you performing any other updates in your code or is it possible that the code is trying the same call twice u00a0 updating two fields at once as your command is written counts only as one write is it possible that the connection is lost between your logger and thingspeak u00a0 you should be able to tell by the response from the server,0.5
Piez,cstapels said what response do you get from the get url you are using u00a0 if the update is successful thingspeak will return the entry id which should get incrementally higher u00a0 i am confused by the commas at the end of your url u00a0 it looks like part of a string building operation u00a0 there should not be any commas at the end of the get command after the field data unless its part of another valid parameter if you were trying to perform two successive writes the server might reject the writes for being too fast u00a0 are you performing any other updates in your code or is it possible that the code is trying the same call twice u00a0 updating two fields at once as your command is written counts only as one write is it possible that the connection is lost between your logger and thingspeak u00a0 you should be able to tell by the response from the server u00a0 u00a0hello the data submissions are sent programmatically via an arduino sketch so there is no response u00a0 the only way i can get that entry id response is to send the url directly from a browser commas are you referring to this u00a0 u00a0 api_key humidstr tempstrif so that is just part of the sketch u00a0 u00a0 i did not program it u00a0 it a popular temp humidity thingspeak project found herehttps circuitdigest com microcontroller projects iot temperature humidity monitoring using arduinolooking at the outbound logs it is only sent once every 60 seconds u00a0 u00a0 u00a0 not that so far today it seems to be doing much better for unknown reasonsagain looking at the outbound connections log there appears to be successful outbound url to thingspeak very 60 seconds and an http fin response from the thingspeak server indicating it was received thanks for your assistance,0.5
Piez,also would updating two different channels at the same time cause this behavior today i am only updating one and it doing much better u00a0 not sure if it has to do with the number of separate channels being updated,0.807227492332
cstapels,yes updates to different channels on the same account must still comply with the rate limit u00a0 the free account limit is one update per 15 seconds but you get 3 million updates per year u00a0 more licence options with faster update rates are available u00a0 i am glad to hear we may have found the culprit for the earlier problem thanks for sharing the link to your sketch u00a0 the commas are definitely not part of the url but part of the sprintf function can you describe your hardware u00a0 i may be able to offer more simple code than the at command set depending on what you are using,0.930667996407
Piez,cstapels said yes updates to different channels on the same account must still comply with the rate limit u00a0 the free account limit is one update per 15 seconds but you get 3 million updates per year u00a0 more licence options with faster update rates are available u00a0 i am glad to hear we may have found the culprit for the earlier problem thanks for sharing the link to your sketch u00a0 the commas are definitely not part of the url but part of the sprintf function can you describe your hardware u00a0 i may be able to offer more simple code than the at command set depending on what you are using u00a0 u00a0ok it is quite possible that the requests to the two channels were being sent too close together u00a0 u00a0 i was running two independent arduino sketches in independent arduino interface windows u00a0 a solution might be to put both channel update routines into one arduino sketch u00a0 u00a0 i will have to look into thatthanks for this info my hardware is an arduino uno ch340 r3 u00a0 clone esp8266 01 wifi module,0.92766058445
fishmastaflex,i am having an issue getting the correct timezone to display in charts that i am embedding on other webpages the timezone parameter does not seem to be changing what thingspeak is displaying on the x axis here is the very simple chart i am trying to display http api thingspeak com channels 52499 charts 1 timezone asia kolkatathe timezone in my account is set to pacific standard time i am in california but my channel and hardware is in india for the future i will be having multiple channels probably with different time zones the api says this should work https thingspeak com docs charts i tried the offset parameter to see if it had something to do with my settings and that is also displaying my current pst time http api thingspeak com channels 52499 charts 1 offset 5i also tried changing my account settings to a different timezone asia kolkata and that did not remedy the issue,0.5
ma11en,i am looking into this and will have something for you shortly matt,0.867771983147
Adarsh_Murthy,hi fishmastaflex as you mentioned you can use the timezone parameter or the offset parameter to request for data from a field in a specific time zone for e g https thingspeak com channels 52499 fields 1 json timezone asia kolkatahowever thingspeak high charts are designed to use the browser timezone thereby the os timezone always therefore even when the feed parameter for setting timezone is specified the high chart will always default back to using the browser timezone note that changing the os clock timezone should lead to thingspeak high chart display to change the timezone used for x axis but changing your account setting will not affect it to enable charts to be displayed with fixed timezones create a matlab visualization app read data from your channel change the timezone and create a plot for example data time thingspeakread 52499 fields 1 numpoints 100 time timezone asia kolkata plot time data xlabel time in kolkata timezone title would ata displayed with shifted timezone you can then embed the matlab plot into other webpages for more information on the datetime function following this link http www mathworks com help matlab ref datetime html adarsh,0.5
fishmastaflex,thanks adarsh i had a feeling i would have to use matlab to do this and you have verified my thoughts does that mean that the timezone parameter in thingspeak charts is basically useless if it always defaults to the browser timezone then i do not see a reason for stating it as a parameter in the api under the charts section,0.0961018204689
Adarsh_Murthy,you are right the timezone parameter is controlling the display of timestamps for the feed data only i e https thingspeak com channels 12397 fields 1 json timezone asia kolkatait does not have any effect on the x axis display in the charts though we will add to the documentation to explain this behavior thanks for bringing this to our attention adarsh,0.278554409742
gpc,any updates on this looks like parameter timezone still has not been implemented or is not functioning also regardless of the graphical display of data how does one control the period used for the would aily keyword for timescale sum average median chart api parameters,0.114694237709
gpc,just bumping it to the top still looking for answers u00a0,0.811064481735
Piez,i have just noticed the timestamps on downloaded data are incorrect even though they are correct online when viewd in the chart itself,0.146090120077
ashebray,i have no idea why but my sensor is not reading anymore despite just setting it up my numbers for humidity and temps are off and i do not know how to fix that it shows 255 as the reading for both i am new at this but i will post my coding below for the dht and the personal weather station any help will be so appreciated u00a0 u00a0dht coding include dht h include esp8266wifi h include wificlient h include thingspeak h define dhtpin d5 define dhttype dht11dht dht dhtpin dhttype const char ssid wutanglan const char password pranktank7664a wificlient client unsigned long mychannelnumber 386894 const char mywriteapikey 9dagdl2109wc8dij uint8_t temperature humidity void setup serial begin 115200 dht begin delay 10 connect to wifi network serial println serial println serial print connecting to serial println ssid wifi begin ssid password while wifi status wl_connected delay 500 serial print serial println serial println wifi connected print the ip address serial println wifi localip thingspeak begin client void loop static boolean data_state false temperature dht readtemperature humidity dht readhumidity serial print temperature value is serial print temperature serial println c serial print humidity value is serial print humidity serial println write to thingspeak there are up to 8 fields in a channel allowing you to store up to 8 different pieces of information in a channel here we write to field 1 if data_state thingspeak writefield mychannelnumber 1 temperature mywriteapikey data_state false else thingspeak writefield mychannelnumber 2 humidity mywriteapikey data_state true delay 30000 thingspeak will only accept updates every 15 seconds pws the mit license mit copyright c 2016 by daniel eichhornpermission is hereby granted free of charge to any person obtaining a copyof this software and associated documentation files the oftware to dealin the software without restriction including without limitation the rightsto use copy modify merge publish distribute sublicense and or sellcopies of the software and to permit persons to whom the software isfurnished to do so subject to the following conditions the above copyright notice and this permission notice shall be included in allcopies or substantial portions of the software the software is provided as is without warranty of any kind express orimplied including but not limited to the warranties of merchantability fitness for a particular purpose and noninfringement in no event shall theauthors or copyright holders be liable for any claim damages or otherliability whether in an action of contract tort or otherwise arising from out of or in connection with the software or the use or other dealings in thesoftware see more at http blog squix ch include esp8266wifi h include ticker h include jsonlistener h include sd1306wire h include oleddisplayui h include wire h include wundergroundclient h include weatherstationfonts h include weatherstationimages h include timeclient h include thingspeakclient h begin settings please read http blog squix org weatherstation getting code adapting it for setup instructions wificonst char wifi_ssid wutanglan const char wifi_pwd pranktank7664a u00a0 setupconst int update_interval_secs 10 60 update every 10 minutes display settingsconst int i2c_display_address 0x3c const int sda_pin d3 const int sdc_pin d4 timeclient settingsconst float utc_offset 5 wunderground settingsconst boolean is_metric true const string wundergrround_api_key c7fdd773c27f8a63 const string wundergrround_language en const string wunderground_country wv const string wunderground_city morgantown thingspeak settingsconst string thingspeak_channel_id 386894 const string thingspeak_api_read_key bzf0d1cs8dbqc6aq initialize the oled display for address 0x3c sda pin 14 and sdc pin 12ssd1306wire display i2c_display_address sda_pin sdc_pin oleddisplayui ui display end settings timeclient timeclient utc_offset set to false if you prefere imperial inches fahrenheitwundergroundclient wunderground is_metric thingspeakclient thingspeak flag changed in the ticker function every 10 minutesbool readyforweatherupdate false string lastupdate ticker ticker declaring prototypesvoid drawprogress oleddisplay display int percentage string label void updatedata oleddisplay display void drawdatetime oleddisplay display oleddisplayuistate state int16_t x int16_t y void drawcurrentweather oleddisplay display oleddisplayuistate state int16_t x int16_t y void drawforecast oleddisplay display oleddisplayuistate state int16_t x int16_t y void drawthingspeak oleddisplay display oleddisplayuistate state int16_t x int16_t y void drawforecastdetails oleddisplay display int x int y int dayindex void drawheaderoverlay oleddisplay display oleddisplayuistate state void setreadyforweatherupdate u00a0 add frames this array keeps function pointers to all frames frames are the single views that slide from right to leftframecallback frames drawdatetime drawcurrentweather drawforecast drawthingspeak int numberofframes 4 overlaycallback overlays drawheaderoverlay int numberofoverlays 1 void setup serial begin 115200 serial println serial println initialize dispaly display init display clear display display display flipscreenvertically display setfont arialmt_plain_10 display settextalignment text_align_center display setcontrast 255 wifi begin wifi_ssid wifi_pwd int counter 0 while wifi status wl_connected delay 500 serial print display clear display drawstring 64 10 connecting to wifi display drawxbm 46 30 8 8 counter 3 0 activesymbole inactivesymbole display drawxbm 60 30 8 8 counter 3 1 activesymbole inactivesymbole display drawxbm 74 30 8 8 counter 3 2 activesymbole inactivesymbole display display counter ui settargetfps 30 ui setactivesymbol activesymbole ui setinactivesymbol inactivesymbole you can change this to top left bottom right ui setindicatorposition bottom defines where the first frame is located in the bar ui setindicatordirection left_right you can change the transition that is used slide_left slide_right slide_top slide_down ui setframeanimation slide_left ui setframes frames numberofframes ui setoverlays overlays numberofoverlays inital ui takes care of initalising the display too ui init serial println updatedata display ticker attach update_interval_secs setreadyforweatherupdate void loop if readyforweatherupdate ui getuistate framestate fixed updatedata display int remainingtimebudget ui update if remainingtimebudget 0 you can do some work here do not do stuff if you are below your time budget delay remainingtimebudget u00a0 void drawprogress oleddisplay display int percentage string label display clear display settextalignment text_align_center display setfont arialmt_plain_10 display drawstring 64 10 label display drawprogressbar 2 28 124 10 percentage display display void updatedata oleddisplay display drawprogress display 10 updating time timeclient updatetime drawprogress display 30 updating conditions wunderground updateconditions wundergrround_api_key wundergrround_language wunderground_country wunderground_city drawprogress display 50 updating forecasts wunderground updateforecast wundergrround_api_key wundergrround_language wunderground_country wunderground_city drawprogress display 80 updating thingspeak thingspeak getlastchannelitem thingspeak_channel_id thingspeak_api_read_key lastupdate timeclient getformattedtime readyforweatherupdate false drawprogress display 100 would one delay 1000 u00a0void drawdatetime oleddisplay display oleddisplayuistate state int16_t x int16_t y display settextalignment text_align_center display setfont arialmt_plain_10 string date wunderground getdate int textwidth display getstringwidth date display drawstring 64 x 5 y date display setfont arialmt_plain_24 string time timeclient getformattedtime textwidth display getstringwidth time display drawstring 64 x 15 y time display settextalignment text_align_left void drawcurrentweather oleddisplay display oleddisplayuistate state int16_t x int16_t y display setfont arialmt_plain_10 display settextalignment text_align_left display drawstring 60 x 5 y wunderground getweathertext display setfont arialmt_plain_24 string temp wunderground getcurrenttemp u00b0c display drawstring 60 x 15 y temp int tempwidth display getstringwidth temp display setfont meteocons_plain_42 string weathericon wunderground gettodayicon int weathericonwidth display getstringwidth weathericon display drawstring 32 x weathericonwidth 2 05 y weathericon u00a0void drawforecast oleddisplay display oleddisplayuistate state int16_t x int16_t y drawforecastdetails display x y 0 drawforecastdetails display x 44 y 2 drawforecastdetails display x 88 y 4 void drawthingspeak oleddisplay display oleddisplayuistate state int16_t x int16_t y display settextalignment text_align_center display setfont arialmt_plain_10 display drawstring 64 x 0 y outdoor display setfont arialmt_plain_16 display drawstring 64 x 10 y thingspeak getfieldvalue 0 u00b0c display drawstring 64 x 30 y thingspeak getfieldvalue 1 void drawforecastdetails oleddisplay display int x int y int dayindex display settextalignment text_align_center display setfont arialmt_plain_10 string day wunderground getforecasttitle dayindex substring 0 3 day touppercase display drawstring x 20 y day display setfont meteocons_plain_21 display drawstring x 20 y 12 wunderground getforecasticon dayindex display setfont arialmt_plain_10 display drawstring x 20 y 34 wunderground getforecastlowtemp dayindex wunderground getforecasthightemp dayindex display settextalignment text_align_left void drawheaderoverlay oleddisplay display oleddisplayuistate state display setcolor white display setfont arialmt_plain_10 string time timeclient getformattedtime substring 0 5 display settextalignment text_align_left display drawstring 0 54 time display settextalignment text_align_right string temp wunderground getcurrenttemp u00b0c display drawstring 128 54 temp display drawhorizontalline 0 52 128 void setreadyforweatherupdate serial println etting readyforupdate to true readyforweatherupdate true,0.800113976002
Vinod,perhaps you can start with one of the instructables see here http www instructables com id send sensor data dht11 bmp180 to thingspeak with a,0.5
ashebray,it is able to read data but it is no longer recording it on to thing speak i even tried this http community thingspeak com forum thingspeak api my channel stopped updating the data but shows entries but still not luck do i need to put a json streamer on u00a0,0.26169142127
cstapels,are you still using the code above u00a0 can you share what you see on the serial monitor u00a0 you should not need a special json library the link you shared shows hot to updata a channel with an http get u00a0 were you able to update your channel that way if the numbers for the sensor u00a0 are wrong i would suspect you have a connection error u00a0 double check your schematic,0.760291695595
SouthPark,you are probably better off saving a copy of your code and remove all the unnecessary stuff like oled displays ie get rid of anything that could possibly cause issues or memory problems or writing errors etc and then just test basic data upload to thingspeak without those extra possible distractions eventually you may find the issue such as memory over written due to pointers over running etc this is just a maybe the idea is to just start small again to get data sending working properly again,0.0616289675236
ashebray,cstapels said are you still using the code above u00a0 can you share what you see on the serial monitor u00a0 you should not need a special json library the link you shared shows hot to updata a channel with an http get u00a0 were you able to update your channel that way if the numbers for the sensor u00a0 are wrong i would suspect you have a connection error u00a0 double check your schematic u00a0 u00a0i am using the codes above i have tried a few dht codes and still only get 2 or three readings then nothing i am new to this so i am not sure how to fix this u00a0for my serial monitor nothing loads at all just a white screen,0.23423859477
ashebray,cstapels said are you still using the code above u00a0 can you share what you see on the serial monitor u00a0 you should not need a special json library the link you shared shows hot to updata a channel with an http get u00a0 were you able to update your channel that way if the numbers for the sensor u00a0 are wrong i would suspect you have a connection error u00a0 double check your schematic u00a0 u00a0never mind here is my smsetting readyforupdate to true 02 42 412 42 419761requesting url api c7fdd773c27f8a63 conditions lang en q wv morgantown jsonstart documentrequesting url api c7fdd773c27f8a63 forecast10day lang en q wv morgantown jsonstart document0 snow forecastday0 friday1 nt_snow pop1 friday night2 snow pop2 saturday3 nt_partlycloudy pop3 saturday night4 cloudy pop4 sunday5 nt_partlycloudy pop5 sunday night6 mostlycloudy pop6 monday7 nt_partlycloudy pop7 monday night8 partlycloudy pop8 tuesday9 nt_clear pop9 tuesday night10 partlycloudy pop10 wednesday11 nt_cloudy pop11 wednesday night12 partlycloudy pop12 thursday13 nt_partlycloudy pop13 thursday night14 cloudy pop14 friday15 nt_partlycloudy pop15 friday night16 clear pop16 saturday17 nt_partlycloudy pop17 saturday night18 cloudy pop18 sunday19 nt_mostlycloudy pop19 sunday night1 42 43 84 85 86 27 98 79 610 0requesting url channels 386894 feeds json results 1 api_key bzf0d1cs8dbqc6aq field1 512 00field2 460 80,0.794139266014
ashebray,tried a new code now i am getting nan readings for my humidity u00a0 include esp8266wifi h include ticker h include jsonlistener h include sd1306wire h include oleddisplayui h include wire h include wundergroundclient h include weatherstationfonts h include weatherstationimages h include timeclient h include thingspeakclient h begin settings please read http blog squix org weatherstation getting code adapting it for setup instructions wificonst char wifi_ssid wutanglan const char wifi_pwd pranktank7664a u00a0 setupconst int update_interval_secs 10 60 update every 10 minutes display settingsconst int i2c_display_address 0x3c const int sda_pin d3 const int sdc_pin d4 timeclient settingsconst float utc_offset 5 wunderground settingsconst boolean is_metric true const string wundergrround_api_key c7fdd773c27f8a63 const string wundergrround_language en const string wunderground_country wv const string wunderground_city morgantown thingspeak settingsconst string thingspeak_channel_id 386894 const string thingspeak_api_read_key bzf0d1cs8dbqc6aq initialize the oled display for address 0x3c sda pin 14 and sdc pin 12ssd1306wire display i2c_display_address sda_pin sdc_pin oleddisplayui ui display end settings timeclient timeclient utc_offset set to false if you prefere imperial inches fahrenheitwundergroundclient wunderground is_metric thingspeakclient thingspeak flag changed in the ticker function every 10 minutesbool readyforweatherupdate false string lastupdate ticker ticker declaring prototypesvoid drawprogress oleddisplay display int percentage string label void updatedata oleddisplay display void drawdatetime oleddisplay display oleddisplayuistate state int16_t x int16_t y void drawcurrentweather oleddisplay display oleddisplayuistate state int16_t x int16_t y void drawforecast oleddisplay display oleddisplayuistate state int16_t x int16_t y void drawthingspeak oleddisplay display oleddisplayuistate state int16_t x int16_t y void drawforecastdetails oleddisplay display int x int y int dayindex void drawheaderoverlay oleddisplay display oleddisplayuistate state void setreadyforweatherupdate u00a0 add frames this array keeps function pointers to all frames frames are the single views that slide from right to leftframecallback frames drawdatetime drawcurrentweather drawforecast drawthingspeak int numberofframes 4 overlaycallback overlays drawheaderoverlay int numberofoverlays 1 void setup serial begin 115200 serial println serial println initialize dispaly display init display clear display display display flipscreenvertically display setfont arialmt_plain_10 display settextalignment text_align_center display setcontrast 255 wifi begin wifi_ssid wifi_pwd int counter 0 while wifi status wl_connected delay 500 serial print display clear display drawstring 64 10 connecting to wifi display drawxbm 46 30 8 8 counter 3 0 activesymbole inactivesymbole display drawxbm 60 30 8 8 counter 3 1 activesymbole inactivesymbole display drawxbm 74 30 8 8 counter 3 2 activesymbole inactivesymbole display display counter ui settargetfps 30 ui setactivesymbol activesymbole ui setinactivesymbol inactivesymbole you can change this to top left bottom right ui setindicatorposition bottom defines where the first frame is located in the bar ui setindicatordirection left_right you can change the transition that is used slide_left slide_right slide_top slide_down ui setframeanimation slide_left ui setframes frames numberofframes ui setoverlays overlays numberofoverlays inital ui takes care of initalising the display too ui init serial println updatedata display ticker attach update_interval_secs setreadyforweatherupdate void loop if readyforweatherupdate ui getuistate framestate fixed updatedata display int remainingtimebudget ui update if remainingtimebudget 0 you can do some work here do not do stuff if you are below your time budget delay remainingtimebudget u00a0 void drawprogress oleddisplay display int percentage string label display clear display settextalignment text_align_center display setfont arialmt_plain_10 display drawstring 64 10 label display drawprogressbar 2 28 124 10 percentage display display void updatedata oleddisplay display drawprogress display 10 updating time timeclient updatetime drawprogress display 30 updating conditions wunderground updateconditions wundergrround_api_key wundergrround_language wunderground_country wunderground_city drawprogress display 50 updating forecasts wunderground updateforecast wundergrround_api_key wundergrround_language wunderground_country wunderground_city drawprogress display 80 updating thingspeak thingspeak getlastchannelitem thingspeak_channel_id thingspeak_api_read_key lastupdate timeclient getformattedtime readyforweatherupdate false drawprogress display 100 would one delay 1000 u00a0void drawdatetime oleddisplay display oleddisplayuistate state int16_t x int16_t y display settextalignment text_align_center display setfont arialmt_plain_10 string date wunderground getdate int textwidth display getstringwidth date display drawstring 64 x 5 y date display setfont arialmt_plain_24 string time timeclient getformattedtime textwidth display getstringwidth time display drawstring 64 x 15 y time display settextalignment text_align_left void drawcurrentweather oleddisplay display oleddisplayuistate state int16_t x int16_t y display setfont arialmt_plain_10 display settextalignment text_align_left display drawstring 60 x 5 y wunderground getweathertext display setfont arialmt_plain_24 string temp wunderground getcurrenttemp u00b0c display drawstring 60 x 15 y temp int tempwidth display getstringwidth temp display setfont meteocons_plain_42 string weathericon wunderground gettodayicon int weathericonwidth display getstringwidth weathericon display drawstring 32 x weathericonwidth 2 05 y weathericon u00a0void drawforecast oleddisplay display oleddisplayuistate state int16_t x int16_t y drawforecastdetails display x y 0 drawforecastdetails display x 44 y 2 drawforecastdetails display x 88 y 4 void drawthingspeak oleddisplay display oleddisplayuistate state int16_t x int16_t y display settextalignment text_align_center display setfont arialmt_plain_10 display drawstring 64 x 0 y outdoor display setfont arialmt_plain_16 display drawstring 64 x 10 y thingspeak getfieldvalue 0 u00b0c display drawstring 64 x 30 y thingspeak getfieldvalue 1 void drawforecastdetails oleddisplay display int x int y int dayindex display settextalignment text_align_center display setfont arialmt_plain_10 string day wunderground getforecasttitle dayindex substring 0 3 day touppercase display drawstring x 20 y day display setfont meteocons_plain_21 display drawstring x 20 y 12 wunderground getforecasticon dayindex display setfont arialmt_plain_10 display drawstring x 20 y 34 wunderground getforecastlowtemp dayindex wunderground getforecasthightemp dayindex display settextalignment text_align_left void drawheaderoverlay oleddisplay display oleddisplayuistate state display setcolor white display setfont arialmt_plain_10 string time timeclient getformattedtime substring 0 5 display settextalignment text_align_left display drawstring 0 54 time display settextalignment text_align_right string temp wunderground getcurrenttemp u00b0c display drawstring 128 54 temp display drawhorizontalline 0 52 128 void setreadyforweatherupdate serial println etting readyforupdate to true readyforweatherupdate true u00a0dht coding include dht h dht h library include esp8266wifi h esp8266wifi h library define dhtpin 2 define dhttype dht11const char ssid wutanglan const char password pranktank7664a const char host api thingspeak com const char writeapikey 9dagdl2109wc8dij dht dht dhtpin dhttype 15 void setup initialize sensorserial begin 115200 dht begin delay 1000 connect to wifi network wifi begin ssid password while wifi status wl_connected delay 500 serial println void loop float humidity dht readhumidity float temperature dht readtemperature if isnan humidity isnan temperature return make tcp connections wificlient client const int httpport 80 if client connect host httpport return string url update key url writeapikey url field1 url string temperature url field2 url string humidity url,0.5
ashebray,i am desperate at this point the sensor is now reading properly but it is not updating in the time frame it should be at all here is the code u00a0 u00a0 include esp8266wifi h include would ht h u00a0 begin settings u00a0const char ssid wutanglan const char password pranktank7664a const char host api thingspeak com const char thingspeak_api_key 9dagdl2109wc8dij dht settings define dhtpin d6 what digital pin we are connected to if you are not using nodemcu change d6 to real pin u00a0 uncomment whatever type you are using define dhttype dht11 dht 11 define dhttype dht22 dht 22 am2302 am2321 define dhttype dht21 dht 21 am2301 const boolean is_metric true update every 600 seconds 10 minutes min with thingspeak is 20 secondsconst int update_interval_seconds 600 end settings initialize the temperature humidity sensordht dht dhtpin dhttype void setup serial begin 115200 delay 10 we start by connecting to a wifi networkserial println serial println serial print connecting to serial println ssid wifi begin ssid password while wifi status wl_connected delay 500 serial print serial println serial println wifi connected serial println ip address serial println wifi localip void loop serial print connecting to serial println host use wificlient class to create tcp connections wificlient client const int httpport 80 if client connect host httpport serial println connection failed return read values from the sensor float humidity dht readhumidity float temperature dht readtemperature is_metric we now create a uri for the request string url update api_key,0.698902606964
peter9x,hello everybody when i got data export i realized my time message was not matched with my time zone for instance if my time is 15 00 pm i only recieved a message from 7 50 am do you have any ideas have a nice day,0.814528286457
Vinod,the data exported from thingspeak using the would ata import export tab is in utc when analyzing this data offline you will need to add the timezone offset from your timezone to utc to the data,0.5
SouthPark,oh yes this kind of thing can be massively confusing and also largely inconvenient for the new user it would be nice for thingspeak to have a data download option that has a time zone drop down menu that allows users to download the data file matched to the user local time zone but there appear to be no such feature at the moment so at the moment the date time column will be in some kind of standard time form ie utc time and the downloaded time values will be referenced to 0 yes zero so what you need to do is to use google and if you happen to live in say tokyo then google tokyo utc the google result will say something like gmt 9 for tokyo note the plus 9 this means you need to add 9 hours to the time values that you see in your downloaded thingspeak file thingspeak typically gives you a csv file so what you need to do is to open this csv file using microsoft excel and then you need to save that excel file to some other format such as xlsx format this let you take advantage of being able to use excel formulas to convert thingspeak date time information to something that excel can really use eg you might see this in cell a2 u00a0 u00a0 u00a0 2017 12 17 13 30 01 utcif you have a blank column such as column m then in cell m2 you enter a formula into cell m2 such as u00a0 left a2 len a2 4 cell m2 will then contain 2017 12 17 13 30 01then in cell n2 type this formula u00a0 u00a0 m2 9 24the important value is the 9 in the above line the 9 makes excel add the 9 hours to get a time code linked to tokyo local time then in cell o2 type the same formula manually into cell o2 u00a0 u00a0 m2 9 24also do the same for cell p2 type the same formula manually into cell p2 u00a0 u00a0 m2 9 24here the values in column m n and o will all be the same this is where you can play around with the column formatting for example if you highlight column n and then choose to format the cells in column n to a time format and if you also choose the type of time to be twelve hour format ie am pm then column n will be converted by excel time formatting to 12 hour am pm format and for column o you could format the column to be time and choose the type to be 13 22 00 format which is 24 hour format both columns n and column o will be in tokyo local time which is 9 hours ahead of the zero umt or gmt reference time,0.708911776543
Vinod,there is an api you can use to retrieve all the data in a channel https api thingspeak com stream channels channel_id feeds api_key read_api_key timezone timezonelist of valid timezone entries is here for example to get the data in new york timezone set timezone to america 2fnew_york or to get the same in mumbai set timezone to asia 2fmumbai u00a0,0.5
SouthPark,hi all i notice that the thingspeak menu options has the following buttons private view public view channel settings sharing api keys data import exportthe very last button would ata import export leads us to options for downloading the channel feed data in csv format the file downloaded from this area is noticed to contain the full set of recorded data values but i also notice that the private view and the public view areas also have would ata export options here the csv data file obtained from the private view and or public view downloads do not contain the full data set that is the downloaded file is usually just a sub set of the full actual data set is it possible for thingspeak admins to fix this so that all buttons for would ata export will allow download of the full data set thanks all,0.5
Hans,the data export button on the channel views are designed for programmatic access to your data from the api you will notice that json xml and csv are supported the default data set through the api is 1 day or up to 8000 data points without supplying more api parameters u00a0,0.74308693409
SouthPark,thanks hans through the web browser i used the pencil icon to change the default value to 8000 but the downloaded exported data via private view and public view is still a subset of the full data set i was only able to obtain the full data set by going the other route which is would ata import export followed by choosing download i understand and know which area of thingspeak i need to access in order to download the full data set but for the new users they will likely see a export data button in the private view or public view and they will intuitively assume that is the one to use for downloading data and then they will certainly be scratching their heads and wondering why thingspeak is only giving them a snap shot subset of the full data set it will certainly confuse them i am thinking that the thingspeak admin should fix up the system or at least put some kind of pop up note to just let users know where to download the full data set rather than make new users wonder why they just receive a small portion of the full data set or at least have a sticky or notification in the private view and public view pages that says something like for web browsers do not use this area to download data sets instead use the data import export option next to the api keys button for downloading full data set this will prevent new users from getting confused and waste their time trying to figure what is going on,0.5
waynebraganza,need help with the add talkback command via http post feature im new but i was able to execute the next command via http post by typing https api thingspeak com talkbacks 1203 commands execute api_key 0ot6y43xc6y5yvj9 in my web browser similarly when i tried to add a command by typing https api thingspeak com talkbacks 1203 commands api_key 0ot6y43xc6y5yvj9 command_string on position 1 the command was just not getting added can any 1 please help n sorry if this post is in the wrong part of the forum its my first post in a forum will appreciate all the help ps i went through the talk back examples and was able to get the execute next command to work in a few mins but the add command part has been haunting me for hours i need to use http posts in text only as the part of the project not json and xml,0.5
lee,hi executing a talkback command is done via http get or post and by typing it into your web browser you are doing an http get adding a command is only allowed via post though so typing it into your web browser wo not work to execute a post you can use an html form submit javascript a browser extension etc lee,0.7499781847
waynebraganza,oh thanks alot man that helped i found an extension for chrome n am able to add commands now all i got to do is implement this into an arduino with the esp8566 wifi module anyways thanks for d reply im new to this stuff n ur reply fixed my problems,0.894204080105
Midoji,hello what is your google chrome extension for my project or do you know any good extension for add command from thingspeak please thanks in advance everyone,0.984377264977
waynebraganza,midoji said hello what is your google chrome extension for my project or do you know any good extension for add command from thingspeak please thanks in advance everyone u00a0 u00a0hi sorry for the really late reply the extension that i used in chrome is chrome poster best of luck with whatever you are doin,0.925488233566
Anand,i have 3 fields in a channel since yesterday when i try to update u00a0 the fields with a value using the write key in the browser the value is not updated in the field i have to refresh the screen for sometime so that the value can be updated sometimes it takes really long time for the value to be uploaded what to do,0.121858924627
Anu Sankar,hi i am also having the same problem since today morning i did not check yesterday i have built an app to update the value in one of my field but it does not seems working i also tried to update the values using the api command url and still it is showing zero 0 entries and the value did not change,0.234980493784
cstapels,i just tested a few of my channels this morning and things seem to be updating within a few seconds occasionally a little longer if the post is successful the browser will return the value of the entry id does the browser return a zero or a larger number u00a0 is it also possible you are sending a value that is interpreted as a string and thus does not show up in your plot u00a0 what values are you sending,0.275949239731
Anand,the browser keeps returning zero and only after refreshing multiple times does the browser returns a large value i am trying to send only two values 5 and 1,0.208014130592
Hans,the api has a rate limit of one update per 15 seconds for free accounts u00a0,0.791958093643
dher,hi everyone i am very new working with esp8266 and thingspeak platform actually i am trying to make my prototipe plug and play that why i need to understand how works to create a new channel from arduino no manually first i created one channel from arduino using at cmd but i dont receive the json response through esp8266 serial line just are sponse 200 the mail goal of this is receive the channel json content then parse and decode to getting two things id and channel api_key someone of you can help me with this issue i will appreciate forever u00a0here my code u00a0 include softwareserial h include eeprom h softwareserial esp8266serial 2 4 rx tx para arduino pro mini variables globales string esp8266response string ssid xxxxxxxxxx string password xxxxxxxxxx u00a0string host api thingspeak com const int httpport 80 string userchanneljson channels json u00a0 u00a0 u00a0 u00a0 variables que se necesitan para crear el channel en thingspeakstring userapikey xxxxxxxxxxxx u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 variable que contiene el user api key de thingspeakstring channelupdate update u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 variable que tiene el path para actualizar los datos en thingspeakstring channelapikey u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 apikey del channel en thingspeak estructuras struct thingdata string id u00a0 string thingname string companyname u00a0 string swversion u00a0 struct storeddata thingdata thingdata storeddata storeddata u00a0 funciones inicializando los puertos serie void initserialports void comunicacion serie uart u00a0 u00a0esp8266serial flush u00a0 serial begin 115200 u00a0 esp8266serial begin 115200 funcion que almacena en la eeprom los datos de informacion void arduino_storethingdata void u00a0 eeprom put 0 storeddata thingdata funcion que obtiene de la eeprom los datos de informacion void arduino_restorethingdata void u00a0 eeprom get 0 storeddata thingdata funcion que asigna los datos de informacion en la eeprom string arduino_setthingdata void u00a0 u00a0storeddata thingdata thingname fp01 u00a0 storeddata thingdata id u00a0 storeddata thingdata companyname u00a0 storeddata thingdata swversion v1 0 u00a0arduino_storethingdata funcion que realiza la conexion del esp8266 con wifi boolean esp8266_connectwifi void u00a0 u00a0esp8266serial print at cwmode 3 delay 100 u00a0 esp8266serial print at rst delay 100 u00a0string cmd at cwjap u00a0cmd ssid u00a0cmd u00a0cmd password u00a0cmd u00a0esp8266serial println cmd u00a0delay 10000 if esp8266serial find ok u00a0 u00a0return true else u00a0 return false funcion que realiza la conexion tcp del esp8266 con thingspeak boolean esp8266_connecttcp void al pasar 1 minuto automaticamente se cierra u00a0 u00a0 string cmd at cipstart tcp u00a0 u00a0 cmd host u00a0 u00a0 cmd 80 u00a0 u00a0 esp8266serial println cmd u00a0 u00a0delay 1000 u00a0 if esp8266serial find ok u00a0 u00a0 u00a0 return true u00a0 else u00a0 u00a0return false u00a0 funcion que realiza la configuracion del esp8266 void esp8266_setconfiguration void esp8266serial print at delay 100 nos conectamos con wifi if esp8266_connectwifi serial println no hay conexion wifi else serial println conexion wifi establecida esp8266serial print at cipmux 0 delay 100 funcion que crea el channel en thingspeak void thingspeak_newchannel void nos conectamos con el servidor if esp8266_connecttcp serial println no hay conexion tcp else serial println conexion tcp establecida se arma el encabezado de la peticion http para enviar los datos por field string cmd post cmd userchanneljson cmd api_key cmd userapikey cmd name cmd storeddata thingdata thingname cmd http 1 1host cmd host cmd int len cmd length delay 1000 enviamos el tama u00f1o en caracteres de la peticion http esp8266serial print at cipsend esp8266serial println len esperamos a para enviar la peticion http if esp8266serial find esp8266serial print cmd recibimos un send ok que confirma que la peticion if esp8266serial find end ok boolean fin_respuesta char chr string cadena while fin_respuesta false esperamos respuesta del api thingspeak com while esp8266serial available 0 chr char esp8266serial read serial write chr cadena concat chr if cadena length 500 esp8266serial println at cipclose if esp8266serial find ok serial println conexion finalizada fin_respuesta true while else serial println no se creo el channel else serial println no se envio la peticion funcion que realiza las configuraciones de todo el sistema void arduino_systemconfiguration void arduino_restorethingdata serial println serial println hola mundo serial print mi nombre es serial println storeddata thingdata thingname serial println configurando el sistema esp8266_setconfiguration serial println void setup initserialports delay 100 arduino_setthingdata delay 100 arduino_systemconfiguration delay 100 u00a0 void loop thingspeak_newchannel delay 10000,0.838314890862
OH6MQM,hellohow i should enter video url to channel feed how to configure it to youtube or wimeo i did not find any instruction u00a0br esko p,0.199632257223
lolkusus,hello i stumbled upon a problem every time i average data on my channel it is usually about 2 times smallerand have a great tendency to have peaks my raw data has no spikes or wrong samples field 2 with no averagefield 2 with 60 averagemy channel linkit happens on almost all of my fields if you average on field 1 it looks similar but is actually 2x smaller than original can i fix it or do i need to make a new channel,0.235806643963
cstapels,some of the fields in your channel u00a0 are updated more frequently than others u00a0 when this happens an empty value is written to the fields that are not updated and the average includes the zero values u00a0 the spikes are due to periods when there are relativity fewer nulls than there were recently and the average jumps u00a0 i would suggest using a matlab analysis to filter your data the matlab analysis will read a value possibly with thingspeakread and write it to a new channel with thingspeakwrite if it is not a null or zero value u00a0 then the new channel averaging will work appropriately u00a0 u00a0you can use the react app to trigger a matlab analysis that filters every time new data is entered u00a0 u00a0alternatively you could consider writing each measurement that updates at a different frequency to different channels u00a0 you can use another matlab analysis to loop through all the values in your old channel and write them to the new channel without the null values,0.109224975109
lolkusus,u00a0i recently added one field updated by matlab analysis which updates at different frequency i think it might have been a mistake will the problem disappear in new samples if i remove this field and let it collect more samples all my others fields are updated at once there were no problems before my messing with matlab thank you,0.773173689842
cstapels,not a mistake but an opportunity to improve your chops as a thingspeak guru ud83d ude42 u00a0 i suggest that you make the output of the matlab analysis write to a different channel instead of field 7 then you will still have the analytics you wanted along with the behavior of the averaged thingspeak plots that you want u00a0 once the empty values are not written to the other fields for as many measurements as you are averaging the average display will again act as you predicted u00a0 you can export your data on the private view it will only export what you have it set to show or using the data export tab on the far right u00a0 from what i saw in your data only field 7 seemed out of sync with the others,0.5
lolkusus,after removing field 7 and waiting for more samples the problem stopped thank you d,0.14602714777
kes,one data point measurement spike has flattened my data by changing the y axis to 0 7 u00a0as shown u00a0herebefore the spike the y axis range was 0 5 1 5 and i could see things as shown here can i set the y axis in the url as having limits ps i tried setting the y axis limit in the thingsspeak channel settings but this seems to have had no effect if the chart displayed contains the pike data point u00a0,0.5
Hans,as one u00a0option you can add the min and max parameter to your chart api http api thingspeak com channels 11286 charts 4 width 450 height 260 results 1000 dynamic true yaxis boiler 20pressure 20bar title boiler 20pressure 20bar min 0 max 5the second option is to process your raw data using a matlab filter then write the data to a clean channel,0.5
geraldcor,hello all i have an arduino project that logs events these events can happen more often than the 15 second api limit so i would like to maintain the data in memory and then every 15 seconds or so do a bulk update that writes multiple rows a bulk update basically is there a field format i can use for that i e field1 1 2 3 or field1 value1 field1 value2 field1 value3 or something like that greg,0.5
lee,hi greg unfortunately we do not currently provide the ability to make bulk updates to your channels lee,0.689039885998
geraldcor,thanks for saving me frustrating hours i think i can work around as needed thanks,0.937387764454
Sabeethan,lee said hi greg unfortunately we do not currently provide the ability to make bulk updates to your channels leedear admin is the option to bulk post or batch post available yet i need an almost realtime update service but since there is a post limit of 15 sec i was trying to save the values and batch post after every minute,0.5
Vinod,this functionality is now available take a look at the documentation here https www mathworks com help thingspeak bulk update a channel feed 1 html,0.847593009472
S Raj,hellovinod said this functionality is now available take a look at the documentation here https www mathworks com help thingspeak bulk update a channel feed 1 html u00a0 u00a0 u00a0sir what will be the logic used to bulk update the data collected on thingspeak using sim 900a gsm module,0.780009448528
ask,hello all just have a quick question is it possible to post multiple data for the same field,0.955227851868
cstapels,are you trying to write two different data types to the same field successively or simultaneously u00a0 you can change the data types for each individual post even for the same field u00a0 you may have to be careful with the plotting or other processing you do with matlab code it is possible to put multiple data elements in a single field at the same timestamp with a single write but its not recommended you would have to parse the data later to separate them you would use something like https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 2 2andseconddata2 4 amp u00a0there is room for up to 255 characters in a field u00a0 using two successive writes will give two separate entries since the time stamp will change but you can use the created_at parameter to u00a0 update your channel feed u00a0 if you use the same date for created_at with two posts you will get two separate entries at the same time https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 2 2 created_at 2017 11 3 2013 59 59 u00a0can you describe what you are trying to do u00a0 perhaps there is a different way to achieve your goal,0.5
ask,i basically want to do 2 different things if possible 1 to get more details for a parameter without sending frequent updates for example sampling a variable every 5 seconds and updating thingspeak field with 12 values every minute it seems like that can be done per your suggestion above like below is the syntax correct https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 2 2andseconddata2 4andthirddata4 5 andtwelvthdata6 3 amp 2 to draw more than one trace in the same field for comparison purposes for example plotting temperature and humidity in the same graph and for this the second update that uses created at can be employed requiring as many updates as the plots needed per time instance correct,0.5
ask,cstapels said are you trying to write two different data types to the same field successively or simultaneously u00a0 you can change the data types for each individual post even for the same field u00a0 you may have to be careful with the plotting or other processing you do with matlab code it is possible to put multiple data elements in a single field at the same timestamp with a single write but its not recommended you would have to parse the data later to separate them you would use something like https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 2 2andseconddata2 4 amp u00a0 there is room for up to 255 characters in a field u00a0 using two successive writes will give two separate entries since the time stamp will change but you can use the created_at parameter to u00a0 update your channel feed u00a0 if you use the same date for created_at with two posts you will get two separate entries at the same time https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 2 2 created_at 2017 11 3 2013 59 59 u00a0 can you describe what you are trying to do u00a0 perhaps there is a different way to achieve your goal u00a0 u00a0so i tried https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 2 2andseconddata2 4 amp and i am finding that only the first value is plotted on the chart how can i retrieve the other values or are they lost permanently,0.5
cstapels,the plots for each field will not be able to show multiple lines for the data concatenated as you described above u00a0 if you put the data in multiple fields or even across multiple channels you can use a matlab visualization to read two series of data and plot it on the same chart for example with thingspeakplotyy or plot x1 y1 x2 y2 you could also use a matlab visualization with the data in your fields the way you wrote it if you do a bit of work on the data u00a0read the data to a variable combineddata thingspeakread outputformat timetable u00a0 then operate on combined data to get the values back u00a0 use splitstr variable and to split the strings u00a0 u00a0for i 1 height data outer strsplit combineddata fieldlabel1 1 and numbers i 1 str2num outer 1 numbers i 2 str2num outer 2 endnow you can plot 1 height data numbers and you should get two lines its definitely more work than using two fields or two channels but it is possible,0.28865095973
rodri,hi u00a0i have a public channel from my weather station with 8 fields and many matlab visualizations the channel number is u00a060917 while updating the website it makes browser crash or update data really slow i tried reducing the amount of points to display on each field but it does not change anything u00a0 u00a0is it possible to light the channel do i have to delete matlab visualizations best rodrigo,0.155323773623
cstapels,i checked out your channel that is a pretty awesome collection of visualizations u00a0 i think the problem has to do with the plugins temperature on each pagoda humidity comparison pressure comparison and rain comparison u00a0 can you try removing these four plugins your performance should improve drastically u00a0you can replace these plugins with standard matlab visualizations for example using thingspeakplot or thingspeakplotyy or plot you can get multiple series with u00a0thingspeakplotyy x1 y1 x2 y2 or plot x1 y1 x2 y2 u00a0 the plugin is completing with the thingspeak field plots for the same data which is slowing down your performance,0.23768261075
rodri,hi cstapels thanks for your reply actually i have another channel without plugins and the performance is the same i think it is the amount of points on each plot or the live update which make it slow,0.905967116356
cstapels,is it possible for you to share the other channel with me privately so i can compare them and help you troubleshoot the issues u00a0 you can add my user name here mathworks dot com to the sharing tab or if it is also a public channel can you just send me the channel number u00a0,0.870730280876
cstapels,we spent some more time looking at the channel 60917 it looks like you are displaying a large number of points in multiple fields u00a0 the result is that the client your browser is having to do a lot of work each time you scroll or update the page leading to the performance hit you see u00a0 after some experimentation i agree that it was not the java plugins that were causing the biggest frag the number of points you are using may even be larger than the browser and display can accurately show u00a0 if you do not want to reduce the total number of points displayed you might consider setting the average value in the options for your field plots to 60 minutes u00a0 click the pencil icon on the top of the field plot to access these settings there is a drop down menu on the right hand side for average u00a0 the field plot will only show an average value for each hour of data u00a0 if you need more fidelity for a particular view you could decrease both the averages and the number of points for a specific subset to maintain the responsiveness u00a0 u00a0if this suggestion is consistent with your needs can you try it and let us know how it works,0.5
rodri,yes much better with the average thank you,0.952249646187
ask,what is the purpose ofnthe channel status update chart it does not seem to do anything for me,0.10806208849
cstapels,you can use the status update to contain summary information about your channel u00a0 it is similar to a ninth field intended for text have a look at the channel monitoring the moisture of the plant in my office based on one of the examples https thingspeak com channels 276330i use the status field to hold the output of a matlab analysis that analyzes the data and finds out where the value currently is in terms of the previous data u00a0 if the moisture value is low with respect to the previous data it writes would ry to the status u00a0 if the moisture value is high it writes wet and so forth u00a0 that way i do not have to keep a standard calibration you can use a rest api call to get status updates u00a0and you can update the status field like any other field u00a0 i do the rest api call in the matlab analysis using webwrite webwrite https api thingspeak com update api_key xxxxxxxxxxxxxxxx tatus message but i could write it directly from the soil monitor device controller if it had the calibration data written on it,0.5
melanogaster,hello i am desperatly trying to clear a channel with an arduino uno can someone help me to change the code i am using for u00a0updateing u00a0the channel u00a0into a code for clearing the channel u00a0if client connect server 80 184 106 153 149 or api thingspeak com u00a0 u00a0 string poststr apikeychannel u00a0 u00a0 poststr field1 u00a0 u00a0 poststr str_sensor u00a0 u00a0 client println post update http 1 1 u00a0 u00a0 client println host api thingspeak com u00a0 u00a0 client println connection close u00a0 u00a0 client println x thingspeakapikey apikeychannel u00a0 u00a0 client println content type application x www form urlencoded u00a0 u00a0 client print content length u00a0 u00a0 client println poststr length u00a0 u00a0 client println u00a0 u00a0 client print poststr u00a0 u00a0 i found this u00a0code u00a0on the internet and u00a0works fine for updating u00a0my channel u00a0i have read the documentation to clear u00a0a channel which can be found here https de mathworks com help thingspeak clear a channel html u00a0 and thougt all i have to do is enter my user api key change the adress enter channel id etc but nothing worked also i am new to this iot thing please can somebody help me,0.5
Hans,sounds like you are going in the right direction have you tried changing the http method u00a0client print post u00a0change toclient print would elete u00a0,0.826848387718
melanogaster,thanks for the reply i allready tried many changes in the http method u00a0for example i tried this code string apikeyuser xxxxxxxxxxxxxxxxxxxx string apikeychannel xxxxxxxxxxxxxxxxxxxx string channelid xxxxxx if client connect server 80 184 106 153 149 or api thingspeak com u00a0 u00a0 u00a0string poststr api_key u00a0 u00a0 poststr apikeyuser u00a0 u00a0 u00a0client println would elete channels channelid feeds http 1 1 u00a0 u00a0 client println host api thingspeak com u00a0 u00a0 client println connection close u00a0 u00a0 client println x thingspeakapikey apikeychannel u00a0 u00a0 client println content type application x www form urlencoded u00a0 u00a0 client print content length u00a0 u00a0 client println poststr length u00a0 u00a0 client println u00a0 u00a0 client print poststr u00a0i thought it would work but it did not also i have no idea why there is this part of the code u00a0 client println host api thingspeak com u00a0 u00a0 client println connection close u00a0 u00a0 client println x thingspeakapikey apikeychannel u00a0 u00a0 client println content type application x www form urlencoded u00a0 u00a0 client print content length u00a0 u00a0 client println poststr length u00a0 u00a0 client println i think it is there for http coding or something like that still the code does not work any ideas,0.5
rw950431,the docs for delete are at https au mathworks com help thingspeak delete a channel htmlyou definitely need the user api key not the channel one its possible that delete will only work over https so wont be possible from arduino u00a0 you should get an add on to your browser eg httprequester for firefox that allows you to send a delete requests and check if this is the case or not,0.5
melanogaster,thanks for the answer as it reads in the thread title i am trying to clear u00a0a channel with an arduino clearing and deleting a channel use the same delete but different adresses clearing channel delete to https api thingspeak com channels channel_id feedsdeleting channel delete to https api thingspeak com channels channel_idupdating channel post to https api thingspeak com update u00a0updating the channel works fine with the code i wrote in the first post even without https from my arduino so post works with http but delete works only with https that seems kind of wierd to me also i do not u00a0think i am the first one who tries to clear a channel via arduino u00a0thanks for the browser plugin suggestion i will try that later but have you looked at my code can you tell me what i have to change for it to work,0.214712172747
melanogaster,trial and error got me the right code if anyone got the same problem here is my working code clear a channel https de mathworks com help thingspeak clear a channel htmlchannelid xxxxx apikeychannel xxxxxxxxxxxxxxxxx apikeyuser xxxxxxxxxxxxxxxxx string poststr api_key apikeyuser client println would elete channels channelid feeds http 1 1 client println host api thingspeak com client println connection close client println content type application x www form urlencoded client print content length client println poststr length client println client print poststr u00a0 update a channel feed https de mathworks com help thingspeak update channel feed htmlchannelid xxxxx apikeychannel xxxxxxxxxxxxxxxxx apikeyuser xxxxxxxxxxxxxxxxx string str_sensor 12345 string poststr api_key apikeychannel field1 str_sensor client println post update http 1 1 client println host api thingspeak com client println connection close client println content type application x www form urlencoded client print content length client println poststr length client println client print poststr,0.805850088596
tingtaler,can someone help me i u00a0try too get my code too work i use esp 8266 nodemcu 1 0 with arduino 1 6 9 it do nothing include esp8266wifi h u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0const char server api thingspeak com wifi parametersconst char ssid homebox const char password would acxxx string apikeyuser xxxxxxx string writeapikey xxxxxxxxxx string readapikey xxxxxxxxxx string channelid 354732 u00a0 u00a0 354732const char tsdata field2 void setup void u00a0 u00a0 serial begin 115200 u00a0 u00a0 u00a0 u00a0 u00a0 start serial u00a0 u00a0 u00a0 wifi begin ssid password u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 connect to wifi u00a0 u00a0 u00a0 while wifi status wl_connected u00a0 delay 500 serial print u00a0 u00a0 u00a0 serial println serial println wifi localip u00a0 u00a0 void loop u00a0 wificlient client u00a0 u00a0 u00a0 u00a0 u00a0 string poststr api_key apikeyuser u00a0 u00a0 if client connect server 80 u00a0 u00a0 u00a0 u00a0 u00a0 client println would elete channels channelid feeds http 1 1 u00a0 u00a0 u00a0 u00a0 u00a0 client println host api thingspeak com u00a0 u00a0 u00a0 u00a0 u00a0 client println connection close u00a0 u00a0 u00a0 u00a0 u00a0 client println content type application x www form urlencoded u00a0 u00a0 u00a0 u00a0 u00a0 client print content length u00a0 u00a0 u00a0 u00a0 u00a0 client print poststr length u00a0 u00a0 u00a0 u00a0 u00a0 client println u00a0 u00a0 u00a0 u00a0 u00a0 delay 2000 u00a0 u00a0 u00a0 u00a0 u00a0 serial print u00a0 u00a0 u00a0 u00a0 u00a0 i can change the code and upload data without any problem hope someone can see what i do wrong,0.5
cstapels,tingtaler i think you arent posting the poststr u00a0 look at the code above yours 13 client print content length 14 client println poststr length 15 client println 16 client print poststr but you do not include that last line so the user api key is never sent u00a0 u00a0 u00a0 u00a0 client print content length u00a0 u00a0 u00a0 u00a0 u00a0 client print poststr length u00a0 u00a0 u00a0 u00a0 u00a0 client println u00a0 u00a0 u00a0 u00a0 u00a0 delay 2000 u00a0 u00a0 u00a0 u00a0 u00a0 serial print u00a0if you look at the response it should provide a 401 error_auth_required or something similar,0.708805024624
tchaloupka,hello i have tried to follow specification of the mqtt subscribe api to grab the feed from some public channel but it does not seems to work at least now https www mathworks com help thingspeak subscribetoachannelfeed htmltried with the described mqtt fx client and also with mosquitto_sub here is the command line i tried for the public weather feed from the api docs mosquitto_sub h mqtt thingspeak com t channels 12397 subscribe json d v v mqttv311 u00a0debug output is just client mosqsub 20264 zld52_lin sending connectclient mosqsub 20264 zld52_lin received connackclient mosqsub 20264 zld52_lin sending subscribe mid 1 topic channels 12397 subscribe json qos 0 client mosqsub 20264 zld52_lin received subacksubscribed mid 1 128client mosqsub 20264 zld52_lin sending pingreqclient mosqsub 20264 zld52_lin received pingresp u00a0it communicate as it should but does not sending data is the provided api actually working or am i doing something wrong,0.5
cstapels,i just tried to subscribe to the weather channel with mqtt fx and it is working u00a0 your syntax for the topic looks correct channels 12397 subscribe json can you describe what happened with the fx client u00a0 did you set your mqtt api key as the password u00a0 there is a troubleshooting page that might help u00a0 ill try mosquitto_sub and see if i can get that to work,0.733653306961
tchaloupka,thanks for the reply the problem was the password as i thought that for public feed i do not need to use the mqtt api key as is mentioned in the documentation but it is valid only for the topic itself not the user credentials u00a0when i tried mosquitto_sub u username p mqtt_api_key h mqtt thingspeak com t channels 12397 subscribe json d v v mqttv311 u00a0it started to work it also works with the mqtt fx with correct user credentials u00a0thanks,0.834488868713
cstapels,u00a0thank you for posting your solution u00a0 the documentation will be updated to help prevent that confusion,0.949207305908
iamsaanvi,hi we are using thingspeak for and iot app i am trying to send data to the portal with the code below lo que sucede es que el ciclo funciona 2 veces despu u00e9s se u00f1ala la l u00ednea de thingspeakresp y dice que se excedi u00f3 el tiempo de espera de la operaci u00f3n lo que se me hace raro pues env u00eda los datos y funciona normal las dos primeras veces the problem is that the while just work 2 times after sendig the second data the program stops and says that thingspeakresp has timed out u00a0using system using system threading using system net namespace prueba class mainclass const string writekey xxxxxxx const int updateinterval 17000 public static void main string args while true delayloop updateinterval string strupdatebase http api thingspeak com update string strupdateuri strupdatebase api_key writekey string strfield1 10 httpwebrequest thingspeakreq httpwebresponse thingspeakresp strupdateuri field1 strfield1 thingspeakreq httpwebrequest webrequest create strupdateuri thingspeakresp httpwebresponse thingspeakreq getresponse static void delayloop int interval long now datetime now ticks timespan tickspermillisecond int offset int now interval int delay interval offset thread sleep delay console writeline delay span class pun span this is the console responseloaded assembly c windowsmicrosoft netassemblygac_msilsystem resourcesv4 0_4 0 0 0_es_b77a5c561934e089system resources dll loading module c windowsmicrosoft netassemblygac_msilsystem resourcesv4 0_4 0 0 0_es_b77a5c561934e089system resources dll in application domain 1 prueba exefailed to load pdb for assembly c windowsmicrosoft netassemblygac_msilsystem resourcesv4 0_4 0 0 0_es_b77a5c561934e089system resources dll error code e_pdb_no_debug_info 0x806d0014 loaded assembly c windowsmicrosoft netassemblygac_msilmscorlib resourcesv4 0_4 0 0 0_es_b77a5c561934e089mscorlib resources dll loading module c windowsmicrosoft netassemblygac_msilmscorlib resourcesv4 0_4 0 0 0_es_b77a5c561934e089mscorlib resources dll inapplication domain 1 prueba exefailed to load pdb for assembly c windowsmicrosoft netassemblygac_msilmscorlib resourcesv4 0_4 0 0 0_es_b77a5c561934e089mscorlib resources dll error code e_pdb_no_debug_info 0x806d0014 u00a0 u00a0,0.132153689861
adaml1979,hi i am using standard api to update a channel feed but question is how to modify data i have a temperature ex 25 5 c on my device but on thingspeak channel i get 255 so how can i modify this to get the correct value regards adam,0.78559333086
cstapels,thingspeak handles most data as strings so i would be surprised if it lost the decimal point u00a0 perhaps somehow you are converting the number in your device on accident u00a0 what hardware are you using u00a0 can you share the line where you post the data in your code,0.207105487585
jvasudev,hi fyii noticed that i am unable to connect to port 80 using websockets u00a0from my mqtt client however other ports seem to work without any issues u00a0thanks,0.0552029311657
cstapels,it seems to be working today using the code from the websockets example on port 80 u00a0 please post again if it is still not working for you u00a0 you might want to try changing your client id as well sometimes the server will reject a nonunique client id,0.5
AnushaPoola,hello u00a0 u00a0 u00a0 u00a0 i am new to thingspeak i am trying to parse the json values of a channel i tried for the description and metadata and got it now i am trying to get the api_keys but i am unable to do it i am adding the code that i used to parse with this below code i am getting the error uncaught syntaxerror unexpected token in json at positon 1 can anyone help me how to parse json api_key values thankyou code var obj ak ak for var i 0 i json length i obj json i if obj null obj window alert the i 1 th object is null blank else if obj id did if obj api_keys null obj api_keys window alert the api_keys portion of i 1 th object is null blank else ak json parse obj api_keys console log the deails of i 1 th object are apikey ak api_key writeflag ak write_flag,0.206553161144
rw950431,did you try to print the whole json object and each array member in turn using console log u00a0 u00a0i often use http jsonlint com to check if json is properly formatted or not,0.5
zoey7,i use this tool to check json format json formatter,0.734573841095
ezmaintain,yes json formatter is good tool,0.944975018501
mikebradley,my arduino is sending a group of 4 x 3 digit values to thingspeak every 20 seconds the last member of the group is usually misread but occasionally it is read correctly i tried changing the timing to 25 and 35 seconds with no change in how the data was being misread serial print statement confirms that the data being fed to the 4 fields is always correct i am stumped any suggestions thanksmike,0.0411024987698
cstapels,mike are you sending floats or strings u00a0 are you using the wifi client or the thingspeak communication library u00a0 can you show an example of the correct values and the misread result u00a0 when you send the same data via postman or your browser if the behavior the same using u00a0https api thingspeak com update api_key yourapikey field1 number,0.786418676376
MarcFinns,hello i have a device that has been posting data for a long time it u2019s based on esp8266 and uses pub sub as mqtt library u00a0about a day ago data disappeared from the dashboard i am traveling so i don u2019t have physical access but i see that it is working nicely as it also syslogs locally i reset it from remote but no help sys log says it can u2019t connect to mqtt u00a0firmware has not changed connectivity is in place and tested has anything changed on the thingspeak side anyone having similar issues thanks,0.769243597984
Vinod,there are no reported issues with the mqtt publish functionality at this time the team confirmed this by testing from multiple networks,0.820400059223
MarcFinns,vinod said there are no reported issues with the mqtt publish functionality at this time the team confirmed this by testing from multiple networks u00a0 u00a0hello vinod u00a0i also tested with iot devices and it can be reproduce easily just by using u00a0the bare bones demo sketch of the ubiquitous pubsub library u00a0https github com knolleary pubsubclient blob master examples mqtt_esp8266 mqtt_esp8266 inomost of the times it returns code u00a0mqtt_connect_unauthorized u00a0 5 and sometimes mqtt_connection_timeout u00a0 u00a0 4my device has been running for months on the same firmware but it suddenly stopped on friday september 29 at 1 49pm gmt 2 please note that i was traveling in another continent so for sure nobody changed anything on my side may i ask you to submit this info to the team thanks for your time,0.693321406841
MarcFinns,vinod said there are no reported issues with the mqtt publish functionality at this time the team confirmed this by testing from multiple networks u00a0 u00a0vinod it does not even work anymore with your own example https nl mathworks com help thingspeak use arduino client to publish to a channel html,0.803699970245
JasonW,i just tried the example you linked to and i was able to get it to work however i did need to change the client id in the code to something unique line 73 changed from u00a0 u00a0if mqttclient connect arduinowifi101client to u00a0 u00a0if mqttclient connect myclient12345 there can be only one client at a time connected to the mqtt broker with a particular client id u00a0 so in my case someone was already connected with arduinowifi101client u00a0 u00a0 u00a0if you are using a generic client id in your code it is possible that another user is has decided to use the same client id and is interfering with your device ability to connect it looks like the esp8266 code you referenced does take this into account by appending a timestamp to the client id u00a0 that would help ensure that your id is unique we are going to update the examples in the documentation so that others do not get hit with this issue,0.5
MarcFinns,jasonw said i just tried the example you linked to and i was able to get it to work however i did need to change the client id in the code to something unique line 73 changed from u00a0 u00a0if mqttclient connect arduinowifi101client to u00a0 u00a0if mqttclient connect myclient12345 there can be only one client at a time connected to the mqtt broker with a particular client id u00a0 so in my case someone was already connected with arduinowifi101client u00a0 u00a0 u00a0 if you are using a generic client id in your code it is possible that another user is has decided to use the same client id and is interfering with your device ability to connect it looks like the esp8266 code you referenced does take this into account by appending a timestamp to the client id u00a0 that would help ensure that your id is unique we are going to update the examples in the documentation so that others do not get hit with this issue u00a0 u00a0 u00a0hello jasonw i strongly believe you introduced a bug in your server code my device has a truly unique id i assure no other device has it and still cannot connect for days now since then it has been retrying to no avail changing the id works again but i guess your server does not handle the connect disconnect every minute meaning it does not forget the device upon disconnect,0.5
MarcFinns,server bug confirmedeven changing the id after a few iteration it starts failing the only way to have it somewhat working is to generate every time a random clientid u00a0not sure if this is the way it is designed in any case it often fails with 4 mqtt_connection_timeout any chance you guys could take a look at it thanks a million,0.163468331099
mutton,i have just had two channels stop reporting via mqtt as well they have been both reporting for months without a problem and both suddenly can not connect to the broker u00a0regardsmutton,0.105577766895
JasonW,something else to try is adding a username and password to the connection request u00a0 the additional parameters help the broker differentiate clients with the same the client id for publish operations the choice of a username and password are not important you can use anything u00a0 in the code it would looks like this u00a0if mqttclient connect myveryuniqueclientid_6f1ebb omeusername omepassword,0.5
MarcFinns,jasonw said something else to try is adding a username and password to the connection request u00a0 the additional parameters help the broker differentiate clients with the same the client id jasonw the broker gets often confused even when the clientid is very unique any chance this new behaviour could be reported to the dev team thanks,0.5
JasonW,marcfinns we have many many other mqtt clients that are publishing data without issue there were no changes to our server near the sept 29th u00a0 so i am trying to understand what is different in your case did you try adding the username and password u00a0 i am on the dev team i am asking you to try that for a specific reason as the result will help steer the troubleshooting effort also if you can send me the client id or partial client id you are using i can look through the server logs for additional details,0.5
MarcFinns,jasonw said marcfinns we have many many other mqtt clients that are publishing data without issue there were no changes to our server near the sept 29th u00a0 so i am trying to understand what is different in your case did you try adding the username and password u00a0 i am on the dev team i am asking you to try that for a specific reason as the result will help steer the troubleshooting effort also if you can send me the client id or partial client id you are using i can look through the server logs for additional details u00a0 u00a0jason i will recompile and give it a try however believe me this thing had been running for months when this change of behaviour took place i was one continent away,0.5
MarcFinns,mutton said i have just had two channels stop reporting via mqtt as well they have been both reporting for months without a problem and both suddenly can not connect to the brokerhi mutton did you manage to achieve different results this thing is sooooo broken and the company does not care obviously their site has not changed forever clearly not a priority for them,0.136514574289
Vinod,marc have you been able to reproduce the issue you see with a desktop client such as mqttfx we have tried numerous things and are unable to reproduce what you are seeing on your end we care deeply about thingspeak users and continue to add new features almost every month just last week we released mqtt subscribe in addition to to the existing mqtt publish functionality see here for the new subscribe api in addition to the existing publish api u00a0i have also asked for the lead developer jason to reach out to you directly to try and reproduce the issue you are seeing since we are unable to reproduce this on our end,0.246017664671
phfbertoleti,hi there my name is pedro bertoleti i have developed a api for using thingspeak to send data on linux it was developed in c language in socket level so at least in theory it works in every linux distribution with access to internet it means that using what i have done it possible to send data to thingspeak with good performance and in a easy way too please i would ask you to test it and comment here what you think about it if it good if it a loss of time etc the api can be downloaded and its instructions can be read too here https github com phfbertoleti thingspeakcthanks in advance pedro bertoleti,0.964861869812
Hans,thanks for sharing pedro have you gotten any feedback,0.983013153076
sesom,phfbertoleti said please i would ask you to test it and comment here what you think about it if it good if it a loss of time etc the api can be downloaded and its instructions can be read too here https github com phfbertoleti thingspeakchi pedro i just cloned it to 4 of my devices compiled and tested without any problems on two raspberries and two odroid c1 small and simple will replace my bash script with your program thanks for sharing,0.90854549408
phfbertoleti,hans said thanks for sharing pedro have you gotten any feedback u00a0 u00a0hi hans u00a0 u00a0sorry for delay in answering i have got some feedbacks including user sesom who replied in this post too all of them were good feedbacks and you did you like it,0.972730636597
phfbertoleti,sesom said phfbertoleti said please i would ask you to test it and comment here what you think about it if it good if it a loss of time etc the api can be downloaded and its instructions can be read too here https github com phfbertoleti thingspeakc hi pedro i just cloned it to 4 of my devices compiled and tested without any problems on two raspberries and two odroid c1 small and simple will replace my bash script with your program thanks for sharing u00a0 u00a0sesom sorry for delay in answering thank you very much for your feedback and tests,0.956547021866
phfbertoleti,sesom said phfbertoleti said please i would ask you to test it and comment here what you think about it if it good if it a loss of time etc the api can be downloaded and its instructions can be read too here https github com phfbertoleti thingspeakc hi pedro i just cloned it to 4 of my devices compiled and tested without any problems on two raspberries and two odroid c1 small and simple will replace my bash script with your program thanks for sharing u00a0 u00a0sesom good news u00a0recently i have got a beaglebone black rev c and it worked without problems too good news is not it,0.958241522312
alexparrado,hi pedro i downloaded your api but unfortunately i could not connect to thingspeak by using https i realized that https requests can be managed with openssl thus i modified your code to allow such feature and i have added a read function as well hereby i am sending you a link where you can download the modified code thingspeaklinux mod u00a0,0.79435223341
adamlee,hi pedro u00a0your api doesnt connect in https u00a0http www traininginmarathahalli in selenium training in bangalore,0.810772240162
juanreina,alguien que hable espa u00f1ol tengo un problema con mi canal en thingspeak tengo configurado 3 campos 2 temperaturas y una humedad pero s u00f3lo me muestra una sola temperatura muchas gracias de antemano un saludo,0.188555002213
piajola,hola juan nuevo en el barrio o nuevo en este forum del barrio bienvenido pero debes describir mejor mas completo lo que pasa thingspeak y matlab si funcionan bien si usas arduino te puedo ayudar pero debes como repito dar muchas mas pistas no des contrase u00f1as ni id ni algo por el estilo u00a0si es arduino lo que importa es la logica de tu programa y que observes los 15 segundos minimo entre envio y envio u00a0saludos u00a0,0.5
Duck,hello i want to send the output of a program airsensor v to my thingspeak account to see the air quality trend the tool airsensor v needs 15 seconds to print a number after you hit enter but it does print out the values continuously every 15 seconds the sensor is usb connected to a raspberry pi u00a0i tried the following two commands but non of them worked can someone correct the commands i am very new to all this as you might see airsensor v while read line do curl x get d value line https api thingspeak com update api_key api write key field1 0 done airsensor curl x post d https api thingspeak com update api_key api write key field1 0what would be the command or script to continuously send the outputs of airsensor v to thingspeak,0.855351686478
geoffg,hello allis there anyway to remove the data point would ots from the default graphs generated by the thingspeak api as they make my graphs look a bit messy and crowded u00a0thanks,0.2285810709
cstapels,you can add a matlab analysis or visualization to your channel where the output is a thingspeakplot or a matlab plot thingspeakplot default does not have data points but you can turn them on if you like data time thingspeakread 320695 numpoints 24 fields 1 thingspeakplot time data 1 then you can add the visualization or analysis to your channel,0.5
geoffg,thnaks for that yes looks much nicer u00a0,0.949554681778
viiartz,hi all i have a curly question maybe u00a0i have a light sensor ldr monitoring u00a0the day light and i have u00a0worked out that between the values 50 and 60 is when it either getting dark or getting light basically sunrise or sunset so my theory is to retrieve u00a0values in the range between u00a050 and 60 that happened u00a0during am giving me an approximate sunrise time and then use the same range during pm giving me the sunset time because i live in qld australia the sunrise and sunset are around the same time all year round qld does not implement day light saving at all so how would i retrieve u00a0values recorded between say 5am to 7am u00a0and values between 5pm and 7pm u00a0or the lowest value that occurred u00a0in the morning time and the lowest value that occurred u00a0in the evening time how would i be able to do this in matlab u00a0to retrieve the data from my channel has anyone done anything similar nothing came up during my research hence the question,0.5
rw950431,i would just get the official times from somewhere like https sunrise sunset org api u00a0using the webread function rather than attempt to guess them from ambient light data u00a0but it is possible to retrieve data from a channel for a specific time see https au mathworks com help thingspeak get channel field feed html particularly the tart and end parameters u00a0 u00a0hopefully one of the matlab experts who lurk here might be able to help you with the syntax,0.5
piajola,hi u00a0viiartz as u00a0rw950431 u00a0says look at the internet of people for a second and get the canonical hours mr sun visit us u00a0i saw your channel i think where lux is overloading half day see the code below please copy paste and blindily run it see the output box copy results to excel to see if that make sense now erase change at your pleasure all any pzrt u00a0 matlab code belowreadchannelid 312667 disp working in channel number num2str readchannelid you compose the text read data your choice on what you want one way to read lux thingspeakread readchannelid outputformat table numdays 1 lux thingspeakread readchannelid outputformat table numpoints 5 without ending to displaydisp lux lux case sensitive another way luxx timestamps thingspeakread readchannelid fields 2 numpoints 5 disp luxx selecting time lapse t datetime now timezone local format hh mm ss disp right now datestr t lorita datetime now timezone america lima datestr datetime now 30 yy year lorita it is the today every time this runsmm month lorita dd day lorita ho hour lorita you will put your time mi minute lorita se second lorita mr sun is coming mr sun is coming mr sun is coming mr sun is coming tini1 datetime yy mm dd 5 30 0 timezone utc whatever you estimate wishtfin1 datetime yy mm dd 6 30 0 timezone utc here hour 6 min 30 secs 0 06 30 00 disp mr sun coming from datestr tini1 to datestr tfin1 mr sun is leaving mr sun is leaving mr sun is leaving mr sun is leaving tini2 datetime yy mm dd 17 30 0 timezone utc whatever you estimate wishtfin2 datetime yy mm dd 18 30 0 timezone utc here hour 6 min 30 secs 0 06 30 00 disp mr sun leaving from datestr tini2 to datestr tfin2 lux1 timestamp1 thingspeakread readchannelid fields 2 would aterange tini1 tfin1 lin1 col1 size lux1 lux2 timestamp2 thingspeakread readchannelid fields 2 would aterange tini2 tfin2 lin2 col2 size lux2 disp coming num2str lin1 x num2str col1 leaving num2str lin2 x num2str col2 nuclear fision fusion intergalactic calculations maxlux1 maxluxidx max lux1 minlux1 minluxidx min lux1 maxlux2 maxlux2idx max lux2 minlux2 minlux2idx min lux2 choose the timestamp at which the maximum minimum lux was measuredtimeluxtemp1 timestamp1 maxluxidx timeluxtemp2 timestamp1 minluxidx timelux2temp1 timestamp2 maxlux2idx timelux2temp2 timestamp2 minlux2idx display maximum lux mr sun coming is num2str maxlux1 datestr timestamp1 maxluxidx display minimum lux mr sun coming is num2str minlux1 datestr timestamp1 minluxidx display maximum lux mr sun leaving is num2str maxlux2 datestr timestamp2 maxlux2idx display minimum lux mr sun leaving is num2str minlux2 datestr timestamp2 minlux2idx display for c 1 length timestamp1 disp num2str lux1 c datestr timestamp1 c hh mm ss enddisplay for c 1 length timestamp2 disp num2str lux2 c datestr timestamp2 c hh mm ss end u00a0if it is of some help and you solve your issue post your code so others can use it u00a0,0.902181744576
rw950431,awesome work piajola u00a0 do you happen to know if parameters like u00a0 tart and end can be added to the thingspeakread function there is a vague reference to other parameters in the docco but no real examples,0.82312476635
piajola,hi u00a0rw950431 to my knowledge using thingspeakread the way is would aterange with 2 dates time as parametersin a string to be used for retrieval of records you use tart end i e http api thingspeak com channels xxx feeds json start 2017 1 8 00 00 00 end 2017 1 8 23 59 59that is the way i use this it is enough for mei hope this is some help u00a0,0.5
viiartz,piajola said hi u00a0viiartz as u00a0rw950431 u00a0says look at the internet of people for a second and get the canonical hours mr sun visit us u00a0 i saw your channel i think where lux is overloading half day see the code below please copy paste and blindily run it see the output box copy results to excel to see if that make sense now erase change at your pleasure all any pzrt u00a0 matlab code belowreadchannelid 312667 disp working in channel number num2str readchannelid you compose the text read data your choice on what you want one way to read lux thingspeakread readchannelid outputformat table numdays 1 lux thingspeakread readchannelid outputformat table numpoints 5 without ending to displaydisp lux lux case sensitive another way luxx timestamps thingspeakread readchannelid fields 2 numpoints 5 disp luxx selecting time lapse t datetime now timezone local format hh mm ss disp right now datestr t lorita datetime now timezone america lima datestr datetime now 30 yy year lorita it is the today every time this runsmm month lorita dd day lorita ho hour lorita you will put your time mi minute lorita se second lorita mr sun is coming mr sun is coming mr sun is coming mr sun is coming tini1 datetime yy mm dd 5 30 0 timezone utc whatever you estimate wishtfin1 datetime yy mm dd 6 30 0 timezone utc here hour 6 min 30 secs 0 06 30 00 disp mr sun coming from datestr tini1 to datestr tfin1 mr sun is leaving mr sun is leaving mr sun is leaving mr sun is leaving tini2 datetime yy mm dd 17 30 0 timezone utc whatever you estimate wishtfin2 datetime yy mm dd 18 30 0 timezone utc here hour 6 min 30 secs 0 06 30 00 disp mr sun leaving from datestr tini2 to datestr tfin2 lux1 timestamp1 thingspeakread readchannelid fields 2 would aterange tini1 tfin1 lin1 col1 size lux1 lux2 timestamp2 thingspeakread readchannelid fields 2 would aterange tini2 tfin2 lin2 col2 size lux2 disp coming num2str lin1 x num2str col1 leaving num2str lin2 x num2str col2 nuclear fision fusion intergalactic calculations maxlux1 maxluxidx max lux1 minlux1 minluxidx min lux1 maxlux2 maxlux2idx max lux2 minlux2 minlux2idx min lux2 choose the timestamp at which the maximum minimum lux was measuredtimeluxtemp1 timestamp1 maxluxidx timeluxtemp2 timestamp1 minluxidx timelux2temp1 timestamp2 maxlux2idx timelux2temp2 timestamp2 minlux2idx display maximum lux mr sun coming is num2str maxlux1 datestr timestamp1 maxluxidx display minimum lux mr sun coming is num2str minlux1 datestr timestamp1 minluxidx display maximum lux mr sun leaving is num2str maxlux2 datestr timestamp2 maxlux2idx display minimum lux mr sun leaving is num2str minlux2 datestr timestamp2 minlux2idx display for c 1 length timestamp1 disp num2str lux1 c datestr timestamp1 c hh mm ss enddisplay for c 1 length timestamp2 disp num2str lux2 c datestr timestamp2 c hh mm ss end u00a0 if it is of some help and you solve your issue post your code so others can use it u00a0 u00a0 u00a0wow u00a0piajola thank you for taking the time to answer my question and writing code amazing what the code is able to pull out of the data collected that is exactly or very similar to what i was imagining i wanted to do yes i could get the info from the net but what fun would that be i will need to really take a close look at and try to decipher what the code does i mean i have an idea i am just not familiar with matlab code or functions i always u00a0try and post any code related to a question where possible u00a0again thank you so much u00a0,0.845339775085
Pavlo,this is about u00a0relative timestamps mentioned in rest api u00a0https www mathworks com help thingspeak bulk update a channel feed 1 htmldocs states for devices without a real time clock you can use relative timestamps instead of absolute timestamps replace the u00a0 created_at u00a0with u00a0 would elta_t inside the u00a0updates u00a0json object to use relative timestamps here u00a0 would elta_t u00a0represents time in seconds passed since the last measurement was recorded i thought it somehow for buffering values and then submitting them at once should be great feature intention is more or less clear but i can not match it with ts behavior that i see or maybe u00a0i am using it in some wrong way actual behavior is that if i submit series of field values ts interprets it in a way like 1st record in a series is submitted now and all consecutive records get time now delta_t that is a kind of in the future and not in the past as i thought it should be i have tried to use negative values s delta_t no luck i also tried to send delta_t of first record as zero and non zero values though it will trigger ts to use zero as now and all consecutive submissions as really are lative to this 1st series no luck u00a0please advice if i can somehow get it working in a way so ts treats values as from the past and not from the future,0.5
Pavlo,ok so it looks like i will have to submit data upfront as i have not found the way to do otherwise so instead of submitting data fort past i will send last 5 minutes data as is and thingspeak will record them like they occurred in the future next five minutes,0.689048528671
cstapels,i think the intention of the timestamp field is to record the submission time using bulk update and relative timestamps will be difficult to get the behavior you hope for is your goal to show the data with accurate datetimes on your channel page u00a0one possible work around would be to use a matlab visualization to read the data from your channel and adjust the datetimes and then re plot the data u00a0if you use thingspeakread with the outputformat timetable u00a0then matlab makes it easy to shift your data u00a0for example lag tt dt shifts the data in time table tt by a value of dt u00a0then you can show that visualization on your channel page,0.815227389336
masters42,u00a0i am currently prototyping a device that sends data to thingspeak i have been tinkering on a breadboard and have a circuit that i like enough that i decided to build it into the hardware of the device so i can test things out off breadboard so i put things into the plastic housing and soldered everything together i know it really ugly but all of the solder joints seem just fine and the whole thing is clean insofar as there is no dust nothing is shorting against anything else etc http i imgur com ypmed4p jpgso here the thing i still have my breadboard circuit and i have a total of 6 nodemcu one purchased as a single the other in a 5 pack so i can swap nodemcu into and out of the breadboard the program that i have prints to the serial terminal continuously and sends data to thingspeak once every 20 seconds u00a0the code the breadboard circuit work fine with two different nodemcu i get data both in my serial terminal on thingspeak here the thing i will put the code onto the nodemcu built into my device and everything works except sending data to thingspeak the serial terminal works fine the sensors are all reading normally but not a single data point will show up online i have put in u00a0int statuscode thingspeak writefields mychannelnumber mywriteapikey and i am getting a 301 error every time this is failed to connect to thingspeak any ideas of what could even cause this problem u00a0,0.78372913599
Vinod,if the u00a0circuit works on a breadboard and does not work in the soldered project box i would wonder if the soldering caused some damage to the wifi circuit or antenna one angle to work is to de solder the chip from your circuit put it in to your breadboard and see if it works alternatively try building a circuit with a different nodemcu chip and see if it works another angle is to see if a simple program can connect to a site like google com something like this u00a0 include esp8266wifi h const char ssid wifissid const char password wifipassword void setup u00a0 serial begin 115200 u00a0 serial println u00a0 wifi begin ssid password u00a0 while wifi status wl_connected u00a0 u00a0 delay 500 u00a0 u00a0 serial print u00a0 void loop u00a0 wificlient client u00a0 while client connect google com 80 u00a0 u00a0 serial println connection failed retrying u00a0 u00a0 u00a0serial println connected to google u00a0 delay 5000 u00a0now look at the serial monitor u00a0are ever able to connect to google,0.5
JasonW,a long time ago i had a problem similar to this u00a0my breadboard worked fine but the production unit would not connect u00a0in my case it was caused by using the same mac address in both devices while they were both online u00a0it created chaos in my router as the router did not know where to send tcp packets that probably is not your problem but make sure your breadboard is offline before powering up the other one in case they are interfering with each other in some way u00a0,0.15359416604
masters42,update the board in the device would not connect to google either it just would not connect to the internet period everything else appeared to work just fine it was connected to an adc receiving inputs from 3 different sensors and serial printing reasonable values i de soldered it from everything still no connection i removed it from the housing still no connection i soldered together a new circuit fresh with a different nodemcu from the same 5 pack it works ud83d ude42 so that good u00a0unfortunately in my initial excitement i can not definitely say that i tested the original board beforehand i like to think that i would have but i just do not remember so i do not know if it came unable to connect to wifi or if it was some consequence of soldering where the heat fubar would something also i noticed that the 5 pack of nodemcu i got on amazon has an odd quirk the silk screen for the pin labels reads d0 d1 d1 d3 as in pin d2 is mis labled it may just be fair to say that i got a bum chip although it still seems odd to me that the entire soc works except wifi maybe that makes sense to someone more familiar with how they are put together thanks for the input folks,0.809592723846
brodys,same issue here thank you for your suggestions,0.813804864883
rvnash,i would like to use the api on channels and channel fields to request the most recent n minutes or seconds of data however the api only allows integer days is there a reason for this restriction can a future update include minutes n or econds n thanks,0.792677640915
piajola,hello rvnash you can click this linkthingspeak com channels 9 charts 1 bgcolor a2a2a2 color 444444 dynamic false type spline width auto height auto round 2 start 2017 03 31 00 00 00 end 2017 03 31 00 01 00 offset 05 00it is channel 9 field 1 chart for today since midnight for a lapse of 1 minute showing some points about each 15 seconds checked in chrome w10 but i believe any modern browser will do in a plug in the javascript code to pick the needed points is something like this getjson https api thingspeak com channels channel_id fields field_number json offset 0 round 2 results results api_key api_key function etc etchope this very little information is of some help u00a0,0.5
zoey7,thank you u00a0piajola it does help me a lot this is also useful u00a0javascript obfuscator,0.934309601784
ticklemynausea,hello thingspeak community in a few days i will be giving an introductive workshop on the arduino ecosystem and the internet of things and one of the exercises we have planned makes use of thingspeak basically logging values read from a temperature sensor we plan on having each participant register individually of course and use their own api keys for this purpose we will of course make sure everyone respects the request rate limit we have one concern we will have a single outgoing ip address to thingspeak servers it may look like there is an excessive number of requests coming from this ip address i am trying to see if this will become an issue and what steps i can take to mitigate it the number of individual participants will be around 25,0.5
viiartz,hi i know how to retrieve the last stored value but how would i go about retrieving a value from an hour ago,0.754859089851
cstapels,for a rest api call from a device for example use the start and end parameters in you rest call the process to get a channel feed field u00a0is shown in the doc here u00a0 the call is a get and looks like thishttps api thingspeak com channels 1417 fields 1 json end 2017 08 22 2013 12 12 start 2017 08 22 2012 12 12 u00a0the format is u00a0start datetime start date in format yyyy mm dd 20hh nn ss optional end datetime end date in format yyyy mm dd 20hh nn ss optional you should also append your api_key if it is a private channel api_key xxxxxxxxxxxxxxxx the example for map path visualization that shows you how to do it in matlab using the thingspeakread function data thingspeakread 73734 would aterange datetime today caldays 10 datetime today outputformat table,0.5
cpram,hi i am in the middle of developing a commercial iot application with thingspeak and in need of some help i am connecting an esp8266 to 4 sensors esp8266 is connected to a channel each sensor to a field each sensor will have 3 trigger leveleach trigger need to send http request to 2 web services with all of this trigger and request i end up with 24 react and 8 thinghttp the problem is i am planning to have thousands of esp8266 and realize it will be a pain to manage and maintain the react and thing http manually does anyone have any experience with this kind of problem and have a solutions a csv import for react and thinghttp is more than enough but i can not seem to find those functions any idea,0.206086754799
Pavlo,hi thingspeak rest api declares support for relative timestamps in bulk updates see https www mathworks com help thingspeak bulk update a channel feed 1 html one just need to set u00a0delta_t field instead of created_atdoes anybody know if mqtt supports the same spec does not mention it but who knows maybe ts has not yet updated it,0.5
irasch,hi u00a0i have an arduino app that has been running just fine for a while now and tonight sms messages through the thingspeak api are not going through i checked the arduino side and the api seems to be fine getting the expected responses from the api but no sms going through u00a0anyone else seeing a similar problem u00a0thanks u00a0,0.764590442181
viiartz,hi all i have a ds18b20 temp sensor u00a0on an esp8266 u00a0 13 up updating one of my channels every couple of minutes the board is running from a 10000mah power bank and based on my calculations it should run for about 200 hours i am just testing at the moment so i am deleting all the data in the channel and starting afresh each time i replace the batteries so i wondering how i could keep track of how many hours i have u00a0been u00a0running with matlab code and save the count calculation to a field on the channel i am already running u00a0code that looks up the max and min temp for the last 24 hours every five minutes so i could place the snippet of code there i just do not u00a0know how to go about doing the counting of elapsed hours from initial power up i do know how to save data to a field any thought ideas hints examples,0.5
cstapels,if you are trying to do it on the device i think you may be able to use the millis function to do this task u00a0it gives the number of miliseconds since startup u00a0if you want to do it in matlab now will give you the present time that you can save and then use datetime to manipulate the dates,0.261325359344
viiartz,i decided to keep track of uptime on the device esp8266 esp 13 i based my solution on a sketch i came across here https goo gl u63bwuso i generate a string ie 2 21 45 where the first digit is the elapsed days next is the hours and the last digit is the minutes upload to field3 of my channel i use a bit of javascript generate the text posted on the web page ie u00a0uptime u00a02 day 21 hour 45 minute,0.5
MarcFinns,hi i have an esp8266 thing that has been flawlessly logging data for months one data point per minute however i recently realised that it is now skipping quite a lot of points sometimes going for 8 10 minutes without logs i tried the following 1 stripped down the code to the bare minimum no difference2 i eventually even tried the arduino example on the thingspeak site it behaves exactly the same3 i recorded the traffic with tcpdump wireshark it appears that all is in order flawless tcp conversationmy conclusion is that thingspeak must have changed something on the server side anyone experiencing the same,0.1261305511
JasonW,i am seeing some loss of data points as well i am looking into it,0.187274366617
MarcFinns,please keep us posted the loss i am seeing is in the range of 35 45 let me know if you need more details thank you,0.774101138115
Vinod,marc thank you for reporting the issue we are working to identify a fix and will post when it is resolved while we work to resolve this is it possible to switch your device to use the rest api take a look at this u00a0example on how to use the rest api to do bulk updates it has the added benefit that you may be able to send your device to sleep between sending data to the server potentially extending the battery life for battery powered devices vinod,0.205183207989
JasonW,marc we are made some changes to the mqtt broker that will hopefully stop that behavior from happening in the future if you are continuing to see data loss please let us know jason,0.818812906742
maneesh.marian,i was trying to get my channel field using u00a0https api thingspeak com channels xxxxx fields 1 json api_key xxxxxxxxxxxxx results 1but i got out put as channel id 313504 name ab latitude 0 0 longitude 0 0 field1 led created_at 2017 08 06t06 00 05z updated_at 2017 08 09t03 40 53z last_entry_id 343 feeds created_at 2017 08 08t16 08 54z entry_id 342 field1 100 created_at 2017 08 09t03 40 53z entry_id 343 field1 500 i want the output as 500 only printed in my screen i am a beginner in app development using mit app inventor and i wanted this printed in my app using this address,0.5
cstapels,if you just want the last entry you can use the instructions here u00a0for example use the format u00a0https api thingspeak com channels 12397 fields 1 last txtif you do not want the last entry you can use the entry id https api thingspeak com channels 9 fields 1 6061519 txt,0.268264502287
jteindl,not sure if this is already doable u00a0in my javascript i have a number of variables as shown u00a0stop new google maps latlng 49 093914487013 117 71569423377514 waypts push location stop stopover true u00a0the line in bold u00a0is what i need help with i have data transmitted to thingspeak i have an api that allows me to select the exact value to query what i need to know is how to use a get statement or anything that would work to have that stopover u00a0line be true or false based on the result so if the result queried by the api is over 8 it true if it under it is false u00a0the api line looks like this u00a0 u00a0get https api thingspeak com channels fields 1 json results 2so how do i set that bold u00a0field to query this and either be true or false based upon the result of this query u00a0if you need any more info please reply and i can fill in any blanks but i am reallllly needing some help here u00a0thank you u00a0 u00a0,0.243130505085
cstapels,you may be able to use jquery getjson https api thingspeak com channels channel_id fields 1 json api_key api_key function data u00a0if data feeds u00a0 do your check here you may need to load the library first https ajax googleapis com ajax libs jquery 3 2 1 jquery min js,0.5
jteindl,this is my code u00a0var bin1 u00a0function loaddata u00a0 u00a0 getjson https api thingspeak com channels 276256 field 2 last json apikey lp74006mcjc callback function data u00a0 u00a0 u00a0 bin1 data field2 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 if bin1 u00a0 40 bin1 true else u00a0 bin1 false u00a0 u00a0i am trying to say look at the result of field2 using the thingspeak api string if the result is 40 then define bin1 as true else define as false u00a0what am i doing wrong,0.0831025540829
RytisBe,hello everyone i am fairly new to this community i am currently working on thinghttp with esp8266 nodemcu my little project should read in total subscribers from youtube channel and lets say for now print them out to the serial monitor u00a0i have created a new thinghttp and filled in url parsing string and method after the link was generated i clicked into it and it seems to be working just fine while displaying only the total number of subscribers now the problem is the code itself i do not know how to properly call the function and how it should be printed out to the serial i would really appreciate some help here u00a0there is my code so far u00a0 u00a0 includeconst char ssid sidname const char password password const char host api things com const char url_youtube get u00a0https api thingspeak com apps thinghttp send_request api_key xxxxxxxxxxxxxxx u00a0http 1 0 void setup serial begin 115200 delay 10 wifi begin ssid password serial println serial println serial print tconnecting to serial println ssid while wifi status wl_connected delay 100 serial print serial println serial println twifi connected void loop getyoutube delay 15000 u00a0void getyoutube if wifi status wl_connected function goes here,0.81296646595
jbeale1,i can plot 48 hours of data in one plot for example i ask forhttps api thingspeak com channels 304707 charts 1 width 900 height 600 timescale 10 days 2and i get a plot like https photos app goo gl tuqnbl7kfxwzwfbl2that good now is it possible to plot that same data using only 24 hours on the horizontal axis and two separate traces for each day data so if for example today is a little warmer than yesterday the second trace sits a little above the first one the point is to better compare day over day differences at each hour of the day u00a0if that is possible how u00a0thanks for any help,0.5
cstapels,matlab and thingspeak have many options for plotting u00a0take a look at the documentation for thingspeakplotyy u00a0also thingspeakread to see the options for reading dates here is one possibility you can use in matlab visualization datatoday thingspeakread 304707 would aterange datetime today caldays 1 datetime today outputformat timetable datayesterday thingspeakread 304707 would aterange datetime today caldays 2 datetime today caldays 1 outputformat timetable thingspeakplotyy 1 height datatoday datatoday g_battery 1 height datayesterday datayesterday g_battery,0.5
jbeale1,thank you very much for that suggestion that code works fine for two lines showing two days then i tried to extend to 3 lines for 3 days and using all the same x and y axes instead of double y axis type so i used the matlab plot command with three x y data pairs it works fine without error for the g_battery and garage channel but fails on the third channel hed saying error using plot u00a0 u00a0invalid second data argument u00a0 u00a0error in custom no starter code 3 line 17 u00a0 u00a0plot x1 y1 x2 y2 x3 y3 here is the code i am trying the commented out lines work ok d1 thingspeakread 304707 would aterange datetime today caldays 1 datetime today outputformat timetable d2 thingspeakread 304707 would aterange datetime today caldays 2 datetime today caldays 1 outputformat timetable d3 thingspeakread 304707 would aterange datetime today caldays 3 datetime today caldays 2 outputformat timetable x1 1 height d1 y1 d1 g_battery x2 1 height d2 y2 d2 g_battery x3 1 height d3 y3 d3 g_battery x1 1 height d1 y1 d1 garage x2 1 height d2 y2 d2 garage x3 1 height d3 y3 d3 garage x1 1 height d1 y1 d1 shed x2 1 height d2 y2 d2 shed x3 1 height d3 y3 d3 shed plot x1 y1 x2 y2 x3 y3,0.151331633329
cstapels,the field for shed has some text data in it so thingspeak is providing those as character vectors u00a0the plot function wo not plot characters u00a0there may be a function that exists to remove those from a cell array u00a0you could also just remove the text values or put a loop in to remove them with an element by element search u00a0be careful to write the elements you keep back to a type of double when you read character arrays matlab chooses to male the variable a cell array,0.5
jbeale1,ah thank you i did not realize that since the default graph plot still worked for the shed channel maybe it is a stray cr lf at the end of line u00a0i changed the source python code to convert incoming data string to float and then print that back into a string to add to the get https line hopefully that will work thanks again,0.819822788239
toofargone,hi i am not sure if this is the right place to post the question i was wondering if it was possible for the data export function to return local time as set in my profile instead of utc cheers michael,0.928034543991
rw950431,you can set the timezone on a api call but adding the timezone parameter see https au mathworks com help thingspeak time zones reference html dor details u00a0not sure about the data export button on the website,0.5
jteindl,u00a0i am working in javascript and need to pull data from one field on my thingspeak chart this is the piece of code i am working with u00a0stop new google maps latlng 49 093914487013 117 71569423377514 waypts push location stop stopover true u00a0the line in u00a0bold u00a0is what i am trying to set a dependency on how do i do an if else statement essentially to pull from a field on my thingspeak chart and say if the value is 8 u00a0stopover true u00a0and if value is 8 u00a0stopover false u00a0so how would i call a field to get the value and set the if else based on that u00a0 u00a0thank you in advance for your help,0.5
Aitorto8,hi i want to upload data to thingspeak using the sim908 module but i do not get any answer in my thingspeak channel i am new with this and if you could help me it would be great here is the code u00a0int8_t answer int onmodulepin 2 char aux_str 50 u00a0float pressure 100 string humidity 1 string str void setup pinmode onmodulepin output serial begin 115200 serial println tarting power_on delay 3000 sets the pin code sendatcommand2 at cpin 3765 ok error 2000 delay 3000 while sendatcommand2 at creg creg 0 1 creg 0 5 1000 0 void loop u00a0humidity 70 pressure 100 str get http api thingspeak com update api_key tpgl5umzgnyo857k field1 string pressure bidali delay 20000 void bidali char message_tcp 300 str tochararray message_tcp 300 converting tcp_message to char inorder for it to pass through at commandif sendatcommand2 at cipmux 0 ok error 1000 1 while sendatcommand2 at cipstatus initial 500 0 delay 5000 if sendatcommand2 at cstt gprs service com ok error 30000 1 while sendatcommand2 at cipstatus tart 500 0 delay 5000 if sendatcommand2 at ciicr ok error 30000 1 while sendatcommand2 at cipstatus gprsact 500 0 delay 5000 if sendatcommand2 at cifsr error 10000 1 while sendatcommand2 at cipstatus ip status 500 0 delay 5000 serial println openning tcp if sendatcommand2 at cipstart tcp api thingspeak com 80 connect ok connect fail 30000 1 serial println konektatua sprintf aux_str at cipsend d strlen message_tcp if sendatcommand2 aux_str error 10000 1 sendatcommand2 message_tcp error 20000 serial println mensaje mandado sendatcommand2 at cipclose close ok error 10000 else serial println errorea konexioa irekitzen else serial println errorea ip helbidea lortzen else serial println errorea hari gabeko konexioa irekitzen else serial println errorea apn a konfigurazioarekin else serial println errorea konexioa ezartzen sendatcommand2 at cipshut ok error 10000 delay 4000 void power_on uint8_t answer 0 checks if the module is started answer sendatcommand2 at ok ok 2000 if answer 0 power on pulse digitalwrite onmodulepin high delay 3000 digitalwrite onmodulepin low waits for an answer from the module while answer 0 send at every two seconds and wait for the answer answer sendatcommand2 at ok ok 2000 int8_t sendatcommand2 char atcommand char expected_answer1 char expected_answer2 unsigned int timeout uint8_t x 0 answer 0 char response 100 unsigned long previous memset response 0 100 initialize the string delay 100 while serial available 0 serial read clean the input buffer serial println atcommand send the at command u00a0x 0 previous millis this loop waits for the answer do if serial available 0 response x serial read x check if the desired answer is in the response of the module if strstr response expected_answer1 null answer 1 else if strstr response expected_answer2 null answer 2 waits for the asnwer with time out while answer 0 millis previous timeout return answer what can be wrong thank you,0.5
cstapels,what response codes are you getting when you post with this software u00a0have you tried the post in a browser or postsman u00a0the formatting of your http request looks correct,0.936210215092
michael.iospa,hi all i have a channel with two charts both measuring electrical power chart 1 mesures the input power of a device while chart 2 measures the output power how could it be possible to present the daily efficiency of the device for the efficiency calculation i need to divide the daily sum of one chart by the other how can i do it with thingspeak api u00a0thanks,0.5
cstapels,use the matlab analysis app u00a0if you follow the getting started tutorial it shows you how to create a visualization of dew point calculated from temperature and humidity ad have it run on a regular schedule u00a0use your input and output data to calculate the efficiency and then plot it in a similar way the act on your data section sows you how to use react to take action when your data reaches a threshold u00a0you can also use react to calculate the efficiency each time you put new data into the channel,0.5
chinthakajay,hi i have tried to clear my channel using u00a0https api thingspeak com channels channel_id feeds json api_key user_apiof course channel_id user_api replaced correctly when i send this request by just typing it in the address bar of my browser it gives the response 1 but the channel does not clear what am i doing wrong here,0.238282352686
cstapels,your browser address bar is not capable of sending a delete request you can use other software such as postman u00a0 to make other http requests including delete and post u00a0 it looks like you found the delete instructions be sure you are using your user api key not a channel read or write api_key u00a0the user api key is on your profile page the proper response for the cleared channel is an empty json object u00a0the 1 indicates that the server did not complete the action you requested,0.689169704914
py2alc,somebody know how i change for hpa u00a0 u00a0http www instructables com id solar powered wifi weather station u00a0hpa is more used in aviation for qnh u00a0my channelhttps thingspeak com channels 266412,0.5
JK,writing to more than 5 fields with the writefields function causes the thingspeak server to receive all null data the channel is setup properly i have tried deleting and recreating the channel switched the order of writes nothing works the stranger thing is that it all worked a few days ago remove the set for field6 works fine add it back server gets null for all fields but it does get an entry all fields are of the same int type u00a0 thingspeak setfield 1 var1 u00a0 thingspeak setfield 2 var2 u00a0 thingspeak setfield 3 var3 u00a0 thingspeak setfield 4 var4 u00a0 thingspeak setfield 5 var5 u00a0 thingspeak setfield 6 var6 u00a0 thingspeak writefields channelnumber writeapikey anyone see anything like this is it flakey server code,0.0760329067707
JasonW,both thingspeak and the library support writing all 8 fields at once u00a0to be sure i just confirmed it with a sketch running on a mkr1000 u00a0i can also make it work with a url in my browser https api thingspeak com update api_key insertapikeyhere field1 1 field2 2 field3 3 field4 4 field5 5 field6 6 field7 7 field8 8it is possible your device is running out of ram and causing the http output buffer to get corrupted u00a0that would explain the null response u00a0most of the early arduino device models do not have much ram to begin with u00a0it is very easy to run out of ram and not realize it,0.5
JK,thanks for the tip i am running low on ram are there any good libs or tricks out there that provide memory resource tracking,0.913067758083
DeYulia,i am unable to connect and post data to my thingspeak channel u00a0data being sent from esp8266 01s module using wifi to access internet u00a0i can send data to google sheets but not to thingspeak u00a0something wrong in my connect code u00a0api is the write api u00a0code follows u00a0 code h2o_flo_wifimeasures the flow rate of water flowing through a 3 4 inch pvc pipe using a digiten hall effect sensor and displaying results on thingspeak com using an esp8266 01s sensor date wire connected to uno pin d2 the sensor output is in the form of the duration in milliseconds of a square wave pulse and the relationship to the water flowrate is f 4 8 q in liters per minute thingspeak https www thingspeak com is an analytic iot platform service that allows you to aggregate visualize and analyze live data streams in the cloud documentation for the thingspeak communication library for arduino is in the extras documentation folder where the library was installed include esp8266wifi h string apikey 0zus9cdg08zu6vj2 include thingspeak h wifi ssd and password char ssid tracy char password mange161 char server api thingspeak com const char ssid tracy const char password mange161 const char server api thingspeak com initialize the client librarywificlient client include spi h void setup pinmode 2 input serial begin 115200 delay 1000 init done u00a0serial println serial println serial print connecting to serial println ssid wifi begin ssid password delay 10000 while wifi status wl_connected delay 500 serial print serial println serial println wifi connected u00a0 void loop const unsigned long duration pulsein 2 high pulse duration in microsecondsfloat dursec duration 1000000 0 pulse duration in secondsfloat pulsefreq 10 0 if duration 0 pulsefreq 1 0 dursec else pulsefreq 0 0 pulse frequency in hzfloat flolit pulsefreq 4 8 float flolitr 60 0 flolit flow rate in liters hourfloat flogal flolitr 26417 flow rate in gallons hour float flocuft flolitr 035315 flow rate in cu ft hourif client connect server 80 184 106 153 149 or api thingspeak com string poststr apikey poststr field1 poststr string flogal poststr client print post update http 1 1 client print host api thingspeak com client print connection close client print x thingspeakapikey apikey client print content type application x www form urlencoded client print content length client print poststr length client print client print poststr u00a0 write to thingspeak there are up to 8 fields in a channel allowing you to store up to 8 different pieces of information in a channel here we write to field 1 thingspeak writefield 255517 1 flogal 0zus9cdg08zu6vj2 client stop delay 600000 thingspeak will only accept updates every 15 seconds u00a0 code,0.5
cstapels,you might consider trying your http request in postman first just to get the syntax correct u00a0i think the issue is in this section if client connect server 80 184 106 153 149 or api thingspeak com string poststr apikey poststr field1 poststr string flogal your poststr should start with a string that says api_key and then append the api_key you want poststr api_key xxxxxxxxxxxxxxxx field1 for some hints you might look at continuously collect data and bulk update a thingspeak channel using an arduino mkr1000 board or an esp8266 board but keep in mind this syntax is for a bulk update which slightly different you also have the line client print x thingspeakapikey apikey u00a0you can safely keep this line but you do not need to have the api key in both the header section and the body u00a0you could also look at the writevoltage example that comes with the u00a0thingspeak communication library for arduino u00a0it looks like you are combining methods from the thingspeak library with separate u00a0wifi client methods,0.5
DeYulia,i have successfully compiled and loaded my code to a esp8266 01s module and believed the data was being uploaded to my thingspeak channel but the channel indicates zero entries i have an external power regulator delivering 3 3v power to the esp8266 and 13 5v power to my hall effect sensor u00a0the data wire of my sensor is connected to the gpio 2 pin of the esp8255 01s u00a0the sensor output is in the form of a pulsating square wave u00a0the code translates this input to a floating point number which is sent to the thingspeak channel my code follows code h2o_flo_wifimeasures the flow rate of water flowing through a 3 4 inch pvc pipe using a digiten hall effect sensor and displaying results on thingspeak com using an esp8266 01s sensor date wire connected to uno pin d2 the sensor output is in the form of the duration in milliseconds of a square wave pulse and the relationship to the water flowrate is f 4 8 q in liters per minute thingspeak https www thingspeak com is an analytic iot platform service that allows you to aggregate visualize and analyze live data streams in the cloud documentation for the thingspeak communication library for arduino is in the extras documentation folder where the library was installed include esp8266wifi h include thingspeak h u00a0 wifi ssd and passwordchar ssid tracy char password mange161 char server api thingspeak com initialize the client librarywificlient client include spi h const int sensdatapin 2 string apikey 0zus9cdg08zu6vj2 unsigned long mychannelnumber 255517 void setup unsigned long duration float dursec float pulsefreq float flolit float flolitr float flogal float flocuft u00a0pinmode sensdatapin input serial begin 115200 delay 10 init donewifi begin ssid password serial println serial println serial print connecting to serial println ssid wifi begin ssid password while wifi status wl_connected delay 500 serial print serial println serial println wifi connected thingspeak begin client void loop const unsigned long duration pulsein sensdatapin high pulse duration in microsecondsfloat dursec duration 1000000 0 pulse duration in secondsfloat pulsefreq 10 0 if duration 0 pulsefreq 1 0 dursec else pulsefreq 0 0 pulse frequency in hz float flolit pulsefreq 4 8 float flolitr 60 0 flolit flow rate in liters hourfloat flogal flolitr 26417 flow rate in gallons hour float flocuft flolitr 035315 flow rate in cu ft hour u00a0 write to thingspeak there are up to 8 fields in a channel allowing you to store up to 8 different pieces of information in a channel here we write to field 1 thingspeak writefield 255517 1 flogal 0zus9cdg08zu6vj2 delay 20000 thingspeak will only accept updates every 15 seconds u00a0 code,0.5
cstapels,it is possible that you have used your user api key instead of your write api key u00a0you could try testing requests using the postman https www getpostman com chrome extension and see if they successfully add data to your channel see the instructions here on how to post using http requests https www mathworks com help thingspeak update channel feed html in postman use u00a0x www form urlencoded and put your write api_key in the body u00a0as a side note when you share your api keys you may give access to others being able to change your account information or post to a private channel you can change your user api key here https thingspeak com account profile,0.5
g0emf,hi all i have esp easy setup with with 5 sensors everything is updating in esp easy but no way i can get the date from my u00a0sharp gp2y10 dust sensor to thingspeakbeen googling for ages and did try adjusting the timing and set the u00a0sharp gp2y10 up on a new channel but no data at all on the graph all my other graphs update without problemhttps thingspeak com channels 257417 u00a0any help please think it will be obvious this is my first project with thingspeak u00a0regardsdave,0.895440101624
Vinod,can you share the code that is posting data from your sharp gp2y10 sensor can you also u00a0try printing the data to the serial output and including that so we can make some suggestions on how to modify it to post data to thingspeak,0.747635483742
s161025,u00a0hello again i am trying to upload data from a dht11 sensor and a few others to my thingspeak channel but i only can 2 fields and not all the 4 i enabled the fields from settings the code i am using is taken from an example for uno wifi deved here when i comment field 1 and 2 the others are working the same happens when i comment field 3 4 any ideas u00a0void dataupload string uri update api_key uri apikey_thingspeak uri field1 uri string weight 3 3 decimals to thingspeak uri field2 uri string pump uri field3 uri string temperature uri field4 uri string humidity test prints serial print f a1 value serial println analogread a1 serial println weight 3 serial println pump serial print millis 1000 in seconds serial println f sec serial println temperature serial println humidity ciao println f end data on thingspeak channel ciaodata data ciao write connector server_addr uri if data isempty ciao println tate string data get 1 ciao println are sponse string data get 2 else ciao println write error,0.5
Griwen,the same problem,0.0312642753124
Vinod,take a look at the examples posted here u00a0https github com mathworks thingspeak arduino tree master examplesspecifically take a look at this https github com mathworks thingspeak arduino tree master examples writemultiplevoltages,0.5
slopcounts,hello i am new to this stuff but have a decent understanding of how it works u00a0 ok i have a few questions that i think have been giving me problems 1 u00a0 data points on channels is it always set at 15 seconds or does it only update when data comes in u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 i say this because i have changed the time sleep and it does not seem to affect this 2 i keep getting this error intermittently and i thought it could be because of the update time u00a0 i get this error sometimes after 1 hour sometimes after 8 u00a0 u00a0 u00a0 u00a0 raise httperror req get_full_url code msg hdrs fp urllib2 httperror http error 500 internal server errorthis is a simple 2 sensor setup going into a channel with two fields coming from a raspberry pi running python 2 7 9,0.0976910591125
Vinod,if you are a user of the free service you can send data up to once every 15s per channel if you purchase a thingspeak license you can send data up to once every 1s if you send data faster than u00a0the limits of your account you will get an http error status code i am not sure why you are getting a http 500 status code could you share the code that results in a 500 status code,0.885066866875
uphillbattle,hi i have embedded a chart on a web page it a temperature logger that has been running since july or so last year there should be 8 or 9 months worth of data update frequency is 10 minutes i am trying to embed a chart showing the temperature for the last year there not enough data for that but i expected to get a plot of the temperature since the start of logging this is what i do https api thingspeak com channels 129101 charts 1 bgcolor 23ffffff color 23d62020 type line timescale 240 days 365the result is a plot that starts on feb 3 just shy of 2 months worth of data the same thing happens if i try to view the data on thingspeak own web page https thingspeak com channels 129101data start on feb 3 are my data older than feb 3 missing,0.5
Vinod,go into your channel private view click on the pencil and select average to 1440 the data in your channel is intact perhaps you are looking for this https thingspeak com channels 129101 charts 1 average 1440 days 365the 1440 number is 24 hours 60 minutes this u00a0needed so your data in any day does not look like a blob and your graph with historical data does not look like a collection of blobs,0.5
uphillbattle,ahh yes thank you vinod that it problem solved u00a0,0.225411772728
PumbEmili,hi what should i do to add gauge type visualizations and location on a map thanks,0.952491998672
Vinod,for gauge visualizations on your private view go to apps plugins and create a new google gauge to display the location of your sensor on the map go to channels my channels your channel name channel settings and set the latitude and longitude also check the checkbox that says how location,0.5
Adarsh_Murthy,hi pumbemili u00a0hope you were able to add the gauge and location to a channel view could you tell us more about your project and what you are attempting to visualize using a gauge and a map we are looking to learn more about user workflows with these two visualization types thanks,0.5
WildC4rd,hello english is not my first language so please forgive my mistakes i have been trying to fix my problem a whole day including searching and stuff for now i have found nothing that why i am asking for help i want to send data in this case a 5 from my arduino uno to thingspeak i am using the arduino in combination with an esp8266 my university requires this set up u00a0i started with sending commands over the serial monitor i have used an second virtual serial port so i can see everything in the serial monitor s means i have send that line myself a is the answer i have gotten s at cipmux 1a oks at cipmode a cipmode 0s at cipstart 0 tcp api thingspeak com 80a 0 connect u00a0 u00a0oks at cipsend 0 67a u00a0ok u00a0 u00a0 u00a0 s get https api thingspeak com update api_key w9tvzmiolm8a2sgk field1 5a d1 5 u00a0 u00a0 busy s u00a0 u00a0recv 67 bytes u00a0 u00a0 send okand after waiting a whilea 0 closed u00a0 u00a0 the channel on thingspeak however stays empty https thingspeak com channels 255847help in every way would be very appreciatet thank you edit i have used the following code wich i found online and it does not work either i bypassed the voltage sensor and put it right to 6 v reveal spoiler include softwareserial h ledint ledpin 13 int sensor_pin a0 variable for sensorfloat sample 0 float bat_volt 0 for temperaturevoid voltage void void esp_8266 void string apikey w9tvzmiolm8a2sgk softwareserial ser 10 11 rx tx this runs oncevoid setup initialize the digital pin as an output pinmode ledpin output enable debug serial serial begin 9600 enable software serial ser begin 9600 reset esp8266 ser println at rst the loopvoid loop blink led on board digitalwrite ledpin high delay 200 digitalwrite ledpin low voltage esp_8266 void voltage sample 0 for int i 0 i 150 i sample analogread sensor_pin read the value from the sensor delay 2 sample sample 150 bat_volt 5 r1 r2 r2 r1 10k and r2 2k void esp_8266 convert to string char buf 32 string strvolt 6 dtostrf bat_volt 4 1 buf serial print strvolt serial println v tcp connection string cmd at cipstart tcp cmd 184 106 153 149 api thingspeak com cmd 80 ser println cmd if ser find error serial println at cipstart error return prepare get string string getstr get update api_key getstr apikey getstr field1 getstr string strvolt getstr send data length cmd at cipsend cmd string getstr length ser println cmd if ser find ser print getstr else ser println at cipclose alert user serial println at cipclose thingspeak needs 15 sec delay between updates delay 16000,0.172282576561
WildC4rd,hello i have worked it out my self by now i was using an old version of the firmware on the esp8266 with the newest firmware everything works like it should i dont know if this post should stay here so others can learn or if some admin wants to close delete it u00a0,0.817868828773
Vinod,welcome to the thingspeak community thank you for confirming that this is an issue on the device firmware and that updating the firmware fixed it for you your post is u00a0useful to others who might run into the same issue u00a0,0.908429145813
Miltos,how frequently thingspeak does update data for graphs does it depent on the internet speed only i have got a broadband connection with 1 5mps download and 0 1mps upload and the update happens every 15sec i need an update for at least 1sec is it possible thanks,0.5
Vinod,you need to purchase a license to update your channel faster than once every 15s u00a0take a look at the options here u00a0to see what you get with one of the different license types,0.85728007555
PumbEmili,what should i do to add gauge type visualizations and location on a map thanks,0.903384268284
gulin176,image can not be found u00a0hello no access to the service can i help https drive google com open id 0b0q5lb_nlsjfykpnnhnrownobxmin the link a screenshot of the routing to the service,0.758963823318
Vinod,we are not able to reproduce this on our end this may have to do with your network connectivity and potential firewalls between your machine and thingspeak servers in general i would strongly recommend u00a0not doing a traceroute and using the returned ip address in your embedded code when we push out updates to thingspeak it could cause your embedded device to stop working as it is relying on a stale dns resolution if you must use a static ip use the published static ip to send data to thingspeak,0.175683945417
masters42,it came up first in a more complicated program but then i was able to duplicate it with a very simple demo program i have now duplicated it using two different nodemcu which were purchased at different times have different silkscreens on them so they are not from the same batch using both a float and int sent to thingspeak and using delay and the metro timer library as a timing mechanism note during all of those tests i was using a delay of 20 seconds not the 90 you see in the linked code u00a0while my serial terminal will show all the iterations 1 2 3 4 the chart on thingspeak will only display a few points along the way going to import export and exporting will yield a csv will all of the values so they all made it to thingspeak but not all are shown u00a0here are my chart options the chart type is set to would ynamic,0.5
Vinod,does u00a0setting the timescale setting on the chart options to empty instead of 10 as you have it produce u00a0the expected result u00a0,0.5
masters42,that was it thanks so much for your help,0.90012216568
jwd3ca,u00a0greetings thingspeakers i am a relative newbie to thingspeak got my raspi3 sending data to a thingspeak channel ok but now i want to use thingtweet and react to notify me at a certain temp i have an existing twitter account passwd so i have gone to apps thingtweet and clicked the link twitter account button but do not get a field to enter my twitter uname and password as all the help example pages show my only choices are authorize app or cancel no place to enter uname passwd if i click authorize app it happily proceeds to jwd3ca has been successfully linked to thingtweet but i fairly sure that w o twitter auth info no react will actually be able to send a tweet anyone know what is up with this and how to proceed from here thanks ubuntu 17 04 google chrome,0.253533452749
jwd3ca,answered my own question chrome was doing auto login to twitter so no uname passwd was prompted for logged out of twitter then got the auth fields duh ud83d ude42 now to see if i can get a react to tweet me u00a0,0.811960816383
jwd3ca,success thanks,0.994784772396
Anirudh,hi i am trying to read the output of my post api for talkback app either as string or integer with followingexample from arduino and it looks like i am getting 0 as output am i missing anything here talkback url is the url provided by thingspeak and same returns int or string from web browser but following code always returns 0 httpclient client client post talkbackurl null_data charin 0 talkbackcommand 0 while client available this is never true charin client read console println charin talkbackcommand charin i tried reading it as string as well as int and both cases getting 0,0.289092510939
rw950431,hi welcome to the forum u00a0its likely that there is some problem with your connection to the internet if you dont receive any characters back u00a0what is your connection to the internet wired or wireless what library are you using u00a0have you verified your hardware setup by loading one of the examples that came with your library u00a0 u00a0if you post your full code you may get more help,0.771977961063
Maco33,hi i have an application in picaxe and i want to send data to thingspeak with esp8266 when i use this code thing pause 2000 serout wifi baud at 13 10 pause 2000 serout wifi baud at cwqap 13 10 pause 5000 serout wifi baud at rst 13 10 pause 3000 serout wifi baud at cwmode 1 13 10 pause 1000 serout wifi baud at cwjap 34 34 34 34 13 10 pause 12000 serout wifi baud at cipstart 34 tcp 34 34 184 106 153 149 34 80 13 10 pause 2000 serout wifi baud at cipsend 43 13 10 45 pause 1000 serout wifi baud get update key xxxxxxxxxxxxxxxx field1 b1 13 10 u00a0everything is ok and i can even send any u00a0field 1 4 when i change entry field field1 or field2 in last command is it possible to send data to fields in a multiple mode thanks,0.5
rw950431,not sure if this is your question but you can send multiple values by adding them to the end of the url u00a0egget update key xxxxxxxxxxxxxxxx field1 1 field2 3 field3 10000 field4 0 u00a0 sorry i dont know the exact syntax to make it work for picaxe,0.5
Maco33,i followed this https www allaboutcircuits com projects connect a picaxe to the internet of things but i do not know how i do it multiple mode,0.225904107094
Maco33,i know how it is correct he told a colleague from picaxe forum thank you for your contribution u00a0serout wifi baud get update key xxxxxxxxxxxxxxxx field1 b1 field2 b2 field3 b3 field4 b4 13 10 m,0.922552347183
sprint01,i am having problems uploading values from my arduino mega via esp8266 01 to thingspeak it was working fine for a few weeks the connection is stable and error counter is low so i assume the post request succeeds but the data do not get written to the db for some reason i am doing post request every 5 min to 4 different channels reboot and reset does not change anything u00a0,0.0965509712696
donaldp,same here since 5 hours no updates the docu for post has changed it asks for a https connection now i e encrypted on port 443 and not http port 80 any longer can someone from the moderators mathworks guys check confirm deny this please br donald,0.5
Cato,same problem last update recorded 15 hours ago seems https api thingspeak com do not give any reply,0.107332378626
acerbus,i have the same problem since 20 10 pm utc february 28th 2017,0.132078051567
Hans,we aware of the issue thanks for reporting we rely on aws and their service is having issues at the moment we are working on restoring our service as soon as possible,0.183845341206
UlfG,i have the same problem no updates since a few hours it appears to me that api thingspeak com does not respond wget commands gives no data back and entering url in browser gives error message,0.0590642392635
acerbus,by the way https api thingspeak com gives an err_empty_response when you try to backup your data thanks hans good luck with that,0.912504434586
acerbus,it working now 21 58 u00a0utc,0.204359084368
Hans,amazon aws is coming back online and our api services have been restored let us know if you have any remaining issues,0.236130565405
acerbus,acerbus said it working now 21 58 u00a0utc u00a0 u00a0sorry i mean it working u00a02017 02 28 23 01 45 utc,0.709803342819
Vinod,full u00a0service u00a0to api thingspeak com was restored by 23h10 u00a0utc on 2017 02 28 if you are seeing a banner across the top of the page on http www thingspeak com please hit ctrl f5 in your browser to clear the cache and reload the page thank you for your patience as we worked to resolve the matter,0.860374212265
rifkinurfaiz,recently i just started to use thingspeak link https thingspeak com channels 232957 i am using arduino and esp8266 for internet connection i am using serial monitor to upload a value i found an odd issue like this at cipstart tcp 184 106 153 149 80at cipsend 48get update api_key aypjyh6phj0liel7 field1 30here are the responds at cipstart tcp 184 106 153 149 80connectokat cipsend 48ok recv 48 bytessend ok ipd 2 15closedfor value 30 it uploaded successfully to thingspeak but whenever i change the value like become 35 or another 2 digit value it always responds bad request but when i try at browser any value works anybody experienced same thing nb on my channel value 36 is uploaded via browser,0.207894384861
piajola,hi rifkinurfaizplease see u00a0http community thingspeak com forum thingspeak api sending data to thingspeak problem p3886 u00a0so i can tell you this pair works my channel has 4000000 points recorded with at commands and for 10i hope i have helped u00a0,0.910053670406
potts.mike,i am trying to update a channel with the https post interface and having some trouble following the documentation i am using this example with my own api key post https api thingspeak com update json api_key xxxxxxxxxxxxxxxx field1 73i keep getting the below response any help is greatly appreciated tatus 400 error bad request,0.163280904293
Vinod,here an example of using the postman application u00a0to update a thingspeak channel u00a0,0.744330883026
arvimg,i am developing code to send data from my firmware using lpc2387 with arm 7 to thingspeak can anyone suggest me the code text i need to put in arm development platform to do the same,0.5
donaldp,i suppose you will developing application code on top of rtos or some other operation environment personally i prefer http port 80 post which requires just a tcp socket you get from the runtime and some string manipulation either from the runtime or your dev environment example the double dots is string concatenation in my environment lua socket connect 80 api thingspeak com socket send post update api_key thingspeak_channel_api_write_key thingspeak_field fielddata http 1 1 host api thingspeak com connection close accept user agent mozilla 4 0 compatible esp8266 lua windows nt 5 1 hint plenty other methods exist to feed data into thingspeak https www mathworks com help thingspeak channels and charts api html u00a0,0.5
donaldp,grr the poster mangled the example the quote double dot sequence belongs to the line above,0.164681464434
arvimg,this link ai not getting anything yeah i guess this should be the outline of the approachcreate a socketlookup the ip addressopen the socketsend the requestwait for the responseclose the socketi am new to this and confused on developing an approach could you write the code lines for arm development environment like keil etc would be helpful,0.780689120293
popunonkok,this script works it prints the 1st value of field1 in my channel the code prints it in the div class column center script document ready function u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 getjson https api thingspeak com channels xxxxxx feeds json days 1 function result u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 column center prepend result feeds 1 field1 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 script how can i change this so that i insted of the first value get the max value of the entire 24 hours that i have getjson would love something like max result feeds field1 but i guess its not that simple u00a0can anyone help me,0.5
Vinod,you could do this in javascript data u00a0 getjson https api thingspeak com channels xxxxxx feeds json days 1 var maxval infinity for var i 0 i data feeds length i u00a0 u00a0if data feeds i field1 maxval maxval data feeds i field1 maxval should have the maximum value of field1 in the last day u00a0 assuming you have accumulated 8000 points in the last day,0.5
donaldp,hi in short intervals u00a0i write the actual energy of a meter to a channels field i e t ime s tamp u00a0 u00a0 u00a0 u00a0 u00a0 m eter r eadingdate 10 06 00 u00a0 u00a0 u00a0 u00a0 u00a0100 2 kwhdate 10 16 23 u00a0 u00a0 u00a0 u00a0 u00a0101 5 kwhdate 10 23 47 u00a0 u00a0 u00a0 u00a0 u00a0104 9 kwhetc now i want to calculate the average power per intervall and output to another channel math is more than simple power mr n mr n 1 ts n ts n 1 hour unitof_ts conversion my approach timestamp data thingspeakread readchannelid fields 1 numpoints 2 are adkey analyzeddata timestamp 2 timestamp 1 data 2 data 1 resulting error analyzeddata timestamp 2 timestamp 1 data 2 data 1 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u2191error unbalanced or unexpected parenthesis or bracket question how to access elements of a series or field or array and how to debug this print variable returns an error u00a0thanks for any hint regardsdonald,0.5
Vinod,hi donald try changing this analyzeddata timestamp 2 timestamp 1 data 2 data 1 to this analyzeddata timestamp 2 timestamp 1 data 2 data 1,0.327965885401
Vinod,also as to debugging try using the disp function in matlab to display variables example before you calculate analyzeddata if you want to display the timestamp and data disp timestampdisp data,0.202867746353
donaldp,thank you very much vinod you brought me on track is matlabs syntax and semantic close to algol or another high level language just for interest for all others stumbling around like me here the code snippet it is scheduled to react whenever new nonzero data is fed into the input channel best regards donald data time thingspeakread readchannelid fields 1 numpoints 2 are adkey readapikey power data 2 data 1 minutes time 2 time 1 60 thingspeakwrite writechannelid power writekey writeapikey,0.5
Vinod,hi donald i can not do a better job of explaining the roots of the matlab language than this post http blogs mathworks com cleve 2015 06 15 algol 60 pl0 and matlab u00a0,0.927185297012
gpc,hello everyone 1st time poster here i have been using the chart api for awhile does almost everything i need u00a0in my application the average and median feed parameters could be even more useful if zero valued data could be excluded is it possible u00a0i e only average non zero values,0.864610910416
Vinod,you can easily define your own custom visualization using the matlab visualization app u00a0,0.893577694893
Hans,welcome to thingspeak u00a0i never tried average with the min option you could try it and let me know if that works u00a0add min 01 to your request u00a0,0.922743916512
gpc,vinod said you can easily define your own custom visualization using the matlab visualization app u00a0 u00a0 u00a0i thought about that but i would like to publish it as a link with the api key included u00a0so auto update and the rest is it possible to do so with a matlab plot,0.918674588203
gpc,hans said welcome to thingspeak u00a0 i never tried average with the min option you could try it and let me know if that works u00a0 add min 01 to your request u00a0 u00a0 u00a0did not work u00a0the min parameter excludes values from the plot but not from the average median computation wish it did that would make things easier,0.875742197037
Vinod,gpc said i thought about that but i would like to publish it as a link with the api key included u00a0so auto update and the rest is it possible to do so with a matlab plot u00a0 u00a0 u00a0i am not sure i understand what you will be publishing are you looking to publish a web page with a plot that changes with time of the average of values in a thingspeak channel with the average computed only of non zero values if so you can set up a matlab u00a0analysis app that dynamically computes the average and inserts it into a would erived channel you can then use normal thingspeak visualizations on the data in that channel the matlab analysis can be driven u00a0periodically using timecontrol or a react triggered by data insertion into the measurement channel an easier to implement solution may be to u00a0have a u00a0matlab analysis that only posts non zero values from the measurement channel into a derived channel the analysis could be scheduled using the timecontrol or using reacts then you can use the normal visualizations in the would erived channel including average median etc,0.791716754436
gpc,ok i guess i need to get myself educated with the functionality you described u00a0thx,0.763045966625
sandeshmega,i am unable to access data from field which contains the array of values with error as not a number nan these values were stored in a buffer before sending as the website can be accessed only once in 15 mins do i have to follow any specific method to send data from my raspberrypi using python while using buffer values stored values attached the screenshot of the values received by thingspeak csv file is there any way to send multiple values to a field by accessing it once in 15 seconds u00a0 image can not be found,0.151111841202
yasum88,data exported from the private view tab differs from the data exported from would ata import export tab for instance the chart in the private view shows that data there is no data between 04 58 9 feb 2017 to 13 32 9 feb 2017 however data exported from csv shows readings for that time period how to get the correct data,0.5
Vinod,the private view only gives you the u00a0subset of the data that depends on the settings of the visualization for each field the data import export tab gives you the entire raw data in the channel and does not depend on the visualization settings u00a0it really depends on what you are looking for u00a0how will you use the data,0.5
ckuehnel,i have some applications that send data to thingspeak running for a long time now api_key xxxx curl data api_key api_key field1 temp field2 humi field3 date https api thingspeak com update log 2 1now i tried to add a new channel with a similar pattern but get the error an error occurred u00a0sorry the page you are looking for is currently unavailable please try again later is there anything wrong on my side or has anything changed,0.0794660747051
Vinod,i am unable to reproduce what you are seeing here the steps i tried on the terminal window on a raspberry pi api_key my_write_api_key f1val 111 f2val 222 curl data api_key api_key field1 f1val field2 f2val field3 date https api thingspeak com updatei see the data show up in my channel u00a0are you able to reproduce the issue consistently,0.120033085346
ckuehnel,yes i could reproduce it consistently but the reason for the error was the content of one variable it should be 88 8 for example and was 88 8 after cutting the all is working as before now i have to look for the sensor side to generate the right data format thanks for support,0.819586992264
superliminal,hi i would like to get the last say three data entries from my thingspeak feed in javascript i saw this great tutorial about how to do this for the last entry http community thingspeak com tutorials javascript parse thingspeak last entry feed with jquery u00a0 but what if i want the last three entries or last five entries i have seen some posts about how to get entries based on time last 5 minutes etc but not how to get the most recent u00a0x number of u00a0entries u00a0any thoughts or answers would be very much appreciated,0.177957862616
Abhishek,i am trying to create app to send data from android app to thingspeak using mit app inventor but its getting failed i u00a0am unable to view the data on the chart on thingspeak visualization it would be helpful if anyone could help me with related solutions u00a0thanksabhishek,0.098679214716
sahelakhalid,when i wrote a program code to send a data to thingspeak com one time the data went to field1 rest all times the server replies closed u00a0the following commands were returned u00a0at cipstart tcp 184 106 153 149 80 u00a0connect u00a0okat cipsend 80 u00a0ok closedrecv 80 bytessend fail u00a0how will i again send data to thingspeak,0.239401161671
celiagarridoh,hi could you please provide more information about your code something similar happened to me but in this case everytime i sent data to thingspeak a new channel was created i suppose that is not your problem but i want to know if i can help you,0.236486881971
sahelakhalid,thank you sir i have tested this esp8266 in aurdino software serial monitor as u asked i am providing u00a0what it showed on the screen u00a0 u00a0atokat gmrat version 0 60 0 0 jan 29 2016 15 10 17 sdk version 1 5 2 7eee54f4 ai thinker technology co ltd may 5 2016 17 30 30okat rstokets jan 8 2013 rst cause 2 boot mode 3 7 load 0x40100000 len 1856 room 16tail 0chksum 0x63load 0x3ffe8000 len 776 room 8tail 0chksum 0x02load 0x3ffe8310 len 552 room 8tail 0chksum 0x79csum 0x792nd boot version 1 5spi speed 40mhzspi mode diospi flash size map 8mbit 512kb 512kb jump to run user1 1000do not use rtc mem data l u00ffai thinker technology co ltd readywifi disconnectat cwlap cwlap 4 would 3s3464 88 08 86 3b fd f2 32 1 41 0 cwlap 4 cusat launchpad 92 c8 b3 73 4c 24 89 6 17 0 cwlap 0 androidap6504 34 e4 b0 21 1c e5 fc 6 26 0 cwlap 4 fiberlab 84 6c 72 20 fb bc 7b 7 14 0 cwlap 0 zxaryo 74 c8 d7 79 a5 2b 65 7 24 0 cwlap 3 addywfhuizahiidf 84 40 88 05 b0 75 6d 8 1 0 cwlap 4 would link_228 89 c4 a8 1d 42 6e 7f 11 7 0 cwlap 0 would link 91 78 54 2e 20 80 1e 13 14 0 okat cwjap androidap6504 123456789 wifi connectedwifi got ipokat cipmux 1okat cipstart tcp 184 106 153 149 80connectokat cipsend 70ok closed06 153 149 80busy s recv 70 bytessend failat cipstart tcp api thingspeak com 80errorat cwlap cwlap 4 wtlab 77 10 be f5 7b 66 a7 1 30 0 cwlap 3 androidap6504 43 e4 b0 21 1c e5 fc 6 28 0 cwlap 3 coolpad 8676_i02_04ff 90 02 16 6d 10 05 ff 6 51 0 cwlap 4 fiberlab 81 6c 72 20 fb bc 7b 7 40 0 cwlap 0 zxaryo 74 c8 d7 79 a5 2b 65 7 30 0 cwlap 0 would link 88 78 54 2e 20 80 1e 13 40 0 okat cwjap androidap6504 123456789 wifi connectedwifi got ipokat cifsr cifsr staip 192 168 43 215 cifsr stamac 60 01 94 09 19 b9 okat cipstart tcp api thingspeak com 80 connectokat cipsend 70ok closed u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 before writing the get command server replies closed all of suddengspeak com 80 u00a0 u00a0 u00a0busy s recv 70 bytessend failat cipstart tcp api thingspeak com 80connectokat cipsend 70ok rj35dse field1 100 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 after getting this i typed get update key xxxxxxxxxxxxxxxxx field1 100 u00a0and got the followingbusy s recv 70 bytessend ok ipd 1 4closed u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 here i received the data in thingspeakat cipstart tcp api thingspeak com 80connectokat cipsend 100 u00a0 u00a0ok closed u00a0i have to write the command fast in order to get the answer else it says closed it doesnt wait for my command u00a0please help me solve this,0.5
sahelakhalid,the server is getting disconnected soon when i checked the esp8266 status u00a0at cipstart tcp api thingspeak com 80connectokat cipstatusstatus 3 cipstatus 0 tcp 52 200 157 52 80 37768 0okclosedat cipstatusstatus 4okat cipstart tcp api thingspeak com 80connectokat cipsend 100ok closedcipstart tcp api thingspeak com 80busy s recv 100 bytessend fail,0.5
piajola,hi sahelakhalid please click linkhttp community thingspeak com forum thingspeak api sending data to thingspeak problem p3886and see if it is of some help note my firmware is older than yoursok at the end of esp8266 means the rs232 comms worked well not necessarily the internet partwith my firmware at cwmode cwmode 3 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 3 softap station modeok at cipmode cipmode 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 0 normal modeok at cipmux cipmux 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 0 single connectionok at cipstatusstatus 2 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 2 esp8266 station connected to an ap and has obtained ipokso i asked how the things are in esp8266 territory before ask to connect some webserver and demand this also note i think you are connected to your wifi router cwjap thing good luck u00a0,0.706763446331
sahelakhalid,hlo piajola u00a0all the commands work well with my esp8266 but the server closes as soon as i gives a start the server sometimes it closes after cipsend or mostly gets automatically gets closed after getting hang up for sometime i dont know how to solve this problem,0.0544104576111
suriyaa,how to upload audio and images in thingspeak,0.262321054935
Rist,hello thingspeak community im pretty new with arduino esp8266 and thingspeak i made a simple program that should send data to thingspeak and it worked yesterday i can see the data on the thingspeak page however i tried to run the program again today but nothing showed up on thingspeak i tried to web this http 184 106 153 149 update api_key xxx field1 255 and it works is there something wrong with my code any help and suggestion will be really helpful thank you this is the program i made includesoftwareserial wifi 10 11 string network bali_nine string password password define ip 184 106 153 149 string get get update api_key xxx void setup u00a0 u00a0 serial begin 9600 u00a0 wifi begin 9600 u00a0 wifi println at rst u00a0 delay 2000 void loop u00a0 wifisetup u00a0 int sensordata 159 u00a0 updatetemp string sensordata u00a0 u00a0 delay 2000 void wifisetup u00a0 serial println checking wifi module u00a0 wifi println at u00a0 if wifi find ok u00a0 u00a0 u00a0 u00a0 serial println found ok u00a0 u00a0 u00a0 connecttowifi u00a0 u00a0 else u00a0 u00a0 u00a0 u00a0 serial println ok not found u00a0 u00a0 delay 2000 bool connecttowifi u00a0 serial println connecting to wifi u00a0 wifi println at cwjap u00a0 if wifi find error u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 string cmd at cwjap u00a0 u00a0 u00a0 cmd network u00a0 u00a0 u00a0 cmd u00a0 u00a0 u00a0 cmd password u00a0 u00a0 u00a0 cmd u00a0 u00a0 u00a0 serial println cmd u00a0 u00a0 u00a0 wifi println cmd u00a0 u00a0 u00a0 delay 2000 u00a0 u00a0 u00a0 if wifi find ok u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 serial println ok connected to wifi u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 return true u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 else u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 serial println can not connect to wifi u00a0 u00a0 u00a0 u00a0 u00a0 return false u00a0 u00a0 u00a0 u00a0 u00a0 else u00a0 u00a0 u00a0 u00a0 serial println ok connected to wifi u00a0 u00a0 u00a0 return true u00a0 void updatetemp string voltage1 u00a0 serial println ending data u00a0 string cmd at cipstart tcp u00a0 cmd ip u00a0 cmd 80 u00a0 wifi println cmd u00a0 serial println cmd u00a0 delay 5000 u00a0 if wifi find error u00a0 u00a0 u00a0 u00a0 serial println error while sending u00a0 u00a0 u00a0 return u00a0 u00a0 cmd get field1 voltage1 u00a0 wifi print at cipsend u00a0 wifi println cmd length u00a0 delay 20000 u00a0 if wifi find u00a0 u00a0 u00a0 u00a0 wifi print cmd u00a0 u00a0 u00a0 serial println cmd u00a0 u00a0 u00a0 serial println would ata sent u00a0 u00a0 else u00a0 u00a0 u00a0 u00a0 wifi println at cipclose u00a0 u00a0 u00a0 serial println connection closed u00a0,0.841431677341
piajola,hi rist i am doing the same arduino esp8266 at way until now 451000 points in ts it works and for less than 101 tried via browser you too 2 tried directly with esp8266 via rs232 with termite same as arduino monitor typing at commands and waiting answers then check the plot in my ts channel3 writing the arduino program to plot fully automaticwhat i did for point 2 u00a0 at gmrat version 0 50 0 0 sep 18 2015 20 55 38 sdk version 1 4 0compile time sep 18 2015 21 32 07ok at cwmode cwmode 3ok at cipmode cipmode 0ok at cipmux cipmux 0ok at cipstatusstatus 2ok at cipstart tcp api thingspeak com 80connectok at cipsend 64ok get update api_key sixteenuplowcase field1 25 12 field2 55 31 count 1 space after get before slash totaling 62 plus newline return 64recv 64 bytessend ok ipd 5 12825closed u00a0 u00a0 u00a0 3 lines ts say it was fine note when i did at cipstart tcp 184 105 153 149 80errorclosed it did not worked i do not know why ip count spaces and follow upper lower case use non proportional fonts i use notepad with consolas font to see spaces i did this a few times for 2 days just in caswi did not checked carefully your program but in loop you are using 2 seconds not the 15 u00a0minimum u00a0i use 1 minute good to me i tried at least 2 versions of firmware and syntaxis varied slightly i e u00a0at cipstart answer error and error so arduino gets confusedcan you post your serial output,0.5
SilverNodashi,hi u00a0is it possible to compare 6 channels values over time say for the past 7 days i looked but coud not find a way to do this in matlab i have a bunch of temperature sensors which i want to compare over 7 days u00a0,0.5
piajola,hi u00a0silvernodashi please click this linkhttp community thingspeak com 2016 09 use matlab timetable to merge thingspeak data channels it is a hans post about timetables i think it is the basis for what you want u00a0read try and post more questions if needed,0.5
SilverNodashi,u00a0thanx but that does not work with more than 2 channels u00a0piajola said hi u00a0silvernodashi please click this link http community thingspeak com 2016 09 use matlab timetable to merge thingspeak data channels it is a hans post about timetables i think it is the basis for what you want u00a0 read try and post more questions if needed u00a0 u00a0,0.5
piajola,hi u00a0silvernodashi i do not know if it is still helpful you can try it on your machine http www mathworks com help matlab ref plot html searchhighlight plot s_tid doc_srchtitle 209428 silvernodashinumapuan 50 read from your only found channelaotrott thingspeakread 209428 fields 1 numpoints numapuan outputformat timetable botrott thingspeakread 209428 fields 2 numpoints numapuan outputformat timetable xotrott thingspeakread 209428 fields 3 numpoints numapuan outputformat timetable yotrott thingspeakread 209428 fields 4 numpoints numapuan outputformat timetable zotrott thingspeakread 209428 fields 5 numpoints numapuan outputformat timetable synchronize timestables and fill in if missing data using linear interpolationtt synchronize aotrott botrott xotrott yotrott zotrott union linear yyaxis left yyaxis right so plot nowplot tt timestamps tt garagetemp tt timestamps tt pvtemp tt timestamps tt underpvtemp tt timestamps tt outsidetemperature tt timestamps tt garagerooftemp title tetulo desta cosa pal canalimenso some morexlabel lotro tetulo legend xxx yyy zzz etc at least you can graphically compare good luck based in the mentioned hans blog post u00a0,0.5
SilverNodashi,piajola said hi u00a0silvernodashi i do not know if it is still helpful you can try it on your machine http www mathworks com help matlab ref plot html searchhighlight plot s_tid doc_srchtitle 209428 silvernodashinumapuan 50 read from your only found channel aotrott thingspeakread 209428 fields 1 numpoints numapuan outputformat timetable botrott thingspeakread 209428 fields 2 numpoints numapuan outputformat timetable xotrott thingspeakread 209428 fields 3 numpoints numapuan outputformat timetable yotrott thingspeakread 209428 fields 4 numpoints numapuan outputformat timetable zotrott thingspeakread 209428 fields 5 numpoints numapuan outputformat timetable synchronize timestables and fill in if missing data using linear interpolationtt synchronize aotrott botrott xotrott yotrott zotrott union linear yyaxis left yyaxis right so plot nowplot tt timestamps tt garagetemp tt timestamps tt pvtemp tt timestamps tt underpvtemp tt timestamps tt outsidetemperature tt timestamps tt garagerooftemp title tetulo desta cosa pal canalimenso some morexlabel lotro tetulo legend xxx yyy zzz etc at least you can graphically compare good luck based in the mentioned hans blog post u00a0 u00a0 u00a0thank you that worked quite well the formatting is a bit different than i thought it would be but it works ud83d ude09 u00a0now i just need to figure out how to graph the values over a 14 day period u00a0p s is it possible to get the average difference between two channels over time,0.5
piajola,hi u00a0silvernodashi u00a0 http www mathworks com help matlab ref plot html searchhighlight plot s_tid doc_srchtitle 209428 silvernodashi numapuan 100 yi 2017 initial point in space time as in star trekmi 1 di 11 hi 0 mmi 0 si 0 yf 2017 ending point in desired time lapsemf 1 df 25 hf 23 mmf 59 sf 59 tini datetime yi mi di hi mmi si tfin datetime yf mf df hf mmf sf read from your only found channel aotrott thingspeakread 209428 fields 1 numpoints numapuan outputformat timetable botrott thingspeakread 209428 fields 2 numpoints numapuan outputformat timetable xotrott thingspeakread 209428 fields 3 numpoints numapuan outputformat timetable yotrott thingspeakread 209428 fields 4 numpoints numapuan outputformat timetable zotrott thingspeakread 209428 fields 5 numpoints numapuan outputformat timetable aotrott thingspeakread 209428 fields 1 would aterange tini tfin outputformat timetable botrott thingspeakread 209428 fields 2 would aterange tini tfin outputformat timetable xotrott thingspeakread 209428 fields 3 would aterange tini tfin outputformat timetable yotrott thingspeakread 209428 fields 4 would aterange tini tfin outputformat timetable zotrott thingspeakread 209428 fields 5 would aterange tini tfin outputformat timetable synchronize timestables and fill in if missing data using linear interpolationtt synchronize aotrott botrott xotrott yotrott zotrott union linear yyaxis left yyaxis right so plot nowplot tt timestamps tt garagetemp tt timestamps tt pvtemp tt timestamps tt underpvtemp tt timestamps tt outsidetemperature tt timestamps tt garagerooftemp title tetulo desta cosa pal canalimenso some morexlabel lotro tetulo legend xxx yyy zzz etc hope this work too nice graph but confusingalmost everything can be done in thingspeak if you have the data only 1 silvernodashi channel found u00a0,0.5
celiagarridoh,hello everyone u00a0since i have seen some thingspeak channels based on sigfox i would like to ask for the correct sintax to post sigfox callbacks in thingspeak cloud i am currently trying with post https api thingspeak com channels key1 xxxxxxxxxxxxxxxx but i get the http 302 error which is not in fact an error but a redirection message u00a0actually i would like to send data to a specific channel but adding the path channelnumber fields field1 i get an http 404 error not found could anyone help with this issue u00a0thank you very much,0.782726705074
rw950431,if you click on the would ata import export tab of your channel you will see the various options you have to update your channel u00a0 the url you posted looks like reading a value from a channel not posting to a channel the url for an update looks more likepost https api thingspeak com update json api_key your_api_key field1 73,0.5
celiagarridoh,hi again i found the error you were right it was just a sintax error so the request was not right as i am new using http calls it seemed abstract for me thank you besides this webpage was really useful for me an introduction to thingspeak u00a0just in case anyone has the same trouble i leave here what worked for me post http api thingspeak com update api_key write_api_key field1 yourdata,0.790401279926
neilh,hi i am delighted to find thingspeak i am still digging into what it can do i checked over the forums for anybody who might have done an electricimp com interface could not see one here is what i have found works be delighted on better ways of making it work i am playing with the ei with a coupleof other people for a particle dust monitor something using a shinyei ppd42 and then exploring what sort of data it collects https www thingspeak com channels 6855 the ei imp001 is a low cost device on an sd card format that has 6 pins one end and wifi the other end its not open source but is being developed as industrial strength and scale able it has programs developed on an ei cloud interface in quirrel like python to be loaded into the device imp001 and agent the device has the wifi internet stack assumes a wifi local agent and is setup with a smartphone app once the device is active it communicates with the agent in the cloud once connected the device can be used to manage the hardware interface and the agent is used to interface to the internet say thingspeak so the agent internet side that writes to a thingspeak channel is thingspeak account credentialsconst tsapiwritekey xxxxyyy const tschannelid cccc not needed for a write class for reading writing a feed at thingspeak comclass tsfeed static url http api thingspeak com update wrapikey null feedid null constructor wrapikey feedid this wrapikey wrapikey this feedid feedid send data to feed expects a table with channel value pairs function push data callback tsfeed local datastreamts foreach channel value in data server log tspush channel value datastreamts channel value local postheaders host api thingspeak com connection close x thingspeakapikey wrapikey content type application x www form urlencoded server log format s datastreamts http post url postheaders datastreamts sendasync callback end tsfeed handles the response from the asyn post to serverfunction onupdatets res if 200 res statuscode server log agtresulttsfail res statuscode handler for updates from devicedevice on putpsts function data server log agtputts http jsonencode data feedts push data onupdatets create feed objectfeedts tsfeed tsapiwritekey tschannelid eof on the device side the code to create an event putpsts to push it to the agent is agent send putpsts field5 concentration field4 pulselong field3 pulseshort field2 particle1min_cnt field1 ratiomin_per,0.95984017849
glynnbebee,it a little late but i want to thank you for this post u00a0 it really helped me out today u00a0thanks again g,0.797450602055
glynnbebee,wondering if anyone has a minute and can tell me how to modify this code to send multiple temperatures to thingspeak i have working the electric imp code to send 1 temperature but have not been able to modify it to send 6 temperatures u00a0 the temperatures are stored in an array u00a0 i am getting datapoint temp 1 through to thingspeak but do not know how i would also send in the same message datapoint temp 0 datapoint temp 2 datapoint temp 3 and datapoint temp 5 u00a0the device code i have now is local datapoint u00a0 u00a0 u00a0 id id u00a0 u00a0 u00a0 temp format 2f mythermistor0 read_f u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 format 2f mythermistor1 read_f u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 format 2f mythermistor2 read_f u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 format 2f mythermistor3 read_f u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 format 2f mythermistor4 read_f u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 format 2f mythermistor5 read_f agent send thing1 datapoint temp 1 u00a0the agent code online web ide i have now is local thingspeakurl http api thingspeak com update local headers u00a0 content type application x www form urlencoded u00a0 x thingspeakapikey my key is here local field field1 function httpposttothingspeak data u00a0 local request http post thingspeakurl headers data u00a0 local response request sendsync u00a0 return response device on thing1 function analog_value u00a0 local response u00a0 httpposttothingspeak field analog_value u00a0 server log house temp samples response body u00a0thanks in advance for pointers on how to proceed g,0.5
glynnbebee,i am still working on this and all ears u00a0 focusing on just 2 temps in one message for now u00a0 what i did get working was this again where would atapoint is an array of 7 temperatures device thingspeak temp0 field 1agent send thingtemp0 datapoint imp sleep 20 thingspeak temp1 field 2agent send thingtemp1 datapoint agentlocal channel xa6d1incqfwndmk5 local thingspeakurl http api thingspeak com update local headers u00a0 content type application x www form urlencoded u00a0 x thingspeakapikey xa6d1incqfwndmk5 local field1 field1 function httpposttothingspeak data u00a0 local request http post thingspeakurl headers data u00a0 local response request sendsync u00a0 return response device on thingtemp0 function datapoint local response u00a0 httpposttothingspeak field1 datapoint temp 0 server log thingspeak channel channel feed 1 response body local field2 field2 function httpposttothingspeak data u00a0 local request http post thingspeakurl headers data u00a0 local response request sendsync u00a0 return response device on thingtemp1 function datapoint local response u00a0 httpposttothingspeak field2 datapoint temp 1 server log thingspeak channel entries response body u00a0what i thought would work is something like below but the operator is not working u00a0 the code checks out ok in the electric imp ide and uploads to the imp but the agent side returns an error error bitwise op between tring and tring u00a0device thingspeak code all temps at onceagent send thingtemp datapoint agentlocal channel xa6d1incqfwndmk5 local thingspeakurl http api thingspeak com update local headers u00a0 content type application x www form urlencoded u00a0 x thingspeakapikey xa6d1incqfwndmk5 local field1 field1 local field2 field2 local field3 field3 local field4 field4 local field5 field5 local field6 field6 local field7 field7 function httpposttothingspeak data u00a0 local request http post thingspeakurl headers data u00a0 local response request sendsync u00a0 return response device on thingtemp function datapoint local response u00a0 httpposttothingspeak field1 datapoint temp 0 field2 datapoint temp 1,0.5
glynnbebee,nevermind u00a0 i got it u00a0 the answer was here all along http community thingspeak com forum thingspeak api electric imp p669 u00a0great forum u00a0 thanks,0.5
capolaris,hi everyone i am writing with a quick question as i am trying to learn more about how thingsspeak works by playing with the plotting data on charts this is my 1st post i was wondering about how everyone deals with bad data points say for example that i have a series of air temperature data points showing 60 deg f and in the middle these numbers i have a single value that is 2 since the 2 is obviously a bad data point due to a problem with my sensor is there a way to are move it from the chart that is being plot thanks in advance luke,0.154478251934
lee,hi luke you can apply the min parameter to the feed and results below that value wo not be shown https thingspeak com docs charts you can also specify this parameter by going to your public or private channel view clicking on the edit chart icon and specifying would ata min or would ata max here an example https api thingspeak com channels 9 charts 1https api thingspeak com channels 9 charts 1 min 160lee,0.5
capolaris,hi leegreat thanks for letting me know about the min function i was not aware of that since some of my bad data values are somewhat random some of them are close to the temperature that i was recording e g i get a continuous 65 3 and all of a sudden it goes to 60 and then immediately jumps back to the 65 3 level but then during the evening as it gets colder and the real values get to 53 if i was to set the min i would be chopping off these good values along with the bad data therefore i was wondering if there might be a better way of going around to do this is there a way to delete specific data point s which i know represent bad data thanks,0.5
lee,hi luke we currently do not have a way to delete the bad data points but we are internally discussing how to handle this and hope to have a solution in the future whether that be deleting the data points directly or providing smarter analysis and visualization of existing data or both lee,0.148878723383
jass,hi i would like to see this available too thanks,0.996001005173
fishmastaflex,hey lee would it be possible to delete all data in a particular field instead of all data in a channel i know you can go into channel settings page and click on the remove radio button under a particular field but the data does not permanently go away when i tried that maybe a future improvement,0.5
lee,hi deleting all possible data in a single field is not possible right now but will be taken into account when we start working on a feature to allow selective deletion of data lee,0.5
rberkelm,hi leejust wondering if there is any update to this thread i e ability to delete specified data points from a field and all data points from a field without deleting the entire channel u00a0apologies if i have missed any subsequent postings on this,0.171308577061
svicar,heloi can give you the way to do it 1 go to data inport export and export the data to csv file use notepad to delete or modify unwanted rows 2 go to channel setting and clear channel delete all data only velues 3 inport the modifyed csv file u00a0thats the way i deleted unwanted data,0.0827906131744
avoletta,hi all i use a page to update my channel link index html fermcare oficinadepao comafter pressing the end button the channel is updated perfectly but then i get a return page with a number the index of the updated value i do not want to receive this page or if possible i do not want it to interferein the flow of my website what is the solution thank you my page html code doctype html public w3c dtd html 4 01 en http www w3 org tr html4 strict dtd html head meta content text html charset iso 8859 1 http equiv content type title teste title head body big big big big hi this a test web page br br form action https api thingspeak com update method post p label for et temp desired temperature label input id api_key name api_key value would v63ipathucnx9lz type hidden input id field1 name field1 type text br input value end type ubmit p form big big big big body html,0.852592110634
akhila,hi u00a0avoletta have you considered doing an ajax post request instead of direct form submit and then ignoring the response from thingspeak the response indicates successful writing of data to thingspeak unsure if you really want to ignore the response because if the update fails the response is 0 more details u00a0https www mathworks com help thingspeak update channel feed html u00a0 u00a0thanksakhila u00a0,0.111692130566
avoletta,tks akhila u00a0i have no idea how to implement ajax or json script coud you give me same examples,0.225470632315
Vinod,here a simple example you can expand on html head meta content text html charset iso 8859 1 http equiv content type title test page title script src https ajax googleapis com ajax libs jquery 3 1 1 jquery min js script script function postit var valuetopost field1 val var formdata api_key yourapikeyhere field1 valuetopost ajax url https api thingspeak com update type post data formdata success function data textstatus jqxhr if data 0 alert channel not updated else alert new entry data added to channel error function jqxhr textstatus errorthrown alert error posting data script head body h1 example html page form action method get p label desired temperature label input id field1 type text value br br input value update thingspeak type button onclick postit p form h1 body html you can remove the alert if you do not want the page to display alerts if this is confusing you may want to take some basic u00a0javascript classes,0.849967837334
avoletta,hi u00a0vinod u00a0i will try this and study u00a0thanks a lot,0.959382236004
avoletta,solved it worked perfectly u00a0tks again,0.947422146797
SilverNodashi,hi u00a0 u00a0i hope someone can help me with some sample code to upload multiple ds18b20 readings to different thingspeak fields my platform of choice is the linkit one device which has an arm mcu and i have found that the dallastemperature h library does not work so well most of the readings are 127 00 instead of the actual temperatures but if i read the temperature without that library i e doing a 1 wire lookup it works fine the problem is i can not figure out how to read 4 different temperatures in order to submit to thingspeak u00a0 u00a0here my code so far u00a0 u00a0 include onewire h include wire h onewire ds 10 on pin 10 a 4 7k resistor is necessary include ltask h include lwifi h include lwifiserver h include lwificlient h define wifi_ap ahlers define wifi_password 5qg8dzjpes41 define wifi_auth lwifi_wpa choose from lwifi_open lwifi_wpa or lwifi_wep according to your wifi ap configuration thingspeak settingschar thingspeakaddress api thingspeak com string writeapikey 69nweuz2igpxrurz const int updatethingspeakinterval 16 1000 time interval in milliseconds to update thingspeak number of seconds 1000 interval long lastconnectiontime 0 boolean lastconnected false int failedcounter 0 lwificlient client void setup lwifi begin serial begin 115200 keep retrying until connected to ap serial println connecting to ap while 0 lwifi connect wifi_ap lwifilogininfo wifi_auth wifi_password delay 1000 startwifi void loop byte i byte present 0 byte type_s byte data 12 byte addr 8 float celsius fahrenheit celsiuss if ds search addr serial println no more addresses serial println ds reset_search delay 250 return if onewire crc8 addr 7 addr 7 serial println crc is not valid return serial println ds reset ds select addr ds write 0x44 start conversion use ds write 0x44 1 with parasite power on at the enddelay 700 maybe 750ms is enough maybe not we might do a ds depower here but the reset will take care of it present ds reset ds select addr ds write 0xbe read scratchpad serial print data serial print present hex serial print for i 0 i 9 i we need 9 bytes data i ds read serial print data i hex serial print serial print crc serial print onewire crc8 data 8 hex serial println convert the data to actual temperature because the result is a 16 bit signed integer it should be stored to an int16_t type which is always 16 bits even when compiled on a 32 bit processor int16_t raw data 1 8 data 0 if type_s raw raw 3 9 bit resolution default if data 7 0x10 count remain gives full 12 bit resolution raw raw 0xfff0 12 data 6 else byte cfg data 4 0x60 at lower res the low bits are undefined so let zero them if cfg 0x00 raw raw 7 9 bit resolution 93 75 ms else if cfg 0x20 raw raw 3 10 bit res 187 5 ms else if cfg 0x40 raw raw 1 11 bit res 375 ms default is 12 bit resolution 750 ms conversion time celsius float raw 16 0 serial print temperature serial print celsius serial print celsius celsiuss round celsius string analogvalue0 string celsiuss dec serial println celsius print update response to serial monitor if client available char c client read serial print c disconnect from thingspeak if client connected lastconnected serial println disconnected serial println client stop update thingspeak if client connected millis lastconnectiontime updatethingspeakinterval updatethingspeak field1 analogvalue0 check if arduino ethernet needs to be restarted if failedcounter 3 startwifi lastconnected client connected void updatethingspeak string tsdata if client connect thingspeakaddress 80 client print post update http 1 1 client print host api thingspeak com client print connection close client print x thingspeakapikey writeapikey client print content type application x www form urlencoded client print content length client print tsdata length client print client print tsdata lastconnectiontime millis if client connected serial println connecting to thingspeak serial println failedcounter 0 else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println lastconnectiontime millis void startwifi client stop serial println connecting arduino to network serial println delay 1000,0.751908004284
rw950431,if your code works for one value then the straightforward way is to add a second analog value and update thingspeak like u00a0updatethingspeak field1 analogvalue0 field2 analogvalue1 u00a0however in the long term its better if you can set up a loop that gets an array of analog values and assembles u00a0them into a string to input into the update function,0.814049243927
SilverNodashi,rw950431 said if your code works for one value then the straightforward way is to add a second analog value and update thingspeak like u00a0 updatethingspeak field1 analogvalue0 field2 analogvalue1 u00a0 however in the long term its better if you can set up a loop that gets an array of analog values and assembles u00a0them into a string to input into the update function u00a0 u00a0i am not using analog sensore but digital sensors which uses the 1 wire bus and that where i am stuck how to read each sensor value individually u00a0,0.776210665703
rw950431,sorry misunderstood the issue you were having u00a0according to the documentation at https www pjrc com teensy td_libs_onewire html you loop over all the active devices on the one wire bus by repeatedly calling ds search u00a0eg something like this u00a0 you will need to save each value in an array then assemble all the values into a string afterwards u00a0val_count 0while ds search addr u00a0 if onewire crc8 addr 7 addr 7 u00a0 u00a0serial println crc is not valid u00a0 u00a0continue u00a0 u00a0 serial println u00a0 ds reset u00a0 ds select addr u00a0 ds write 0x44 start conversion use ds write 0x44 1 with parasite power on at the end etc etcvalues val_count analogvalue1 val_count now assemble all the values into field1 values 1 field2 values 2 etc and submit to thingspeak u00a0,0.221103966236
uroszila,hi u00a0my esp8266 is sending data to thingspeak but none of them are being shown on the graph please help me u00a0my code define esp8266 serial define ssid u00a0 define pass u00a0 define ip http 184 106 153 149 thingspeak com ip define soilmoisturepin 0 senzor za vlago v zemlji na analog pin 0string get get update key xxxxxxx thingspeak key string get1 field string soilmoist string soilmoisture float moisture char moisture_c 6 calculates the percentage of soil moisture moisture analogread soilmoisturepin moisture 100 1 moisture 1023 dtostrf moisture 0 1 moisture_c converts floats to stringsreturn string moisture_c u00a0void upadatevalues string moisture_c string cmd at cipstart tcp cmd ip cmd 80 esp8266 println cmd delay 2000 if esp8266 find error serial print error1 return cmd get get1 cmd moisture_c cmd serial print cmd esp8266 print at cipsend esp8266 println cmd length if esp8266 find esp8266 print cmd else esp8266 println at cipclose boolean connectwifi esp8266 println at cwmode 1 delay 2000 string cmd at cwjap cmd ssid cmd cmd pass cmd esp8266 println cmd delay 5000 if esp8266 find ok serial println ok return true else serial println ko return false void setup pinmode soilmoisturepin input serial begin 9600 esp8266 begin 115200 sensors begin esp8266 println at delay 5000 if esp8266 find ok connectwifi void loop soilmoist soilmoisture upadatevalues soilmoist delay 5000 u00a0on my terminal i get at53 149 80get update key xxxxxx field1 3 3at cipsend 47atat cwmode 1at cwjap 7908de 260335799 okat cipstart tcp http 184 106 153 149 80get update key xxxxxx field1 7 8at cipsend 47at cipclose u00a0 and so on what is wrong,0.5
jvasudev,i think the parameter key should be changed as api_key as in https www mathworks com help thingspeak update channel feed htmlso that your get request may look like u00a0get update api_key xxxxxx field1 3 3,0.5
mchampio,i have data in thing speak that i can get with url https api thingspeak com channels 203731 feeds xml results 500 xml simplexml_load_file url channel_name string xml name print_r channel_name this is one of my attempts to u00a0display the feeds fieldsforeach xml feeds as feed u00a0 u00a0 u00a0 u00a0 u00a0 print_r feed the channel name displays when i run this code but i have tried every combination i can think of to get the feed data but either get nothing displayed or an error messagewhat code do i use to get the feeds data field1 field2 etc alternatively is there documentation specific to the feeds data or other software you can point me to,0.724441826344
akhila,hi u00a0here is the doc regarding retrieving of channel feeds u00a0https www mathworks com help thingspeak get a channel feed html u00a0thanksakhila u00a0,0.72073751688
jvasudev,if you are looking to just fetch the data from the individual fields from the overall feeds data you can use something like this php url https api thingspeak com channels 203731 feeds xml results 500 xml simplexml_load_file url channel_name string xml name print_r channel_name field1 xml xpath feed field1 gets all field1 whose parent is feed print_r field1 field2 xml xpath feed field2 gets all field2 whose parent is feed print_r field2,0.5
mchampio,thank you so much jvasudev that is exactly what i was looking for i added the loop at the bottom so noobs like me could see how to use the data in the field php url https api thingspeak com channels 203731 feeds xml results 500 xml simplexml_load_file url description string xml description print_r description field1 xml xpath feed field1 get all field1 whose parent is feed print_r field1 field2 xml xpath feed field2 gets all field2 whose parent is feed print_r field2 foreach field2 as onefield2 u00a0 echo onefield2 u00a0 echo br,0.5
maxmbeded,hi guys i am trying to figure out how to update a channel with http put https nl mathworks com help thingspeak update a channel html in order to update metadata so i try to test with unix command curl curl x put d key_api my_write_key d metadata this is my update http api thingspeak com channels 98538 ibut it does not work and terminal return http 1 1 302 foundcontent type text html charset utf 8transfer encoding chunkedconnection closestatus 302 foundx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800location http api thingspeak com logincache control no cachex request id dea3439c 8757 4a3a b7a1 be6c5841ca66x runtime 0 115051x powered by phusion passenger 4 0 57date mon 19 dec 2016 14 43 05 gmtserver nginx 1 9 3 phusion passenger 4 0 57 html body you are being a href http api thingspeak com login redirected a body html later i would like to modify metadata through a raspberry pi u00a0any one have an idea of how to update metadata without login,0.5
rw950431,perhaps key_api should be api_key,0.82159268856
maxmbeded,yes i did a copy error also need https not http curl u00a0 x u00a0 put u00a0 d u00a0 api_key my_write_key u00a0 d u00a0 metadata this is my update u00a0 https api thingspeak com channels 98538 u00a0 ibut it does not change anything tatus 401 error error_code error_auth_required message authorization required would etails please provide proper authentication details still stuck,0.0626604557037
maxmbeded,synthax highlighter failed,0.0377609729767
jvasudev,hi maxmbeded i think you are using the write api key whereas you should be using the u00a0user api key found in the profile page u00a0it is mentioned in the documentation clearly here https www mathworks com help thingspeak update a channel html u00a0 u00a0so the curl code should look like curl x put d api_key user_api_key d metadata this is my update http api thingspeak com channels channel_num i,0.5
maxmbeded,yes that right i used write api key instead of user api as suggested i did not see it it work now thanks a lot here is terminal response http 1 1 200 okcontent type application json charset utf 8transfer encoding chunkedconnection closestatus 200 okx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800etag 3a0e1b238fb4f75be637a9d174bfa5f7 cache control max age 0 private must revalidatex request id 862c5b36 5511 42d0 9f2a 27c5a6dfeea6x runtime 0 129845x powered by phusion passenger 4 0 57date wed 21 dec 2016 13 04 56 gmtserver nginx 1 9 3 phusion passenger 4 0 57 id 98538 name olarly mvp would escription latitude 0 0 longitude 0 0 created_at 2016 03 14t10 18 50z elevation last_entry_id 13 ranking 30 metadata this is my update tags api_keys api_key 2290im0ivaxnhfv7 write_flag true api_key j0pk60jklwnd379l write_flag false api_key 1dfp0t9mcu6558pe write_flag false api_key kihtf7ha4squd46g write_flag false api_key c9eqal67gth122q1 write_flag false api_key ka4mtb7e6g40e6ei write_flag false,0.5
itsme_raju2002,i update data with local time my time zone is 05 30 i e india by using created_at 2016 12 05t14 30 00 and my local time is the same and when it updating in graph it is sowing 05 12 2016 20 00 00 gmt 05 30 so what u00a0will be the correct format for update date and time,0.5
rw950431,perhaps try created_at 2016 12 05t14 30 00 05 30,0.75398182869
itsme_raju2002,i have try with created_at 2016 12 05t14 30 00 05 30 but result is same,0.5
jvasudev,try using the timezone parameter in conjunction with the created_at parameter as created_at 2016 12 05t14 30 00 timezone asia 2fkolkata,0.5
turti,hello there since may 2016 i am logging some dato to thingspeak with my esp8266 since yesterday i logged 66935 times i could see all these data in a chart in my browser when i also send the feed parameter median 1440 this works very well the first two weeks i logged some wrong data which i wanted to delete so i exportet the data deleted the wrong logs cleared my channel and uploaded the csv but now i couldn u00b4t see all of the data in the chart i only could see the last data until a month earlier when i download again the exported data then there is nothing missing also if i add the tart and end feed parameters i could only the one month and not more what is the problem sorry for my english,0.0365823209286
Vinod,i suspect this is a consequence of the length of the file and perhaps multiple simultaneous attempts to upload the data could you try this 1 take your file and break it up into multiple files each with 10000 points in them let call them file1 csv file2 csv file3 csv file7 csv 2 u00a0make sure that the files have increasing order of data i e file1 csv has the oldest data file2 csv has the next oldest data etc 3 upload one file at a time starting from file1 and u00a0going incrementally to file7now see if the data is showing up correctly,0.5
turti,vinod i tryed your solution before with blocks of 8000 points i also waited until these data has been updated on the main page of that channel entries unfortunately that does not worked is it possible that the points are copied in a own table on thingspeak when i update a channel,0.134655058384
Vinod,the problem here appears to be that u00a0the data being uploaded seems u00a0to be getting interrupted by data u00a0from a device turti do you have access to matlab that you can run some code on it does require the desktop matlab u00a0as it involves loading data from a csv file u00a0on your local machine,0.151669740677
gdillen,hi to perform actions on incoming messages on thingspeak i need to have a listener in my cloud app with other words every message that comes in a thingspeak channel i want to have this message available in my cloud app what is the best recommended way of doing this developing an cloud background app polling thingspeak every n seconds using the thingspeak https apis or is react app thinghttp app meant for these scenarios creating a rest api that can be called from thingspeak via the thinghttp app thanks,0.907152712345
gdillen,no one can comment on this thanks,0.917349934578
Vinod,both solutions are possible in my opinion u00a0from an architectural and implementation perspective a react app thinghttp app is more elegant and u00a0efficient solution,0.86627048254
weisoft,hi lee i want to know how i can download a complete channel feed via software i think with a get command best regardsandy,0.937144637108
rw950431,you can read channel feed withhttps api thingspeak com channels 9 feeds json results 8000 u00a0note that if you have more than 8000 points you will need to do multiple requests using the tart and end parameters,0.5
Eric,trying to update a thingspeak channel field using a simple html form using the update api while the submit successfully updates the channel thingspeak retunrs the html page showing the record number i want the form page to simply give a success message and reload not dwell on the thingspeak success page i am not good at html or javascript does anyone have a working example of such a form that sends a post to thingspeak then stays on sending page that i can look at my form is form action https api thingspeak com update api_key xxxxxxxxxxxxxx method post p label for et temp set temp label input type text id field1 br input type ubmit value end p form,0.768558681011
rw950431,its likely you will have to do a little javascript trickery to make it work the way you wish perhaps this might help http ctrlq org code 19233 submit forms with javascript,0.241345524788
Eric,thanks rw i suspect javascript is the way but i am not very good at coding javascript and learn by example anyone have a working sample of posting to thingspeak via javascript,0.838205218315
Eric,for anyone that is interested i have figured out working code for both posting to thingspeak using jquery popping up an alert that the post was successful and reloading the page posted below i have also figured out reading and parsing the json last channel update and posting that in a website if anyone is interested document ready function button click function post https api thingspeak com update json api_key your write key field1 test val function alert your field was updated location reload new channel input submit,0.987174868584
shahzadb13,i need help with the same problem i have tried your solution but doesnt work for me u00a0,0.0109159648418
gmrza,i am trying to get a chart of water usage data to give daily totals in a bar chart the logged data is hourly usage u00a0to start with the following was working https thingspeak com channels 189600 charts 1 sum daily type columnwhen i use the same url now it only gives the total for one day u00a0if i specify the number of days e g https api thingspeak com channels 189600 charts 1 type column sum daily days 5i still have the same problem only one day data is displayed u00a0any ideas why this is the case if i do not try to sum the data multiple days are displayed https api thingspeak com channels 189600 charts 1 type column days 5,0.5
rw950431,i can confirm its true must be a problem in the graph code because if you extract the same data as json it seems to work okhttps thingspeak com channels 189600 feeds sum daily days 5 channel id 189600 name water consumption latitude 0 0 longitude 0 0 field1 litres used created_at 2016 11 22t12 36 01 10 30 updated_at 2016 11 23t10 30 01 10 30 last_entry_id 247 feeds created_at 2016 11 18t10 30 00 10 30 field1 21 84 created_at 2016 11 19t10 30 00 10 30 field1 86 74 created_at 2016 11 20t10 30 00 10 30 field1 478 47 created_at 2016 11 21t10 30 00 10 30 field1 44 5 created_at 2016 11 22t10 30 00 10 30 field1 8 64 u00a0i am interested in monitoring my water consumption so wondering how you are getting this data,0.5
gmrza,interestingly this url gives daily totals u00a0https api thingspeak com channels 189600 charts 1 timezone australia 2fsydney type column days 10 sum daily results 240the problem i still have is that the daily totals are based on utc whereas i want them to be based on australian eastern time u00a0that does seem to be a bug on the question of what i am monitoring i have put a flow sensor in the pipe from my rainwater tanks 2 x 5000l tanks u00a0the water supply from the tanks is used to water my garden u00a0i added the flow sensor to be able to get an idea of how much water is going onto the garden the sensor itself uses a hall effect sensor u00a0i am taking the output of the hall effect sensor into an optocoupler first unfortunately i put the flow sensor too close to my pump so it picks up interference when the pump switches off u00a0i run the output of the optocoupler into a cascaded pair of 4 bit binary counters to give an 8 bit counter using a 74hc4520 counter chip u00a0the output lines of the counter then go into the gpio port b of a mcp23017 gpio expander which is on the i u00b2c bus of a raspberry pi zero u00a0this is what the finished product soldered on veroboard looks like,0.5
Vinod,gmrza approximately when did you notice this change u00a0is it associated with some changes you made on your channel setting u00a0specifically have you changed any settings in the private view of the channel for example the average or median setting did you by any chance clear the channel at any point and re import the data u00a0from a csv file in the last few days,0.707543134689
gmrza,vinod said gmrza approximately when did you notice this change u00a0is it associated with some changes you made on your channel setting u00a0specifically have you changed any settings in the private view of the channel for example the average or median setting did you by any chance clear the channel at any point and re import the data u00a0from a csv file in the last few days u00a0i have cleared the channel and re imported the data u00a0the interesting thing is that in the cases when it is only reporting a few days the sum starts from the point where i cleared the channel i re imported the older data and new data is getting added every hour what is also still puzzling me is why the daily sums start at 0 00 utc even when i specify my timezone as australia 2fmelbourne,0.789431333542
Vinod,gmrza i had to look at your data in the database and noticed an anomaly the entries do not appear to be in order which i suspect may be an artifact of how it was created or imported u00a0since you have a reasonably small dataset could you attach the file you are using for importing the data i would like to check if the issue is in the data itself or is a bug in our u00a0import process,0.103249996901
gmrza,vinod said gmrza i had to look at your data in the database and noticed an anomaly the entries do not appear to be in order which i suspect may be an artifact of how it was created or imported u00a0since you have a reasonably small dataset could you attach the file you are using for importing the data i would like to check if the issue is in the data itself or is a bug in our u00a0import process u00a0 u00a0the data i uploaded is here http www rehmet alt za wp content uploads flowlog csvthe steps i followed we essentially to clear the feed start uploading of new data the daemon which logs flow data calls a script which then uploads the reading via the api and then populate the old data by uploading the csv u00a0this meant that i had a couple of data points uploaded via the api before i uploaded the csv there is one other issue i am running into in that when i do a daily sum the sum for each day runs from 11 00 aedt to 19 59 aedt the next day i e from 0 00 utc to 23 59 utc where i actually want to sum from 0 00 to 23 59 59 melbourne time u00a0this is happening even when i specify the timezone in the url https api thingspeak com channels 189600 charts 1 type column days 14 sum daily results 336 timezone australia 2fsydney sydney and melbourne are in the same timezone aside from the timezone issue the result is looking quite good u00a0 it has been raining so i have not had to water the garden in the last couple of days u00a0,0.174019575119
gmrza,vinod said gmrza i had to look at your data in the database and noticed an anomaly the entries do not appear to be in order which i suspect may be an artifact of how it was created or imported u00a0 since you have a reasonably small dataset could you attach the file you are using for importing the data i would like to check if the issue is in the data itself or is a bug in our u00a0import process u00a0 u00a0something else that i noticed is that if i use the data export buttons in the private view tab i do not get all the data about 100 of 300 data points u00a0the data export facility in the import export tab however returns everything what is interesting here is that i can see the entries in the order they were logged and uploaded first 2 entries that were logged 1 and 2 then entries 3 to 229 were uploaded from a csv u00a0the entries from 230 onward were all logged u00a0via the api regards geoff,0.136955559254
Vinod,hi geoff now that you have described how the channel is populated i know what is going on u00a0when you clear the channel and have the devices continue to upload to it if the device has uploaded data before you have imported the old data the entries in the database are not monotonically increasing from the creation date of the entry to take an example lets say you had 2 entries posted via the api at 11 00 am and 12 00 am to a freshly cleared channel these two would be entry 1 and entry 2 which have a date of today now you imported your data from a csv that had 200 rows the entries 3 202 in the database would actually u00a0have been measured u00a0before entry 1 and 2 this u00a0exposes a bug in the graphing algorithm when you do daily monthly sums which u00a0makes u00a0the assumption that the data is monotonically increasing it is basically the same out of order dataset which causes the would ata export in the private view to return partial data u00a0thank you for reporting this we will work on resolving this on our end there is a workaround you can do in the mean time export your data from the import export tab clear your channel and immediately u00a0re import the data then allow your devices to continue to u00a0post data to the channel the graphs should look u00a0correct now vinod,0.768396377563
gmrza,vinod said hi geoff now that you have described how the channel is populated i know what is going on u00a0 when you clear the channel and have the devices continue to upload to it if the device has uploaded data before you have imported the old data the entries in the database are not monotonically increasing from the creation date of the entry to take an example lets say you had 2 entries posted via the api at 11 00 am and 12 00 am to a freshly cleared channel these two would be entry 1 and entry 2 which have a date of today now you imported your data from a csv that had 200 rows the entries 3 202 in the database would actually u00a0have been measured u00a0before entry 1 and 2 this u00a0exposes a bug in the graphing algorithm when you do daily monthly sums which u00a0makes u00a0the assumption that the data is monotonically increasing it is basically the same out of order dataset which causes the would ata export in the private view to return partial data u00a0thank you for reporting this we will work on resolving this on our end there is a workaround you can do in the mean time export your data from the import export tab clear your channel and immediately u00a0re import the data then allow your devices to continue to u00a0post data to the channel the graphs should look u00a0correct now vinod u00a0 u00a0thanks vinod u00a0i will give it a shot to export the data clear the channel and re import it that leaves me with one question is there a way i can address the timezone issue to have it do the daily sums from 0 00 australia melbourne rather than starting the daily sums at 0 00 utc u00a0regards geoff,0.741856694221
gmrza,vinod the export clear import approach seems to have helped u00a0there is still a little bit of weirdness the following url even though it specifies would ays as 10 only gives a graph of 5 days https api thingspeak com channels 189600 charts 1 sum daily type column days 10 results 240when i add a timezone it shows 10 days https api thingspeak com channels 189600 charts 1 sum daily type column days 10 results 240 timezone australia 2fmelbourneas i mentioned in my previous post the sum is from 11 00 to 10 59 59 not from 0 00 to 23 59 59 i e it is setting the date boundary according to utc not according to the timezone i specify u00a0if you look at the charts for the above two urls you will see the total for 20 nov is 478 47l and 21 nov is 44 5l you will notice that the readings for 05 00 and 06 00 on the 21st u00a0are being added to the total for the 20th u00a0in utc those times were still on the 20th u00a0regards geoff,0.5
piajola,hello geoff finally i decided to say this first run as is then change things as you wish in the code play with the values to see if this code helps you some lines 28 34 to see utc vs localver rchid 189600 field idxxxxx 1 yyyyy 2 zzzzz 3 key between the below rapikey a1b2c3d4e5f6g7h8 not needed for public channelswapikey 16uppercase numb needed if writingyi 2016 u00a0 u00a0 initial yearmi 11 u00a0 u00a0 u00a0 monthdi 25 u00a0 u00a0 u00a0 u00a0 dayhi 0 u00a0 u00a0 u00a0 u00a0 u00a0 hourmmi 0 u00a0 u00a0 u00a0 minutesi 0 u00a0 u00a0 u00a0 u00a0 u00a0 secondyf 2016 u00a0 u00a0 end yearmf 11 df 25 hf 23 mmf 59 sf 59 tini datetime yi mi di hi mmi si u00a0 u00a0 u00a0 lapse starttfin datetime yf mf df hf mmf sf u00a0 lapse end tfin datetime now u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 right nowtkomo 01 u00a0 u00a0 u00a0 u00a0 first try 1 then next another numberif tkomo 1 tini timezone utc tfin timezone utc else tini timezone america lima u00a0 your any timezone u00a0 tfin timezone america lima endtini timezone u00a0 u00a0 u00a0 u00a0 does not show if ends with tfin timezone datch times thingspeakread rchid are adkey rapikey fields 1 2 3 4 would aterange datetime tini datetime tfin datch thingspeakread rchid are adkey rapikey fields 1 would aterange tini tfin outputformat table datch thingspeakread rchid fields 1 would aterange tini tfin outputformat table datch es la tabla taim datch timestamps taim es un array x 1 que sale de tabla datch y es la columna timestampsx1 datch litresused aura la chousiada taim x1 datch max x1 sum x1,0.5
Vinod,hi geoff as piajola mentions you can use a matlab app to do things like time offsets and display more advanced graphs piajola has provided some code that makes u00a0offsetting for timezone easy to do u00a0regarding why the sum does not go back i will need to do more investigation see this https thingspeak com channels 189600 field 1 csvit appears that u00a0data before entry id 239 is not being pulled in this would explain why the charts do not go back before 11 22 if you are only looking for a moving window of 10 days this should correct itself u00a0in time u00a0i will respond on this thread with u00a0what i find vinod,0.777089953423
Dinu_D,hii i am new here i created a new channel and uploaded data through link successfully but none of the links to retrieve data works for me until i make my channel public when i check public option in channel settings i can do both upload and retrial of data through links u00a0https api thingspeak com channels 183149 feeds json results 2https api thingspeak com channels 183149 fields 1 json results 2these are that links which gives a 1 instead of data need some help to complete my project ud83d ude41 u00a0,0.5
Rob Purser,reading private channels requires that you provide the read api key u00a0see the doc here you can get the read api key from the api key tab on your channel u00a0do not post it here rob,0.5
Dinu_D,thank you very much for your reply can you tell me how to provide this read api key i need to retrieve my u00a0data through a link so how should i provide the read api key,0.822300553322
Dinu_D,i think i need to put this read api key in the link if its right can you tell me the format of this read key u00a0parameter in a link,0.5
Hans,https api thingspeak com channels 183149 feeds json results 2 api_key readapkikeyreadapikey is found under channels your channel and api keys,0.5
Alex,hi there u00a0is it possible to set and save the field label names 8 per channel from an url i use vb net for updating the fields so far so good but now i need to set the labels from this application u00a0thanks u00a0alex,0.876319289207
Alex,anyone,0.255397319794
Hans,hi alex there are api calls to update the channel settings https www mathworks com help thingspeak update a channel htmlthe api key is the user level api key under your account profile let us know if that helps,0.816798090935
sebassilvap,dear gentlemen i have a question i need to send data from thingspeak to a mysql database i am using mysql workbench can i do it creating a php file or is there any api that can do this thank you so much in advance best regards sebastian silva p,0.866324782372
rw950431,as a once off u00a0 export thingspeak data to csv file and import that into mysql i have never used mysql workbench but assume it can import a csv file as an ongoing automated process u00a0 thingspeak react thingspeak thinghttp php or similar code webserver on your mysql server mysql input u00a0 start with getting the php code working to input a value from your web browser to your database it may be easier to make the data source do 2 updates once to thingspeak and once to your database but you still need the php code,0.5
rickpres22,i can not seem to get the location of my channel to update or my google map visualization i send this post https api thingspeak com update json api_key xxxxxxxxxxxxxxxx lat 40 575083 long 113 7920828i get this back channel_id 119959 field1 null field2 null field3 null field4 null field5 null field6 null field7 null field8 null created_at 2016 06 13t03 42 00z entry_id 31418 tatus null latitude 40 575083 longitude 112 7920828 elevation null u00a0when i read my channel status like this get https api thingspeak com channels 119959 feeds json results 2i get this back showing my lat long are still 0 0 0 0 channel id 119959 name would esk temp would escription temperature at rick desk latitude 0 0 longitude 0 0 field1 temp created_at 2016 05 27t17 58 58z updated_at 2016 06 13t03 43 12z last_entry_id 31419 feeds created_at 2016 06 13t03 42 00z entry_id 31418 field1 null created_at 2016 06 13t03 43 12z entry_id 31419 field1 70 3 u00a0what am i doing wrong appreciate any help,0.00914180278778
rw950431,its possible that ts server ignores your update because it does not set any field values u00a0 perhaps try it including a dummy value in an unused field,0.749114573002
rickpres22,yeah i had that thought as well i tried a post that provided a value for field1 along with lat and long values u00a0field1 was updated but lat and long were not,0.770726919174
Hans,by default location data does not get returned in the api results you have to add location true to the api call to get location data back in your response for example https api thingspeak com channels 119959 feeds json results 2 location truei hope that helps,0.773033618927
ggrzes,rickpres22 said yeah i had that thought as well i tried a post that provided a value for field1 along with lat and long values u00a0field1 was updated but lat and long were not u00a0 u00a0do you solve problem i am stuck in the same place in matlab analysis afterresponse thingspeakwrite nnnnnn time 1 f1 f2 f3 location lat lon alt writekey mykey u00a0 u00a0i see u00a0 latitude longitude in response but in my channej i see only new values an location still 0 0,0.233879476786
Hans,the location that is listed on the channel is for the channel home or starting point setting the location with data points sets the location of the data point this is used if the sensor or device is moving if your sensor is fixed in one spot all you have to do is set the location under channel settings and you do not have to send the location with each data point,0.5
vorms,hello i want to use thingspeak with sigfox protocol sigfox autorise to transmit max 12 characters i want to compress datas to fill the 12 characters packet is that possible from thingspeak to parse data and split it to 3 fields for example is that any example for that many thanks for your help thierry,0.5
akhila,hi thierry you could achieve the same using matlab analysis app in thingspeak here are the rough outline of steps 1 read everything to one field of a channel 2 read the field value using thingspeakread api3 use matlab to split the data to three new fields4 write the three fields to a different channel using thingspeakwrite apihere are the links to relevant documentation 1 matlab analysis app https thingspeak com docs matlab_analysis2 thingspeakread https thingspeak com docs matlab_analysis thingspeakread3 matlab help http www mathworks com help matlab 4 thingspeakwrite https thingspeak com docs matlab_analysis thingspeakwritethanksakhila,0.5
jaza_tom,i also would like to read data from a single field in a private channel that i own parse it comma delimited and write that split data to several fields of another private channel i own i have started another thread on this topic u00a0here i can not figure out how to work with the data that thingspeakread returns i have u00a0data thingspeakread readchannelid are adkey readapikey numpoints 1 fields 1 dataarray strsplit data u00a0but this just produces the following error error using strsplitfirst input must be either a character vector or a string scalar u00a0any advice would be much appreciated,0.177835941315
ggrzes,i am just starting with thingspeak therefore not 100 byt maybe you are missing outputformat table in thingspeakread,0.149485260248
ggrzes,i think that raplacment stop working in thinghttp presure czas datetime cisnienie channel_175662_field_1 result on my log multijson loaderror 795 unexpected token at presure czas 25 25datetime 25 25 cisnienie 1030 2,0.5
Vinod,thank you for reporting this we are investigating it,0.942980229855
Eduardo,i u00b4ve been trying to u00a0send a sms with twilio via thinghttp using this example http www instructables com id send sms from arduino over the internet using enc2 step2 configuring thingspeak thinghttp i made some changes in the body field u00a0just for testing purposes from 1xxxxxxxxxx to 591xxxxxxxx body hello world as you see te to part starts with a non us phone number so when i make the request i get the following error u00a0the to number 591xxxxxxxx is not a valid phone number more_info https www twilio com docs errors 21211 the error seems to be because i u00b4m not using an accepted phone number format the phone number works fine when i make the request from my twilio trail accountanybody can help me please,0.271714150906
rw950431,can you clarify if u00a0 works fine from my twilio account means you are able to send using the twilio api check out https www twilio com packages labs code bash twilio sms or that you are able to send manually using the web interface,0.753225207329
Super ME engineer,hello i met the same problem too from 1xxxxxxxxxx to 886xxxxxxxx body hello world non america number the error code is also 21211 i u00a0show the technical support memberr of twilio the thinghttp webpage u00a0and he told me that i u00a0have to u00a0make a requst to thingspeak u00a0admin u00a0to add the command forcedelivey true because you thingspeak use twilio api we can not do anything on this page i do not know who can help to shoot it,0.211862802505
Hans,try adding forcedelivey true at the end of your body within the body of the thinghttp post ex from 1xxxxxxxxxx to 886xxxxxxxx body hello world forcedelivey true,0.874010205269
Super ME engineer,hans try to add forcedelivery true at the end of body is failed the response of website is21211the to number 886936 is not a valid phone number https www twilio com docs errors 21211400,0.049403399229
Super ME engineer,hello hans u00a0 u00a0 ps u00a0 u00a0 21211 in twilio website u00a0means not valid phone number u00a0 u00a0 400 in twilio website means u00a0 400 bad request the data given in the post or put failed validation inspect the response body for details u00a0 u00a0 u00a0 btw i could give you my phone number of non america for test how to text you,0.235024988651
atkcndrms,hello i have a channel that will get very frequent sequences of data ecg data and it is not possible to send one data at a time so i want to write a csv file and import it to the channel but i have to do that via code is there a way to do that,0.279685378075
Vinod,if you have a csv file go to https thingspeak com channels import_export and import your csv file you can also write a matlab analysis app u00a0on thingspeak u00a0to read in the csv file and write it to your channel using a thingspeakwrite u00a0call,0.5
al1fch,hi if you have a csv file go to https thingspeak com channels import_export and import your csv file is there some curl command example to import a csv file in a channel u00a0thanks,0.5
akhila,hi u00a0please review http www mathworks com help thingspeak channel settings html import and let us know if it helped solving your issue u00a0 u00a0thanksakhila u00a0,0.961963891983
al1fch,thanks akhilai know this page and can successfully import u00a0 by hand a csv with my desktop browser i am looking for an http request allowing a remote connected device to send some datas collected in a csv fileregards al1fch,0.964470863342
Cyber1000,hi sorry to hijack this thread but i have a very similar problem i wanted to get my script a little bit more falesafe for example if my network connection drops so in case of failure i am writing data in a little csv file on next startup i wanted to send data of this csv file to thingspeak unfortunately i have overseen the 15s limit and so in my first testings only some values are transmitted u00a0 al1fch or any other who has a solution have you found a way to push a csv file via api or overcome the 15s limit u00a0thanks cyber1000,0.123592704535
Wayne,i am in the same predicament as cyber1000 u00a0yes one can upload a csv from the desktop but many arduino devices are using sd dataloggers u00a0hence what is the code protocol to upload the stored data via wifi directly from the device u00a0so the order that would make sense to me is to 1 read u00a0x amount of u00a0different sensor readings as data with timestamp 2 u00a0write each data point onto a csv u00a0file opened by the datalogger on the device u00a0there would be x amount of fields with each timestamp 3 repeat once per second4 after 15 readings sense for online connectivity 5 u00a0if connected send all stored data to thingspeak each line will have it own timestamp u00a0if you maintain connectivity then 15 lines of a csv file will be uploaded u00a0if not then a much higher volume would be uploaded 6 u00a0confim that data was uploaded successfully 7 u00a0back flush the csv file of the uploaded data 8 u00a0repeat,0.5
Vinod,thank you for the feature request we will consider this in upgrades to the thingspeak functionality in the mean time one possible approach is to have your data logger send you an email with the values written out to sd card this can then be imported into your u00a0thingspeak channel using a desktop,0.909458518028
l.callan,hi it does not have an option for chart height and width in the the chart options if i change the iframe html to a smaller width than the 450px then it comes up with a scroll bar which i do not want u00a0is there anyway i can change the chart height and width on the channel options is there something i am missing u00a0thanks,0.208397716284
Vinod,could you provide more information are you embedding some u00a0thingspeak charts on your own page are you trying to change the size of the charts in your thingspeak channels page u00a0where are the scrollbars you are seeing here an example of a u00a0thingspeak channel view scaled to a size specified u00a0by the height and width parameter https thingspeak com channels 9 charts 1 height 400 width 600you could embed this in an iframe on your webpage if that is what you are attempting to do,0.5
sam_uk,hi i am really liking the look of your service i have not set up any things yet but i think i will use your service to store u00a0and visualise my data is there an established way of users automatically backing up data the best i have come up with is a cronjob wget u00a0on https thingspeak com channels 61216 feed csvis there a more elegant way as an aside have you considered providing rss feeds of the data u00a0that would allow me to feed it into my free sandstorm io account https apps sandstorm io app zj20q6pwy456cmq0k57n1mtqqtky664dfqnhsmf3t36khch5gephthankssam,0.937195777893
westonhull,has anyone had an issue with data stopped importing u00a0nothing has changed via code or thingspeak u00a0i changed the api key just to verify it was not that and it shows the entries but does not show the data u00a0even if i pull the csv file it shows all the entries but no data in the fields u00a0like i stated before it was working just fine and then it stopped u00a0any suggestions i would greatly appreciate it u00a0thanks wes,0.0824258923531
Vinod,are you able to use u00a0a browser to get data into the channel from u00a0a computer on the same network as your device u00a0is this behavior only seen on one channel what is the channel number,0.5
westonhull,hello thanks for the reply u00a0i am not sure really how to use the get feature u00a0it is on all channels u00a0i can see this under the serial monitorserver is at 192 168 2 90connecting to thingspeak http 1 1 200 okcontent type text html charset utf 8content length 4connection closestatus 200 okx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800etag 1e51e0f3b6b60070219ccb91bb619a6b cache control max age 0 private must revalidateset cookie request_method post path x request id f1670ca7 fc9a 407e 8e17 050ded7e3103x runtime 0 027753x powered by phusion passenger 4 0 57date mon 10 oct 2016 00 05 26 gmtserver nginx 1 9 3 phusion passenger 4 0 574372 disconnectedthen under things speak it says 4372 entries with no data u00a0i am really trying to learn the code side u00a0i understand the basics but the string concept that i was using confuses me that is why i have not touched it since i got it running u00a0if you have any ideas i am willing to listen u00a0thanks in advance wes,0.5
Vinod,try this 1 login to your thingspeak account and set up a new public channel copy the write api key for the channel 2 in a web browser go to https api thingspeak com update api_key your_api_key_without_angle_brackets field1 value_you_want_to_set_to_without_angle_brackets that should post a value to your thingspeak channel u00a0see the graph and confirm that you are able to see the newly posted value remember that you can only do that once every 15 seconds u00a0if you see a number greater than zero this is how many points are in that channel if you get a 0 then the data did not post if this works from your web browser then u00a0we can confirm you can update thingspeak from your network u00a0since you mentioned you are getting started you may want to look at this tutorial can you confirm the examples in the thingspeak library work for you if that does then u00a0can you post your arduino sketch code replacing any api keys with placeholders,0.771221041679
westonhull,hello u00a0the below did work as you stated u00a0however i got it to work u00a0not sure why this matters but it was originally on u00a0the mega and i changed it to the uno and it stopped working but when i changed it back to the mega it started working again u00a0not sure why it matters when i choose the correct board before compiling i am using the same pins https api thingspeak com update api_key your_api_key_without_angle_brackets field1 value_you_want_to_set_to_without_angle_brackets,0.218727946281
Vinod,i am glad you got it working again that a pretty big change from running the code on an arduino mega to an arduino uno u00a0remember that an u00a0arduino mega has a lot more memory than an arduino uno it is possible that your uno u00a0is running out of memory or for some other reason unable to u00a0assemble the necessary information for u00a0the http request correctly this can depend on many factors including u00a0the memory footprint of your compiled code the amount of memory on the arduino etc u00a0,0.845859050751
westonhull,thank for the assistance u00a0,0.970508813858
westonhull,hello i am trying to upload to two different channels in a single connection i can get it to upload to one channel but the other channel is blank u00a0am i missing something here thanks in advance string upload_1 getcurrent gettemp string __data_init api_key string __api_key xxxxxxxxxxxxxx string __postctl field1 string __postct2 field2 string __postct3 field3 string __postct4 field4 string __posttemp5 field5 string __posttemp6 field6 string __posttemp7 field7 string __posttemp8 field8 string ctlead1s string ctlead1 string ctlead2s string ctlead2 string ctlead3s string ctlead3 string ctlead4s string ctlead4 string tprobe1s string tprobe1 string tprobe2s string tprobe2 string tprobe3s string tprobe3 string tprobe4s string tprobe4 string _ctdata __postctl ctlead1s __postct2 ctlead2s __postct3 ctlead3s __postct4 ctlead4s string _tempdata __posttemp5 tprobe1s __posttemp6 tprobe2s __posttemp7 tprobe3s __posttemp8 tprobe4s string _senddata1 __data_init __api_key _ctdata _tempdata return _senddata1 string upload_2 calcpressure string __data_init api_key string __api_key xxxxxxxxxxxxxxxx string __postctl field1 string _pressure string pressurevalue string _senddata2 __data_init __api_key __postctl _pressure return _senddata2 void setup serial begin 9600 tempsensors begin probe_resolution startethernet start the ethernet connection and the server ethernet begin mac ip server begin serial print erver is at serial println ethernet localip void loop print update response to serial monitor if client available char c client read serial print c disconnect from thingspeak if client connected lastconnected serial println disconnected serial println client stop update thingspeak if client connected millis lastconnectiontime updatethingspeakinterval updatethingspeak check if arduino ethernet needs to be restarted if failedcounter 3 startethernet lastconnected client connected u00a0void updatethingspeak if client connect thingspeakaddress 80 client print post update http 1 1 client print host api thingspeak com client print connection close client print x thingspeakapikey writeapikey1 client print content type application x www form urlencoded client print content length client print upload_1 length client print client print upload_1 lastconnectiontime millis if client connected serial println connecting to thingspeak serial println failedcounter 0 else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println lastconnectiontime millis void startethernet client stop serial println connecting arduino to network serial println delay 1000 connect to network amd obtain an ip address using dhcp if ethernet begin mac 0 serial println would hcp failed reset arduino to try again serial println else serial println arduino connected to network using dhcp serial println delay 1000,0.299265861511
rvnash,i would like there to be a query to get the most recent non null value for each field in a channel along with the timestamp of when it was updated i realize this probably does not exist but it would be very useful for channels in which not all fields are updated on each entry does anyone know how to do this with the existing api,0.821184515953
rvnash,i have answered my own question this construct https api thingspeak com channels channel_id fields field_id last jsonwill return the last non null value of the field however now i need to issue 8 api calls to get all 8 values of my channels i am requesting a feature such u00a0that a construct like this https api thingspeak com channels channel_id last json u00a0be added and all 8 could be returned in a single call,0.5
Meenakshi,hi thanks for your feedback we will add this feature request for consideration it would be great if you could provide some more information on how you are using last non null values from all the fields it would help us gather requirements for the feature regards,0.954765737057
rvnash,hi thanks for the acknowledgement i am slowly and for fun adding sensors to my house see this website http nashhomemon appspot com as you can see in the garage channel not all sensors have values for every update they are null on thingspeak yet i want the opening page of my website to show the latest value of all of the sensors i have along with the time they were sampled that is the motivation for this feature request i am going to implement it the way i described above asking for each field last entry in turn but i would rather there were just one call regards rich,0.794746398926
Meenakshi,cool project it very exciting for us to see how application features are u00a0being used in so many different ways thanks for the additional info i have captured that as well meena,0.971856594086
vespapierre,hi i have an arduino uno board i would like to collect data from sensors mainly sht10 and am2301 and send the sensor values to thingspeak api server i have checked thinsgpeak offical lib here https github com mathworks thingspeak arduinoi have tinysine wifibee and xbee shield http www tinyosshop com index php route product product path 65_107 product_id 640http www tinyosshop com index php route product product product_id 681configuring the wifibee itself is not a problem how can i send data to thingspeak server with this wifibee did somobedy this before i have worked out gsm sending many many months ago but now i am new to this wifibee i think i should send post http to serial but how thanks,0.7540538311
rw950431,read the user manual u00a0 http www tinyosshop com datasheet rn wiflycr ug v1 2r pdf u00a0 section 4 4 seems to be the most relevant but you will have to go through the rest of the wifi config also probably best to start this section with the wifibee connected to your laptop via a usb to ftdi adapter u00a0you can use a site like http requestb in to help you with the initial config as it unlike thingspeak allows you to see whats being sent,0.9096570611
vespapierre,i have done the followings set the module for wifi connection ok connectr to wifi routertelnet on serial com port thanset ip proto 18set dns name api thingspeak comset ip host 0set ip remote 80set com remote get update key xxxxxxx field1 15saverebootafter reboot openthan come back open same with requestbin address not sent the get request,0.5
rw950431,you could try the static ip address u00a0set ip host 184 106 153 149 u00a0the guide has me confused about what these actually do u00a0can you try to fetch something like the google homepage using the guide in section 4 4 1,0.5
vespapierre,i have checked again the manual i will try open 184 106 153 149 80 u00a0command also actually you can set and save those parameters to not to write in after every single start as i understand open should start and open the tcp connection to the server than get should go out and close should stop the connection ok i will check that with google and will come back future question will be that how to do this later with uno board sendin serial commands,0.806056022644
vespapierre,so it seems i should use another program to open serial connection to wifibee or i am using putty not the right wayset ip host is not working connection failedbutis use dns namethan open means connections is okbut i cannot enter command if i paste the get command i cannot see on terminal but after pressing enter got back http 1 1 400 bad request mime version 1 0 server ks_http 1 0 content type text html connection close clos,0.170305728912
vespapierre,i have already received a library call wifi_shield from tinysine associating and connecting to router is not a problem but still should need how to send the data,0.190461069345
mila,u00a0hi vespapierre have you solved this problem i am experiencing the same right now u00a0thanks mila,0.114226281643
FraxinusE,hello guys so ive been having problems with my internet on my arduino for quite a while now my arduino controls a growing system for my thesis which sends data from dht22 and a distance sensor to thingspeak the problem is it starts good but disconnects within the hour for some reason this has been going on for a month now with trial and error and im getting really tired trying to fix it im willing to pay 20 in bitcoin to the person who can explain simply where my problem is in the code and can fix it in a way i can understand as im not a coder this is my thingspeak channel https thingspeak com channels 139266 my temp and humidity dont work because my dht22 is broken at the moment u00a0is there a way to make the formatting correct i have a arduino forum post aswell where the formatting is better and where you can simply copy code arduino forum post u00a0 include include include enter a mac address for your controller below newer ethernet shields have a mac address printed on a sticker on the shield byte mac 0x00 0xxx 0xxx 0x03 0x5f 0x0f ethernetclient client unsigned long mychannelnumber 139266 const char mywriteapikey p0fgtxxxx1xgn5b int trig 7 int echo 6 include define dhtpin 9 define dhttype dht22dht dht dhtpin dhttype int chk float h slaat de vochtigheid op humidity float t slaat de temperatuur op temperature float v float d includeliquidcrystal lcd a0 a1 5 4 3 2 int valve 8 this is the io number of the valveunsigned long intervaltime 240000 the interval of the valve opening in milliseconds unsigned long opentime 4500 time the valve has to be open on millisecondsunsigned long updatevalve 0 unsigned long updatesensor 0 unsigned long updatethingspeak 0 void setup lcd begin 16 2 dht begin ethernet begin mac thingspeak begin client if ethernet begin mac 0 serial println f failed to configure ethernet using dhcp no point in carrying on so do nothing forevermore while true pinmode valve output if opentime intervaltime this is an illegal state so limit opentime to intervaltime opentime millis serial begin 9600 serial println f aan het opstarten digitalwrite valve high updatevalve millis pinmode trig output pinmode echo input void loop if digitalread valve high millis updatevalve opentime updatevalve millis digitalwrite valve low if digitalread valve low millis updatevalve intervaltime updatevalve millis digitalwrite valve high if millis updatesensor 2000 updatesensor millis serial println makes space between the reading on serial monitorh dht readhumidity t dht readtemperature serial print are ad sensor switch chk case 0 serial println ok break case 1 serial println checksum error break case 2 serial println time out error break default serial println unknown error break serial print vochtigheid serial print h 1 serial print temperatuur oc serial println t 1 lcd setcursor 0 0 lcd print temp lcd print t 1 lcd print c lcd setcursor 0 1 lcd print rv lcd print h 1 lcd print long t 0 h 0 d 0 v 25 met t time h height d distance v volumedigitalwrite trig low transmitting the pulse delaymicroseconds 2 digitalwrite trig high delaymicroseconds 10 digitalwrite trig low t pulsein echo high waiting for the pulseh t 58 afstand berekenen h h 6 correctie van verschil sensor en max water niveau h 14 h water niveau van 0 14 cmd 100 14 h afstand in 0 100 v v d 100 volume water resterend in reservoirserial print waterniveau serial print d versturen naar computer serial println serial print volume water in het reservoir serial print v versturen naar computer serial println liter thingspeak setfield 1 t thingspeak setfield 2 h thingspeak setfield 3 v thingspeak setfield 4 d serial println updatethingspeak serial println updatesensor if client connected millis updatethingspeak 30000 thingspeak writefields mychannelnumber mywriteapikey serial println writing to thingspeak updatethingspeak millis else if client available serial println connected else serial println would isconnected,0.0466797053814
poor_red_neck,so i am starting at bare bones here u00a0one of the fields on my channel is going to be manually updated by a web client it will then be read by an esp8266 for another function the http get link provided in the import export tab of my channel does in fact update the field however my http post form does not update i do however get a valid response in the form of the update number once the form is submitted so i can do a http get just by pasting the link into a browser window and get a response of 10 i then try the html form shown below and i get a valid response of 11 but the channel does not update u00a0no i am not trying to update more than once every 15 seconds these updates are minutes apart u00a0what am i doing wrong form action https api thingspeak com update json method post p label for et temp desired temperature label input type hidden id api_key value xxxxx input type text id field4 br input type ubmit value end p form and yes obviously the xxxxx is the valid write api key you can never assume especially with a newb on his first post hahaha,0.5
rw950431,are you certain that the data is not updated u00a0 u00a0 if you dump out the channel contents as a csv file what is the contents of entry 11 u00a0,0.215527743101
poor_red_neck,you are onto something it appears thingspeak is getting a blank input not sure what i am doing wrong with the html then the valid requests with data are simple links html is posted below form action https api thingspeak com update api_key xxxxxxxxxxxxxx method post p label for et temp set desired temp label input type text id field4 br input type ubmit value end p form p a href https api thingspeak com update api_key xxxxxxxxxxxxxx field4 68 target _blank 68 a nbsp nbsp a href https api thingspeak com update api_key xxxxxxxxxxxxxx field4 69 target _blank 69 a nbsp nbsp a href https api thingspeak com update api_key xxxxxxxxxxxxxx field4 70 target _blank 70 a nbsp nbsp a href https api thingspeak com update api_key xxxxxxxxxxxxxx field4 71 target _blank 71 a nbsp nbsp a href https api thingspeak com update api_key xxxxxxxxxxxxxx field4 72 target _blank 72 a nbsp nbsp a href https api thingspeak com update api_key xxxxxxxxxxxxxx field4 73 target _blank 73 a nbsp nbsp a href https api thingspeak com update api_key xxxxxxxxxxxxxx field4 74 target _blank 74 a nbsp nbsp a href https api thingspeak com update api_key xxxxxxxxxxxxxx field4 75 target _blank 75 a p,0.5
poor_red_neck,here is the csv output u00a0created_atentry_idfield1field2field3field4field5field6field72016 09 26 20 47 08 utc1 u00a0 u00a0 u00a075 u00a0 u00a0 u00a02016 09 26 20 47 54 utc2 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a02016 09 26 20 48 53 utc3 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a02016 09 26 20 49 31 utc4 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a02016 09 26 20 50 31 utc5 u00a0 u00a0 u00a074 u00a0 u00a0 u00a02016 09 26 20 50 46 utc6 u00a0 u00a0 u00a073 u00a0 u00a0 u00a02016 09 26 20 51 02 utc7 u00a0 u00a0 u00a072 u00a0 u00a0 u00a02016 09 26 20 51 21 utc8 u00a0 u00a0 u00a071 u00a0 u00a0 u00a02016 09 26 20 51 46 utc9 u00a0 u00a0 u00a070 u00a0 u00a0 u00a02016 09 26 20 52 07 utc10 u00a0 u00a0 u00a069 u00a0 u00a0 u00a02016 09 26 20 52 31 utc11 u00a0 u00a0 u00a068 u00a0 u00a0 u00a02016 09 26 20 52 48 utc12 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0,0.5
Hans,it looks like some legacy html tags are needed try adding the name parameters to your api_key and field4 input box form action https api thingspeak com update json method post p label for et temp desired temperature label input type hidden id api_key name api_key value xxx input type text id field4 name field4 br input type ubmit value end p form,0.5
poor_red_neck,that worked u00a0thank you very much,0.985741734505
mila,i have tried to follow these steps from the topic wifly example for u00a0thingspeak http community thingspeak com forum thingspeak api wifly example for thingspeak p870 set wlan ssid myssid configure your wifi access point nameset wlan pass mypassword configure your wifi passwordset ip tcp mode 0x0 default tcp mode flagsset ip flags 0x6 default tcp ip setup flagsset ip protocol 2 tcp server and client only set sys autoconn 1 auto connect to remote host on powerupset ip host 184 106 153 149 ip address of thingspeak serverset ip remote 80 ip port number of remote tcp hostset comm remote post string sent to remote tcp host when port openssave store config setup in flashreboot restart and auto join wifi auto open tcp to hostafter this configuration i am sending uart u00a0packet update api_key xyxyxyxyxyxy field3 80 to rn1723 but i have no success i am using rn1723 with firmware 1 0i am able to update thingspeak data by postman using feed u00a0https api thingspeak com update api_key e6oar9lv9jntgdpk field2 13could anyone help me thanks,0.5
pratikr,hello i need to upload image approx u00a0600 kb to cloud does u00a0thingspeak u00a0support that if yes where can i find the option for the same what is the maximum size of data that thingspeak u00a0can support can i upload 600 kb raw data in array u00a0kindly suggest thanks in advance,0.5
jvasudev,hi thingspeak currently does not support uploading image data u00a0if your file is in a csv format and the data is a time series data with timestamps you can see import csv as how to import the data u00a0,0.703009545803
thoem,guys how the format to post url with nodemcu arduino like the link in browswer this is my url thinghttp,0.5
alexleandrom,i am reading a seismometer and it s read 10 samples per second how thingspeak api has a limit of 15seconds request i want to know if is there some way to send multiple value to the same field in the same request i will acumulate this data and send between 15 seconds all data which i read,0.5
ogaitaviaras,hi i have used thingspeak a long time ago and now i have some projects that i am planning to use it the first one i will have some objects with gps sensors these devices will send they latitude and longitude and i need to update it in a map on real time can i use thingspeak accomplish this task refreshing the localization of a moving device in realtime do you have some clue there some public channel that use some feature like this thanks in advance,0.941299557686
akhila,hi u00a0ogaitaviaras u00a0please review these public channels for ideas 1 https thingspeak com channels 737342 https thingspeak com channels public tag gpsthanksakhila u00a0,0.5
blairy,dear community i installed recently on my raspberry pi 2 a thingspeak server the server and the database works well and i can successfully upload the data measured by an esp8266 on the local thingspeak server but in case the wifi connection is lost the esp8266 stores the data and send them later to the server by using the created_at attribute when using this request on my local server http 192 168 1 54 3000 update json api_key xxxxxxxx field1 40 field2 51 created_at 2016 08 15t20 20 00zthe server answers channel_id 1 field1 40 field2 51 field3 null field4 null field5 null field6 null field7 null field8 null created_at 2016 08 15t20 52 20z entry_id 23 tatus null latitude null longitude null elevation null u00a0it seems to be that the created_at attribute or the time is not well formated or not supported by the local server the same request works perfectly on the official thingspeak u00a0can you tell me what i did wrong is my local server wrongly configured u00a0many thanks for your help u00a0,0.5
wsp89040,hi i am new heremy english is poor so please do not care on my grammarfew day ago i can download my all feeds in data import export export featurebut today i want to download my feeds with this feature againi find it change to need send email to support thingspeak com is it the recent rule change i send email about my channel id and read api key to thingspeak but it reply me the e mail message could not be delivered because the user mailfolder is full why can i do to take my feeds with csv again,0.252437591553
Vinod,we noticed some users were programmatically accessing the functionality that was designed for use from the website and causing instability in the system to protect the system we are reworking the feature in the mean time remember there is an api to export your data https www mathworks com help thingspeak readdata htmlup to the last 8000 points can be retrieved using https api thingspeak com channels feeds csv api_key results 8000 note misuse by making a large number of requests in a short time may result in your channel being blocked also you can use matlab to download your data and export it to csv https www mathworks com help thingspeak thingspeakread htmlcan you provide some information so we can redesign the functionality to meet your needs specifically how often do you need to export your data is this on a schedule once a day once a week etc if the data is exported on a schedule is it sufficient to have the data available since the last download or do you need the entire data again what do you do with the data once you have downloaded it is your requirement to export the data limited to doing this from the website or exporting the data programmatically using an api are you just exporting the data for archival purposes or is there another workflow that is driving this if there is another workflow can you please describe it in detail do you need the entire channel data or do you only care for a subset of recently loaded data if you only care for recently loaded data how many hours days weeks back do you need the data for,0.5
wsp89040,thank you very much masteri use your suggestion with up to the last 8000 points can be retrieved using is successbut the url is https thingspeak com xxxxx after is same i want this function because i just beginner in iot matlab but i am familiar with excel arduinoso excel is convenient than meand you say about suggestion maybe i can give some idea1 can setting how many feeds minute hour day week to store a csv and user can download with zip 2 maybe i update my feed in every second and i just want every minute feeds to store a csv or mark than and save with other feeds other feeds just let me see is anything wrong in my sensor3 can change time zone on thingspeak i know youtube have video teach about it but i think it can calculate on thingspeak is better than user i know some suggestion can reach in coding or excel so it just suggestion i wish it can help your company to make thingspeak better,0.761019408703
cstapels,we really appreciate your feedback thanks for taking the time to let us know how you would like the feature to work watch the forum for information on the release of an improved export feature,0.92973536253
topsy,helloi am doing project in which sensing the sensor data using arduino platform to thinkspaek first of all i uploaded the code on the arduino stacked with eps8266 module after uploading i removed the wire connection between arduino microcontroller and laptop but initially for 2 to 3 minutes data is trasferred on thinkspaek after it no data on thinkspeak i have used write api of thinkspaek in my arduino code please guide methank you,0.5
cstapels,are you using the arduino to run the code or just to program the esp8266 which wire connections did you remove the serial connection or ethernet or usb what responses are you getting from the write data api commands,0.5
eplantes,hello after testing the bulk update feature using arduino mkr gsm 1400 devices is time to improve my system in fact i would like to know how to post my requests across http using ssl i mean using https this protocol is very important if i want to avoid the data can be intercepted by others my program is based on the example explained on this page bulk update a thingspeak channel using an arduino mkr1000 board or an esp8266 board so i am sending data across the network in plain text i have been doing several tests applying this changes the port from 80 to 443 using the same server name api thingspeak com changing gsmclient to gsmsslclient but when i try to connect to the server this fails maybe the url is incorrect with 443 port finally my code is very similar to this define the thingspeak server char server api thingspeak com thingspeak server if client connect server 443 client println post channels your channel id bulk_update json http 1 1 replace your channel id with your thingspeak channel id client println host api thingspeak com client println user agent mw doc bulk update arduino esp8266 client println connection close client println content type application json client println content length data_length client println client println data could someone explain me how do get this thanks,0.760882496834
Vinod,port 443 is correct however you want to change your server to https api thingspeak com note the extra s in the url,0.815927624702
eplantes,thanks vimod i use 443 as port and https api thingspeak com as name server i can connect to the server using this settings but after to write in the socket method client print for some strange reason the connection is closed and the channel is not updated maybe this connection is closed by the server but i am very sure on another hand i use the same parameters and headers commented in last post post channels my_channel bulk_update json http 1 1host api thingspeak comcontent type application jsoncontent length 231 or something like thatconnection closethank you very much,0.5
eplantes,hello comming back to this topic i have been doing several tests using https api thingspeak com as name server and 443 as port but when i get connected to the server the connection is closed in a few seconds i have not see any code example in the documentation that explains how to get this could someone give an example using secure protocol https and bulk update feature is it necessary use a certificate in the autenticantion step or something like that someone has experienced the same problems thanks,0.826089739799
eplantes,hello again mmmmm i found where was the error i defined the port variable as a byte not as an int for this reason the output debugged showed 187 as port and not 443 on another hand is not necessary defining the name server using the full path https api thingspeak com we can use the settings as follows server api thingspeak comport 443i have done several tests using the bulk_update feature and this works fine i am very sorry for this stupid error thanks,0.823539972305
JaredP94,hi there i am using a nodemcu dev board and the pubsubclient library to handle a mqtt connection for publishing to a channel when connected the publishing is performed promptly the connection however can take minutes to successfully occur a state of rc 4 is constantly returned indicating a server timeout any help would be appreciated,0.928396463394
JasonW,you might have a local resource that is not closing gracefully and stalling the next connection attempt post your code and we will take a look,0.947636663914
JaredP94,i have a feeling it may relate to the chip going into a deep sleep directly after a publish is executed but not much else comes to mind kind find the code attached note that api values have been replaced sorry about the formatting i am a bit unsure of the syntax for the forum include include include include include rf24 h include rf24network h include credentials h define num_parkings 24 define num_sensors 4 define num_rows 3 define sleep_time 16e6char ssid wifi_ssid change this to your network ssid name char pass wifi_password change this your network passwordchar mqttusername transmitternode can be any name char mqttpass val change this your mqtt api key from account myprofile char writeapikey val change to your channel write api key long channelid 542645 char topic channels 542645 publish val char server mqtt thingspeak com wificlient wificlient pubsubclient client wificlient void callback char topic byte payload unsigned int length handle message arrived rf24 myradio 2 15 rf24network network myradio unsigned long current_time unsigned long upload_duration bool received_results bool incoming int row_number char datareceived num_parkings char parkingbaydata num_rows num_parkings octal mappingconst uint16_t this_node 04 const uint16_t gateway_node 00 bool row1 false bool row2 false bool row3 false void setup serial begin 9600 serial println f transmitter node19 for int i 0 i num_parkings i datareceived i 1 for int i 0 i num_rows i for int j 0 j num_parkings j parkingbaydata i j 0 spi begin myradio begin network begin 90 this_node myradio setdatarate rf24_250kbps myradio setpalevel rf24_pa_min wifi begin ssid pass serial print mac serial println wifi macaddress serial println serial print connecting to serial println ssid wifi begin ssid pass while wifi status wl_connected delay 500 serial print serial println serial println wifi connected serial println ip address serial println wifi localip serial println connection strength serial println wifi rssi string clientname transmitternode serial print connecting to serial print server serial print as serial println clientname client setserver server 1883 set the mqtt broker details void loop incoming false received_results false row1 false row2 false row3 false if client connected reconnect client loop call the loop continuously to establish connection to the server while received_results network update if network available true network available false incoming network available if incoming serial println are cv rf24networkheader header network read header datareceived sizeof datareceived read the incoming data serial print would ata received from admin if header from_node gateway_node row1 memcpy parkingbaydata 0 datareceived num_parkings sizeof char serial println row 1 from gateway for int k 0 k num_parkings k serial print int parkingbaydata 0 k serial print serial println row1 true else if header from_node gateway_node row2 memcpy parkingbaydata 1 datareceived num_parkings sizeof char serial println row 2 from gateway for int k 0 k num_parkings k serial print int parkingbaydata 1 k serial print serial println row2 true else if header from_node gateway_node row3 memcpy parkingbaydata 2 datareceived num_parkings sizeof char serial println row 3 from gateway for int k 0 k num_parkings k serial print int parkingbaydata 2 k serial print serial println row3 true if row1 row2 row3 received_results true delay 0 current_time micros string row1_string string row2_string string row3_string for int i 0 i num_parkings i row1_string int parkingbaydata 0 i for int i 0 i num_parkings i row2_string int parkingbaydata 1 i for int i 0 i num_parkings i row3_string int parkingbaydata 2 i serial println f converted serial println row1_string serial println row2_string serial println row3_string string payload field1 payload wifi rssi payload field2 payload row1_string payload field3 payload row2_string payload field4 payload row3_string payload status mqttpublish if client connected serial print ending payload serial println payload if client publish topic char payload c_str serial println publish ok else serial println publish failed upload_duration micros current_time serial flush client disconnect esp deepsleep sleep_time upload_duration void reconnect char clientid 10 loop until reconnected while client connected serial print attempting mqtt connection generate clientid for int i 0 i 8 i clientid i random 51 connect to the mqtt broker if client connect clientid mqttusername mqttpass serial print connected with client id serial print string clientid serial print username serial print mqttusername serial print passwword serial println mqttpass else serial print failed rc print to know why the connection failed see https pubsubclient knolleary net api html state for the failure code explanation serial print client state serial println try again in 5 seconds delay 1000,0.5
JasonW,the deepsleep might just be the problem after waking up from deep sleep the wi fi connection will need to be remade to see if it is the problem try replacing esp deepsleep sleep_time upload_duration with delay 16000 i think your hardware has a light sleep mode what will keep the wi fi connection alive while turning off unused peripherals,0.229945868254
JaredP94,thanks for the feedback jasonw i did some further testing and it seems that the wifi connection itself was stable and able perform the required operations after a deep sleep call initiating the mqtt broker connection within the loop function seemed to be the issue it was suitable for reconnections but seemingly not the initial connection i resolved this by adding the following code after the setserver call if client connect char clientname c_str serial println connected to mqtt broker serial print topic serial println topic else serial println mqtt connect failed serial println will reset and try again abort thanks again for your help ud83d ude42,0.919274568558
JasonW,i was puzzled why your fix worked so i looked a little closer the actual problem is in the code that creates the randomized client id it was creating a char array with non printable characters and was not null terminated the broker will reject a client id with non printable characters and leaving a null off a char array will cause your code to crash i changed the reconnect to this and it works properly now void reconnect char clientid 00000000 null terminated 8 chars long loop until reconnected while client connected serial print attempting mqtt connection generate clientid for int i 0 i 8 i clientid i random 65 91 use only letters a to z connect to the mqtt broker if client connect clientid mqttusername mqttpass serial print connected with client id serial print string clientid serial print username serial print mqttusername serial print passwword serial println mqttpass else serial print failed rc print to know why the connection failed see https pubsubclient knolleary net api html state for the failure code explanation serial print client state serial println try again in 5 seconds delay 1000,0.165667533875
cstapels,jaredp94 i am pretty sure the code you used was from the thingspeak documentation for mqtt publish from arduino that code missed an update unfortunately there is a newer example showing both publish and subscribe here https www mathworks com help thingspeak mqtt publish and subscribe with esp8266 htmlthanks for pointing out that other error still remained we will look into updating that code as soon as possible,0.244385570288
JaredP94,jasonw thank you for looking into my reconnect function it been extraordinarily helpful in improving the mqtt broker connection quality cstapels thanks for providing feedback on that glad could i could assist,0.982071578503
Jos,hello i have crated a couple of visualisations but several of them show big values at the sides i need only and at most 2 decimals what is the cause of this weird behaviour how can i get this right thanks jos,0.797121286392
cstapels,if it is a matlab plot you can use ytickformat 2f if you are using thingspeakplotyy then you will have to reformat the data in your channel before plotting you can read it and then use round x 2 before plotting,0.750204086304
Jos,thank for this hint cstapels to start with i have set the rounding in the thingspeak channels to 2 i assumed that this would be sufficeint to solve the problem well it does not so i tried your ytickformat 2f suggestion but it is not working yet i have two y axis one on the left and one on the right side of the chart how do i distinguish between these two and how shoud i put this in the my code the code so far is channel id to read data fromreadchannelid 531447 orp field idorpfieldid 4 temperature field idtempfieldid 2 channel read api key if your channel is private then enter the read api key between the below readapikey data timestamps thingspeakread readchannelid fields orpfieldid tempfieldid numpoints 900 are adkey readapikey orpdata data 1 read temperature datatempdata data 2 thingspeakplotyy timestamps orpdata timestamps tempdata ylabel1 orp ylabel2 celsius,0.150462269783
cstapels,since you are using the thingspeakplotyy then ytickformat will not work here is a good example using thingspeakplotyy https www mathworks com help thingspeak plot temperature and wind speed on two different axes htmlafter you read the data from your thingspeak channel then use the round function dataround round data 2 then use thingspeakplotyy with dataround,0.802774608135
wadevcamp,when i export the data from field1 of one of my channels it shows no entry for that field which is as it should be since uploading data via data import of a file while occurring without error does not result in actually putting the data into the field but that a separate problem however when i use a readintfield call it returns a value of 1 with a code of 200 i e operation occurred without error anyone have an explanation,0.5
cstapels,i see your other post for the first problem with data upload for the readintfield question according to the library documentation it should return 0 if there is text data or no integer is your channel public can you share the channelid and the field you are reading from,0.304830610752
wadevcamp,it is not public but if there is a way for you to access a private channel let me know what it is so even though i can now upload data to the channel it still seems as though a channel field that contains nothing i e is blank null returns a value of 1 when retrieved via readintfield vs a value of blank null when retrieved via a data export,0.267377287149
cstapels,on the sharing tab of your channel you can share your channel with at mathworks com i will have access to view your data but not write access to add any data you can revoke it at any time,0.760558843613
wadevcamp,you did not give me a complete email address with which to share the channel i assumed you email to be cstapels at mathworks dot com and shared the channel to that email channel id is 535544 field is 3 and it is blank acc to the data export utility,0.5
cstapels,i just viewed the data in your channel it looks like you recently updated it possibly clearing it but there was no data in the channel readintfield is a member of the thingspeak communication library for arduino and esp8266 that function does not return the http code unless you use getlastreadstatus is that what you are doing to get the 200 code this topic is thinkspeakapi which is related to but different from the thingspeak communication library can you clarify what you are trying to do exactly are you using hardware to read from your channel,0.728407382965
sniper,hi since today i have no visible datas in the private view and app if i export the datas i have it all any ideas thxsniper,0.70749181509
cstapels,use the pencil icon next to the x to change the axis settings and the number of entries or days if you have data but not recent data the thingspeakplot may not show what you want automatically,0.261758863926
sniper,no hats not the problem i changed nothing and it was working until today i also have no datas in the app since today,0.0711955428123
cstapels,is the channel public can you share your channel id i can take a look,0.867629766464
Vinod,i believe a whole bunch of null entries are being written to the channel roughly every minute you can see this on the channel number of entries item if you refresh the page you can also verify this by downloading the data from your channel from the would ata import export tab of your channel i suspect your python code has a bug where some variable overflowed or is not getting set correctly before it is written to thingspeak,0.756983876228
sniper,you are right since i have problems it seems like they are empty entries ok looks like the script is bad now or the sensor is not working properlythanks guys,0.00567308068275
wadevcamp,title should be would ata upload not working i tried to upload the following but got msg the data in the file does not contain values for the datetime column do you wish to continue strange since it the same format i used a few days ago datetimefield32018 08 02t15 04 091if i say yes to the continue question i get the uploaded file is not in a supported format also an error banner says the uploaded file is not in a supported format see channel data import for more information but the hotlink on channel data properties takes me to a page titled channel properties which does not address the format issue any help would be greatly appreciated i either need to get this working soon or switch to another iot platform with more consistently reliable functionality except for this problem i like the ts functionality,0.130565971136
wadevcamp,here i am a few hours later i uploaded the exact same file but this time the uploaded file format was accepted i would love to know why it was not accepted before as i said above i need to be convinced that this functionality is consistently reliable before committing to go into production with ts any help in understanding this apparent inconsistency would be appreciated unfortunately the upload did not result in getting the field values assigned i uploaded the following datetime field32018 08 02t15 04 09 1 and the result was this created_at entry_idfield1field2field3field4field52018 08 02 20 04 09 utc 1anyone know what is going on here i need to know how to get field3 to have a value of 1 the result has the entry_id 1 and all the data fields are blank,0.795130252838
cstapels,are you using commas in your data file the channel properties page has a section on data import at the bottom here is a csv file created in excel opened in notepad that results in successful data written to field 3 datetime field32018 08 01t19 03 48 05 00 202018 08 02t19 03 48 05 00 212018 08 02t08 56 13 22can you try my file and see what happens i have found it to be very consistent once you get the format correct do you need to upload a lot of csv data the csv upload requires gui interface which is harder to use programatically if you are considering commercial use you might think about the rest api write data or bulk write data https www mathworks com help thingspeak writedata htmlhttps www mathworks com help thingspeak bulkwritejsondata html,0.724294543266
wadevcamp,solved i had a non obvious space leading the field3 header it the little things that always get you i want to be able to upload so that i can set change parameters from any web browser i e with no program interface,0.217104643583
wadevcamp,i am new to thingspeak so please excuse the simple question have been trying to upload csv data into a ts channel but always get unable to parse data in the file ensure that the data in the file being uploaded contains required columns i have researched what the format should be i e datetime field1 field2 field3 field4 field5 field6 field7 field8 latitude longitude elevation status and my latest version of data attempting to upload is a text file with one line that reads 1532976301 30 10 1 20 10 0 0 0 0 0 tatusw uggestions,0.278874486685
cstapels,your csv file needs a header row with the column titles here is an example datetimefield1field2field3field4field5field62018 08 02t12 34 56 05 0011 21 31 41 50 041776095i assume you researched this page https www mathworks com help thingspeak channel data import html ill look into making it more clear that you need the titles thanks for the feedback,0.814513623714
wadevcamp,thanks i read that page but not closely enough did not get that i needed the headers i tried the following upload but says unable to parse data in the file suggestions datetime field38 1 2018 14 53 0also tried 2018 08 01t19 03 48 05 00 in the date time stamp field still said unable to parse also what is the date time stamp used for can it be anything i want,0.266903936863
cstapels,i used excel to create the csv file i used your data and it worked though the datetime format i showed you originally edited now was wrong so it switched the month and day do you have commas in your file the datetime is used for the created_at field for your data and it is how your data is indexed so it can only be a valid date time,0.788539409637
wadevcamp,thanks i can now upload without getting an error used an excel csv file instead of a notepad text file but the upload does not have the expected result i uploaded the following datetime field32018 08 02t08 56 131and then downloaded the channel field 3 and got the following i e field3 is blank created_atentry_idfield38 2 2018 8 451,0.295057654381
cstapels,is the time change from 8 56 to 8 45 repeatable can you try the data export button on the private view tab of your channel instead of the data import export tab i see a value of 1 in the data you posted perhaps your axis for the field 3 plot are preventing you from seeing the data here is the csv file created in excel opened in notepad all three data points were successfully imported into my channel datetime field32018 08 01t19 03 48 05 00 202018 08 02t19 03 48 05 00 212018 08 02t08 56 13 22i really appreciate your feedback here file formats and especially time formats are always difficult to describe correctly,0.5
eplantes,hello i have been testing the bulk update feature using arduino mkr 1400 gsm during a few months i have done about 4000 tests sending parameters to thingspeak platform like temperature humidity etc once i have finished my code i think my code is very stable but i have noticed that around a 2 of the requests are not plotted in the charts in order to resolve this problem i have developed a very simple data logger to log every response code returned by the thingspeak server according to the results logged i can see that the server sometimes returns a 202 code a 0 code and sometimes returns 1 code in all these cases the request has been stored in the database and plotted in the corresponding chart the problem is that sometimes the code returned by the server is a 0 code or 505 code and the request is lost and is not showed in my channel i do not understand what is the meaning of some codes for example every time i received the code 202 or 1 the request is successful stored but when i receive a 0 code sometimes very few times the request is not stored at the moment i am working with only with four devices but in the future i will work with 22 devices so this error rate can increase so this can supose a very serious problem for me this is the part of code where i send data to the server and receive the corresponding code bulkupdate void bulkupdate int indexini int indexfin int ldata getlengthdata indexini indexfin string potencial client stop if client connect server port serial println enviando datos client println post channels string channel bulk_update json http 1 1 client println host api thingspeak com client println user agent arduino mkrgsm client println connection close client println content type application json client print content length client print ldata serial print longitud cadena serial println ldata client print potencial string potenciales indexini 3 client print write_api_key string api_key updates would elta_t 0 field3 potencial for int i indexini 1 i indexfin 1 i potencial string potenciales i 3 client print would elta_t 2 field3 potencial client print getlaststring client print comprobacion codigo respuesta servidordelay 250 string rs are spuesta bulkupdate client parsefloat rs string client parseint serial println rs else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println thank you very much,0.743656516075
cstapels,thanks for the statistics and detective work this helps us formulate better code for error tracking i suggest you increase the content you are looking for in the error code see the last function about getting the full response in this example i think its section g https www mathworks com help thingspeak moisturemonitor htmlwhen you parse the response for just a number you are losing a lot of information if you successfully connect to the bulk update api it will return a json formatted response when you parse and get a zero that might mean it did not find a number at all in the response when it gives a 1 that is probably not the http response the regular write endpoint can respond with a 1 but not bulk i suspect you are having a connection failure or buffer overflow for those few posts make sure your time stamps have integer values of seconds just in case i just managed to see 43 successful posts in a row at 1 minute each if i use your 2 the probability of that is still about 42 so ill keep logging and see just in case if you catch the full response when you get a 0 or 1 can you share what you saw 505 is definitely a bad format but still could be a buffer issue,0.821836411953
eplantes,hi cstapels you always respond to me very quickly ud83d ude42 thanks as you said in the previous message i guess that the 0 codes and 1 codes may mean that some information is lost in the process the bulk update feature uses a json format so the content type must be application json for this reason my code use exactly the same mechanism explained in the tutorial bulk update a thingspeak channel using an arduino mkr1000 board or an esp8266 board the part or code is this delay 250 wait to receive the response client parsefloat string resp string client parseint serial println are sponse code resp print the response code 202 indicates that the server has accepted the response i think this is not the best way to manage the response because the format response is not a simple code in fact is in json format i am right i will investigate more about that on the other hand i have a doubt about your previous message when you say the regular write endpoint can respond with a 1 but not bulk what does it mean thanks for all,0.5
cstapels,sorry i took the weekend off yes the example does not do a good job of parsing the response from the server for all responses specifically the section you highlighted you should look at the moisture example that i linked to see a better way to parse the response and display it all the response from the bulk write json rest api call is in json format that what you use when you write bulk_update json the response from the write data api call is not necessarily in json format you would use https api thingspeak com update json that i why you can get a 1 or 0 or a number indicating the last entry written from the write api call https www mathworks com help thingspeak writedata html,0.861014544964
eplantes,hello i have been testing the moisture example linked in the previous message but i still have some problems to receive the server response as i expected this is the method showed in the point g of the example string getresponse string response long starttime millis delay 200 while client available 0 client stop return response when my program calls this method the response never is the same in fact it seems that the response is cut or incomplete sometimes the response shows strange characters for example sometimes i receive a htt or http or http 1 1 and htt 1 1 202 accepted i have seen in some forums that the cause of that may be the header connection close so i have changed client available by client connected now is something like that string getresponse string response long starttime millis char charin while client connected millis starttime timeout if client available charin client read delay 1 response charin client stop return response through this function the response is longer and it the famous code 202 is shown but only a few times the response is still incomplete and the code is not shown i have increased the timeout from 5000 to 10000 i log every response in an sd card so it will let me know if this change goes to right direction or not if anyone has some idea to resolve that thanks,0.179253667593
cstapels,is the response incomplete in the same way as it was before i have seen a similar issue where no response is returned perhaps in your case the response buffer may be filled with parts of the previous response i would suggest adding 200 500 ms of delay after the post but before you call getresponse you could alternatively increase the 200 ms that is there in the getresponse function now by a little bit what is the frequency of the failures partial response with respect to the successes i think 10 s timeout is long but please let us know how it went,0.5
eplantes,hello cstapels with the new method getresponse the response is still incomplete but the code response is showed so it let me know if the request is successful or fails at the moment i can not attach examples because the device is still running i am waiting for it something wrong happens and log the results in my sd card from my point of view is very hard to test it because only one request of every 500 in best of cases 600 or 300 in worst fails on another hand i will define a delay before call to getresponse method and i will check it again as soon as i have the results i will post it thank you,0.0840082764626
cstapels,eplantes thanks for your work to help make sure the bulk update is faithful since we test the bulk update internally for consistency i suspect the 1 in 500 times when it fails are connectivity issues if this is true you could consider re posting the failed data when the response returned is not successful i look forward to your results,0.766436576843
eplantes,hello i already have the results of my tests my device has been working arround a month sending requests every 8 minutes the results shows like some errors has been caused by connectivity issues but others shows internal errors i guess this can be caused by problems of service availability the results are as follows total requests 4730 errors failed connecting to server 54 errors 500 internal server error 26 errors 502 bad gateway 6 errors 503 service unavailable 4 errors u00ff or no response 3 errorsthe errors showed as failed connecting can be caused by connectivity problems on the other hand other kind of errors like 500 internal error 502 bad gateway and 503 service unavailable are been reported to the support team i have opened an issue explaining this and the large internal errors returned by the server the support team has told me that this is a known issue and its under investigation in my sckech when the response returned is not successful i re post the data again sometimes several times using this method i have reduced the errors in the the most of cases in fact only 4 requests of the total has failed i want to share this information with us because i think it can be useful thank you very much for your help,0.00659826397896
mac,the use of string type uses a lot of the limited uno memory leading to instability this issue is now resolved to the point where i am now getting state 200 ie successful data upload to thingspeak the current solution has been to free up memory in the uno using the f function ie ciao print f tate more work on the more efficient use of string type should also improve performance i am not getting any graphical display on thingspeak my arduino wifi is sending simple test data according to the ciao wifi console and i get a response state 400 ie an error but whythe data is field1 100 0i have an api keyi am using the ciao library which is in arduino idei am uploading every 60secmy code define connector are st define server_addr api thingspeak com define apikey_thingspeak xxxxx string uri update api_key uri apikey_thingspeak uri field1 float kwh 100 test data uri string kwh serial print f thingspeak called uri serial println uri ciao println end data on thingspeak channel ciaodata data ciao write connector server_addr uri if data isempty ciao println tate string data get 1 ciao println are sponse string data get 2 else ciao println write error,0.166509479284
cstapels,if you get a successful write with a string 200 do you also see data in your channel then my understanding is that it stopped working when you changed to a new function from the code above it still appears that you are using the string class if you get a 400 error with the ciao print but not otherwise then i would look at the output form the ciao print function is it possible to put the output on the serial monitor are you able to update you channel using a browser get command replacethe api key with your channel write api key https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 1,0.238282561302
mac,my main program and the thingspeak function code below use from arduino ide compilersketch uses 17494 bytes 54 of program storage space maximum is 32256 bytes global variables use 1521 bytes 74 of dynamic memory leaving 527 bytes for local variables maximum is 2048 bytes the code now only uses c stringsthe program runs without any apparent issues on an uno wifi dev ed displaying data on an lcd serial monitor if usb attached and wifi console and state 200it uploads one field to thingspeak each 30 secs however the ciao write irregularly periodically returns data isempty either for one or several writes or for 20 minutes or more see chart attachedwhen isempty is true the url uri is displayed on serial monitor it is always correctly constructed there are no response errors 400 etcshould i be getting the amount of upload write fails void uploadtothingspeak char uri 45 update api_key myapi16chars field2 need to re initialse uri as strcat increments 44 0 chars char buffer 5 0 1000 4 char plus 0 itoa pulse_count1_wh buffer 10 convert int to char array dec serial print f buffer serial print buffer serial println f wh strcat uri buffer concatenant uri and buffer pulse_count1_wh 40 4 0 serial println uri ciao println f end data on thingspeak channel ciaodata data ciao write connector server_addr uri if data isempty string getdata_1 data get 1 string getdata_2 data get 2 ciao print f tate ciao println string data get 1 ciao println getdata_1 ciao print f are sponse ciao println string data get 2 ciao print getdata_2 ciao print f ciao print buffer ciao println f wh serial print f tate serial print getdata_1 serial print f response serial println getdata_2 if getdata_1 200 state 200 is correct data serial println uri else ciao print f write error uri ciao println uri serial print f write error uri serial println uri,0.5
cstapels,there should definitely not be any upload write fails i wonder if it is possible that the ciao write function returns empty if it fails to connect are you sure the device has a strong signal at all times can you share the library that you are using that has the ciao function in it it looks like the check on data being empty comes before you have even sent any data to thingspeak thus i do not think the empty result is due to formatting of the request issues or a write fail on the thingspeak side i am going to guess that you are not waiting long enough for a server response you could consider putting a delay in between these two linesciaodata data ciao write connector server_addr uri if data isempty or something likeciaodata data while data isempty data ciao write connector server_addr uri delay 300,0.0194236934185
mac,further to this issue are also a few writes sometimes to the channel but which are reported as empty which suggests a timing problemthe arduino library containing ciao is public domain unowifideved hmeanwhile i will try your while suggestion,0.80131316185
cstapels,found the library thanks let us know how it goes id suggest trying just a delay before you add the while loop,0.919925570488
mac,thanks for your suggestions i am using your while code suggestion and getting reliable writes to channel note that ciao function is data isempty and not data isempty however there are occasions when there is a correct write to channel ie state 200 but where the received response 0 another timing issue but it is not a fatal issue thingspeak called buffer 313 whstate 200 response 14455thingspeak called buffer 316 whstate 200 response 14456thingspeak called buffer 320 whstate 200 response 0thingspeak called buffer 324 whstate 200 response 14458thingspeak called buffer 328 whstate 200 response 14459thingspeak called buffer 332 whstate 200 response 0thingspeak called buffer 336 whstate 200 response 0thingspeak called buffer 340 whstate 200 response 14463 should state not be called status as rest is stateless timing appears very important as additional code often may cause a uno restart i do not have a full understanding of the limited uno memory processes which require careful management sketch uses 17526 bytes 54 of program storage space maximum is 32256 bytes global variables use 1517 bytes 74 of dynamic memory leaving 531 bytes for local variables maximum is 2048 bytes this uploadtothingspeak function is called about each 30secs from an arduino main program loop which has a routineattachinterrupt pin_irq irqcounter falling d2 triggered by photo cell it is a small simple routine with only a few code lines but can be called every 1 to 120 secs at an interrupt the main loop execution including ciao calls is suspended there is no direct code link between the interrupt routine and the upload fn void uploadtothingspeak char uri 45 update api_key myapikeyof16chars field2 need to re initialse uri as strcat increments each time 44 0 chars char buffer 5 0 1000 4 char plus 0 for field write to channel buffer 0 0 char getdata_1 4 for state 200 400 etc getdata_1 0 0 char getdata_2 8 for response 0 9 999 999 getdata_2 0 0 itoa pulse_count1_wh buffer 10 convert int to char array dec serial print f buffer serial print buffer serial println f wh strcat uri buffer concatenate uri and buffer pulse_count1_wh 40 4 0 serial println uri ciao println f end data on thingspeak channel ciaodata data ciao write connector server_addr uri ciaodata data while data isempty data ciao write connector server_addr uri delay 300 delay 100 if data isempty strcpy getdata_1 data get 1 get state and copy char 4 delay 100 strcpy getdata_2 data get 2 get response ciao print f tate ciao println string data get 1 ciao println getdata_1 ciao print f are sponse ciao println string data get 2 ciao print getdata_2 ciao print f ciao print buffer ciao println f wh serial print f tate serial print getdata_1 serial print f response serial println getdata_2 char success 200 state 200 is correct data if strcmp getdata_1 success 0 serial print f not state200 serial println uri else ciao print f write error uri ciao println uri serial print f write error uri serial println uri,0.743898510933
cstapels,from the response numbers it appears that the update is happening even though you return 0 i think this is consistent with what you said above if there is an interrupt it might be interrupting the response buffer getting filled or perhaps the response is still timing out before it gets the information you have 100 ms of delay commented out in the above that could be another part of it the full memory for the uno is not usually as much a problem as the amounts of memory that are allocated for a specific buffer such as the http write buffer sometimes those sizes are set in the underlying library,0.274234652519
mac,state 200 response 30621thingspeak write function called uploadint 30002 buffer 270 whstate 503 response this website is under heavy loadwe are sorry too manynot state 200 update api_key my key field2 270this message from thingspeak might explain a few things i have seen it partly before but you a char 18 1 a rest get spec to see the complete messagei am writing to channel each 30 secswhat is the minimum grade of service for thingspeak,0.5
mac,no channel writes for 30mins and erratic before and the non writes occur regularly state get1 and response get2 ie no data point write reference number even writes to channel once per 60secs makes no difference why should i purchase an account i need to know the thingspeak performance standards so that i can develop my app appropriately my code has always appeared to execute correctly it is now modified a little,0.252584576607
Vinod,unfortunately i am unable to see your screenshot there are no known issues at this time and i confirmed that i am able to consistently store data in my thingspeak channel using the api if you are developing your own app that integrates with thingspeak i would strongly urge you to read and terms of service and privacy policy linked in the footer of https thingspeak com as they have information that may be relevant,0.158796340227
mac,i have disabled the attachinterrupt routine and am writing fixed values to channel fields 1 2 3 yet the issue persists there are still times when there is no write to channel for 15 20mins nor any server error messages there are many times when there is no state get 1 or response get2 from the server although the write to channel is successful the screen shot was taken after the events which started at 23 15 gmt 0800 and ceased at 23 30 gmt 0800 perth australia on the 13th july 2018the serial monitor log below shows the start of the no writes the screen shot shows the no writes and this is the relevant code ciaodata data data ciao write connector server_addr uri delay 300 this delay does not seem to make any difference even if several times longer if data isempty count_no_state 0 strcpy getdata_1 data get 1 get state and copy char 19 serial print f tate serial print getdata_1 strcpy getdata_2 data get 2 get response serial print f response serial println getdata_2 i have a adsl2 internet connection which provides about 5mbit s downloads my pc is running mac os 10 11 6 thingspeak write function called uploadint 30002 buffer_1 5 buffer_2 500 wh buffer_3 500 avg wcount_no_state 3thingspeak write function called uploadint 30001 buffer_1 5 buffer_2 500 wh buffer_3 500 avg wstate 200 response 34316thingspeak write function called uploadint 30001 buffer_1 5 buffer_2 500 wh buffer_3 500 avg wstate 200 response 34317thingspeak write function called uploadint 30002 buffer_1 5 buffer_2 500 wh buffer_3 500 avg wcount_no_state 1thingspeak write function called uploadint 30002 buffer_1 5 buffer_2 500 wh buffer_3 500 avg wcount_no_state 2thingspeak write function called uploadint 30003 buffer_1 5 buffer_2 500 wh buffer_3 500 avg wcount_no_state 3thingspeak write function called uploadint 30002 buffer_1 5 buffer_2 500 wh buffer_3 500 avg wcount_no_state 4thingspeak write function called uploadint 30002 buffer_1 5 buffer_2 500 wh buffer_3 500 avg wcount_no_state 5thingspeak write function called uploadint 30003 buffer_1 5 buffer_2 500 wh buffer_3 500 avg wcount_no_state 6thingspeak write function called uploadint 30001 buffer_1 5 buffer_2 500 wh buffer_3 500 avg wcount_no_state 7thingspeak write function called uploadint 30004 buffer_1 5 buffer_2 500 wh buffer_3 500 avg wcount_no_state 8thingspeak write function called uploadint 30003 buffer_1 5 buffer_2 500 wh buffer_3 500 avg wcount_no_state 9thingspeak write function called uploadint 30003 buffer_1 5 buffer_2 500 wh buffer_3 500 avg wcount_no_state 10,0.145489752293
mac,i have changed the uno wifi setting from ap sta to sta only the channel writes now appear to be 100 success why would ap sta be the cause of periodic no writes to channel however there are still many frequent state get 1 and response get 2 disabling the attachinterupt code has no effect simple code works okciaodata data data ciao write connector server_addr uri if data isempty strcpy getdata1 data get 1 get state,0.199389457703
cstapels,fortunately the images are working again i suspect when you set the device to work as an access point the thread that is handling the communication to thingspeak gets interrupted somehow and the communication does not complete thank you for posting your solution just to be clear when you get no state and no response does your channel still update if so i suspect the function is timing out before the response is sent but thingspeak is still getting the data you may be able to add additional delay before the getdata1 if at all possible i would suggest getting an ethernet shield for the uno or an esp8266 or esp 32 and using the thingspeak communication library it handles much of these issues for you,0.188378304243
mac,the graph shows the100 successful writes to channel as 1 or 1 however a significant number of writes have data isempty true shown on the graph as 1 is there an obvious pattern variations to the code with delays and or while make no difference variable declarations as global or local or static also makes no difference the uno wifi runs without crashing and seems quite stable i note your comments on ethernet esp8266 if a while fn is used then it needs a timeout test else it will loop forever strcat uri field4 for response 1 or 1 strcat uri buffer4 uri now ready for write to channel serial println serial println uri ciao print f end data on thingspeak channel ciao print f interval ciao println uploadinterval ciaodata data ciao write connector server_addr uri ciaodata data data ciao write connector server_addr uri delaymicroseconds 3000 the results are very similar regardless of delay if data isempty serial print f isempty delaymicroseconds 2000 if data isempty strcpy getdata1 data get 1 get state serial print f state serial print string data get 1 strcpy getdata2 data get 2 get response,0.5
teratoulis,hi everyone is it possible to create multiple channels in thingspeak by writing a matlab script file thanks in advancenikolas,0.812032461166
cstapels,you can use webwrite to make the api call in matlab have a look at the create channel api https www mathworks com help thingspeak createchannel html,0.729813754559
abduu,so i made my own android application and i want to send push notifications to my app using the device token and the api key so any ideas how to do that,0.290143191814
Vinod,if you are writing your own app you will need some mechanism to poll u00a0thingspeak and push a notification to your app this may require setting up some web service that polls the last json value of your channel field if you are using a service like ifttt u00a0then you may be able to use u00a0it to do what you need using the maker channel feature,0.5
alexj,hii am trying to read data from my arduino autonomo to thingspeak in the serial window i can see numbers coming through i am reading gps information but the python script i am using to send it to thingspeak seems perhaps not to be working although it is compiling ok without errors here is the code import httplibimport serialser serial serial dev cu usbmodem1411 ser baudrate 115200gps ch ser read 1 if ch print gps conn httplib httpconnection 184 106 153 149 com request get update key wdaih0wa2mp6mpjb field1 s gps res com getresponse print res status res reason com close gps else gps chdoes anyone have any idea what is wrong i should be seeing a list of random numbers in field 1 right alex,0.5
Rob Purser,generally you should not post your api keys u00a0 what response code are you getting back u00a0check the api key u00a0is that a zero or the letter o u00a0 rob,0.5
rw950431,you need api_key instead of keyalso i suspect you mean s not s u00a0com request get update api_key wdaih0wa2mp6mpjb field1 s gps u00a0https au mathworks com help thingspeak update a channel html,0.5
vagelism,hello to all u00a0i found it really easy to upload data even with u00a0files or directly with snmp from my controler but how can i dowload any collected data for how long the data are saved in the server thank you,0.87770986557
vagelism,oh seems that with some clicks playing you can find it easyly also i found it so how can i erase old experimental values and start from the beginning,0.826270759106
Hans,you have the option to clear or delete your channel to download your data you can use api calls and report the data back as json xml or csv,0.216415345669
HelenGomes,hans said you have the option to clear or delete your channel to download your data you can use api calls and report the data back as json xml or csv u00a0 u00a0thanks,0.217075258493
viiartz,hi all could someone please tell me why the commandresponce thingspeakwrite writechannelid fields 5 6 7 8 values maxtempf maxt mintempf mint writekey writeapikey overwrite fields 1 2 3 4 u00a0with one script let say script 1 i am retrieving the max and min temp from channel a u00a0for the past 24 hours and storing those values in fileds 1 to 4 of channel b and with another script script 2 i am retrieving from channel a the same data max min with times for the last 30 days and storing them in channel b fields u00a04 to 8 u00a0question 1 script 1 runs fine but when script 2 runs it seems to overwrite the data of the fields u00a01 to 4 how do i prevent that from happening question 2 can i retrieve 30 days worth of data and use code to then find the last 24 hours and extract the u00a0information i need then have the thingspeakwrite command execute something like responce thingspeakwrite channelb 24hmaxtempf 24hmaxt 24hmintempf 24hmint 30dmaxtempf 30dmaxt 30dmintempf 30dmint writekey writeapikey thanks in advance,0.5
Vinod,are you sure the data u00a0on the channels is being overwritten perhaps you want to do something like data times thingspeakread readchannelid fields 1 2 3 4 response thingspeakwrite writechannelid fields 5 6 7 8 values maxtempf maxt mintempf mint timestamp times re question 2you could use thingspeakread u00a0like this data time channelinfo thingspeakread channelid fields 1 4 would aterange datetime jun u00a01 2016 datetime jun 30 2016 process your data and write it out using thingspeakwrite see documentation and examples for the functions here https www mathworks com help thingspeak thingspeakread htmlhttps www mathworks com help thingspeak thingspeakwrite html,0.5
dennislwy,i am using thingspeak to recording my sensor service availability e g 1 available 0 not available and i would like to plot a graph using thingspeak showing from which time frame my sensor is available or unavailable u00a0example datatimestamp availability 2016 07 10t09 00 00z 0 2016 07 10t09 10 31z 1 2016 07 10t10 34 21z 0this will only u00a0plot a triangle shape type of graph but what i wanted was a graph of square shape showing 0 all the way up the second before 2016 07 10t09 10 31z then plot 1 up to second before 2016 07 10t10 34 21z then plot 0 all the way till next eventany setting i can tweak,0.271434098482
Hans,you can add tep true to the chart url u00a0here is an example https thingspeak com channels 9 charts 1 height 240 width 600 results 10 dynamic true step true,0.977942705154
dennislwy,hans said you can add tep true to the chart url u00a0 here is an example https thingspeak com channels 9 charts 1 height 240 width 600 results 10 dynamic true step true u00a0 u00a0it works is this a new feature the option is not available in thingspeak channel gui only line bar column spline are available when how to change setting in my channel chart,0.881427407265
Hans,the api feature has been available for a couple of years but the ui is behind i will make sure this is noted as a feature request if you want to see the step chart on your private channel view you need to create a plugin copy and paste the source code of the step chart into a blank plugin and show it on your channel this will let you see the step chart on your channel,0.838939607143
dennislwy,hans said the api feature has been available for a couple of years but the ui is behind i will make sure this is noted as a feature request if you want to see the step chart on your private channel view you need to create a plugin copy and paste the source code of the step chart into a blank plugin and show it on your channel this will let you see the step chart on your channel u00a0 u00a0using the default template i created my own plugin for the step response as you suggested but it does not seems to dynamically update itself what is wrong here is part of the code i already added would ynamic true function addseries channel_id field_number api_key days color var field_name field field_number get the data with a webservice call getjson https api thingspeak com channels channel_id fields field_number json offset 0 round 2 days days dynamic true api_key api_key function data blank array for holding chart data var chart_data iterate through each feed each data feeds function var point new highcharts point set the proper values var value this field_name point x getchartdate this created_at point y parsefloat value add location if possible if this location point name this location if a numerical value exists add it if isnan parseint value chart_data push point add the chart data my_chart addseries data chart_data name data channel field_name color color,0.839516758919
rw950431,i have a feed with some old data in it u00a0 the api_key is read only so happy to post it here if i specify the end time it seems to work as expected u00a0 wget q o https api thingspeak com channels 2102 feeds csv api_key a9lnx48luo1px0ay end 2014 01 28 2006 00 00 created_at entry_id field12014 01 28 04 49 37 utc 1 31 692014 01 28 04 57 49 utc 2 31 752014 01 28 05 00 17 utc 3 31 812014 01 28 05 05 18 utc 4 31 872014 01 28 05 10 19 utc 5 31 872014 01 28 05 15 18 utc 6 32 192014 01 28 05 20 19 utc 7 32 132014 01 28 05 25 18 utc 8 30 872014 01 28 05 30 23 utc 9 30 252014 01 28 05 35 18 utc 10 29 812014 01 28 05 40 19 utc 11 29 692014 01 28 05 45 17 utc 12 29 52014 01 28 05 50 18 utc 13 29 312014 01 28 05 55 18 utc 14 29 19 u00a0however when i try to get the first 2 readings i find that the start parameter is seemingly ignored wget q o https api thingspeak com channels 2102 feeds csv api_key a9lnx48luo1px0ay start 2014 01 28 2004 00 00 results 2 created_at entry_id field12015 04 16 07 25 08 utc 17800 16 72015 05 04 06 03 50 utc 17801 26 6if i add back in the end time i get the last 2 readings in the range rather than the first wget q o https api thingspeak com channels 2102 feeds csv api_key a9lnx48luo1px0ay start 2014 01 28 2004 00 00 end 2014 01 28 2006 00 00 results 2 created_at entry_id field12014 01 28 05 50 18 utc 13 29 312014 01 28 05 55 18 utc 14 29 19is there any way to get the first readings from a given time range instead of the last u00a0 it appears that the api are sults parameter counts backward from the end time rather than forwards from the start time,0.5
viiartz,hi could someone please help me ok i have two public channels channel a and channel b as well as the channel id and channel b writeapikey channel a is collecting temperature readings u00a0with this function tempf timestamp thingspeakread readchannelid fields temperaturefieldid numdays 7 are adkey readapikey i am collect 7 days worth of data and with this four fuctions u00a0 maxtempf maxtempindex max tempf mintempf mintempindex min tempf timemaxtemp timestamp maxtempindex timemintemp timestamp mintempindex i have the max min temperature as well as the day time they accurred i am trying to use channel b to store write to the max and min temps and their datestamps u00a0filed 1 will hold max tempfiled 2 will hold max temp datestampfiled 3 will hold min tempfiled 4 will hold min temp datestampso u00a0i am trying the command below based on my interpretation on one of the ways to use the command from the documentation u00a0to store the data on each field but i get the error error using datetime horzcat all inputs must be datetimes or date time strings what is the problem responce thingspeakwrite writechannelid maxtempf timemaxtemp mintempf timemintemp writekey writeapikey display responce here is the code and output u00a0readchannelid xxxxxx temperaturefieldid 1 readapikey xxxxxxxxxxx writechannelid xxxxxx writeapikey xxxxxxxxxxx tempf timestamp thingspeakread readchannelid fields temperaturefieldid numdays 7 are adkey readapikey calculate the maximum temperature maxtempf maxtempindex max tempf mintempf mintempindex min tempf choose the timestamp at which the maximum temperature was measuredtimemaxtemp timestamp maxtempindex timemintemp timestamp mintempindex display maxtempf display timemaxtemp display mintempf display timemintemp responce thingspeakwrite writechannelid maxtempf timemaxtemp mintempf timemintemp writekey writeapikey display responce u00a0maxtempf 26 1200timemaxtemp 08 jul 2016 10 40 11mintempf 12 6300timemintemp 08 jul 2016 06 48 30error using datetime horzcatall inputs must be datetimes or date time strings,0.5
piajola,hi viiartz i hope i can help you in case you are still in trouble u00a0please put your values for readchannelidwritechannelidwriteapikeyin this code copy paste in your matlab analysis app as is and save and run and see output box readchannelid temperaturefieldid 1 readapikey xxxxxxxxxxx writechannelid writeapikey 16upperletters tempf timestamp thingspeakread readchannelid fields temperaturefieldid numpoints 10 are adkey readapikey tempf timestamp thingspeakread readchannelid fields temperaturefieldid numdays 7 are adkey readapikey calculate the maximum temperature maxtempf maxtempindex max tempf mintempf mintempindex min tempf choose the timestamp at which the maximum temperature was measuredtimemaxtemp timestamp maxtempindex timemintemp timestamp mintempindex display maxtempf display timemaxtemp display mintempf display timemintemp lorita1 datestr timemaxtemp 30 30 is my way try 0 zero or see docs in mathworks u00a0 lorita2 datestr timemintemp 30 responce thingspeakwrite writechannelid maxtempf lorita1 mintempf lorita2 writekey writeapikey responce thingspeakwrite writechannelid maxtempf timemaxtemp mintempf timemintemp writekey writeapikey display responce read your line are sponce and see the magenta color and see my line maybe all the trouble u00a0in case you use google chrome put in a new browser tabapi thingspeak com channels ch feed json key 16upperletters results 5and see if this make sense u00a0good luck u00a0h s p s http www mathworks com help matlab ref datestr html input_argument_formatout,0.70665538311
viiartz,thank you so much u00a0piajola that did the trick u00a0if you are interested this is what i am doing with the data its a proof of concept at the moment but i am working toward u00a0a fully fleshed arduino based u00a0weather data logger,0.888583660126
piajola,hi viiartz i saw your webpage is that annandale queensland australia near coral sea i am also in latitude south about 8 u00b0 more north than you starting a 17 u00b0c very cold winterupdated 2 38 pm aest on the 10 07 2016 minimum and maximum temperatures for the last 7 day min 12 63 u00b0c occurred at 6 48 am on the 08 jul 2016 max 26 12 u00b0c occurred at 10 40 am on the 08 jul 2016 for me 23 38 on the 09 07 2016 do you also say dd mm yyyy but a day in my future weird few things i saw min max same day 14 u00b0c of diference in 4 hours in winter in graph i see date time 06 00 12 00 18 00 day 06 00 etc but the min between 12 00 and 18 00 and the max at 00 00 midnight very weird the red line shows your temperature but with my local time so you have the hotest point at midnight and the coldest at 15 00 you and me at each side of earth u00a0droll to see your live data with my local time u00a0i am also in a work in progress who knows when finishedregards u00a0 h s,0.5
viiartz,hi u00a0piajola yeah when i saw the datestamp u00a0for the max and min temps i was confused too so i went to the original data as the graph is only showing average values what was logged u00a0as the max temp was actually me handling the sensor as i was trying to find a better spot for it and i inadvertently made the temperature spike u00a0,0.231323510408
tperret,hello u00a0i did not see information about data limits u00a0there is a maximum time for saved data there is a maximum size for saved data u00a0thanks for your feedback,0.736279726028
Hans,thanks for the question we have not u00a0decided u00a0what the maximum time will be for the main api but all data is kept we might archive older data and provide an api call for data over 1 year old,0.5
cristianreynaga,hi all i need to check if there u00b4s any news about the size of historical data saved in thingspeak there is a limit now considering the date of this thread thanks,0.5
lee,hi we do not have any limits in terms of the oldest data that can be saved and have no plans to change that we currently retain all data and our oldest data goes back to 2010 lee,0.136826545
mavenik,hello i have been using thingspeak for about 10 months now all of a sudden i only see data from the from last week for some reason all the data from the u00a0before that has completely disappeared u00a0are you aware of any new limits in place i have no idea how to figure out what happened u00a0,0.244059979916
Hans,did you happen to clear the channel under settings this will cause the same behavior as you described if you send us your channel number and key to our support email we will investigate u00a0,0.826280653477
mavenik,hi u00a0thank you for the reply i couldnt find the email anywhere can you please let me know what it is u00a0nik,0.90328425169
mr-sgabuzen,hi i am unable to clear my channel data in channel settings menu i click on the button but nothing happens my channel number is u00a0122892,0.144003033638
0xFF,the same for my two channels can not clear data with clear channel button,0.2325091362
Hans,thanks for reporting we are working on possible resolutions in the meantime if you are able to create new channels and use them for new data i know that does not solve every situation but that is what is possible right now,0.829361498356
dukbilt,any update,0.1439884305
sesom,clearing a channel does also not work via api when i try to do so by u00a0curl i x delete https api thingspeak com channels 130945 feeds api_key yesiusedmyuserkey i getconnection closestatus 500 internal server errorx request id eb10f8ef 81e3 413c 98bb d3f57a0350bdx runtime 0 444630x powered by phusion passenger 4 0 57date tue 05 jul 2016 07 27 46 gmtserver nginx 1 9 3 phusion passenger 4 0 57 doctype html html head title we are sorry but something went wrong 500 title style type text css body background color fff color 666 text align center font family arial sans serif div dialog margin 3em auto 0 auto h1 font size 100 color f00 line height 1 5em style head body this file lives in public 500 html br br img src assets thingspeak_logo_white png width 200 height 35 style background color 022a50 padding 10px div class would ialog h1 we are sorry but something went wrong h1 br p please send an email to a href mailto support thingspeak com support thingspeak com a if this problem persists p div body html,0.5
sesom,hans said thanks for reporting we are working on possible resolutions in the meantime if you are able to create new channels and use them for new data i know that does not solve every situation but that is what is possible right now u00a0 u00a0this is how i resolved my problem for 4 channels but unfortunately you then cannot delete the old channel not via the website and not via a curl request would be nice if you could fix that problem u00a0tnx,0.168527036905
WarreN,hans said thanks for reporting we are working on possible resolutions in the meantime if you are able to create new channels and use them for new data i know that does not solve every situation but that is what is possible right now u00a0 u00a0hi hansobviously doing this is a time consuming hassle when you have several fields also stuff in the backend server s needs code changing as well beause the channel url changes when you start using a new one do you think you are talking hours days weeks thanks,0.797067284584
Vinod,this issue is resolved please try u00a0the clear channel delete channel workflow and let us know if you are seeing issues thanks vinod,0.240002095699
0xFF,works for me thanks ud83d ude09,0.910046219826
sesom,vinod said this issue is resolved please try u00a0the clear channel delete channel workflow and let us know if you are seeing issues u00a0 u00a0thanks vinod works for me also u00a0 u00a0klaus,0.163809031248
WarreN,vinod said this issue is resolved please try u00a0the clear channel delete channel workflow and let us know if you are seeing issues thanks vinod u00a0 u00a0thank you so much it works now interestingly i have firefox on two machines windows and linux both have firefox version 47 the windows one does work and clears the data u00a0the linux one gives you the popup are you sure you want to clear this channel but when you click it nothing happens thanks again,0.219570875168
mr-sgabuzen,thanks so much now it working ud83d ude09,0.886323332787
Dieter,howdy since yesterday an url request returns often null instead of valid value field1 url https api thingspeak com channels 125785 fields 1 json results 1is it my fault or are there any limitations thanks u00a0regardsdieter,0.793945789337
rw950431,is it possible you have a race condition between whatever is updating field 3 and the rest if they both try to update within the same 15 second window then only the first one will succeed u00a0 lately it looks like field 3 is winning more often than not https api thingspeak com channels 125785 fields 1 csv results 102016 07 04 05 03 02 utc 6201 2016 07 04 05 04 02 utc 6202 2016 07 04 05 05 02 utc 6203 1272016 07 04 05 06 03 utc 6204 2016 07 04 05 07 03 utc 6205 2016 07 04 05 08 04 utc 6206 2016 07 04 05 09 04 utc 6207 2016 07 04 05 10 01 utc 6208 1352016 07 04 05 11 05 utc 6209 2016 07 04 05 12 05 utc 6210 u00a0https api thingspeak com channels 125785 fields 3 csv results 102016 07 04 05 03 02 utc 6201 47 0782016 07 04 05 04 02 utc 6202 47 6152016 07 04 05 05 02 utc 6203 2016 07 04 05 06 03 utc 6204 47 0782016 07 04 05 07 03 utc 6205 46 542016 07 04 05 08 04 utc 6206 47 6152016 07 04 05 09 04 utc 6207 46 542016 07 04 05 10 01 utc 6208 2016 07 04 05 11 05 utc 6209 47 6152016 07 04 05 12 05 utc 6210 48 154 u00a0,0.5
njames879,hi i wonder if someone can help me with this issue u00a0i am sure the answer is really simple but i have spent several days on and off on this and i am just not getting anywhere i have a channel with a temperature field updating from a sensor u00a0 i added a google gauge and i can see it on the private channel representation u00a0i have also taken the iframe code and pasted it into a website and on my local machine i can see the gauge displaying on my site i then tried to show it to someone else on my ipad and where the gauge should be there is a message saying the author made this visualisation private so since then i have tried a bunch of things u00a0 i have made the channel public but when i go to the public tab i can not find a way of adding the gauge u00a0 i have unticked the private channel box at the bottom of the google gauge edit page but then it just disappears from my private channel u00a0is there a way of defining the gauge so that it can be accessed as an iframe from a public webpage thanks in advance for any help,0.865090847015
Dave6505,hi im new and learning so forgive me if this is obvious but i need help your search get https api thingspeak com apps thinghttp send_request api_key gvnj5phh38w8sj4e did not match any documents suggestions make sure that all words are spelled correctly try different keywords try more general keywords try fewer keywords i get this message when i try to send thinghttp url from google any ideas u00a0,0.5
Hans,some sites do not allow a direct link meaning a link that does not originate from a browser to test try a link that you know that works directly without a cookie u00a0,0.5
uphillbattle,hi i have embedded a chart on a web page intending the chart to update dynamically the chart is embedded in an iframe with the following source https api thingspeak com channels my_channel_id charts 1 pi_key my_api_key days 1 timescale 10 bgcolor 23ffffff color 23d62020 type line dynamic truethe chart does not update dynamically if i remove timescale 10 then the chart updates every 15 seconds or so but with the timescale set no update occurs should i expect the chart to update automatically i do u00a0expect it but is that an unreasonable expectation i searched for posts regarding similar problems but i have not found anything that solves my problem,0.752296805382
Hans,timescale 10 is taking your data in your channel and picking 1 point per 10 minutes so dynamic true is updating when new raw data comes in a timescaled chart would only get a new point every 10 minutes,0.763105213642
uphillbattle,quite right i am trying to limit the amout of data in the chart when plotting for an entire day i do not need more data than every 10 minutes but the chart never updates not after 10 minutes nor 20 or overnight for that matter so i am still wondering ud83d ude42edit ahh maybe i misunderstood you hans are you saying that the chart wo not update as long as i have the chart timescaled,0.216626346111
Hans,exactly since the chart has to collect 10 minutes of timescaled data if you really wanted the chart to update you could either write a custom plugin or use matlab to collect process timescale the data from your channel and write it to a new one then the charts would work without using timescale,0.208464533091
OZ2CPU,please when will the old number of days bug be solved it makes me sad not to be able to see data change over a very long time i got some battery voltage indicators and need to see the value drop over a whole year see webx dk ak,0.5
Hans,the limitation is how many data points that you can pull at once this is 8000 max but you can make calls using date and time stamps to keep pulling data over the past here a forum post about how one user is plotting data over time maybe his library works for what you are looking for http community thingspeak com forum announcements thingspeak live chart multi channel second axis historical data csv export,0.5
OZ2CPU,yes hans thanks for getting back to me i know about the bug limitation but why not fix it i really like to upload data at my regular update interval so i can see smaller changes too but i also like to see the big picture over a year or two in the regular web based curves how about if your system simply skip every 2dn point in case a user setup the curve view for more days if the total points is over 8000 but under 16000 the user will not be sad about missing points but be happyabout the needed time span is now working a similar fix can be used if the total is in the 16000 24000 range then you just show every 3rd point and so forth a very easy fix on your side but u00a0a huge help for all users ud83d ude42,0.778590202332
Hans,i missed your reply but here is something that you can try http api thingspeak com channels 71167 charts 5 width auto height auto days 365 type spline average dailythe api parameter to notice is average daily this will create a summary of your channel data so you can see it over a long span of time,0.5
OZ2CPU,wow thanks this is exactly what i need how do i incorporate this into mt webpage see link post 1 so it looks like the other curves but just works over 365 days it is for the battery indicators ud83d ude42 offcourse here it makes sense to show the value over very long time,0.717170476913
OZ2CPU,if anyone got a minute please see u00a0webx dk akthe bottom test curves battery voltages are made with the u00a0avarage dailythey dont seem to work what is wrong,0.00952848792076
piajola,hi u00a0oz2cpu in your post you wrote u00a0avarage daily i tried in my browser as a webpage filled all page http api thingspeak com channels 58826 charts 1 width auto height auto start 2016 03 01 type spline average daily color feaa55 bgcolor 335577 round 2in my machine w10 chrome it worked think still works u00a0i took more than a minute but it is ok maybe this helpshsregards,0.5
OZ2CPU,thanks yes i did spell wrong but only in the forum post ud83d ude42https thingspeak com channels 71167 charts 8 days 5 type spline average dailythis do not work why please help please also see original curve here https thingspeak com channels 71167 charts 8 days 5,0.5
OZ2CPU,hello still no one can fix this,0.852291584015
Hans,it looks like it is working there was a week were you did not have any data so days 5 is only going to give you the last 5 days of data and you have only 3 continuous days of the 5 last days the days parameter is calendar days check out this link for 15 days this might be a little clearer to see https thingspeak com channels 71167 charts 8 days 15 type spline average daily,0.5
OZ2CPU,thanks for getting back to meyes correct i got a few days now and then with no data but days with no data should just make a line from the other good days or at least be back to normal the day after again the day avarage is u00a0wrong the centre value is 0 04but my sensor run on 3 to 4 voltssee the curve with no day avarage for correct valueshttps thingspeak com channels 71167 charts 8 days 5how to make it display the correct avarage value,0.893968164921
Hans,okay i have a lot of things to try to explain ask so we can get to the bottom of the issue we might need a few exchanges in order to get to the heart of the issue 1 looking into your channel data i see that field 8 gets a lot of nulls and only every once in awhile i see actual values like 3 67 you can see it with this api call https thingspeak com channels 71167 fields 8 json days 5 timezone america new_yorkare you updating your channel with separate requests for example update field1 100 and then another request like update field2 200 if you do the updates to a channel with separate requests then the other fields get a null value you should send requests that look like update field1 100 field2 200 send multiple fields in one request you might be sending all of the data at once so you might want to look at what is causing the nulls in your channel 2 nulls u00a0skew average calculations you are getting very low averages since you are averaging null null null 3 67 null etc the average is going to be really low 3 a median might be better suited for your data try this https thingspeak com channels 71167 charts 8 days 100 median daily4 i would also like to suggest matlab analysis if you are not able to send cleaned up data to thingspeak then you can use matlab analysis to read in the raw data process it then write the processed data to a new channel then you do not have to use the average median filters that the api provides average median only solves some basic clean up use cases matlab analysis is intended to be complete custom clean up and processing of iot data let us know if this helps hans,0.246304512024
OZ2CPU,1 looking into your channel data i see that field 8 gets a lot of nulls and only every once in awhile i see actual values like 3 67 yes sir correct however i am not the one who make the nulls ud83d ude42 are you updating your channel with separate requests yes correct again ud83d ude42 so i am the one who make the null simply due to another problem i use several wireless sensors they send data at different rates but to the same database just different curve and to make it even worse i send my battery voltages at a very low rate simply due to the 8000 point limit this way i tried to make the time span wider for voltage curves 2 nulls u00a0skew average calculations you are getting very low averages since you are averaging null null null 3 67 null etc the average is going to be really low bingo i tottally dig it finnally we understand the problem and can find a solution ud83d ude42 3 a median might be better suited for your data yes perfect it really works i am super happy now another solution is to create a new channel new seperate database for each voltage curve this way the avarage will work ps how about change the avarage calculator to skip null in the database pps u00a0now i made the changes curves are now perfecthttp webx dk ak,0.0997659265995
OZ2CPU,what happened all my online stuff is not online anymore no sensors deliver data since june 12 and all curves needed stuff to be changed online so old curves will display i can access all sensors anymore now i need to make new sensors and installwhat exactly is changed why and why did the system not email users about this,0.5
Hans,can you tell us what device you are using can you tell us what you see on the charts there is nothing on our side that changed on the day that you are asking about we will dig into it,0.5
marcelrv,maybe coincident but my feed also stopped updating on the 12th after months of painless running seems now with restarting the submitting deamon it started to work again,0.140119612217
OZ2CPU,i changed nothing ud83d ude42no grapth was shown so i logged in and got new links from the puplic page and i did see minor stuff changed in the links then i got red curves again so i am sure something was changed or improved,0.76267015934
mamic2,good day gents im able to send get request to update a channel using arduino nano esp8266 with at commands and it works fine but when i make a get request to receive the last value in a channel field then i dont get any response can somebody please help thankshere codeat cipstart tcp 184 106 153 149 80at cipsend correct lengh calculated online get channels 10xxxx92 fields 1 last api_key xcxcxcxcxcxcsend ok but no rsponse,0.230026453733
Hans,does your get request work in a browser tab,0.709059476852
most211,hello everyone i need to change the name of the fields that appear in the excel csv file of my channel which are field1 field2 i tried to change field label from channel setting but it did not change i am using arduino wifi shield to send data to my thingspeak channel,0.691294789314
Hans,the names at the top of the csv file are fixed to field1 field2 etc the label changes the metadata in other parts of the api,0.79101651907
most211,hans said the names at the top of the csv file are fixed to field1 field2 etc the label changes the metadata in other parts of the api u00a0 u00a0i need to send the whole u00a0data list to someone who does not know the name u00a0of field1 field2 is there any way to view these data with a different field labels in other location format,0.753175139427
Hans,the labels are returned in the json format for example https api thingspeak com channels 1417 feeds jsonfield1 last cheerlights command field2 cheerlights hex color,0.5
chai.yang,i was wondering does thingspeak do keep alive connections no matter what i try thingspeak responds with a close connection i am working with the ti cc3200 chip which thingspeak does not have much documentation on i have successfully ran my code to connect with amazon web services and am able to connect and post to thingspeak with the only issue being it responds with connection close even though i had specified in the headers for connection keep alive u00a0thanks,0.126113325357
Hans,are you using http 1 1,0.778693675995
gnork,can anyone write the full script in javascript to get last entry from channel,0.192702442408
Hans,here is a full example using jquery http community thingspeak com tutorials javascript parse thingspeak last entry feed with jquery also my cheerlights project has a jquery example http cheerlights com build,0.289575219154
jonasemote,using one temp sensor and a channel with one field worked with the write api key created and inserted at the sensor ip adress works over wifi i then added a dual sensor for temp and humidity on another ip address in the lan and gave that sensor a new write api key this does not display correctly although i named two more fields there hiatus in my understanding of how thingspeak field charts work and connect to a specific api key u00a0lets assume that the sensors are temproom1 with one write api key temproom2 and humroom2 these share another write api key that u00a0i created in u00a0that channel with the api creator i e the sensor web page only has a field for a common api key for temp and humidity i create three charts and name them as the sensors did i do it wrong should there only be one api key for both sets of sensors how is sensor data communicated to a specific chart since there is no logical link between a specific sensor and a chart does the name of a chart have any role if i fouled up my channel is it enough to create a new channel and give the sensors one or two new api keys is there any link between the note that can be saved and the name of the field chart i am u00a0a total beginner with this and would appreciate your help case i rent a basement studio during the summer while i am absent for weeks there is a risk that humid summer air will condense on the walls of the studio creating mold and discoloration i can activate a heater fan remotely if relative humidity rises to risky levels,0.5
rw950431,one possible problem you may have with 2 independent devices updating the same channel is that thingspeak only allows 1 update every 15 seconds so if your 2 devices attempt to update the same channel within 15 seconds of each other then the second update will fail u00a0 it may be best to create separate channels then graph the combined data using the matlab visualisation app you can use the same write api key for the two devices although you will still have the problem above if you explain a bit more about how your graphs are broken it may help,0.787994623184
jonasemote,thanks for your hints it now works fine with the temp humidity sensor it shows correctly in two charts however when i add a second u00a0temp sensor it writes to the same chart as the first one i then used the same write key for both sensors i did separate update times like for the first sensor every 60 second for the second one every 327 seconds so as to minimize update collisions this did not help nothing is written to the third chart that i created although the sensor web page says that it is connected to thingspeak u00a0so it seems that i need to use a second api write key for the second temp sensor however i am not sure if one channel allows for several write keys also i can find how to create a second channel within my present account u00a0maybe one has to start with a second account it seems that the thingspeak channel system can not separate between sensors if they have the same function although their mac adresses and device ids are distinct how can i make the channel system differentiate between two sensors of the same type within the same channel u00a0ps i created a second account with a new channel and a separate write api key for the second temp sensor this works but it would be better to be able to have several sensors of the same type but with different device ids within one channel the problem seems to be that one can not assign a specific device id to a specific field edit the second account excluded the first in spite of the two accounts having different user names and email addresses but the same password when i type in the url for the first channel https thingspeak com channels xxxxxx private_show i get the message that the page can not be found this problem was only solved with using different browsers for the two accounts safari and chrome on iphone,0.804065227509
Hans,you should send one update with multiple values for example update field1 20 field2 30and make sure on the channel settings tab that you have the u00a0fields enabled checked let us know what you discover,0.778656363487
MG11,hi i have a dashboard with u00a0many plots and button plugins for a domotic iot project i would create an html button connected to an image that allows me to clear all my data from a thingspeak channel i am having a problem to send an http delete to u00a0https api thingspeak com channels channel_id feeds xml for clear all data from a channel how is explained here u00a0http it mathworks com help thingspeak clear a channel html i use this script for the xml get requests and it has always worked but if i try to use it for the delete request it does not work u00a0 button id buzzerbutton style border none background color transparent onclick loaddoc https api thingspeak com channels xxxxxx feeds xml api_key xxxxxxxxxxxxx img width 20 height 20 src http www app trailer com appicons android 100x100 com androidlord cacheclear png button script function loaddoc uri post_data var xhttp new xmlhttprequest xhttp onreadystatechange function window alert command sent xhttp open would elete uri true xhttp setrequestheader content type application xml charset utf 8 xhttp setrequestheader accept application xml charset utf 8 xhttp setrequestheader content length post_data length xhttp send post_data script u00a0 u00a0is there anyone that could help me thanks,0.836263716221
zasx007,hi mg11 i am facing the same problem but with no luck i have tried firstly type the http command in the browser but nothing worked,0.203099220991
dirkdm,hi i am trying the same thing from within python 3 u00a0 but clearing data from a channel does not work has it worked in the past dirk,0.794296860695
Hans,have you tried post,0.212344914675
dirkdm,when i use delete i get status 302 found but the data is not cleared when i use post i get status 401 unauthorized i am using the userapikey in stead of the channelapikey as stated on https nl mathworks com help thingspeak clear a channel htmlthanks dirk,0.0768861174583
davidjb,i am seeing the same as dirkdm anything involving delete methods fails on a private channel clearing a channel feed standard curl i x delete https api thingspeak com channels 12345 feeds api_key xxxxx results in a 302 found and a redirection to https api thingspeak com loginclearing a channel feed json curl i x delete https api thingspeak com channels 12345 feeds json api_key xxxxx results in a 401 unauthorizedclearing a channel feed xml curl i x posdelete https api thingspeak com channels 12345 feeds xml api_key xxxxx results in a 502 bad gatewaydeleting a channel curl i x delete https api thingspeak com channels 12345 api_key xxxxx u00a0 results in a 302 found and a redirection to https api thingspeak com loginall basic troubleshooting eg wrong key passes this is a private channel and get work successfully when an api key is passed and other posts to update the data are fine how does one officially are port all these issues with the api,0.285213530064
Hans,i have created a bug report on our side thanks for sharing,0.851718068123
Hans,i took a look and noticed that you need to send the user account api key not the channel key http www mathworks com help thingspeak clear a channel htmlapi_key string user api key note that this is different from a channel api key and can be found in your account details required,0.5
biod101,hello i have a project that has been successfully collecting and posting data to the thingspeak website for the last month via this channel https thingspeak com channels 62784 my system posts data on average once every 13 minutes however over the last few days posted u00a0data has been omitted from the public graphs usually in the afternoons what is odd is that i can download the data and see that it is u00a0actually making it into u00a0the cloud but it just not showing up on the graph this is a relatively recent development and i have not changed anything in my graph settings to merit this here is an example of the data downloaded from thingspeak that is not shown on the graph for june 6 created_atentry_idfield1field2field3 u00a0 u00a02016 06 06 13 32 26 utc599240680013 37 07graph suggest data is dropped past this point2016 06 06 13 44 36 utc5993406800 u00a0 u00a02016 06 06 13 56 47 utc5994407300 u00a0 u00a02016 06 06 14 08 58 utc5995407900 u00a0 u00a02016 06 06 14 21 08 utc5996409000 u00a0 u00a02016 06 06 14 33 18 utc5997409500 u00a0 u00a02016 06 06 14 45 28 utc5998410600 u00a0 u00a02016 06 06 14 57 39 utc5999413400 u00a0 u00a02016 06 06 15 09 49 utc6000417300 u00a0 u00a02016 06 06 15 21 59 utc6001417300 u00a0 u00a02016 06 06 15 34 10 utc6002417300 u00a0 u00a02016 06 06 15 46 20 utc6003417300 u00a0 u00a02016 06 06 15 58 31 utc6004417300 u00a0 u00a02016 06 06 16 10 41 utc6005417300 u00a0 u00a02016 06 06 16 22 51 utc6006417300 u00a0 u00a02016 06 06 16 35 01 utc6007417300 u00a0 u00a02016 06 06 16 47 12 utc6008417300 u00a0 u00a02016 06 06 16 59 22 utc6009417300 u00a0 u00a02016 06 06 17 11 32 utc6010417300 u00a0 u00a02016 06 06 17 23 42 utc601141730017 11 37graph suggests data is picked up after this pointany ideas or suggestions are greatly appreciated,0.252545654774
BSB,am noticing something similar but not sure if its the same exactlyand i think its taken me about 2 weeks to actually catch it in the act am using an mkr1000 and i thought it was the board that was pooched but i changed my debug output method and noticed it has sent some data on two occasions but that ts was reporting last connected u00a0 x amount of time which was behind the sent data connection by an hour or so also seeing a very sluggish site too often not refreshing properly and wonder if that is linked somehow,0.15363907814
biod101,thanks for the reply regarding changed my debug output method and noticed it has sent some data on two occasions but that ts was reporting last connected x amount of time which was behind the sent data connection by an hour or so sometimes when i u00a0check the site u00a0ts notes that the page u00a0was last updated hours ago then i refresh the browser and everything is back to normal updates a few minutes ago anyway i am able to download the full dataset but this u00a0is odd i may try another iot site to see if it related to the board my code or the site itself the fact that i have the full dataset downloading u00a0makes me think it is something with the site itself not talking properly to the database the data is there after all and ts makes this so easy that it kind of hard to break this as a user on the graphing side of things,0.185395419598
Hans,the time on the thingspeak channel does not update automatically with new data that is a feature that we have logged and will consider doing that in the future,0.771124720573
jimidmb,hi i am u00a0new here but thoroughly stumped after a hours of fiddling i am using a python script to read out temperature sensors and then send that data to thingspeak i followed this tutorial to setup the communication to thinkgspeak http www instructables com id esay iot weather station with multiple sensors it worked well for a while but recently u00a0it stopped i did a data export from thingspeak and found that there are date entries for each time my python script is called but no data here comes the crazy part when i call the script from the command line data is posted if the script is called through a cron job just the date is posted no data u00a0anyone have an idea what is going on andrew,0.832428336143
BSB,you are not alone different set up but i get a confirmed connection to the server and no errors on posting but the data does not seem to actually get into ts ts itself seems slow to respond to channel changes too i love how ts is so easy to work with but not seeing much by way of support or responses in the forums any more either,0.129469096661
rw950431,when a script works from the command line but not from cron the problem is often due to different environment variables particularly path try this exersize u00a0run this from the command lineenv tmp cli_env u00a0and a similar command as a cron job once is enough u00a0 env tmp cron_envthen check out what is different between the two files,0.243767678738
felipefmendes,hi guys i am started to work with internet of things recently u00a0and try to walk a few steps with iot hub someone here knows how connect a arduino in a iot platform i wanna a practical lesson ou steps to do that u00a0thanks,0.714678943157
felipefmendes,i wanna connect a yun with it can i how,0.277296602726
rw950431,does the iot hub have an api or other documentation u00a0 u00a0 if you are using yun its most likely possible to send data from the linux side via the internet although you may have to figure out the http calls yourself,0.5
auliandini,hi i have project that use tweetcontrol talkback and thinghttp with arduino uno and esp8266 i have setting thingspeak and 3 apps work properly as i only send channel update from my arduino which is connected to 3 sensors and now i want to control my arduino use tweetcontrol tweet command that connect to thinghttp and talkback to control my arduino but i dont know which api that should i use for that case can not somebody here tell me what should i do with arduino code please help,0.734261274338
rw950431,it seems to me that readraw is the only way to get talkback responses via the arduino library there doesnt seem to be much documentation on it all i can find is this from the sourcehttps github com mathworks thingspeak arduino blob master src thingspeak h u00a0 brief read a raw response from a private thingspeak channel param channelnumber channel number param urlsuffix raw url to write to thingspeak as a string see the documentation at https thingspeak com docs channels get_feed param readapikey read api key associated with the channel if you share code with others do _not_ share this key return response if successful or empty string use getlastreadstatus to get more specific information remark this is low level functionality that will not be required by most users code void loop string response thingspeak readraw mychannelnumber string feeds days 1 myreadapikey serial print are sponse serial print response delay 30000 endcode,0.5
alvarodecadiz9,hello i have a problem when i run my program at the first iteration i can send the datas to thingspeak but in the second iteration i have the following exception com angryelectron thingspeak thingspeakexception update failed at com angryelectron thingspeak channel update channel java 159 at clases canalthingspeak enviardatos canalthingspeak java 29 at clases simulador 5 run simulador java 233 at java util concurrent executors runnableadapter call unknown source at java util concurrent futuretask runandreset unknown source at java util concurrent scheduledthreadpoolexecutor scheduledfuturetask access 301 unknown source at java util concurrent scheduledthreadpoolexecutor scheduledfuturetask run unknown source at java util concurrent threadpoolexecutor runworker unknown source at java util concurrent threadpoolexecutor worker run unknown source at java lang thread run unknown sourcehow can i fix this the code is in the following link code to send datas to thingspeakthanks kind regards,0.5
rw950431,is the second update more than 15 seconds after the first u00a0 thingspeak has a hard limit of at least 15 seconds between updates,0.5
alvarodecadiz9,yes the second update is more than 15 seconds after the fist u00a0for each iteration i use the following as you can see in the code scheduledfuture beeperhandle11 scheduler11 scheduleatfixedrate beeper11 1 1 timeunit minutes where the second parameter corresponds to the initial delay to run the code the third parameter is the time you must spend to send data back to thingspeak and the last parameter corresponds to the time unit which in this case are minutes therefore i do not understand why this exception occurs,0.5
Vinod,is it possible that u00a0even though the device thinks it is sending at every 15 seconds because of network infrastructure the u00a0messages do not hit thingspeak at a once per 15 second rate what happens if you reduce the rate in your code,0.5
alvarodecadiz9,i have tried to reduce the time between each iteration but i still dating the same problem i changed the method by which it is iterated as follows but not work for me scheduledfuture beeperhandle11 scheduler11 schedulewithfixeddelay beeper11 60 60 timeunit seconds it seems that when the first iteration is executed not waiting for the set time and u00a0i do not understand why because the code i put scheduleatfixedrate is the method that should run,0.5
alvarodecadiz9,any ideas of this kind regards,0.756624758244
Fenestron,hi u00a0i want to learn if there is a possibility of api or the server answers format change u00a0because i plan to use the system for 2 years with the same software if thingspeak change the api or server answer my system wo not work forever,0.5
Vinod,there is a lot of effort put in to ensure that u00a0breaking changes are not introduced in the api with every release u00a0there are a number of channels with data that is being collected over a period of years and it is a fair expectation that that this will be continue to be possible,0.5
gezatoth,hi i am able to clear the channel data by pushing the button in web interface but when i try to send u00a0delete to https api thingspeak com channels my_channel feeds json api_key my_api_keyi get 406 not acceptablemy_channel and u00a0my_api_key is of course filledany clues,0.204758793116
Hans,try replacing the with https api thingspeak com channels my_channel feeds json api_key my_api_key,0.320953249931
rudraxx,hello can you please point me to an example of arduino code for getting the last value of a thingspeak channel i have been able to do that using a web browser but havent been able to do that with a get command any arduino code which shows exactly how it is done that would be very useful eg i can use the following with my browser but now an arduino http api thingspeak com channels 28454 fields field1 last key hb20zlsy5tfal0p5i tried the following with arduino at cipmode 0at cipstart tcp 184 106 153 149 80at cipsend 82 using word i see that the command below is 81 characters so i set the send length to 82 after i receive the response i send https api thingspeak com channels 28454 fields field2 last key hb20zlsy5tfal0p5please help abhi,0.5
mamic2,i have exactlysame problem can somebody help,0.164295405149
rw950431,perhaps change https to http u00a0 unsure if esp8266 can do ssl u00a0also perhaps you need to add the carriage return and line feed characters to the end of your url like this,0.772179722786
Ariane98,helloi have a similar problem hardware arduino sensor esp8266 when i use my box as the wifi access point everything is okbut when i use my smartphone as an access point i get the send the get request get a send ok but data do not appear on my channelwhen i connect my laptop via the smartphone updating data in the web browser do work though did someone experiment the same problem did someone solve it,0.5
Maryam_19,here is my code if anyone can help u00a0 include stdlib h include softwareserial h int trigpin a0 int echopin a1 unsigned long mychannelnumber 82618 const char apikey gz2i4b8qgo6fi9i6 string apikey 6h0llygut4124fd1 softwareserial ser 2 3 rx tx int i 1 void setup put your setup code here to run once pinmode trigpin output pinmode echopin input serial begin 115200 delay 2000 enable debug serial serial begin 115200 enable software serial ser begin 115200 reset esp8266 ser println at rst void loop put your main code here to run repeatedly float duration distance digitalwrite trigpin low delaymicroseconds 2 digitalwrite trigpin high delaymicroseconds 10 digitalwrite trigpin low duration pulsein echopin high distance duration 2 29 1 serial print leftsensor serial print serial print distance serial println cm serial print leftsensor serial print serial print distance serial println cm if distance 20 serial println warning too close from left string state1 string distance char buf 32 string dis dtostrf distance 8 2 buf serial println dis serial println cm tcp connection string cmd at cipstart tcp cmd 184 106 153 149 api thingspeak com cmd 80 ser println cmd serial println cmd if ser find error serial println at cipstart error return prepare get string string getstr get update api_key getstr apikey getstr field1 getstr string dis getstr send data length cmd at cipsend cmd string getstr length ser println cmd serial println cmd if ser find ser print getstr serial print getstr else ser println at cipclose alert user serial println at cipclose thingspeak writefield mychannelnumber 1 dis apikey thingspeak needs 15 sec delay between updates delay 16000,0.5
turti,hello i serched the last hole night to find a solution for my problem on my website i want to see the last temperature i u00b4ve logged to thingspeak if i type https thingspeak com channels mychannelid field 1 last htmlin my browser i got the last temperature so i take this link and put it in this code html head title temperatur title script type text javascript function nachladen var http null if window xmlhttprequest http new xmlhttprequest else if window activexobject http new activexobject microsoft xmlhttp if http null http open get http thingspeak com channels mychannelid field 1 last html true http onreadystatechange ausgeben http send null function ausgeben if http readystate 4 document getelementbyid ausgabe innerhtml http responsetext window onload nachladen script head body temperatur div id ausgabe div body html this does not work because i think this is a link to an external site if i change the link to an local last html it works fine has anyone a solution for me i did u00b4nt want to have an iframe u00a0thanks,0.137113153934
rw950431,try jsonp,0.752673923969
turti,thank you this should work but i don u00b4t understand that script because i have no knowledges of this topic is this the right script ajax url http thingspeak com channels mychannelid field 1 last html cache false datatype jsonp success function html results append html how du i get my value in html,0.8357385993
rw950431,you need to define a javascript callback function in your web page then add the callback parameter to your thingspeak url to call that function your callback function will receive the html response as a string which you can load into a div like your existing ausgeben function does,0.72123914957
turti,thanks a lot,0.967413544655
rechaugusto,sorry i m new im html and i just made a simple bootstrap page and couldnt undestand how to print the last value into my website thank you,0.781502604485
newbie1994,hi u00a0my private channel shows that there are entries but none of them are being shown on the graph please help me channel id 112736code include spi h include ethernet2 h int thresholdup 400 int thresholddown 250 int sensorpin a0 int lightpin a2 local network settingsbyte mac 0x90 0xa2 0xda 0x10 0x6c 0xb6 must be unique on local network thingspeak settingschar thingspeakaddress api thingspeak com string writeapikey rr5f13p7v4zhg21n const int updatethingspeakinterval 2 1000 time interval in milliseconds to update thingspeak number of seconds 1000 interval variable setuplong lastconnectiontime 0 boolean lastconnected false int failedcounter 0 initialize arduino ethernet clientethernetclient client void setup start serial for debugging on the serial monitor serial begin 9600 start ethernet on arduino startethernet void loop int moisture analogread sensorpin serial print moisture serial println moisture int light analogread lightpin serial print light serial println light delay 500 print update response to serial monitor if client available char c client read serial print c disconnect from thingspeak if client connected lastconnected serial println disconnected serial println client stop update thingspeak if client connected millis lastconnectiontime updatethingspeakinterval updatethingspeak field1 sensorpin updatethingspeak field2 lightpin check if arduino ethernet needs to be restarted if failedcounter 3 startethernet lastconnected client connected void updatethingspeak string tsdata if client connect thingspeakaddress 80 client print post update http 1 1 client print host api thingspeak com client print connection close client print x thingspeakapikey writeapikey client print content type application x www form urlencoded client print content length client print tsdata length client print client print tsdata lastconnectiontime millis if client connected serial println connecting to thingspeak serial println failedcounter 0 else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println lastconnectiontime millis void startethernet client stop serial println connecting arduino to network serial println delay 1000 connect to network amd obtain an ip address using dhcp if ethernet begin mac 0 serial println would hcp failed reset arduino to try again serial println else serial println arduino connected to network using dhcp serial println delay 1000,0.5
Hans,you are sending sensorpin to thingspeak you need to send the value of sensorpin instead like moisture u00a0 u00a0also make sure to change your write api key since you posted it u00a0,0.5
Dennniske,hi u00a0i have an private channel and use a windows denim lumia 640 xlt phone frequently to check my channel u00a0everything worked fine until yesterday today u00a0i cannot login with my windows phone u00a0wifi is connected other sites load there nothing wrong u00a0on my laptop installed with windows 10 with same wifi connection i can login u00a0my wife has an iphone 4 and it is also possible to login u00a0somebody a suggestion u00a0regards denniske,0.785305500031
Hans,do you happen to have a password saver on the windows phone like roboform do you have another option for the browser,0.301675915718
HugoP,i am embedding thingspeak graphs in a filemaker pro solution and i wanted to resize the plots i generated with my data when i increase the iframe size the graph stays the same size but the frame increases is there a way to resize the graph or to make it occupy a larger area say 1000px 800px is it possible with matlab visualisations i wanted to include a large graph on my dashboard but i can not seem to resize it thanks,0.5
Hans,the charts can take height and width as parameters here is more detail http www mathworks com help thingspeak create a chart html,0.701076507568
HugoP,what about the multi series plugin how would i scale that one up i have no javascript knowledge,0.257755547762
terahurts,i would like to just display the last updated field values as text within a webpage without any sort of visualisation but i know absolutely nothing about javascript and not much more about html u00a0all u00a0i want to do is have a table of the latest field values rather than using a google gauge or chart if someone could provide a working example i would be most grateful,0.234810113907
mitang,hi i am embedding charts to responsive website i set the iframe tag to 100 width but the data chart stays default width 450px i looked at http community thingspeak com documentation api charts and checked for the src parameters but the widths are defined in pixels only ud83d ude41 is it possible to set chart width in percent in this way the graph would stretch to 100 width of the wrapper html element with regards mitang,0.5
mitang,sorry i found out that i was looking at old documentation i should look at https www mathworks com help thingspeak create a chart html it written there width integer chart width in pixels iframe width will be 20px larger default chart width 400 set to auto to automatically adjust chart size based on its parent container optional mitang,0.5
Hans,thanks for noticing that i added a redirect to the new doc,0.962825000286
lindbe,can i generate my own api key the situation i have some extern sensors which are only accessible with difficulities and with some amount of time the internet connection is managed by a gsm module by changing some parameters in the channel settings i caused the write api key to change unintentionally i do not know which manipulations cause a new api key the bad thing is that api key is coded in the firmware and i cannot change it from at home all sent data are lost since that time therefore i want to restore the old api key by typing it in manually then the sensors will get connection to thingspeak again question is there a way to generate an api key by typing it or by sending it to the thingspeak server thanks for help,0.110036730766
stockdam,hi i am having problems using post i have no problems sending data to my channel using get but i want to find out what i am doing wrong with post i am using an arduino connected via an esp 07 esp8266 wifi board i am using basic at commands as follows i connect to the internet ok i then send a command to connect to thingspeak at cipstart tcp 184 106 153 149 80connectok this works when i use get so the connection to the server is ok i then post data as follows at cipsend 231ok post update http 1 1host 184 106 153 149connection closex thingspeakapi xxxxxxxxxxxxxxxxcontent type application x www form urlencodedcontent length 58field1 16372 field2 1328 field3 62 field4 62 field5 167send ok the response that i get back is response ipd 556 http 1 1 400 bad requestserver nginx 1 7 5date tue 22 mar 2016 20 33 13 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closestatus 400 bad requestx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800cache control no cachex request id cbbf6976 0d38 4099 9d12 51c616bff413set cookie request_method post path 100closed i am writing each line in turn rather than one long string each line has a backslash r backslash n at the end including the last line,0.87422055006
stockdam,must be something to do with the way that i am using the esp 07 module or a restriction on the module maybe i am not counting the data correctly if i telnet to thingspeakform linux and use the same data then everything works ok post update http 1 1host api thingspeak comconnection closex thingspeakapikey content type application x www form urlencodedcontent length 19field1 14 field2 20the response is http 1 1 200 okcontent type text html charset utf 8content length 1connection closestatus 200 oketc etc so my suggestion is to use telenet from your laptop first and see if the server is working,0.5
wheato22,now that my thingspeak residential water logging channel 90870 is working i now need suggestions on how to visualize my two metrics on my phone i have tried a couple android apps from the play store but found them lacking capability anybody have other mobile visualization suggestions,0.147942751646
pathslug,i have been using thing speak for quiet some time and all of a sudden my api keys are not setting data to the website i kept changing the write api but after 3 or 4 times the data from my nodemcu esp8266 is not being sent properly https thingspeak com channels 73974dht22nodemcu esp8266my serial monitor responsewifi connectedtemperature 29 50 degrees celcius humidity 63 10 send to thingspeakwaiting temperature 29 50 degrees celcius humidity 63 40 send to thingspeakwaiting temperature 29 40 degrees celcius humidity 63 70 send to thingspeakwaiting temperature 29 40 degrees celcius humidity 64 00 send to thingspeakwaiting waiting waiting waiting waiting waiting just goes on as waiting till i reset my nodemcu or use another write api keyplease help,0.5
oskimark1,hi same problem here same situation everything working fine for some days but these morning it stop uploading data try creating a new channel a changing settings same result after send the data i always get a server response but not now i am collecting two data sensors from arduino through usb and uploading them by a processing program import processing serial import processing net string apikey heremyapikey string field field1 string field2 field2 int portnum 1 port number of your arduinoserial arduino client c string data float number1 read from arduinofloat number2 read from arduinostring puerto void setup size 820 500 println serial list arduino new serial this serial list portnum 9600 void draw background 50 text temperatura 1 number1 10 60 text temperatura 2 number2 350 60 if data null fill 0 255 0 text erver response 10 90 fill 200 text data 10 110 if c null if c available 0 if there incoming data from the client data c readstring then grab it println data string ln if ln arduino readstringuntil null try string temp1 ln substring 0 5 string temp2 ln substring 5 number1 new float trim temp1 number2 new float trim temp2 println writing number1 println writing number2 sendnumber number1 number2 catch exception ex void sendnumber float num1 float num2 c new client this api thingspeak com 80 connect to server on port 80 c write get update key apikey field num1 field2 num2 http 1 1 c write host my_domain_name com be polite and say who we are if i try by web browser typing https api thingspeak com update api_key heremyapikey field1 10 field2 10works fine and what changed,0.5
mogul,same here i added to my http headers and then it appears to be working again only had before,0.138583153486
CorBee,hii also suddenly got problems in posting data my solution was to explicitely add api_key to my routine regardscorbee,0.773600101471
mogul,mogul said same here i added to my http headers and then it appears to be working again only had before ah man forum ate the good stuff from my post before i only had newline as endings now i have carriagereturn newline line endings,0.117118865252
oskimark1,corbee thanks but it did not work for me the strange is that i donnt change anything but sudenly stop working even from android apps work and from a http form u00bfhtml u00bfhead u00bftitle formularios html u00bf title u00bfform method get action http api thingspeak com update update u00bftable border 0 u00bftr u00bftd notebook u00bf td u00bftd u00bfinput type text value heremyapikey name api_key u00bfinput type text name field1 u00bf td u00bf tr u00bftr u00bftd cuarto u00bf td u00bftd u00bfinput type text name field2 u00bf td u00bf tr u00bftr u00bftd colspan 2 u00bfinput type ubmit value enviar u00bf td u00bf tr u00bf table u00bf form u00bf body u00bf html,0.5
CorBee,i can only say that one of my devices arduino has been working for many months in a row without any issues and suddenly it stopped the same is valid for a nodemcu esp8266 i had working for days too without a problem it looks as if the api has changed but i havent seen a notification cheerscorbee,0.0293284654617
oskimark1,but you could solve the problem how,0.163014143705
CorBee,like i stated in the mail above i added api_key to the string i send to thingspeak btw i am using the following codewarning you cannot see the r n sequences i use tsdata api_key apikey tsdata thingspeakclient print post update http 1 1 thingspeakclient print host api thingspeak com thingspeakclient print connection close thingspeakclient print x thingspeakapikey apikey thingspeakclient print content type application x www form urlencoded thingspeakclient print content length thingspeakclient print tsdata length thingspeakclient print thingspeakclient print tsdata,0.842676281929
CorBee,btw my channels are now updating for over 1 hour allready again nice and stable as we are used to,0.874231338501
Hans,we have discovered an issue at the amazon load balancer we are testing and trying to find a solution,0.107180178165
CorBee,hi hans thanks for the effort corbee,0.981567978859
oskimark1,thanks hans for your interest in our problems that what makes users remain faithful,0.839645802975
Hans,thanks for working with us,0.912581384182
oskimark1,great it seems to be working fine now i hope that the issue where solved thanks a lot please note for the future warn of possible problems that on the side of users helps calm down and not be insistent for help or trying other services,0.837773382664
Ales,hi my channels two days not work i send data field1 field2 field3 server response ok but in databse write only field1 ud83d ude41where is problem i not change any software in arduino in thingspeak its wery bad,0.088736474514
shael,hi i have a same problem with my channel my hardware send a few fields but only field1 write to database what is going on,0.171770811081
Hans,can you share how you are writing to the channel make sure it looks like field1 value field2 value,0.5
shael,hans said can you share how you are writing to the channel make sure it looks like field1 value field2 valuesure this is code from arduino ide prepare get stringstring getstr get update api_key getstr apikey getstr field1 getstr string temp getstr field2 getstr string bar getstr field3 getstr string humi getstr field4 getstr string wind getstr field5 getstr string direction getstr field6 getstr string dir cmd at cipsend cmd string getstr length ser println cmd serial println cmd i use r n sequences but i can not paste it here,0.5
jetcz,i am having problems uploading values as well from my arduino it was working fine few weeks ago when the arduino was powered off recently it was powered on and my graphs have lots of holes the connection is stable and error counter is low so i assume the post request succeeds but the data do not get written to the db for some reason i am doing post request every 20 seconds to 3 different channels that is one post per 60s per channel code is here https github com jetcz thebox blob master mainunit thingspeak inothe graphs are here http jet php5 cz or here https thingspeak com channels 25683 and 25982 and 25983 note that i have another project based on nodemcu and i am doing get request to the thingspeak and everything works just fine http jet php5 cz nodemcu graphs htm sadly the arduino project is miles away so i can not change the code in forseable future,0.103267967701
chenglin,hii had a question about uploading string to the channel i have a sensor that gives me two data every second and i want to upload these data to my thingspeak channel every minute that is 120 data in total i put them in a long string like 2 4 5 1 3 1 u2026 u2026 can thingspeak support this kind of data format most of application on thingspeak only upload one single point of data every time how to update a array of data in one time thanks a lot,0.5
rw950431,sadly thingspeak is limited to 8 fields per update and updates no less than 15 seconds apart if you wish to use thingspeak maybe you can summarize your data take an average max min etc to reduce its frequency there are other logging services which allow more frequent updates but they usually have restrictions in other ways such as only retaining a certain number of days or a certain number of datapoints,0.0924532711506
raxpa,i have tried to use the matlab code to calculate the dev point and there is no way to update the channel overtime i get errorerror using thingspeakwritecannot fufill request make sure your channelid and the corresponding write api key are correctly provided provide the write api key using the writekey parameter any idea,0.5
Hans,hi can you share your thingspeakwrite line here teh complete doc https www mathworks com help thingspeak thingspeakwrite htmlthanks hans,0.77618432045
Souperman,my application also stopped working i can no get a post to work using either thingspeak or talkback can any one else do so or is thingspeak broke home automation remote control document ready function fdlight click function var cmd this attr id front door on or off send on or off command to thingpeak post https api thingspeak com talkbacks 2864 commands api_key 8mv7zdjfwj4m96n0 command_string p remote light control system304 trenton aveexteriorfront light2 id value in attribute turns light on or off door light on door light offinterioralso my home temperature tracking application failed in early feburary here is the post content string define command https api thingspeak com update key qk9d5w0w714o4pt7 insert field values between command command1 ie 1 99 2 95 3 90 4 80 define command1 headers false define command2 api thingspeak comconnection closeaccept,0.5
bgardner,i see that there is a limit of 8000 points for retrieving filed data for charts but what is the limit for stored field data is it the same 8000 points i recently built a data logger for my grandson to log data from a wind turbine he installed and now i am working on a project using a wiznet module and an avr programmed in bascom avr for uploading the live data this site looks very promising thanks bob,0.5
Hans,if you make huge requests the requests get cached for 5 minutes if you request smaller amounts of data 100 records or less you can operate in real time the 8000 record limitation is for downloading records the limit is to stop the u00a0situation u00a0of downloading entire log files every few seconds just to get the latest few points if you already have timestamped data from your data logger all you have to do is use the importer on a channel let us know what you come up with u00a0 u00a0,0.5
NNH,hi sorry because of my english i want to know what are thingspeak limitations in number of stored points in number of retrieving points in number of gauges in number of displayed charts and plugins in private view does gauges update as long as charts update i mean when i update a field i want to update the respective gauge too and every limitations that exist,0.772949278355
Adarsh_Murthy,the only limits enforced are 1 the fastest rate you can send data to your channel is once every 15 seconds2 you can retrieve a maximum of 8000 points per field per callall the points that you have listed do not have limits,0.5
kekec14,hello i have installed local server and now i am testing a maximal speed of uploading data on server i wrote simple code in python which sends data on server my question is if there is any other option to make upload faster sample python code import requestsfrom datetime import datetimefor i in range 1000 r requests get http 192 168 0 101 3000 update key 9szs82h2ehs2b0l7 field1 s field2 s i datetime utcnow strftime s f this is only test program with which i would like to know what is the fastest upload rate in the future i would like to connect arduino with adxl335 sensor to raspberry pi2 with usb cable raspberry pi 2 would get data from arduino via serial port and upload them on local server through wifi on uploaded data i would make fft analysis because of acceleration measurement it is very importnant to have high sample rate with program above or some other i would like to find out what is highest sample rate of uploading data to local thingspeak server any other advices are welcome ud83d ude42,0.778679549694
rw950431,what kind of rates do you achieve from your test script what kind of performance do you hope for 10 readings per second 1000 1 000 000 do you know about the time command on rpi it allows you to accurately measure how long a program has taken to run eg time python thingspeak pyreal 0m0 074suser 0m0 003ssys 0m0 011syou could install a standard webserver apache or nginx for example on your local server and make another version of your script which fetches a static document with only a few bytes of text this will allow you to compare the speed of thingspeak application against the speed of the rest of your comms path,0.5
xlaser,one of my five channels stopped working last night and today the same channel has been up and down all day checked the update string and it is behaving as expected and has been running for the last 5 months the thingspeak server replies with the number of entries but fails to register the data on the graph the google gauges are greyed out another channel using the same hardware and the same program code is not affected very strange any ideas as to what is happening,0.5
Hans,has everything stabilized for you thanks,0.946569681168
jlmyra,is the thingspeak service up and running my data feeds stopped updating at noon today thanks,0.801797986031
CorBee,seems something has changed seehttp community thingspeak com forum thingspeak api thindspeak api not updating to my channel p2653,0.5
jlmyra,thanks for fixing the issue both feeds are working again at 6pm est,0.20632815361
Hans,happy to hear it is working again,0.956729650497
ethicalradiosniffing,what could be the maximum size of data we can store on thingspeak,0.705959796906
rw950431,currently the only limit is no less than 15 seconds between updates there are no size or date limits,0.5
pathslug,i have been sing thing speak for quiet some time and all of a sudden my api keys are not setting data to the website i kept changing the write api but after 3 or 4 times the data from my nodemcu esp8266 is not being sent properly https thingspeak com channels 73974,0.5
Ivanildo Bandeira,good afternoon i wonder if the thingspeak platform allows storing data permanently that is if the data sent to the platform are permanently stored for future reference,0.902894020081
lee,hi yes the data is stored permanently unless you delete your channel or clear your feeds we have data points from 2010 still in our database and have no plans for deleting any data lee,0.163772463799
Ivanildo Bandeira,lee said hi yes the data is stored permanently unless you delete your channel or clear your feeds we have data points from 2010 still in our database and have no plans for deleting any data leeok but it is possible to query data from specific periods example query data from one month or a year or just a day and view this data in graphs,0.231580555439
lee,hi yes data can be queried on a specific date range here some documentation on the charts https thingspeak com docs charts and here an example of data between jan 1st and 2nd 2012 https thingspeak com channels 9 charts 1 start 2012 01 01 end 2012 01 02 average 10 lee,0.5
Ivanildo Bandeira,lee said hi yes data can be queried on a specific date range here some documentation on the charts https thingspeak com docs charts and here an example of data between jan 1st and 2nd 2012 https thingspeak com channels 9 charts 1 start 2012 01 01 end 2012 01 02 average 10 leeok i get it thanks for the info,0.5
ethicalradiosniffing,whats the maximum size of data we could store on thingspeak,0.202654063702
fbossong,hi there i am working on a pir motion sensor connected to an adafruit huzzah esp8266 which sends its data to a thingspeak channel the basic idea is that i show which meeting room is free no motion detected using a webapp for the app i would like to use node js and the thingspeakclient for node js however it does not seem to work since i receive a null error debugger throw er unhandled error event can someone tell me what i am doing wrong or push a bit in the right direction much appreciated code for attach channel thows null error var express require express var app express var thingspeakclient require thingspeakclient var client new thingspeakclient var yourreadkey mcxhz8becfau1fdj var channelid 79503 client attachchannel channelid readkey yourreadkey function err resp if err resp 0 console log update successfully entry number was resp else console log there is an error attaching err,0.239270180464
Skylordus,hi thingspeak communityi want to create a large database using thingspeak and retrieve data with arduino esp8266 wifi module rfid reader suppose that i manually enter three fields into database rfid uid code item name item cost such as 04 b6 93 b8 milk 60006c 92 d3 91 bread 75006d 5c 12 2b toothpaste 45005c dc d1 91 coke 5500this data will be stored in my thingspeak channel now suppose that my device reads uid code 5c dc d1 91 using its rfid reader then it sends this uid code into thingspeak api via esp8266 module and gets coke 5500 item name and cost in response so is this possible using thingspeak and how can i accomplish it thanks in advance,0.5
rw950431,sounds more like a job for an online redis or mongodb service,0.5
dailyappsuse,hii am trying to parse table value from url website url http www gold rate today ahmedabad gujarat india htmli am using xpath for string parsingmy parse string id content div div div 1 div 3 div div table 1 tbody tr 2 td 2 so thingspeak url is https api thingspeak com apps thinghttp send_request api_key hs3h5fxhdjt3cpu6help me to solve this thanks,0.786171615124
rw950431,this stackoverflow question https stackoverflow com questions 22571267 how to verify an xpath expression in chrome developers tool or firefoxs firebug has some techniques for getting the right syntax for your xpath query see also my old post on the same topic http community thingspeak com forum thingspeak apps why does this xpath fail,0.74280166626
lballaty,hi just wondering if there is any way to connect to thingspeak by ssl or to encrypt and decrypt the data i am new to this just been looking around to see what i might be able to do but the data security comes to mind and i have not found anything related thanks,0.909765720367
rw950431,you can connect to the api via https to protect your data in transit is that what you are asking for example https au mathworks com help thingspeak update channel feed html,0.5
carryGod,chart option do not have a column to set data time zonehow should i set chart like one point each 30 minutes and data start from 2015 12 28 10 23 19 utc to 2016 1 4 5 34 03 utc,0.5
Adarsh_Murthy,hi as you mentioned the chart options in the channel page does not provide a start and end time option for the displayed charts you can achieve this using either by calling the chart api as below you will need to change the channel id field id and the start and end times below http api thingspeak com channels 12397 charts 1 start 2015 11 26 end 2015 12 01 timezone etc utcor by creating a matlab visualization app with code similar to that below define start time for period of interest and set timezonestart_time datetime 26 nov 2015 00 00 00 timezone utc define end time for period of interest and set timezoneend_time datetime 30 nov 2015 11 59 59 timezone utc read data from field 1 of channel 12397 for the daterange of interest data time thingspeakread 12397 fields 1 would aterange start_time end_time plot the data note that the visualization is in your local timezonethingspeakplot time data,0.5
carryGod,thank you very much,0.994800448418
edcasati,i have a working app that display the current temperature and humidity of several locations i would like to get the hi and low values that have occurred during the last 24 hrs is there an api call that can give me those specific values only or do i just need to track them myself in the app,0.313572227955
Hans,i would investigate the matlab visualizations app within thingspeak i do not have a specific example in mind but it sounds like a good fit for what you are looking to do,0.163137048483
Adarsh_Murthy,hi edcasati as hans mentioned use the matlab visualization app to visualize the hi lo values for the last 24 hours here is how i have done it in the past read the last 24 hrs worth of humdity data from field 3 and temperature data from field 4 of channel 12397 data time thingspeakread 12397 fields 3 4 numdays 1 calculate max temperature and humidity and find the timestamps mmax imax max data maxhumidity mmax 1 maxtemperature mmax 2 timemaxhumidity time imax 1 timemaxtemp time imax 2 calculate min temperature and humidity and find the timestamps mmin imin min data minhumidity mmin 1 mintemperature mmin 2 timeminhumidity time imin 1 timemintemp time imin 2 plot temperature and humidityplot time data hold all plot maximum valuesplot timemaxhumidity maxhumidity rx plot timemaxtemp maxtemperature bx plot minimum valuesplot timeminhumidity minhumidity ro plot timemintemp mintemperature bo,0.5
edcasati,thank you hans and adash_murthy the answer that you gave me is detailed beyond any reasonable expectations thank you i have zero experience using matlab and this seems like a good hello world learning step,0.980492949486
edcasati,got it working instead of a visualization i used a matlab analysis plotting the output as high and low values in separate charts in the same channel as the original data so if i am storing 2 values i need 4 additional fields to store the results of the analysis then i can just have my app request the last value for each of 6 fields and display the data accordingly the biggest problem that i encountered is figuring out that the write key needs to be enclosed in single quotes i have a separate question about triggering the matlab analysis but i will put that in a separate topic thanks again for the great help,0.5
hkbiet,hi all i want the following to happen whenever a field value in thingspeak channel crossses a threashold the thingspeak should push a binary as response how do i do that take it in a way like a software update on a remote system as a particular date passess the thingspeak should push a binary to it,0.5
Adarsh_Murthy,hi hkbiet thingspeak react app allows you to trigger actions based on field values in a channel for numeric data the react app allows you to check if the last data value is greater than is greater than or equal to is less than is less than or equal to is equal to is not equal toa predefined threshold for further information refer to this link http community thingspeak com forum thingspeak api how to make thingspeak serve binaries as response p2520on detecting a success condition you can trigger a matlab analysis or thinghttp app depending on where your binary resides using either the matlab analysis app or thinghttp you can push a binary as desired thanks adarsh,0.737883150578
gyrolen,when i send data to thingspeak entries are being incremented correctly but they seem to be received as text not number so the charting does not work and when data is downloaded into a spreadsheet it shows as text how do i specify numbers instead of text can anyone help a newby i have edited the code using full words return and newline for readability here is a sample of my code int depth 100 for example real data is collected from a distance measuring devicestring poststr apikey poststr field1 poststr depth maybe should be parseint depth poststr return newline return newline client print post update http 1 1 newline client print host api thingspeak com newline client print connection close newline client print x thingspeakapikey apikey newline client print content type application x www form urlencoded newline something to change here maybe client print content length client print poststr length client print newline newline client print poststr client print return newline return newline,0.240006804466
gyrolen,found the problem instead ofpoststr depth it should be poststr string depth dec andpoststr are turn newline return newline is not necessary,0.155177921057
mojthingspeakforum,hi i am trying to send my last data from my channel fields to my pushingbox scenario i want to pass my fresh data from my fields on the pushingbox side i have set up few variables in my body message variable_1 variable_2 variable_3 on my thingspeak side i have set up thinghttp with this url http api pushingbox com pushingbox devid my pushingbox device id http auth username my pushingbox device id http auth password method postcontent type application jsonhttp version 1 1host api pushingbox com i tried this 1 url http api pushingbox com pushingbox devid 5bmy pushingbox device id variable_1 test 1 variable_2 test 2 variable_3 test 3 this works and i got notifications with these values but what i want is not static data but data from my channel fields so instead of test 1 i want to have field_1 data and test 2 i want to have field_2 etc probably it has something to do with channel value replacements channel_channel_id_field_field_number so my url should look like something like this but it does not work url http api pushingbox com pushingbox devid 5bmy pushingbox device id variable_1 channel_ my channel id _field_1 variable_2 channel_ my channel id _field_1 variable_3 channel_ my channel id _field_1 but how to use it could u give me an example should i append it in my url or my body field where exactly example please am i missing something help,0.5
rw950431,maybe your second url is missing the at the start of the variable tryurl http api pushingbox com pushingbox devid my pushingbox device id variable_1 channel_ my channel id _field_1 variable_2 channel_ my channel id _field_1 variable_3 channel_ my channel id _field_1 if you include all the info in the parameters you probably can changemethod posttomethod get,0.5
mojthingspeakforum,hey i have tried both 1 http api pushingbox com pushingbox devid xxxxxxxxxxxxxxxxxxx room livingroom temperature channel_xxxxxxx_field_1 humidity channel_xxxxxx_field_2 2 post and get i have changed from post to get but without result could u give me an example of changing info in parameters,0.5
rw950431,does pushingbox have a way to view incoming requests if not perhaps you can set up a url at http requestb in click on create then send your requests to there insteadeg the 14j2 string will be different for yours http requestb in 14j2jw91 devid xxxxxxxxxxxxxxxxxxx room livingroom temperature channel_xxxxxxx_field_1 humidity channel_xxxxxx_field_2 the website will display what your program is sending to it and allow you to make changes perhaps thingspeak variable substitution doesnt work in the url parameters if so you may have to put the data in the body and go back to post,0.5
mojthingspeakforum,it works thank you ud83d ude00i used requestb in for testing changes url http api pushingbox com pushingbox devid xxxxxxxxxxxxxxxxmethod postcontent type application x www form urlencodedbody room livingroom temperature channel_xxxxxxxx_field_1 humidity channel_xxxxxxxx_field_2 result is something like this temperature 33 000001200456 humidity 46 00045660045now i need to limit format decimals to look something like this 0 00 i know that i can do it from arduino side but what about thingspeak side format channel_xxxxxxxx_field_1,0.5
rw950431,so you confirmed that variable substitution didnt happen in the url parameters thats useful information to know i suspect there not much control over the formatting during variable substitution if you want more control then maybe you have to use a matlab analysis app with the webwrite function,0.302744179964
electronicsguy,mojthingspeakforum were you able to get it working with pushingbox,0.127042710781
usmanasif,hi i am using a sim900 breakout module that connects to my pc over the usb serial link the hardware is setup correctly as i am able to send sms and ftp files at will i am writing the following code on windows hyperterminal in hope to send data to thingspeak api module started and connected to network creg etc all ok at sapbr 3 1 contype gprs press enter okat sapbr 3 1 apn ufone pinternet press enter okat sapbr 1 1 press enter okat sapbr 2 1 press enter sapbr 1 1 10 68 56 78 at cipstart tcp api thingspeak com 80 press enter ok connect okat cipsend 70 press enter 70 calculated as 66 bytes for the data field listed below and 4 bytes for carriage return get update api_key 1st90af1cvq7ocfh field1 12 field2 19 field3 94 press enter 026 send ok but nothing gets updated on thingspeak i have tried to change the cipsend count to 66 and 68 but that does not work either what am i doing wrong i have read about arduino code that works but i am on a hyperterminal talking directly to the gsm modem any help is appreciated,0.5
mmartella,hi i try to send a multiple msg to thingspeak and i have some problems when i send only one msg with this class i have no problem package com iot thingspeak import org apache log4j level import org apache log4j logger import com angryelectron thingspeak channel import com angryelectron thingspeak entry import com angryelectron thingspeak thingspeakexception import com angryelectron thingspeak log4j thingspeakappender import com mashape unirest http exceptions unirestexception public class thingspeakwebclient private string apiwritekey q7phb8fhlu89sbbc private int channelnumber 73899 private channel channel public thingspeakwebclient system setproperty org apache commons logging log org apache commons logging impl jdk14logger channel new channel channelnumber apiwritekey public synchronized void sendmsg int field1 double value thingspeakappender appender new thingspeakappender appender configurechannel channelnumber apiwritekey http api thingspeak com appender setthreshold level info appender activateoptions appender setdata field1 value logger getrootlogger addappender appender logger getlogger this getclass log level info hello world public static void main string args throws exception thingspeakwebclient ts new thingspeakwebclient ts sendmsg 1 28 9 but i try to send a multiple msg for example using the observable pattern the second msg and all others has this problem dec 28 2015 3 28 02 pm com angryelectron thingspeak log4j thingspeakappender appendsevere nullcom angryelectron thingspeak thingspeakexception update failed at com angryelectron thingspeak channel update channel java 182 at com angryelectron thingspeak log4j thingspeakappender append thingspeakappender java 145 at org apache log4j appenderskeleton doappend appenderskeleton java 221 at org apache log4j helpers appenderattachableimpl appendlooponappenders appenderattachableimpl java 57 at org apache log4j category callappenders category java 187 at org apache log4j category forcedlog category java 372 at org apache log4j category log category java 846 at com iot thingspeak thingspeakwebclient sendmsg thingspeakwebclient java 49 at com iot temperaturehumiditymonitoring modelreactivecontrolsensor lambda 5 modelreactivecontrolsensor java 108 at com iot temperaturehumiditymonitoring modelreactivecontrolsensor lambda 9 1811883046 call unknown source at rx observable 32 onnext observable java 7466 at rx observers safesubscriber onnext safesubscriber java 130 at rx internal operators onsubscribetimerperiodically 1 call onsubscribetimerperiodically java 51 at rx scheduler worker 1 call scheduler java 120 at rx internal schedulers scheduledaction run scheduledaction java 55 at java util concurrent executors runnableadapter call executors java 511 at java util concurrent futuretask run futuretask java 266 at java util concurrent scheduledthreadpoolexecutor scheduledfuturetask access 201 scheduledthreadpoolexecutor java 180 at java util concurrent scheduledthreadpoolexecutor scheduledfuturetask run scheduledthreadpoolexecutor java 293 at java util concurrent threadpoolexecutor runworker threadpoolexecutor java 1142 at java util concurrent threadpoolexecutor worker run threadpoolexecutor java 617 at java lang thread run thread java 744 more precisely my code has some problem with this function in channel java update channel with new data param entry the new data to be posted return the id of the new entry throws unirestexception the request cannot be made throws thingspeakexception the request is invalid public integer update entry entry throws unirestexception thingspeakexception httpresponse response unirest post apiurl update header apiheader this writeapikey header connection close fields entry getupdatemap asstring if response getcode 200 throw new thingspeakexception are quest failed with code response getcode else if response getbody equals 0 throw new thingspeakexception update failed return integer parseint response getbody the program crashes on throw new thingspeakexception update failed i need help ud83d ude42do you have any idea for solve this problem i am sure that i send all msg with a 15seconds of delay thank you massimiliano,0.5
Hans,a response of 0 from the api indicates either the key is wrong or that the rate limit restricted the update try waiting 20 seconds and see if that helps,0.0494165718555
mjung43,hello i am fairly new to thingspeak and having a bit of a hard time looking for references my situation is that i do not really know where i stand basically i followed the guide after clean install of ubuntu 14 04 server this is the basic guide that i used thingspeak so i followed this guide but i am not sure how to connect it to my account and use this new thingspeak server i have been having a hard time because i do not know much ruby gems mysql or thingspeak really i am just unsure what to do after the guide because i need to connect the server with my sensors arduino and android app i am a complete beginner so i apologize for any lack of understanding thanks for the help,0.803884625435
picpic020960,bonjourthingspeak server limit is 8000 records when readand timescale directive allow show 1 n recordsbut it is 1 n for 8000 so the deep time is also limited sorry verry bad english petit n u00e8gre en fran u00e7ais thanks for new feature if anderstand,0.226360231638
Eric,documentation says i can use the offset parameter when retrieving the last entry in a field feed but i can not get it to work https api thingspeak com channels mychannel feed last json api_key myreadkey returns the last field json result just fine with created_at being in utc i would like to retrieve it in mountain standard time by using the offset parameter https api thingspeak com channels mychannel feed last json api_key myreadkey offset 7 returns 1 i have tried putting offset in various places and with different positive and negative numbers from the offset and all return 1 can someone please post a working syntax to use the offset parameter,0.0815736353397
Hans,eric when you add multiple parameters to the url you need to separate them with an symbol only the first parameter requires the your url should look like this https api thingspeak com channels mychannel feed last json api_key myreadkey offset 7let us know if that helps thanks hans,0.5
Eric,derp yes that fixes the problem thank you,0.841681957245
mversluis,dear forum members just need some help from you guys to sort something out in a channel i have 5 fields every field need te updated from home automation at a certain timeexample field 1 update every 15 minutesfield 2 every hour but not field 1 field 3 every day but not field 2 and 1 can somebody explain why the first script is working and the second is not working many thanksmarco code for updating field1 this is working thingspeak net fhttp api thingspeak com huidige gebruiklocal field1 fibaro getglobalvalue watt_current fibaro debug watt in gebruik field1 payload key apikey field1 field1 response status errorcode thingspeak post update payload fibaro debug payload payload fibaro debug are sponse response code for updating field2 this is not working thingspeak net fhttp api thingspeak com local field2 fibaro getglobalvalue watt_today fibaro debug watt gebruikt vandaag field2 payload key apikey field2 field2 response status errorcode thingspeak post update payload fibaro debug payload payload fibaro debug are sponse response,0.5
Hans,two notes 1 do you have field2 enabled on the channel settings tab 2 since you are sending data at three different time intervals you are better using three different channels,0.790356636047
BSB,i would tend to agree with hansnot a programmer so this is only a suggestion and is an untried synop only set up a timer to count in minutesif timer 15 then f1data field1data 15 min incrementt2 timer 60 convert mins to hrsif t2 1 then f2data field2data else f2data oldf2data 60 min increment and passes same information as last reading if its not time to updateif t2 24 then f3data field3data else f3data oldf3data 24 hr increment and passes same information as last reading if its not time to updateupdatethingspeak field string f1data dec field2 string f2data dec field3 string f3data dec if t2 24 then timer 0 reset counter to start againor it may be possible to use some other conditional statement think you may need to pass a value along for the second two fields though regardless even if its just a copy of the last reading,0.5
OZ2CPU,send data to each field using single transfersthen you can send data at any rate you desire to any of the separate fieldssince the curves x axis is time and date simply running all the time lets say you make all 3 curves show the last 5 days it does not matter if you got 100 points on one curveand just 10 points on the other curve things will look like they happen at correct x axis timei use this write data methode http api thingspeak com update key yourkeyyourkey field1 1234and then at other update rate http api thingspeak com update key yourkeyyourkey field2 5432,0.5
nsadventurer,hi all i am new to html and am having a hard time finding a solution to my problem i want to be able to open a web page in my browser and update a channel feed with some data entered from the page i can do this by cut and pasting everything into my browser address bar and it works fine so now i want to move on to having a locally stored html file so that when i open it up i am presented with a couple of fields for a date and time then have a submit button to click which will update the thingspeak channel field my esp8266 checks the last entry in that field after the rest of the fields have been updated and then i want it to take any appropriate action based on that fields value what i have in my html file pointy brackets removed so i can post it htmlbodyform action http api thingspeak com update key my_api_key field6 method post start date and timeinput type would atetime local name tartdaytime0 input type ubmit value ubmit form htmlhow do i append my startdaytime0 and start_temperature0 to the form action thanks,0.145810514688
Eric,hey nsadventurer you need to change the value of the name part of the input line to equal the field you want it to update to so e g name field1 i have done that and it works to update the field my field is number only so have not validated whether that will work with a date time entry time i am not sure but i think perhaps an id is required as well i have a newer post in this topic that has my code my struggle is trying to get it to post with the browser displaying the thingspeak success page,0.17858594656
picpic020960,bonjour when export my data 6 fields the csv file contains one line in excel with notepad see below nota begin with 2 fields then 4 fileds then 6 fileds other question how many rows is the limit of storage and when at the limit all is stuck thank created_at entry_id field1 field2 field3 field4 field5 field62015 11 07 15 14 02 utc 1 20 80 69 40 2015 11 07 15 14 27 utc 2 20 70 70 10 2015 11 07 15 14 50 utc 3 20 70 70 10 2015 11 07 15 15 13 utc 4 20 70 70 40 2015 11 07 15 15 35 utc 5 20 60 70 50 2015 11 07 15 15 58 utc 6 20 60 70 70 2015 11 07 15 16 22 utc 7 20 50 71 20,0.5
rw950431,may be a problem with line ending characters try to open csv file with wordpad instead of notepad and see if its different not sure what limit you are asking about there is no limit to the number of rows that thingspeak will store for you but there is an 8000 row limit on each api extract call,0.5
OZ2CPU,a few questions can i remove the dots and only show the lines can i reset clear modify only one field of a channel why can i only have 8 fields in one channel i need more curves so i created more channels more api codes more work feels like alot of unneeded problems,0.0906856954098
rw950431,as far as i know the 8 fields per channel limit is a design decision so is unlikely to change there are other services without such a limit but they impose limits in other ways usually by total data size or number of days stored the thingspeak graphs are pretty basic have you checked out the matlab visualisation app,0.214960694313
OZ2CPU,thanks for your reply yes i did play a bit with matlab visualisation i find it too hard and too time consuming to figure out how to make it do what i want maybe it is super cool i just did not invest the time needed to understand it sometimes when i play arround with my new sensors i forget i deliver data online and by accident send out uncalibrated data to a set allready full of usefull data i can not edit or delete any of it seperatly it is just all or nothing it could have been very usefull to be able to deliver wrong or bad data while setting up or calibrating stull when ok then clearsome data in only some fields and leave the rest with ok data intact,0.224306344986
npatel023,i have my temperature sensors reporting every minute however sometimes it does not plot the points on thingspeak all the time for example during the day it will be working fine and at night time it will stop plotting do i need to be logged into thingspeak all the time we are needing consistent data thank you neil,0.825355052948
hans,npatel023 the write api key for the specified channel is required for each http get post update the write api key will be used for authentication,0.796519577503
npatel023,i have the write api key in my code let me show you it will work fine for hours and then stop posting for a couple hours then when i log into thingspeak it will start posting again replace with your channel thingspeak api key string apikey 3b7gin9awhveldpk string apikey 4c4lr7jtnfrjjpfa const char ssid uite b const char password 99aa88bb77 const char ssid ratfink3 const char password franklin9447 const char server api thingspeak com wificlient client ds18s20 temperature chip i oonewire onewire d1 pin dallastemperature sensors onewire void setup initialize inputs outputs start serial port sensors begin serial begin 115200 wifi begin ssid password serial println serial println serial print connecting to serial println ssid while wifi status wl_connected delay 500 serial print serial println serial println wifi connected esp deepsleep 60 1000000 wake_rf_default sleep for 60 seconds esp deepsleep 1800 1000000 wake_rf_default sleep for 30 minutes void loop sensors requesttemperatures float currenttemp0 float currenttemp1 float currenttemp2 float currenttemp3 float currenttemp4 float currenttemp5 float currenttemp6 float currenttemp7 currenttemp0 sensors gettempcbyindex 0 currenttemp0 currenttemp0 1 8 32 serial print temp0 serial print currenttemp0 serial println currenttemp1 sensors gettempcbyindex 1 currenttemp1 currenttemp1 1 8 32 serial print temp1 serial print currenttemp1 serial println currenttemp2 sensors gettempcbyindex 2 currenttemp2 currenttemp2 1 8 32 serial print temp2 serial print currenttemp2 serial println currenttemp3 sensors gettempcbyindex 3 currenttemp3 currenttemp3 1 8 32 currenttemp4 sensors gettempcbyindex 4 currenttemp4 currenttemp4 1 8 32 currenttemp5 sensors gettempcbyindex 5 currenttemp5 currenttemp5 1 8 32 currenttemp6 sensors gettempcbyindex 6 currenttemp6 currenttemp6 1 8 32 currenttemp7 sensors gettempcbyindex 7 currenttemp7 currenttemp7 1 8 32 send temperature readings to thingspeak if client connect server 80 string poststr apikey poststr field1 poststr string currenttemp0 poststr field2 poststr string currenttemp1 poststr field3 poststr string currenttemp2 poststr field4 poststr string currenttemp3 poststr field5 poststr string currenttemp4 poststr field6 poststr string currenttemp5 poststr field7 poststr string currenttemp6 poststr field8 poststr string currenttemp7 poststr client print post update http 1 1 client print host api thingspeak com client print connection close client print x thingspeakapikey apikey client print content type application x www form urlencoded client print content length client print poststr length client print client print poststr client stop delay for a minute delay 60000,0.5
rw950431,does your arduino code indicate any errors when the data stops being recorded perhaps you can add some code to your loop that displays the result code of the post each time to see if it changes at all,0.749416530132
npatel023,not that i know of i could add it and monitor it overnight to see what is going on,0.278026223183
sramirez6208,hey guys i just installed my local server i changed the resolution of readings to every 1 second and thats working fine however my chart doesnt reflect the data it only refreshes it seems every 15 seconds still the data points do propagate when the page is refreshed but i would really like to see all the data points coming in without having to hit refresh is there any way to fix this problem i have a labview vi running right now so you can see it working hereany help would be greatly appreciated thanks also i am new to thingspeak this is some awesome software you guys have developed and i thank you scott,0.791456341743
hans,sramirez6208 change the following line from 15000 to 1000 or rate_limit_frequency to_i 1000 https github com iobridge thingspeak blob master app views charts show html erb l107the former will hard code the change the latter will use the string value stored in the initializers constants rb file convert the string to an integer and convert from seconds to milliseconds note the use of to_i will convert the string to an integer if the rate_limit_frequency is set to a sub second string to_i will convert the value to the nearest integer 0,0.5
sramirez6208,jklol thank you very much that did it i appreciate you taking the time to help out scott,0.955873370171
abhishekjacob21,i am using the thingspeak library in my code which does not really say when a value is uploaded i am measuring the value of a flowmeter and i wanted to upload to thingspeak the average values that were measured in the 15 seconds between channel uploads is there any way to do that thank you,0.162777394056
hans,abhishekjacob21 thingspeak limits uploads to a single channel to once every 15 seconds as i understand a value from the flowmeter is being sent to a thingspeak channel every 15 seconds you wish to send the average of the values between those 15 seconds to thingspeak it is possible to write the average value to a separate channel it is possible to write the flowmeter value to field1 and the average to field2 in the same thingspeak data write operation,0.5
patricio_74_,hello it is possible top edit the name of header into csv http request for exmple created_at as would ate anorther question is about date time format it is possible to remove the utc label at the end of csv http request url so the final csv look like this 2015 11 02 21 00 14 25 8 thanks,0.5
patricio_74_,finally i found an alternative to this question editing the source code thanks,0.952321648598
hans,patricio_74_ the functionality described is currently not possible but may be considered for a future update,0.5
patricio_74_,hello i am using a csv http request to include data into a webpage what i am trying to get now is only a value on field2 on a period time period 1 https api thingspeak com channels chanel_id feed csv key start 2014 11 02 2010 30 00 end 2014 11 02 2010 30 00 period 2 https api thingspeak com channels chanel_id feed csv key start 2014 11 02 2012 30 00 end 2014 11 02 2012 30 00 created_at entry_id field1 field22014 11 02 2010 30 00 157780 4 2 period 1 2014 11 02 2011 30 00 157784 6 4 2014 11 02 2012 30 00 157787 10 5 period 2the final result i am trying to get is field2 period 2 field2 period 1 3 it is this possible thank you very much,0.5
rw950431,you may be able to do this with the matlab analysis app,0.282391130924
hans,patricio_74_ it is possible to achieve the outcome calculating the difference of points between to time series using the matlab analysis app the high level steps involve 1 using the matlab function thingspeakread to import the specific data from a channel into variables for each period https thingspeak com docs matlab_analysis thingspeakread 2 using the matlab minus operator to calculate the difference http www mathworks com help matlab ref minus html searchhighlight subtract for more information about the matlab analysis app refer to the analyze your data section of the thingspeak and matlab tutorial in the documentation https thingspeak com docs tutorials analyze,0.5
patricio_74_,thank you for your reply i will follow that steps,0.987406611443
vorms,hello i send this message to the server post update http 1 1host api thingspeak comconnection closex thingspeakapikey sc1bczibnnwu52b7content type application x www form urlencodedcontent length 351 1 308 4 23 50 5 22 31 6 1 307 7 1but the first field receive no data can you explain why many thanks to any body who can help me best regardsthierry vorms,0.790020644665
akhila,hi thierry are you trying to update a channel feed if yes please refer to this documentation for the same https www mathworks com help thingspeak update channel feed html i think you need specify field1 1 308 field4 23 50 field5 22 31 thanksakhila,0.5
daturach,helloi would like to gzip the content before sending it to thingspeak server i am already sending data using plain text like this params urllib urlencode field1 myfield1 field2 myfield2 key thingspeakkey headers content type application x www form urlencoded accept text plain conn httplib httpconnection api thingspeak com conn request post update params headers question what do i need to do to compress the content will this work and will the server understand that request params urllib urlencode field1 myfield1 field2 myfield2 key thingspeakkey headers content type application x www form urlencoded accept encoding gzip conn httplib httpconnection api thingspeak com conn request post update params headers thanks for your help waltermy pub channel https thingspeak com channels 45572,0.920279800892
akhila,hi we currently do not have a way to accept the compressed content but we are internally discussing how to handle this and hope to have a solution in the future akhila,0.915072321892
akhila,hi gzip is currently enabled for thingspeak thanksakhila,0.936185121536
powtac,can i add entries asynchronous after they happened can i use the created_at field to set a entry in the past according to the documentation https thingspeak com docs channels update_feed that should be possible but in what timezone must i send the data and what about the format,0.5
powtac,seems to work the problem was that date with would ate month returns 0 11 january 0 and i did not 1 to match the correct date for created_at,0.170449346304
71ag,hi everyonei wonder that an entry update in the past also counts into the 16 second limit correct if i had a network outage for example several hours is there a way to push all data to thingspeak once the network is available again otherwise i wonder how to get all these data in if everytime ill push something i have to wait for another 16 seconds while still new data is coming in any suggestions,0.238180577755
lee,hi yes any update counts towards the 15 second rate limit we are aware of this problem and may add the ability to perform batch updates in the future via the api lee,0.76466357708
geetee,help the above does not work http post f1 hi created_at 2011 07 18t01 02 03zcreates a record with todays date and time now and not the above date advice,0.902962207794
lee,hi that post looks correct are you encoding the values correctly you can also perform an update with get and url encode the timestamp lee,0.92953646183
geetee,well the docs list an invalid format for the date string can you send me working code that updates the created_at correctly i need to to a post and not a get thanks,0.763182878494
lee,hi here an example of the raw request payload from an update that works for me api_key xxxxxxxxxxxxxxx field1 testing created_at 2015 11 23t01 3a51 3a17zthis created_at time corresponds to 2015 11 23t01 51 17z if you are not seeing your data try setting the tart and end dates in the request since only the past 24 hours are shown by defaultlee,0.5
geetee,i need an example that works via post not via get seems the bug is with a post onlythanks,0.213119089603
sandeen,the api already has sum x get sum of x minutes valid values 10 15 20 30 60 240 720 1440 average x get average of x minutes valid values 10 15 20 30 60 240 720 1440 median x get median of x minutes valid values 10 15 20 30 60 240 720 1440 i would love to also see minimum x get minimum of x minutes valid values 10 15 20 30 60 240 720 1440 maximum x get maximum of x minutes valid values 10 15 20 30 60 240 720 1440 any chance for this enhancement obviously i could retrieve all points and do it myself but the above would be extremely handy for my use case thanks eric,0.862894892693
lee,hi eric we already have min max parameters that function differently from what you are suggesting so we are unlikely to add minimum and maximum as parameters in this way since it would create some confusion i would suggest looking into the matlab analysis app to modify your raw data stream and write out the results to a new channel that way you can leverage thingspeak to do the conversion rather than performing it yourself after you have retrieved the data lee,0.757178068161
sandeen,thanks yes i saw the other min max parameters with a different meaning and had considered that it might cause confusion on the other hand not offering the functionality due to mere semantics is unfortunate ud83d ude09but sure i can just create a new stream i suppose that makes sense thanks for the suggestion eric,0.788952350616
sandeen,now i am stuck trying something like this watts timestamp thingspeakread readchannelid numminutes 1440 are adkey readapikey minwatts minwattsindex min watts timeminwatts timestamp minwattsindex so far so good i have minimum for each field over the past 24h and a timestamp for each but now i would like to update each field in the new channel with the value and the timestamp this does not work because apparently the timestamp is for the whole vector thingspeakwrite writechannelid minwatts timestamp timeminwatts writekey writeapikey and i can not loop because there a 15 second delay between writes and i can not delay 15s and carry on because then the whole thing times out is there some format in which i can update i e 8 fields with 8 values and 8 different timestamps in 1 thingspeakwrite call,0.138272821903
lee,hi you can perform batch updates via thingspeakwrite we will update the documentation on that in our next release you will have to perform some data formatting u2013 get the data and time vectors into this format datavector value_field1 nan nan u2026 nan value_field2 nan u2026 nan u2026 nan value_field8 timevector time_field1 time_field2 time_field3 time_field8 then call thingspeakwrite channelid datavector u2018timestamps u2019 timevector u2018writekey u2019 writeapikey here is a matlab code snippet illustrating this data time thingspeakread 12397 datavec nan 8 8 n size datavec 1 datavec 1 n 1 end datatimevec repmat time n 1 thingspeakwrite channelid datavec timestamps timevec writekey writeapikey,0.716628491879
sandeen,perfect thanks i had started with a matrix of zeros but i did not actually want the zeros as datapoints i definitely need to brush up on my matlab but that looks like what i was not quite smart enough to do ud83d ude09thanks again eric,0.181547433138
sandeen,for posterity this is the core of what i did for my use case get all datapoint for all fields for past 24h watts timestamps thingspeakread readchannelid numminutes 1440 are adkey readapikey find the minimum wattage for each field minwatts minwattsindex min watts choose the timestamps at which the minimum wattage was measuredtimeminwatts timestamps minwattsindex make a matrix of nan so the updates happen only for set values n fields in use n numel minwatts m nan n n set the minimum values on the diagonal m 1 n 1 end minwatts thingspeakwrite writechannelid m timestamps timeminwatts writekey writeapikey,0.5
moballa,hello i have a dozen devices sending in temperature readings from various locations every 30 minutes i had setup one channel to log this information from all devices but i am finding that the when devices post their update to thingspeak sometimes these updates occur at the same time and only one of the updates is logged i assume this has to do with the 15 second rate limit on thingspeak i was thinking i would need some sort of synchronization between devices to ensure they do not send updates within 15 seconds of each other however this is proving a bit difficult to overcome this problem perhaps i should create 12 different channels one per device but before i do this does thinkspeak limit the update rate to 15 seconds per channel or per ip address of the sender or do you know of a better option to make this work with only the one channel thanks,0.5
rw950431,afaik the rate limit is per channel not per account you should be able to test it easily but loading the api url in a couple of browser tabs and refreshing them both together the only other way would be to have some kind of central collector service that takes the sensor readings then makes a single update to thingspeak,0.784168601036
hans,thinkspeak limit the update rate to 15 seconds per channel or per ip address of the sender rw950431 is correctly the rate limit only applies to individual channels please see the following documentation section https thingspeak com docs channels rate_limits,0.5
morten,hi i have thingspeak on my own server i need to add some additional informations in response for get request get last entry in a channel feed can someone from admins navigate me in which class i can find this function which is dealing with it thanks,0.5
lee,hi you should be able to find the relevant code here https github com iobridge thingspeak blob master app controllers feed_controller rb l178 l183 lee,0.857669532299
morten,thanks for reply i checked code i need to add channel id into json response so in json string i get last channel feeds and channel_id how can i do it morten,0.769212067127
hans,morten the following lines of thingspeak source code are responsible for providing a response for a request made in a given format for example if the request was made as xml the response on line 227 is returned note that all of the response formats render the variable output any custom modifications to the response would involve adding data to the output variable https github com iobridge thingspeak blob master app controllers feed_controller rb l223 l230,0.5
patricio_74_,hello is there any way to get only a value in a field in a csv http request when you call a csv http url you get created_id entry_id field1 field22015 10 22 19 30 00 14878 18 5 what i am trying to get is only the value in field2 5without headers thanks,0.5
rw950431,according to https thingspeak com docs channels get_fieldthis should extract just a single valuehttps api thingspeak com channels 9 fields 1 last,0.5
patricio_74_,thanks for your reply such is almost what i was looking but adding a period not working https thingspeak com channels channel_id fields field2 last key start 2015 11 02 2020 48 42 end 2015 11 02 2020 48 42 the result in this case is 18 and it must be 14,0.5
hans,patricio_74_ said thanks for your reply such is almost what i was looking but adding a period not working https thingspeak com channels channel_id fields field2 last key start 2015 11 02 2020 48 42 end 2015 11 02 2020 48 42 the result in this case is 18 and it must be 14 patricio_74_ note the example from the linked documentation page https thingspeak com docs channels get_field example get get https api thingspeak com channels 9 fields 1 results 2try doing the following 1 adding api before thingspeak com 2 replacing field2 with the actual field number 2 3 replacing last with just just 4 replace channel_id with the actual channel id number 1234 for example5 replace key with api_key api_key if the channel is private from https thingspeak com channels channel_id fields field2 last key start 2015 11 02 2020 48 42 end 2015 11 02 2020 48 42to https api thingspeak com channels channel_id fields 2 api_key api_key start 2015 11 02 2020 48 42 end 2015 11 02 2020 48 42,0.5
patricio_74_,thanks for your reply i have tried your changes it give me channel id name tpl would escription cont field1 n field2 um field3 would if created_at 2014 08 01t14 24 17z updated_at 2015 11 06t18 14 10z last_entry_id 1049712 feeds created_at 2015 11 02t20 48 42z entry_id 1049709 field2 14 if i add last before api_key then the result is the last of all values not for the selected period,0.5
Amey,hi alli am facing a weird issue with arduino and thingspeak my setup is as follows i am using a arduino mega 2560 with a sim900 based gprs module connected over serial port software serial the module is able to connect to thingspeak server and is able to update the channel every two minutes i have two channelsand for now i am posting only randoms numbers between 0 500 after around 4 hours of continuous update to channel the communication with the thingspeak stalls i do not see new values being updated on my channel i ran the testfor twice or thrice and found this value of 4hrs i have also checked whether the communication between sim900 and arduino stops but it is not so i have wrote a simple program within the above program to send me a sms if i give a miss call to the gsm module so this works even after updating stalls does thingspeak has any such limitation any suggestions hints will help thanksamey,0.235116899014
rw950431,no such limitation on thingspeak i would guess that your program is leaking memory somewhere you could try some things like1 increase your update frequency to 1 min if updates cease in 2 hours instead of 4 then its likely to be leaking memory 2 unfortunately thingspeak doesnt have a way of looking at incoming requests so you could try posting your data to a service like http requestb in instead in order to view whats being sent 3 are you sure its not just thingspeak web interface weirdness did you try restarting your browser after the updates stop,0.0704721212387
BSB,hi ameyi had similar issues with ethernet shields and arduinos but my time periods were about two hours my first fix was a power supply an old cell phone charger that would reach thermal overload almost like clockwork after replacing that my results were a bit more consistent but still failing after about 2 hrs a more permanent fix for me was to watch the serial output and make sure it was sending out the correct messages and getting the correct responses that was sort of my clue as it tended to stop even earlier with all the debug enabled in my cases it simply stopped sending out any data but was still trying to connect and i combed my program looking for some simple error it took me a while but i traced it down to delay statements and serial print statements causing a timing issue still not 100 sure just what it was as i did a blanket remark on almost all the print statements apart from one that reads thingspeak responses 1 character at a timei also reduced some of the delay statements or even remarked them out too where they were not actually required the millis statements are not always as accurate as i would expect and to that aim i have some rtc on order to add in to my setups one of my channels 60110 has run pretty much perfect since then and any data anomalies i see are almost always ones i caused by testing with such as lighters on my temprature probes and lighter gas on my gas sensor etc just brought another channel online 62674 that is also pretty stable as i learned a lot of lessons i even have my reconnect time down to about 8 seconds because it always takes more than the 15 16 seconds they recommend just for my stuff to get the readings before it posts them maybe post your code to see if anyone can spot something obvious hopefully you are better than me at keeping you live code separate from the rest of the arduino sketches p s you may want to move this to the arduino sectionsample of my ethernet responses from thingspeak below copied from coolterm connecting arduino to network arduino connected to network using dhcpconnecting to thingspeak http 1 1 200 okcontent type text html charset utf 8transfer encoding chunkedconnection closestatus 200 okx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800etag 470e7a4f017a5476afb7eeb3f8b96f9b cache control max age 0 private must revalidateset cookie request_method post path x request id d90b6677 2f88 447c 8cee 8cba4a8c8081x runtime 0 017518x powered by phusion passenger 4 0 57date fri 30 oct 2015 02 52 40 gmtserver nginx 1 9 3 phusion passenger 4 0 5737570,0.236871421337
Amey,hi guysthanks for reply rw950431 1 increase your update frequency to 1 min if updates cease in 2 hours instead of 4 then its likely to be leaking memory tried this even at update rate of 1 min interval the thingspeak update stalls after 4 hours 2 unfortunately thingspeak does not have a way of looking at incoming requests so you could try posting your data to a service like http requestb in instead in order to view whats being sent will try out this 3 are you sure its not just thingspeak web interface weirdness did you try restarting your browser after the updates stop yes i refreshed the page and even logged out and logged in again i downloaded the data and observed the csv file its showingthe same issue around 4 hours stalling period bsb i am using a 12v 2a power supply so does not look like power issue plus i have commented all the serial output code i use a ifdef statement to enable disable serial debugging i am using the gprs library from http www gsmlib org website v307 i wil try to post my code soon regardsamey,0.5
BSB,although unusual in arduinos strings can cause memory leaks as pointed out by rw took a peak at the libs you use more so the examples and they look like they could be string intensive but without seeing code its a little hard to tell may also depend on board you are using too and the sensors involved if you can clear a string or its buffer array after it has done its job that may help for every file you open in your sketch be it string or otherwise for input or output you need to close it somewhere too make sure you have corresponding statements if you use that approach as for connect time mine is currently set for every 3 seconds in the connection timer but it works out at 3 minutes in real time using a 2560 or almost 5 minutes using a leonardo some sensors have warmup times that can throw things off as i found out with an mq2 and a pir if you use anything that has a start read delay try move that up before your main loop or treat it as a separate routine loop,0.5
Rob Purser,are you using the thingspeak connectivity library for arduino we have done a lot of testing to make sure that is stays stable and up for long periods learn more http community thingspeak com 2015 10 official thingspeak library for arduino and particle,0.5
BSB,how did you get on just if anyone else has similar issues its nice to get an idea of the various fixes,0.756668925285
Amey,hi bsb i tried setting the update interval to one entry every 1 min 2min and even 15min it always get stalled after 4hrs of logging so right now i am checking the gsm code if there is any timer or something i have stripped down the sketch hoping to reduce memory consumption i have just kept the bare minimum part in code wherein the arduino connects to network using gprs and log data on thingspeak server i still get same issue of stalling after 4 hours thanksamey,0.191156536341
BSB,do you have another arduino to swap it out amey and is it a copy clone or a real arduino asking because i have suddenly got two true arduinos leonardo and a uno that do not play nice anymore but all my clones work perfect have the cause of my issues down to three possible causes1 updated java a few days ago2 new release of arduino ide 1 6 63 updated avast antiviruspossible 4th cause is that the newer clones use the 340 usb chipset as opposed to the real ones that the manufacturer has seemingly started to brick semi brick some chipsets but that speculation i can program one of my chinese clone leonardo but once the sketch is up it seems to stall on serial outputs after a while,0.834979116917
Amey,hi bsbi will try out swapping arduino as suggested today i replaced the httppost request by httpget request same issue stalling after 4 hours update i am using a arduino mega 2560 clone its a low cost version i guess and a sim900 chip by simcomm module i am using arduino 1 0 5 r2 ide after programming i disconnect the usb cable from laptop it runs on it own witha separate 12v 2a smps power supply so i guess no pc interference thanksamey,0.5
BSB,hey there ameyonly thing we have in common is the clone do you know if its the 340 usb chipset or an ftdi clone small chip just behind the usb connector i have a picture of the differences but cant post it as an attachment on this limited forum,0.5
abhishekjacob21,hey there my project needs a timestamp something needs to be turned on at a specific time and i was wondering if there was a way to take the time from thingspeak the code i am currently using reads some lines from thingspeak and one of the lines is the date and time and i wanted to know if there was a way to take specific line out so the format is fri 06 nov 2015 hh mm ss gmti need to have the program on from 5pm to 2am is there a way i can break the line up so i can just use the hour is there an easier way to do this thanks a ton,0.823635935783
rw950431,what platform language are you using if you split the line up into words based on spaces get the 5th word split that word on then you have hours minutes seconds you may have to handle timezone conversions yourself tricky if you have daylight savings the exact means of doing this depends on which language you use,0.5
abhishekjacob21,i am using the arduino ide platform,0.73420548439
rw950431,perhaps this will help https arduino stackexchange com questions 1013 how do i split an incoming string,0.5
npatel023,i have a created a chart with multiple series and it works fine reading my different temperature sensors only problem i have is having it update on its own without having to hit the refresh button like the other charts do is there something i have to change in the code to have it update real time thanks,0.779107451439
pierrelc,hi all i try to post data to the cloud using a gsm module telit865 quad v3 and at commands when is send the data with content type application x www form urlencoded i get a nice 400 bad request from the server at sslen 1 0okat sslen 1 1okat sslcfg 1 1 1000 90 100 50 0 0 0 0okat sslseccfg 1 0 1okat sslsecdata 1 1 1 1382 begin certificate miidxtccaq2gawibagiqaqxcjmolqjupc3nyrkyldzanbgkqhkig9w0baqufadbsmqswcqydvqqgewjvuzevmbmga1uechmmrglnaunlcnqgsw5jmrkwfwydvqqlexb3d3cuzglnawnlcnquy29tmsswkqydvqqdeyjeawdpq2vydcbiawdoiefzc3vyyw5jzsbfvibsb290ienbmb4xdta2mtexmdawmdawmfoxdtmxmtexmdawmdawmfowbdelmakga1uebhmcvvmxftatbgnvbaotderpz2ldzxj0ieluyzezmbcga1uecxmqd3d3lmrpz2ljzxj0lmnvbtermckga1ueaxmirglnaunlcnqgsglnacbbc3n1cmfuy2ugrvygum9vdcbdqtccasiwdqyjkozihvcnaqebbqadggepadccaqocggebambm5xpm 9s75s0tmqbf5ye yc0lsbzxkspvldrnogocsf9ppkcxxleyj9cypklbwtrt3jtwpnt0okrkze0lgvdkpvmsoo7zsw1xkx5jtqumx8okhphpylg mxs2zis4wblcjemxchbvfvlwokvfnhonb9ncgk9vjo4uft3mruns8ckrzqnrg0affoet7ot61ekmefbik5lyyebqvcmevyj3hlkv9uu5l0cuyx mm0abhakahpqnaqtxkfx01p8vdtezoe3hzbwbourtcmaevf5oyiiahf8j2a3ild48sokqdircmtcv2zdlytbosueh10auasgesxbu24luti4s8scaweaaanjmgewdgydvr0paqh baqdagggma8ga1udeweb wqfmambaf8whqydvr0obbyefle w2kd l9hadsyjhoiau9jzcvdmb8ga1udiwqymbaafle w2kd l9hadsyjhoiau9jzcvdma0gcsqgsib3dqebbquaa4ibaqacggax3necnzyizgyivyhbiuf4kmeqvxgydkaqv8gk83rzewwonfqe ew1ntlmmuu4kehdli6zem7b41n5cdblizqb2lwhmirk9opmzn6cn82onlfpmypinngik3bd41vhmwez71jfhs9ompagmryjyofizryzy78ag6a9 mpeizglyaijlqwgxfk3xpkkmnevx58svnw2yzi9rkr 5cyrcssxaq3pjolaefe4yhyskvxysgnyvcocww9e1cax2 s6cczdkgcevesxcs 0yx5damkhj8hsxpfqibloepw8nl e ibcm2pn7eeqjsdnodfzaij9vnep okue6n36b9k end certificate okat ssld 1 443 api thingspeak com 0 0connectpost update http 1 1host api thingspeak comuser agent curl 7 45 0accept content length 64content type application x www form urlencodedkey mykey field1 1 field2 100 field3 230 field4 0 70http 1 1 400 bad requestcontent type text html charset utf 8transfer encoding chunkedx cnection closestatus 400 bad requestx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800cache control no cache any idea why this happens thank you,0.5
pierrelc,ok it working now post update http 1 1host api thingspeak comuser agent curl 7 45 0accept content length 64content type application x www form urlencodedkey mykey field1 1 field2 100 field3 230 field4 0 70http 1 1 200 okcontent type text html charset utf 8transfer encoding chunkedx cnection closestatus 200 okx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800etag f74909ace68e51891440e4da0b65a70c there was 3 after the content type application x www form urlencoded the right syntax is only two regards pierre,0.793551385403
jimmyjiangyq,hi community i tried to find the proper way to use daterange in thingspeakread api for example how can i use thingspeakread api to get data from2015 9 25 04 00 00 to 2015 9 25 04 30 00 daterange i tried the following syntax in matlab code but it seems like not working does anybody have some comments about my question really appreciate the help from community data time1 thingspeakread readchannelid1 fields 1 are adkey omekey would aterange datetime ep 25 2014 04 00 00 datetime ep 25 2014 04 30 00 thanks jimmyjiangyq,0.730247855186
rw950431,i suspect that you might need to format datetime in the thingspeak api format eg from https thingspeak com docs channels get_feed start datetime start date in format yyyy mm dd 20hh nn ss optional end datetime end date in format yyyy mm dd 20hh nn ss optional let us know if that works,0.5
Rob Purser,hi jimmyjiangyq check out the matlab documentation for datetime there are a lot of options http www mathworks com help matlab ref datetime htmlby default the function expects strings to be in the format yyyy mm dd hh mm ss datetime 2015 10 26 09 10 00 ans 26 oct 2015 09 10 00,0.5
cherry,i am adding an entry into my channel for every 15 minutes and i have been doing this since a year i want to retrieve for the last six months data i e around 20000 entries in a single get request but i am getting only for the last 2 months data is this a limitation set,0.230064898729
rw950431,from https thingspeak com docs channels rate_limits results integer number of entries to retrieve 8000 max default of 100 optional s0 you will need to break you request into at least 3 chunks in order to retrieve 20000 points,0.5
cherry,thanks a lot for the reply,0.944376826286
cherry,i am adding an entry into my channel for every 15 minutes and i have been doing this since a year i want to retrieve for the last six months data i e around 23500 entries in a single get request but i am getting only for the last 2 months data is this a limitation set,0.230064898729
jimmyjiangyq,i am wondering how to retrieve any stored data on thingspeak for example the api seems like only provide a way to read latest 100 data how can i get for example the first 100 data of whole data entry or i want to read data from 300th to 400th data which is not the latest data how can i read read any time span data for example not the latest 5 minutes data but from 60 minutes ago to 45 minutest ago which is 15 minutes data thanks,0.098297894001
Mike Teachman,hi i have been using the channels tutorials to help figure out the api https thingspeak com docs channelscheck out the get a channel feed section here are some examples that are working for one of my data channels i do not think they are an exact match for your needs but maybe good enough 200 results in json format https api thingspeak com channels 40748 feed json results 200time range in text format start 2015 06 06t22 30 00zend 2015 06 06t22 50 00zhttps api thingspeak com channels 40748 feed start 2015 06 06t22 30 00z end 2015 06 06t22 50 00zhope this will help mike,0.5
jimmyjiangyq,hi mike thanks for your message correct me if i am wrong your comments said that api call needs to configure the time range then it will return the data array you want since the date time will change everyday how can i use a generic method to configure the time range for example if i want to read the data from 10 00am to 10 30am everyday do you have any idea how to use api to retrieve the data i want thanks again for your comments regards,0.808142662048
Fountain,hi have a problem with sending and save data at channeli have a php script which open url for sending data https api thingspeak com update key writeapikey tb t1 hb h1 ta t2 tbo t3 variables with start prefix have float values in channel stats i see that channel statscreatedabout a month agoupdatedabout a minute ago5739 entriesbut i can not see any data and export do not work for example trying save csv i receive error err_invalid_responsejson page return 1xml say this page contains the following errors error on line 1 at column 1 document is emptybelow is a rendering of the page up to the first error even if i try to send data manually with url https api thingspeak com update key writeapikey tb 55 hb 55 ta 55 tbo 55data not stored anyone can help me,0.0514818131924
rw950431,have you triedhttps api thingspeak com update key writeapikey field1 55 field2 55 field3 55 field4 55i do not think you can use the names you assign to channels as input parameters,0.5
Fountain,hi thanks for response that did not help me,0.93433880806
Fountain,oh some times good for reading docs correct url is https api thingspeak com update api_key writeapikey field1 t1 field2 h1 field3 t2 field4 t3,0.841635107994
rw950431,so close teach me to rely on memory instead of the docco,0.259198725224
Hans,i would clear your channel and start with a simple request to see if that works also if you have a private channel make sure you that you use a read key to read the channel writing data https api thingspeak com update json api_key writeapikey field1 42reading data https api thingspeak com channels channel_id feeds json api_key readapikey replace channel_id with your channel number this should write 42 to your channel and you should return that value i would not go anywhere else until you get this part working make sure that you use your keys and channel info,0.760628700256
aldo,hi all is there a way to get only the last entry_id value in an isolated way similar to getting an isolated field value with this api thingspeak com channels channel_id field 1 last txt or a way to extract the entry_id from a tweet control update and place it in a channel field just the number e g 1234 thanks in advance aldo,0.5
Meenakshi,hi aldo thank you for your post the feed data for a specific entry id can be retrieved as follows http api thingspeak com channels 9 feeds 1 jsonhttp api thingspeak com channels 9 feeds 999999 jsonplease refer documentation here https thingspeak com docs channels get_feed scroll down to u201cget specific entry in a channel u201d however there is currently no direct way to retrieve the last entry_id we will definitely consider the request for the future releases let me know if you have any questions meenakshi,0.749480247498
Hans,there is a way to get access to entry_id by using the thinghttp create a thinghttpkeep everything default except url and parse stringenter into url http api thingspeak com channels channel_id field 1 last json make sure that you put the right channel id in the url enter into parse string entry_idthinghttp will generate a url and when you go to it you will get only the entry_id returned i am not sure what you want to do it with it at that point but this is how you get just the last entry_id of a channel thanks hans,0.5
user161,currently it seems that each channel comes with its own read api key http community thingspeak com documentation api however a single user can have many channels can thingspeak support a single read api key for a single user instead of a single read api key for each channel,0.5
Meenakshi,hi you are correct as of now there are separate read write api keys for different channels we will consider incorporating your request in the future releases however every thingspeak account does have an account level api key which can be viewed at https thingspeak com accountthis api key can be used to list all the channels associated with an account along with the read api keys as shown in the documentation refer https thingspeak com docs channels show scroll to list my channels section to view a list of your channels send an http get tohttps api thingspeak com channels json api_key y7rt1zplxtuyhg6ywhere api_key is your account api key thank you for your post and let me know if you have any questions meenakshi,0.5
user161,i like thingspeak because of its wonderful charting facilities is it possible for external websites to pull charts from thingspeak any code sample for that thank you,0.947809636593
AlmostThereGames,under channel settings there is a url field that seems to get truncated i have a rather long urlhttp maps secondlife com secondlife random 23 95 297 title demolition derby msg demolition derby open 24 2f7 3b invite some friends 21 non traditional cars 28moving vans 2c spaceships 2c shopping carts 2c pool tables 2c garbage trucks 29 are autonomous 2c so you 27re not only competing against each other 2c but the autonomous vehicles too 21 28one person can even play alone 29 vehicles lose parts 3b the more 22stuff 22 you hit the longer your vehicle will last see www youtube com 2fwatch 3fv 3drrydmocl8ikthat gets shortened tohttp maps secondlife com secondlife random 23 95 297 title demolition derby msg demolition derby open 24 2f7 3b invite some friends 21 non traditional cars 28moving vans 2c spaceships 2c shopping carts 2c pool tables 2c garbage trucks 29 are autonomouany chance you guys could extend that field thanks,0.5
Meenakshi,hi please try updating the url now it should not be truncating the text now i was able to save a long url in the channels url field let me know if it works for you thanks meenakshi,0.889625549316
mun,hello afaik there no limit to the number of data points but a channel can only be updated every 15s does not the 15s update limit restrict the number of data points that max 240 data points in an hour for instance suppose i monitor humidity and temperature and a sample comes in every 5s does that mean this can not be achieved as a channel can not be updated every 5s in the open source version is there a way to remove the limit thanks,0.5
hans,mun you are correct currently a single channel can only be updated once every 15 seconds if you want to record data every 5 seconds you can write data to 3 different channels in a round robin type order to visualize the data you can create a matlab visualization which reads the last x data points from each channel orders the results and plots the data in the open source version there is a constant which may be changed to alter the rate limit it is located under config initializers constants rb line 9https github com iobridge thingspeak blob master config initializers constants rb l9,0.5
dantheman2865,hello i am working on a home automation application for a water meter and i would like to use the api to query historical data based on a certain time frame 1 week ago 1 month ago etc unfortunately right now if i limit the start yesterday and results 1 it presents the most recent point my data is not regular enough to use start and end to frame it and i know i will get above the 8 000 limit soon enough i can think of a few local algorithms i could use to step the date back until i find the data i need but those would all require multiple api calls and are not preferred is there a more elegant solution thanks,0.249745458364
akhila,hi here is the info regarding various parameters for getting a channel feed https thingspeak com docs channels get_feed would would ays parameter work for you,0.5
dantheman2865,i have found the solution i can specify end but omit tart and that will show a data series tarting at a data point but working backwards for other users reference this is a very easy way to get the last data point before a certain time specify results 1 in my application i am logging an incrementing value cumulative gallons so this maneuver is necessary in order to calculate the total consumption across a moving range thanks for your input akhila,0.792430579662
dantheman2865,p s some kind of ort by field would still be a great addition to this already useful tool,0.882916212082
akhila,we are internally discussing about ort by field and hope to have a solution in the future akhila,0.941770076752
user161,besides mysql are there other databases that are supported by thingspeak,0.854616761208
akhila,at this point mysql is the only database supported by thingspeak,0.819536089897
user161,there are 8 fields in a channel is there an api to set the field name of the channel,0.694167375565
Hans,yes using the user api key try this api command https thingspeak com docs channels create,0.76477766037
sudmanche,hi i have had my channel updates and talkback running for months then yesterday it stopped i have found the problem to be https as it works if i use http has anything changed i am using net and getting a webexception connection closed when trying to do this httpwebresponse webresponse httpwebresponse myrequest getresponse has something been updated on the server for ssl thanks sudmanche,0.159742504358
sudmanche,i have found my android app i have written to send talkbacks is also failing this is written in xamarin so uses the same code what is strange is that it fails on android and also windows xp but works on windows 8 so must be related to net libraries however it was working and has stopped has anything changed on the thingspeak server related to ssl,0.0848599672318
lee,hi yes we have made changes recently to our ssl implementation to mitigate attack vectors specifically http blog cryptographyengineering com 2015 03 attack of week freak or factoring nsa html lee,0.5
TonyGraySchneiderElectric,lee said hi yes we have made changes recently to our ssl implementation to mitigate attack vectors specifically http blog cryptographyengineering com 2015 03 attack of week freak or factoring nsa html leecould you be a bit more specific what have you actually changed my https posts have been failing since early march,0.5
lee,hi we added the following ssl cipher rules eecdh ecdsa aesgcm eecdh arsa aesgcm eecdh ecdsa sha384 eecdh ecdsa sha256 eecdh arsa sha384 eecdh arsa sha256 eecdh arsa rc4 eecdh edh arsa rc4 anull enull low 3des md5 exp psk srp ds if your https posts are failing then you may be using non supported ssl ciphers you can switch your client to a stronger ssl implementation or use http insecure if you are not too worried about your api keys lee,0.918032109737
TonyGraySchneiderElectric,good answer thanks lee,0.99558699131
mfuller0,lee said if your https posts are failing then you may be using non supported ssl ciphers you can switch your client to a stronger ssl implementation or use http insecure if you are not too worried about your api keys leei am sure it is a great answer but i do not understand please help i am like the others whose app was working a few months ago then stopped i am using https and would like to stay with that if at all possible my app is a python app running on a mac i often use charles proxy for debug and i noticed that when i use charles with ssl enabled the app works fine also my python app is using are quests to make the https calls all of this was working a few months ago can anyone advise on what i need to do thanks,0.866666078568
Hans,we are checking into this and will get back to you,0.857742846012
fusdorah,hi i am having a problem in retrieving data from thingspeak to arduino via esp8266 wifi module the code i have used is include include string json softwareserial ser 10 11 rx txvoid setup serial begin 9600 enable software serial ser begin 9600 reset esp8266 ser println at rst the loopvoid loop tcp connection string cmd at cipstart tcp cmd api thingspeak com api thingspeak com cmd 80 ser println cmd if ser find error serial println at cipstart error return prepare get string string getstr1 get https api thingspeak com channels 40785 fields 2 last api_key d2w1emsjpszv0aln http 1 0 send data length cmd at cipsend cmd string getstr1 length ser println cmd if ser find ser print getstr1 delay 2000 else ser println at cipclose alert user serial println at cipclose while ser available json string ser read serial println json delay 2000 can you please help me out thanks,0.5
AlmostThereGames,i have a private channel that i would like certain people to view if i give them the url with the view api key which is exactly what i think that key is used for i have tried what they have in the documentation for view a channel https thingspeak com docs channels show with both my read api key and my user api key and neither one works if i am not logged in example https api thingspeak com channels 30749 key qn9rmddn47akamfj which is the read api key for that channel and i have also tried with my user api key am i doing something wrong,0.5
lee,hi that was a slight error in the documentation which has been fixed if you would like to allow someone to view a channel please make it public or share individual charts with them using read api keys we are currently working on an improved interface for viewing and sharing channels which should be much better than the current design lee,0.911234200001
AlmostThereGames,or share individual charts with them using read api keys yes that is exactly what i am trying to do share a private chart by giving out the url with the read api key doing that returns a page that says this channel is not public if the read api key is not for that what is it for,0.5
lee,hi if you want to share a chart the easiest way is by following the chart documentation here https thingspeak com docs charts create here an example of a private channel that can be viewed using the read api key https api thingspeak com channels 31217 charts 1 api_key zecbn9la3oe9k3pm lee,0.821999490261
AlmostThereGames,that worked thanks,0.991858184338
AlmostThereGames,actually that did not work i was logged in when i tested it i can see the page w that url but the data is not visible unless i am logged in i gave up and just made the stupid page public problem solved,0.0747508406639
gabrielb,what you want i believe is this get channels 48365 fields 1 last api_key your read key edit or if you want more info get channels 48365 feeds json results 1 api_key your read key mind the or or notice how in the single field line i use a and then on the whole feed i use a for the api_keytook me a while to figure it out basically just brute forcing the url until i got it its not anywhere in the docs g,0.5
carryGod,can i create a website and show some chart which is design by using http api thingspeak com channels channel_id feed format if so what is my http command line include headers or something other ps my english not good i hope you understand what i saying,0.84356367588
lee,hi yes you can add a chart to your website here the documentation https thingspeak com docs charts embed lee,0.911316871643
carryGod,thaks for answer,0.741749346256
cutedog2004,how to get user api key by sending user id and password is there get http command to get user api key not channel write key,0.5
lee,hi unfortunately we do not provide a way to get a user api key via login password authentication lee,0.744872272015
harleyrdr1,hello noobie here i have added the code to my web page as an experiment however the data never shows and would ate is the x axis title i changed that to time in both private and public here is my iframe code i replaced symbols with greater than and less than to get it to post less than iframe src http thingspeak com channels 31017 charts office_lights dynamic true results 15 width 450 height 250 style border 1px solid cccccc iframe greater thanhere is the page i am experimenting with your example is on top and mine is below it http www terradonchoppers com about htmlcan someone please tell me what i am missing i am sure it something silly that i am overlooking thanks brad,0.924981713295
lee,hi brad this is probably what you are looking for https thingspeak com channels 31017 charts 1 dynamic true results 15 xaxis time the office_lights portion should be replaced with the field number you are trying to chart and the xaxis can be specified using the xaxis parameter for more chart options please see https thingspeak com docs charts lee,0.751699388027
harleyrdr1,you got it thanks so much for the help lee lee said hi brad this is probably what you are looking for https thingspeak com channels 31017 charts 1 dynamic true results 15 xaxis time the office_lights portion should be replaced with the field number you are trying to chart and the xaxis can be specified using the xaxis parameter for more chart options please see https thingspeak com docs charts lee,0.858104586601
prabhjeet,i am trying to update thingspeak using edison it updates thingspeak but only at once if i have to update again i have to run the code again here is my code https docs google com document d 1trhiierondume7me1vlpylvcyw6zefva7amv0rhfhq4 edit usp sharingplease me in this,0.0848365426064
Hans,this line may never be true in your logic if client connected millis lastconnectiontime updatethingspeakinterval so if it never becomes true then it will not update on subsequent times i do not know much about the edison but i would look to see if either client connected is something that you can check or if millis returns a value that works with this logic let us know what you find,0.93909573555
prabhjeet,thanks for the suggestion but if now i make that logic true it doesnot even update once,0.977274000645
tricker,this has been mentioned before but has any progress been made implementing this feature in my scenario my device loses wifi overnight so by morning several readings are buffered and need to be uploaded at the moment i have to wait 15sec between uploads which wastes battery power allowing burst uploads would mean that the 15sec limit could be overriden for a short time but still maintained in the longer term i e the current 15sec limit restricts to about 40 readings in 10 minutes evenly spaced but why not allow those to be uploaded one after the other followed by a quiet period other than that i think thingspeak is great thanks,0.5
lee,hi this is a good idea that we are discussing internally and may implement in a future release lee,0.975986599922
burns,hi i am collecting about 50 events a day but they come in bursts of 10 about 6 s intervals the burst upload would be brilliant i agree thingspeak is great i found it yesterday and i already have something up and running with zero background in web thanks,0.967511117458
samsungite,hii can update thingspeak by typing the commands directly to the esp via a usb serial interface i send ati receive okat cipstart tcp 184 106 153 149 80 connext via tcp thingspeak okat cipsend 46 etc etc all working fine if i try to do the same via arduino uno i send the command but never see a reply i send at i get nothing i have the second serial port connected to pins 7 8 dbgserial i am assuming that the rx tx on the esp board are connected to the tx rx on the arduino my logic tells me if i serial println at i am sending this to the esp8622 and i would expect an ok on dbgserial am i correct in my assumption terry,0.825404882431
SESupply,i am trying for days to use an esp8266 to update my channel but no matter what i do i keep getting the error 400 bad request i have been trying to do it manually via terminal so i can see step by step what is going on and i have now tried 2 different modules rule out the possibility of a malfunctioning module i have also installed a socket test program and i get exactly what i am expecting coming across here is the process terminal log filedate 6 26 2015 7 16 36 pm at cipstart tcp 184 106 153 149 80connectokat cipsend 70ok get update html key fyhie2ek6nhlujjm field1 5 field2 255 field3 300send ok ipd 172 400 bad request400 bad requestnginx 1 7 5closed note 2015 06 26 19 17 01 lognote date 6 26 2015 7 17 17 pmend log file,0.176673859358
Michel_J,seehttp community thingspeak com forum esp8266 wi fi error 400 bad request http community thingspeak com forum esp8266 wi fi esp8266 module using at comands hth,0.18698567152
remedix,something seems off recently i can not get the whole data of a particular channel i only get around 16k on the browser i get the whole thing but using php i get only partial content i tried all the possible ways to get remote resources using php and it seems the issue persist i tried this on multiple machines and i even tried using wget with the same results furthermore with wget using wget no check certificate i get the following errorwarning certificate common name u201cwww iobridge com u201d doesn u2019t match requested host name u201cthingspeak com u201d i do not know if this is related or not,0.130801171064
Shankar Nair,hi i have successfully created a new channel using the create channel http post api the location header in the response gives me the channel id but how do i access the write api key in order to create new feeds in this newly created channel thanks shankar,0.987201929092
lee,hi shankar try creating the channel via json by sending a post to https api thingspeak com channels json and the write key will be included in the response lee,0.5
Shankar Nair,hi lee perfect ud83d ude42 thanks,0.999712884426
morten,hi i am new here i want to ask if it possible to use fully the api using javascript jquery because on tutorialsis only few information about it it is possible to use php to connect with api php also allows sending and proccesing http requests do i need download your api from github or it is possible to use only some external library from tutorials and connect to it thanks for answer,0.820666611195
lee,hi yes it possible to use the api via javascript jquery or php you do not need to download the server code from github you can use any http library in your language of choice to connect by using our documentation lee,0.5
chrisjmears,ten minute intervals doesnt offer enough granularity for my application and doing the median offline means constantly dragging a lot of data down over a mobile connection,0.5
lee,hi chris we do not currently have any plans to introduce 5 minute time intervals in the calls to get feeds but may reconsider it in the future lee,0.5
smulube,from reading your docs it seems there is a distinction between a channel and a channel feed but it not at all clear to me what that difference is a channel feed can be updated by sending a get or a post along with the channel api key to https api thingspeak com update which accepts parameters called lat and long to update it location sending field data to this endpoint updates the graph rendered on the channel page but does not seem to change the map location rendered on the channel page a channel can be updated by sending a put along with the user api key to https api thingspeak com channels channel_id this accepts parameters called latitude and longitude and updating these changes the map rendered on the channel page but perversely does not change the time series data that is rendered in the graph can anyone explain what is going on here many thankssam,0.859828710556
lee,hi sam a channel is analagous to a device and a feed is analagous to a single data point in time so if you want to update properties on your device then you should update your channel if you want to update data that your device is measuring then you should update your channel feed changing the latitude longitude of the channel will update the map to display where the device is located and is most useful for static devices if your device moves around you probably want to update your channel feed however we do not provide maps of this changing location data although you could build one yourself using the channel feed hope this helps please let me know if you have any more questions lee,0.272404611111
alexi,i want to modify some old data so i can make my charts looking better deleting a measurement and adding it with data time stamp from the past is also an option any idea how this can happen,0.773204445839
lee,hi we currently do not provide a way to modify data or delete a single point we will look into adding this feature in the future lee,0.860900759697
chrisjmears,would it not be possible to export it all using the export tab modify it in excel clear the channel then reimport it all,0.867575883865
jenifercolt,hi i u00a0don u2019t know the exact solution for u00a0it but u00a0in our office we u00a0generally prefer u00a0koolchart com u00a0for javascript charts u00a0html 5 charts pie charts u00a0etc http www koolchart com,0.792309165001
entegredevre,hello i use arduino and esp8266 wifi module i did a project and i can send tweets on arduino via esp8266 but i have a problem firstly i can send a tweet but after i can not send the same tweet i have to change at least one character in my tweet because of sending the same tweet what should i do,0.880756616592
lee,hi this is a limitation imposed by twitter you can not send the same tweet twice in a row you can add something random or a timestamp to the message you are sending so that the tweet is different lee,0.5
casperprogram,entegredevre said hello i use arduino and esp8266 wifi module i did a project and i can send tweets on arduino via esp8266 but i have a problem firstly i can send a tweet but after i can not send the same tweet i have to change at least one character in my tweet because of sending the same tweet what should i do hocam u00f6ncelikle eline sa u011fl u0131k arduino ve arduino shield ile 3 5 ay u00f6nce twetter dan mesaj alm u0131 u015ft u0131m esp8266 wifi mod u00fcl u00fc ile nas u0131l yapt u0131n kodu verirmisin bende u00fczerinde u00e7al u0131 u015fay u0131m te u015fekk u00fcrler,0.5
Mona_kh,entegredevre said hello i use arduino and esp8266 wifi module i did a project and i can send tweets on arduino via esp8266 but i have a problem firstly i can send a tweet but after i can not send the same tweet i have to change at least one character in my tweet because of sending the same tweet what should i do helloi am using esp8266 wifi and trying to post a tweet to my twitter account may you show me how i can do that,0.840581178665
chrisjmears,ive tried adding metadata true to my query string just as i would with status true but it doesnt return anything,0.883544206619
lee,hi chris did you add the metadata to your channel settings first here an example that returns some metadata https api thingspeak com channels 12370 feeds json metadata true results 2 lee,0.752040147781
weisoft,the example in the tutorial does not work i get the html back but no channel will be created how must i do the creation of a new channel example please,0.756272912025
lee,hi if you follow the steps at https thingspeak com docs channels create your new channel should appear at the bottom of your channel list at https thingspeak com channels lee,0.782007575035
weisoft,hello lee thanks for your quick answer i am sorry but that does not work i use firefox esr on a winxp systemwith crome poster i wrote url https api thingspeak com channelscontent to send api_key ipvd9mxvjtf7kihnname my new channelfield1 co2field2 temperaturfield3 lichtfield4 feuchtewhen get button pressed the response is tatus 200 ok no new channel is createdplease try it out with this parameters thanks,0.876425981522
lee,hi i tried it out with your parameters and a channel was created https thingspeak com channels 34349 are you sure you are using a http post and setting your key value pairs correctly it may help to try a different chrome extension lee,0.5
weisoft,hello leefirst i have tried it with httprequester the post statement creates a new channel very well but no name fields etc are created second now i try to do the same thing with my esp8266 but nothing works again actions at cipstart tcp 184 106 153 149 80 13 10oklinked at cipsend 41 post channels api_key adqawsjdtzr8nn9s name my new channel 13 10send ok ipd 172 400 bad request400 bad requestnginx 1 7 5okokunlink do you have an idea best regardsandreas,0.860138893127
lee,hi andreas it looks like you are adding the post parameters to your url which only works for get requests please construct a post statement using the body parameter which should contain the name value pairs you are attempting to post http www w3schools com tags ref_httpmethods asp lee,0.835474252701
dev,hi two days ago i put a simulator sending information to my channel in thingspeak when i clicked on would eveloper info and saw the channel feed in json i could see a lot of feeds but today when i enter back i go to see the channel feed and in the file json i do not have any information in the feeds field why i can see information in the graphics that i send two days ago but it not is in the jsonhow can i fix it thanks,0.5
Hans,if you do not send any parameters to read your channel the api returns by default data in the last 24 hours in order to see older data you need to add an api parameter such as would ays 2 which will show you 48 hours of data you can also try are sults 60 and this will show you the last 60 results regardless of when the data was created let us know if that helps,0.310876131058
dev,oh thanks i dont know that regards,0.818949103355
vespapierre,hi does anybody using sim900 to send data to thingspeak api i tried to reach bsigl user here i saw he use mega sim900 i need some help how to do this thanks,0.828680276871
vespapierre,hi nobody,0.752673923969
vespapierre,i have managed to send data using httppost method like inet httppost api thingspeak com 80 update key xxxxxxxxx field1 yy buff msg 50,0.5
villTech,i think tried that before sim900 have http post command check the at commands,0.762579321861
ashwinb,hi could you add more details for how you got this to work thanks,0.944957137108
alcomposer,probably lots of changes to come but currently this does the trick https github com alcomposer gsm particulate meter blob master particulatesensorsim900 ino,0.5
t_gallhu,hi all i am sending temperature humidity data in every minute sometime return value is 0 zero ipd 1 0 so data is not recorded please help me to understand why it happens data sending is an automatic process controlled by pic ucontroller all the time the data structure is the same regards t_gallhu,0.5
lee,hi do you have another process sending in data at the same time the 0 return value means an error occurred which could be an incorrect api key or more than one update attempted in the last 15 seconds which is the maximum update rate lee,0.190488666296
Cyn,are there any restrictions or guidelines of how often i can issue get commands to talkback i know that i came across post restrictions but have lost where i found them thanks,0.813475131989
lee,hi we currently do not have any restrictions on that portion of the api lee,0.263049066067
subhagnanam,how to update values in thing speak at multiple fields because while updating multiple fields only one field is updating and the remaining fields are not updated,0.139085143805
lee,hi have you enabled the additional fields in your channel settings lee,0.864346146584
subhagnanam,s i have enabled i had checked by updating individual fields separately and it is working can u pls give me the suggestion to update all the fields simultaneously,0.750032782555
lee,hi the syntax for updating multiple fields looks like this https api thingspeak com update json api_key xxxxxxxxxxxxxx field1 58 field2 23 field3 98 field4 12 field5 25 field6 892 field7 33 field8 0lee,0.5
subhagnanam,it is working while updating in a url but iam using energia software to update the values from connector launch pad to thinspeak i used the example program thingspeakclient but it working good for updating single field but for updating multiple fields it is not working it is updating only one field out of eight fields,0.204302877188
lee,hi i am not familiar with using energia and thingspeak can you provide a link to the library you are using this one for example looks like it needs to be modified to add more fields https github com energia energia blob master libraries simplelinkwifi examples thingspeakclient thingspeakclient ino l100 lee,0.5
steg,i have used code from this link http www instructables com id esp8266 wifi temperature logger step3 arduino setup and sketch can anybody help modify the code for multiple ds16b20 updating multiple channels i tried to add field2 to the get command but only one temperature reading is uploading string get get update key thingspeak_key field1 any ideas,0.5
lee,hi you probably want to modify this section of code cmd get cmd tenmpf to look like this cmd get cmd tenmpf cmd field2 cmd your_field_2_value lee,0.5
steg,thanks i will try that,0.9822717309
steg,any idea how to add second ds16b20 to a second channel i used the code below which works for 1 sensor but for the life of me cannot get 2nd sensor working adding field2 just makes field 1 blank sorry i am a complete noob without any coding knowledge include include include include define one_wire_bus 3onewire onewire one_wire_bus dallastemperature sensors onewire define ssid xxxxxxxxxxxxxxxxxx define pass xxxxxxxxx define ip 184 106 153 149 thingspeak comstring get get update key xxxxxxxxxxxxxxxxxxxx field1 softwareserial monitor 10 11 rx txvoid setup monitor begin 9600 serial begin 9600 sensors begin senddebug at serial println at delay 5000 if serial find ok monitor println are ceived ok connectwifi void loop sensors requesttemperatures float tempc sensors gettempcbyindex 0 tempc dallastemperature tofahrenheit tempc char buffer 10 string tempf dtostrf tempc 4 1 buffer updatetemp tempf updatetemp tempf delay 60000 void updatetemp string tempc string cmd at cipstart tcp cmd ip cmd 80 serial println cmd delay 2000 if serial find error monitor print are ceived error return cmd get cmd tempc cmd serial print at cipsend serial println cmd length if serial find monitor print monitor print cmd serial print cmd else serial println at cipclose if serial find ok monitor println are ceived ok else monitor println are ceived error void senddebug string cmd monitor print end monitor println cmd serial println cmd boolean connectwifi serial println at cwmode 1 delay 2000 string cmd at cwjap cmd ssid cmd cmd pass cmd serial println cmd delay 5000 if serial find ok monitor println are ceived ok return true else monitor println are ceived error return false,0.5
rw950431,you probably dont need a second channel multiple 1 wire sensors can be wired in parallel to the same set of wires just make sure that the same pins are wired together eg gnd to gnd data to data etcafter that the second reading can be obtained with float tempc2 sensors gettempcbyindex 1 after that you need to assemble the 2 results into a single string maybe this will work updatetemp string tempc field2 string tempc2 earlier versions of arduino didnt allow string with a float value but later ones do,0.5
notforyou23,is there a way for me to have an indicator that displays when a channel was last updated for instance when you go into your channel feed on thingspeak com there is a place that says something like updated less than a minute ago i tried to figure out by looking at the source for that page but have not been able to figure it out ideally i would like to have this displayed on my website so i can easily tell if there is an issue with my data being sent sometimes just glancing at the charts do not make it clear that data is being sent thanks,0.210111528635
lee,hi the easiest way to do this would be to use javascript to get the last feed https thingspeak com docs channels get_feed under get last entry in a channel feed and then update your webpage with the created_at timestamp of the last feed lee,0.164613872766
notforyou23,thanks for quick response lee would you happen to have an example of this in action i really like how the thingspeak channel page shows that its been less than a minute about a minute an hour ago ideally i would like to have an indicator to show that the feed is receiving data as it should has data been received by thingspeak in the last minute if so all is good with the world if not there is an issue that needs to be addressed maybe its an internet connection or a power problem or the program is hung i do utilize the react no data check app but sometimes that is late in relaying the information when i need it or i miss the alert it would be a better thing to have an indicator of some sort on my webpage thanks again i appreciate the help i love what can be done with thingspeak,0.761541545391
lee,hi we show the relative time using ruby but you would probably have to find an external javascript library something like http timeago yarp com to do the same task unfortunately we do not have any examples of this in action lee,0.18340075016
notforyou23,ok thanks i think that a little advanced for this newbie,0.968567371368
jacopau,solved hi i want to send temperature with two decimal places from my arduino using sigfox to thingspeak api but there is a problem either i have to round the number or multiply it by a hundred because sigfox module send it as hex is there a way to divide the recieved decimal number by hundred from sigfox backend before showing it on graph so it will show with two decimal places thanks jacob solved,0.275876104832
cstapels,can you post your solution please,0.86534011364
Jos,hello i have two channels one with my aquarium water quality data and one with my livingroom light and temperature data i can send the data from the aquarium to ifttt thru the timecontrol by executing an action to thinghttp and execute the code that is associated to it now i want also receive an email regarding my livingroom data so i created data code as i did for the aquarium and i can connect this code to the react function but i can not connect the code to the action thinghttp code to execute when i select the code that is to be send the other one the one that is used for the aquarium data is reset in this field so how many thinghttp requests can i set up in my account or what do i do wrong please advice jos,0.5
cstapels,you can only have one react that triggers a matlab analysis or thinghttp on insertion however you can call code on regular intervals with time control or react i suggest writing a matlab analysis that does the analysis you have for the react and use the matlab analysis to send the ifttt email trigger have a look at this example for some suggestions https www mathworks com help thingspeak analyze channel data to send email notification from ifttt htmlfor example if your trigger condition for the react is field1 10 you can put this in the matlab analysis use thingspeakread to read the value from your channel and then do the comparison in the matlab code value thingspeakread channel if value 10,0.5
yuanqing,my plan was to do http post and get on thingspeak using at command this are the command that i useat cgdcont 1 ip hicard okat sgact 1 1 sgact 10 98 180 49okat cmee 2okat httpcfg 0 thingspeak com channels 536554 api_keys 443 0 1 120 1 cme error operation not supporteddid i key in the wrong api address or i could be some other reason i am not sure with api address to use to get the data on my created channel this just started on the thingspeak cloud does anyhow done similar stuff or could guide me on this thank you,0.5
cstapels,what hardware are you using generally the at command set is the hardest way to communicate with thingspeak imo there is no endpoint that ends with api_keys the read data api command has a parameter for api_keyhttps www mathworks com help thingspeak readdata htmlsee the examples there but you can append api_key xxxxxxxxxxxxxxxx to your request where xxx is you read api key in your channel view in the api_keys tab there are pre formatted http commands you can use to see the appropriate syntax if you share your hardware perhaps i can offer some examples for you to use or you can see them yourself at https www mathworks com help thingspeak examples html,0.5
yuanqing,i am using telit me910c1 e1 and raspberry pi running on raspbian linux i am using raspbian gnu linux 9 4 stretch version on my raspberry pi my plan was to use python serial on raspberry pi to write at command to the module i was trying to use at httpcfg to connect to thingspeak though the rest api but i am unsure of which api to use on thingspeak do you know of similar project that i could reference on or other way i could do this,0.71946644783
mnaveed1,hello i am following this tutorial https www mathworks com help thingspeak analyze channel data to send email notification from ifttt htmli have my own matlab anaylsis but i am not getting any emails i found out that my applet failed to work can anyone explain what is the issue and how to fix it,0.0868198275566
cstapels,there are several moving parts in this example when you paste the trigger url from ifttt in your browser do you get an email if not then you have configured ifttt incorrectly there is also a test button for the ifttt applets it sounds like this is the problem i suggest deleting the applet and starting over trying to follow the steps as closely as you can when you run the matlab analysis do you get any errors did you modify the example or are you using data from the existing moisture channel the plant monitor in my office recently needed a reset and i missed some data from june 20 july 5 or so the email should still wok however since it is supposed to send regardless of the water state let us know what you are seeing i am glad to hear you are trying it out once you get it working if you get a chance can you respond to the survey at the bottom of the page with suggestions on improvement,0.122906953096
mnaveed1,hello thanks for your message when i paste url in my browser i get this message congratulations you have fired the tempandhum event however i do not get any email there are no errors in my matlab analysis i followed exact same steps as shown in the tutorial however in step 7 i got confused therefore i wrote exactly the same subject and body of the email as shown in the tutorial any idea whats wrong,0.759640216827
cstapels,i would guess that your email client is filtering the ifttt emails into your junk email do you receive any other emails from ifttt perhaps have a look at your email filters step 7 is where you configure the content of the email but you cannot change the send address the image in step 7 does not include value2 but you should still get a message from ifttt if you still do not see it in your junk email you might try configuring with a different email address if you have one,0.700331151485
mnaveed1,hello i am using free license on thingspeak i have following questions is there a limit on how much data can we post per field on thingspeak channel how many free channels can we create per account thank you,0.986522853374
cstapels,have a look at the frequently asked question https thingspeak com pages license_faqand the how to buy page https thingspeak com prices the amount of data in a single post is limited to 255 characters per field up to 8 fields plus status and location fields the update rate is limited to once per 15 seconds for a free user you should not have any issues creating the number of channels that you need if you are considering a commercial application please see the learn more for commercial users page https thingspeak com pages commercial_learn_morefeel free to share more about your application if you can we are always looking for interesting uses of thingspeak,0.266450464725
Jos,hi i have develloped an application that automatically exports arduino data into my thingspeak channels the output from thingspeak is request https api thingspeak com update api_key 4hwa00qrn0ehm1mm s ts_api field1 112 14 field2 2 50 field3 150 00 field4 2 50 field5 28 56 field6 2 50 field7 22 50 field8 2 50 request result 219 request https api thingspeak com update api_key 4hwa00qrn0ehm1mm s ts_api field1 112 75 field2 2 50 field3 150 00 field4 2 50 field5 28 56 field6 2 50 field7 22 50 field8 2 50 request result 220 request https api thingspeak com update api_key 4hwa00qrn0ehm1mm s ts_api field1 113 05 field2 2 50 field3 150 00 field4 2 50 field5 28 63 field6 2 50 field7 22 50 field8 2 50 request result 221 request https api thingspeak com update api_key 4hwa00qrn0ehm1mm s ts_api field1 114 00 field2 2 50 field3 150 00 field4 2 50 field5 28 44 field6 2 50 field7 22 50 field8 2 50 request result 222 request https api thingspeak com update api_key 5bmyapikey 5d s ts_api field1 114 46 field2 2 50 field3 150 00 field4 2 50 field5 28 50 field6 2 50 field7 22 50 field8 2 50 request result 223 request https api thingspeak com update api_key 5bmyapikey 5d s ts_api field1 115 19 field2 2 50 field3 150 00 field4 2 50 field5 28 44 field6 2 50 field7 22 50 field8 2 50 request result 224 request https api thingspeak com update api_key 5bmyapikey 5d s ts_api field1 115 94 field2 2 50 field3 150 00 field4 2 50 field5 28 38 field6 2 50 field7 22 50 field8 2 50 request result 225 request https api thingspeak com update api_key 5bmyapikey 5d s ts_api field1 116 47 field2 2 50 field3 150 00 field4 2 50 field5 28 25 field6 2 50 field7 22 50 field8 2 50 request result 226 request https api thingspeak com update api_key 5bmyapikey 5d s ts_api field1 117 07 field2 2 50 field3 150 00 field4 2 50 field5 28 19 field6 2 50 field7 22 50 field8 2 50 request result 227thingspeak shows in the channel api statistics channel statscreated 10 days agoupdated 12 minutes agolast entry 13 minutes agoentries 240but no data in the charts as you can see the data is accepted by thingspeak it returns the written record number as the request result but the charts do not show any information so what is happening here please advice thanks jos,0.5
cstapels,does the number of entries in you channel increase on the main channel view do you see any data using the data export button on the main channel view page if so then i suspect your chart settings may be mismatched to your data,0.313807725906
mnaveed1,hello i have data stored as cel data1 1 1 data2 1 1 data3 1 1 newtime0 datetime timestamps0 newtime1 datetime timestamps1 newtime2 datetime timestamps2 celtime newtime0 newtime0 newtime0 thingspeakwrite writechid cel timestamp celtime writekey writeapikey however i get this error error using calculate wind chill and update channel 7 line 80 error using thingspeakwrite timestamps value must contain month day year hour minute and second,0.19824436307
cstapels,can you share what the format of timestampsn is,0.803895533085
mnaveed1,i am able to store and access data in internal memory of rtc esp8266 thing dev board now i am trying to loop the data stored in internal memory and post data to thingspeak however i am only able to post the first value stored in rtc memory to thingspeak field 1 2 and 3 i am unable to post rest of the values to thingspeak the code which access and post data to thingspeak is below can anyone help me figure out the problem void connects serial println connecting to serial println ssid wifi begin ssid pass while wifi status wl_connected delay 500 serial print serial println serial println wifi connected if client connect server 80 184 106 153 149 or api thingspeak com for int i 1 i 6 i system_rtc_mem_read 100 i rtccel1 sizeof rtccel1 system_rtc_mem_read 110 i rtcfah1 sizeof rtcfah1 system_rtc_mem_read 120 i rtchum1 sizeof rtchum1 float cel rtccel1 float fah rtcfah1 float hum rtchum1 string poststr apikey poststr field1 poststr string cel poststr field2 poststr string fah poststr field3 poststr string hum poststr client print post update http 1 1 client print host api thingspeak com client print connection close client print x thingspeakapikey apikey client print content type application x www form urlencoded client print content length client print poststr length client print client print poststr serial print temperature serial print rtccel1 serial print c serial print rtcfah1 serial print ft serial print humidity serial print rtchum1 serial println send to thingspeak thingspeak needs minimum 15 sec delay between updates i have set it to 30 seconds delay 15000 client stop serial println waiting thingspeak needs minimum 15 sec delay between updates i have set it to 30 seconds delay 30000,0.0808331370354
cstapels,there are at least two ways to achieve your goal when your device wakes you can loop through all the stored values making sure you delay between write commands so as not to exceed the posting rate for your account type 15 seconds if you are a free user use the parameter created_at to specify the time the data was created you thingspeak plots will show the data at this time see the doc for the correct syntax https www mathworks com help thingspeak writedata htmlalternatively you can use the bulk update feature which is meant for exactly the situation you describe the syntax is a bit more complicated but there is example code here https www mathworks com help thingspeak continuously collect data and bulk update a thingspeak channel using an arduino mkr1000 board or an esp8266 board htmland here is the doc page for bulk update https www mathworks com help thingspeak bulkwritejsondata htmlin this example you build the posting string first and supply the relative time for each post and then post all the data simultaneously you can also supply an exact timestamp be careful with the size of the posting string you use however some devices have very small buffer sizes and wont warn you when they run out,0.834112524986
mnaveed1,so i have modified my code to test bulk update my code uploads successfully however it does not post anything to thingspeak can you tell me what is wrong i have included my write api key and channel id if you can also check it from your hardware thank you include including library for dht include uncomment this library to work with esp8266 includechar jsonbuffer 500 string apikey 6of022olh2qm50tp enter your write api key from thingspeakconst char ssid xperia z_a769 replace with your wifi ssid and wpa2 keyconst char pass 7c6761b56ed2 const char server api thingspeak com define dhtpin 14 pin where the dht22 is connected there are different kind of sensors like dht11 dht12 for this project i am using dht22 temperature and humidity sensor also known as am2302dht dht dhtpin dht22 wificlient client void connects serial begin 9600 delay 10 dht begin serial println connecting to serial println ssid wifi begin ssid pass while wifi status wl_connected delay 500 serial print serial println serial println wifi connected void readings reading temperature or humidity takes about 250 milliseconds float h dht readhumidity read temperature as celsius the default float t dht readtemperature read temperature as fahrenheit isfahrenheit true float f dht readtemperature true if isnan h isnan t isnan f serial println failed to read from dht sensor return would elta_t 0 field1 70 would elta_t 15 field1 66 format the jsonbuffer as noted above strcat jsonbuffer would elta_t 4 strcat jsonbuffer strcat jsonbuffer field1 1 0 strcat jsonbuffer char data 500 write_api_key 6of022olh2qm50tp updates strcat data jsonbuffer strcat data string data_length string strlen data 1 if client connect server 80 client println post channels 522490 bulk_update json http 1 1 replace your channel id with your thingspeak channel id client println host api thingspeak com client println user agent mw doc bulk update arduino esp8266 client println connection close client println content type application json client println content length data_length client println client println data serial print temperature serial print t serial print c serial print f serial print ft serial print humidity serial print h serial print would ata serial print data serial println send to thingspeak client stop serial println waiting thingspeak needs minimum 15 sec delay between updates i have set it to 30 seconds delay 15000 void setup serial begin 9600 serial settimeout 2000 wait for serial to initialize while serial serial println i am awake connects readings serial println going into deep sleep for 20 seconds esp deepsleep 20e6 wake_rfcal 20e6 is 20 microseconds void loop,0.821546912193
cstapels,what do you see on the serial monitor when you run this code does it connect successfully is there a response from the server,0.806827425957
mnaveed1,yes it does connect successfully so i tried to print the response code and i get response code of zero also in my previous post i forgot to include the libraries but in my original code i do have the following libraries include including library for dht include uncomment this library to work with esp8266 include but still something is wrong following is my output wifi connectedtemperature 29 70 c 85 46 fhumidity 54 20data write_api_key 6l4gicvtaf3gmamg updates would elta_t 4 field1 1 0 send to thingspeak waiting response code 0going into deep sleep for 20 seconds,0.266753673553
cstapels,i think the forum strips away library references probably you should take the include off i am presently guessing the trailing comma is a problem i would try the post on postman this worked for me write_api_key xxxxxxxxxxxxxxxx updates would elta_t 4 field1 1 0,0.244493335485
mnaveed1,it gives me this error when i use this write_api_key xxxxxxxxxxxxxxxx updates would elta_t 4 field1 1 0 thingspeak_deep_sleep_with_thing_dev_6 71 error expected before tokenexit status 1expected before token,0.125392526388
cstapels,can you try the format you used to generate your post above but just remove the comma the one where you have temperature 29 70 c 85 46 fhumidity 54 20data write_api_key 6l4gicvtaf3gmamg updates would elta_t 4 field1 1 0 send to thingspeak try is this way temperature 29 70 c 85 46 fhumidity 54 20data write_api_key 6l4gicvtaf3gmamg updates would elta_t 4 field1 1 0 send to thingspeak,0.5
mnaveed1,i tried removing the comma as suggested but still got the same result,0.1845074296
mnaveed1,hello also i am using this line of code time 06 jul 2018 10 28 37 thingspeakwrite writechannelid data 1 3 fields 1 timestamps time writekey writeapikey however i am unable to specify timestamp i get this error timestamps value must contain month day year hour minute and second how to fix this thank you,0.18271329999
cstapels,time 06 jul 2018 10 28 37 is a character array so matlab does not understand it as a date or time one way to fix this is to use the datetime function newtime datetime time and thenthingspeakwrite writechannelid data 1 3 fields 1 timestamps newtime writekey writeapikey,0.31968319416
mnaveed1,hello thanks for the help it does work also can you tell me how to modify above code to include timezone in the timestamp,0.96366506815
cstapels,have a look at the datetime documentation https www mathworks com help matlab ref datetime html searchhighlight datetime,0.803701758385
mnaveed1,hello i am using the following code in matlab analysis but the problem is that when i write data to thingspeak it changes the timezone how can i modify the below code to write data with specific time zone cel data1 1 1 data2 1 1 data3 1 1 celtime timestamps0 timestamps1 timestamps2 thingspeakwrite writechid cel timestamp celtime writekey writeapikey,0.245453864336
cstapels,thingspeakread will return values in utc thingspeakwrite should respect the timezone you have set in your profile https thingspeak com account profileif you want the write to be independant of your user account setting when you create the timestamps you could include a time zone such astimestamps0 datetime now timezone america new_york,0.5
mnaveed1,hello how can i modify the below code to write data to a particular field instead of all the fields thingspeakwrite channelid datatable writekey writekey,0.778558492661
cstapels,there are some good examples in the documentation such has the fourth example on this page https www mathworks com help thingspeak thingspeakwrite html,0.796389579773
Jos,i have an arduino logfile that i want to upload as a csv file to my thingspeak channel whatever i try to get the correct format on my arduino loggfile i constantly get this error unable to parse data in the file ensure that the data in the file being uploaded contains required columns it drives me crazy not to get to the root cause of it the file as it comes out of my arduino looks like the lines below 20 6 2018 12 50 49 77 58 26 25 0 00 0 00 20 6 2018 12 51 50 81 27 26 19 0 00 0 00 20 6 2018 12 52 50 96 56 26 19 0 00 0 00 20 6 2018 12 54 15 65 23 26 25 0 00 0 00 so i tried changing the datetime format to yyyy mm dd hh mm ss and the semicolon to comma between the values no luck i tried to put a header at the first row datetime id field1 field2 field3 field4 field52018 06 20 12 50 49 531447 77 58 26 25 0 00 0 00 02018 06 20 12 51 50 531447 81 27 26 19 0 00 0 00 0no luck and i have no clue on what the cause of this rejection is so please help me out and get me on the right track thanks jos,0.298482239246
Jos,update on this issue i found out that i upload my logfile with a txt extention altering it into csv extention did the trick no error anymore but no graphs in my channel screen so i am puzzeled again cheers jos,0.143833518028
cstapels,thanks for updating on your progress here is some data that worked to upload to my channel and the plots worked datetime field1 field2 field3 field4 field5 field6 2012 12 31 11 30 45 1 1 2 1 3 1 4 1 5 0 041776095 2012 12 31 11 31 46 2 2 2 2 3 2 4 2 5 0 298487794 2012 12 31 11 32 47 3 3 2 3 3 3 4 3 5 0 078605134 if you check the very bottom of this page i think there is no id field listedhttps www mathworks com help thingspeak channel settings html this content may move shortly,0.76815032959
Faster_ed,hi i have been playing with the cannel updater and thetwitter updater and have some questions 1 i found that i have to concatinate my field1 analogpin0 field2 analogpin1 3 another string 4 i have only 7 fields but it just wo not work if i u00a0 concatinate in one shot i e send it as updatethingspeak list of stuff i have to concatinate the data one at a time then put it in the updatethingspeak channelstring i used dtostrf to get string values of temperatures like xx xx and it seems that i have to put them in 1 at a time or i get or it hangs up i have it working but i think i must be doing something wrong any ideas 2 i am updating twitter as well i found that i have to keep my message short as i concatinate my strings what is the largest length i can go about 6o charactars safely otherwise i get an error returned from the twitter update thanks for your helped,0.5
Hans,under your channel settings you have to have each field enabled for the data to be displayed go to channels select your channel then edit channel you should see each channel and a check box let us know if that works,0.754392504692
Faster_ed,sorry i was away for a while yes the channel fields are enabled the problem is i can not use u00a0 updatethingspeak field1 fgtemps 2 maxfgtemps 3 minfgtemps 4 6 minfztemps where fgtemps and other elements are created from a float for example maxfztemps dtostrf maxfztc 7 2 buffer if i try to update it will not work however if i do several lines of tsdata field1 fgtemps tsdata tsdata 2 tsdata tsdata maxfgtemps u00a0 etc u00a0 it works so i used the same approach for twitter updates and i found that i can not send a message updatetwitterstatus twitter string where twitter string my fridge temperature min max is fgtemps minfgtemps max fgtemps my freezer temperature min maxis fztemps minfztemps maxfztemps i can send only half that much just fine any more no i am thinking the string is too long for twitter what is the maximum length is there a better way to deal with foat to string there must be something funny about the strings created by dtostr so that you can not just concatinate them in 1 shot thanks ed,0.16029292345
Faster_ed,o k anyone who has trouble with the thingchannel tweet app should know that there is a limit on how long your string can be i do not know what it is i modified the code in update twitter to send the key first and the data second i made tweetkey key tatus u00a0 a string in void setup and added the 2 lengths the tsdata length tweetkey length for the data length then client print tweetkey client print tsdata much more stable and tweets every time now also the update response works as well and easier with while instead of if best of luck all ed,0.798119485378
swilson,faster_ed would you be so kind as to share the code you are using with me i am having the same exact problem and have been pulling my hair out trying to figure it out thanks,0.823211073875
chrisjmears,ive been trying to track down the source of a regular problem almost every night between 4am and 5am for varying lengths of time i end up with a gap in my data last night it was from 4 06am to 4 29am i just cant figure it theres nothing in my code per se which would cause it so i am assuming its something out of my control either an outage from my isp or perhaps some regular maintainance on the thingspeak servers hoping you can she some light on it,0.284073412418
lee,hi chris our hosting provider has been doing some datacenter network maintenance recently that has been causing these problems hopefully everything will be stable again soon in the meantime we are working on improving our services to better mitigate these types of problems in the future lee,0.810810208321
brucecannon,hi it appears that when i write to a channel all the fields are always written so that i cannot write to just one of the fields u00a0 is this right for example if i create a channel with two enabled fields and post field1 1 then query it the results are field1 1 and field2 null u00a0 if i then write field2 1 and query again i get field1 null and field2 1 is this the desired behavior u00a0 or is there an alternate way to write to a channel while preserves the contents of the unwritten fields u00a0the two workarounds i have thought of both seem bad for thingspeak bandwidth i could read out all eight fields change the one i want and write the new set back u00a0 or i could create eight channels with eight keys and use one field in each instead of creating a single channel and anynchronously accessing each of its fields u00a0 both seem much less desirable u00a0advice thanks bruce,0.851604223251
helidrone888,i am new to thingspeak too though it now 2015 has this problem been resolved or is this still not possible to update a single field at a time without nulling all the other 7 fields on my channel please reply thingspeak experts even if it just to confirm this limitation bug,0.175553351641
Hans,the orginal forum post might not apply to your situation here what is possible you can write to all of the fields in a single call you do not have to send nulls to fields that you do not want to write to you just have to make sure that the fields are enabled in your channel settings what are you looking to do that prompted the question thanks hans,0.74964004755
JChristensen,i have seen a lot of problems over the last couple days connecting to the site just over the last couple hours probably a third of the attempts to send data have failed is anyone aware of any issues,0.0296061933041
lee,hi our monitoring systems show that everything has been stable for a long time what kind of connection problems are you seeing do you have any logs of the failed attempts to send data lee,0.817497313023
JChristensen,hello lee i see failures to connect to the thingspeak server at 184 106 153 149 i do have logs if specific times will help between 02 52 03mar utc and 03 36 03mar utc i had about 45 failures to connect since then it been working better although there were just a few failures around 04 50 03mar utc this is an arduino based device using a wiznet wiz811mj module code has been stable for months other similar devices that connect to different services do not experience problems there is also no indication of local network issues on this end any light you can shed will be greatly appreciated jack,0.0752630531788
lee,hi jack i suspect that the problem may be wider isp or internet issues during that time period here a device posting data at 15 second intervals during the time period you mentioned https api thingspeak com channels 9 fields 1 json start 2015 03 03 2002 50 00 end 2015 03 03 2003 40 00 timezone utc were your connection errors due to timeouts can you paste an example error lee,0.250536262989
JChristensen,here is an example a successful post followed by a failure i have inserted comments to help indicate what is going on the 8 digit number at the start of each line is milliseconds local 2015 03 02 21 52 00 est51374796 p 3646 d 3569 cf 89 wd 77 r 051384737 mem 61351384742 xb rx ack incoming message received to be sent to thingspeak51384742 mem 52451384762 svr connect connected to thingspeak51384767 post 68 1 1 3 079 74 0 http post complete51384768 mem 52451384828 svr resp response received from serverhttp 1 1 200 okserver nginx 1 7 5date tue 03 mar 2015 02 52 10 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200 okx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800etag a080def7063e0830291475e783ce2e7a cache control max age 0 private must revalidateset cookie request_method post path x request id 623ecb00 8194 48dd a293 0427feb6f35671133846051384977 svr disc server disconnected 240ms elapsed since receipt of incoming data 51384994 connect 051389717 mem 613 next incoming message51389722 xb rx ack51389722 mem 52451421867 nconfail 90 connection fails after about 32 seconds 51421868 thingspeak send failed,0.5
lee,hi since the second request did not receive a reply from our server i think this is due to an intermittent internet network issue which will hopefully resolve itself lee,0.207915455103
JChristensen,i suppose that is possible if i am the only one seeing it but it does seem odd since this has been a recurring problem for a very long time with two different isps and seems to be limited to thingspeak it might work well for days or weeks then i will see a rough patch like the last couple days i will keep an eye on it and next time it happens i will try to do a tracert or something sometimes in the past when the microcontroller could not connect i have also been unable to access the web site from a web browser but that was not the case this time just out of curiosity where are the servers physically located,0.0380403995514
lee,hi the servers are located in the chicago area running on rackspace lee,0.5
JChristensen,interesting i use another service that i think is also in chicago but i do not think they use rackspace thanks lee,0.908698320389
rkgarg,is there any thingspeak url which can return time and possible timezone in my arduino and esp8266 i want to get the current time so if there is any thingspeak url which can return current time then it will be very useful thanks,0.744417905807
lee,hi this functionality does not exist in the thingspeak application although we will discuss adding it in the future lee,0.925305008888
mycowx,hello i am trying to set up a thinghttp to initiate a push notification from pushbullet i have content type set to application json http auth username is set to my pushbullet api auth keyurl is https api pushbullet com v2 pushesbody will be json formatted according to the pushbullet api https docs pushbullet com http response i get is the following error type invalid_request message access token is missing or invalid cat uff65 u03c9 uff65 y uff1d maybe not passing the http auth header correctly any ideas i am at the edge of my knowledge here thanks,0.187049508095
lee,hi i am not familiar with the pushbullet api but here are some things to check for 1 are you able to send your request successfully using curl first 2 are you using the correct access token rather than api auth key if they are different 3 are you doing this with a post method lee,0.897688627243
mycowx,alright i got it to work for others that may be interested first off you need to encode your pushbullet api key to base64 rfc2045 mime standard i just used the online tool at http base64 encoder online waraxe us to do this then from the thinghttp setup you need to add a header named authorization with the value basic encoded api key finally the body of your message needs to be in json format following the pushbullet api methods thanks for your help lee although the solution was a bit trickier than expected using the base64 encoded key in the http auth field of thinghttp did not work either i needed to add my own authorization header not sure if this is a bug in your system or a unique situation to pushbullet,0.815193712711
lee,hi just a followup to the problem you were experiencing if basic auth is used both the http auth username and http auth password must be present or it is ignored lee,0.237127840519
mycowx,aha therein lies the problem pushbullet wants their api key as the basic auth username but does not require a password putting my unencoded pushbullet api key to the username field and any nonsense characters in the password field works too thanks lee,0.16251245141
Gio,hello i save data on thingspeak and now i want send push notification plain text or json with parse i have created an http object using the thinghttp and i control the object with api commands it work fine but now i wold like change the message when i send the request i am trying to send request with content type application x www form urlencoded but i receive this endpoint only supports content type application json requests not application x www form urlencoded is it possible change the message when i send a request any response is much appreciated thanks for any help giovanni,0.866046905518
lee,hi giovanni i am not sure exactly what you are trying to do but i will look further into it what is the id of the thinghttp that you are using lee,0.805808901787
vespapierre,hi is it possible to display a string through with your api what came from the microcontroller for example in a case the microcontroller send yes to the api and i would like to display it somehow on the web with iframe or so on do you have a solution for this thanks,0.5
lee,hi you can store a status message when updating a channel feed by specifying tatus as a parameter you can then use javascript to get the status messages https thingspeak com docs channels get_status and display them on a webpage or in an iframe our plugin system https thingspeak com docs plugins should enable you to write everything you need within thingspeak itself lee,0.766371130943
vespapierre,hi lee thanks would you be so kind to show any example about this i am not a professional about javascripts br vespapierre,0.945641875267
lee,hi here a simple plugin i made https thingspeak com plugins 4444 view the source of it and you should be able to see how you can make a similar plugin if you run into any issues let me know and i will help out lee,0.925536870956
vespapierre,hi great thanks i will try this and will back to you vp,0.982127010822
cotejean,lee said hi here a simple plugin i made https thingspeak com plugins 4444 view the source of it and you should be able to see how you can make a similar plugin if you run into any issues let me know and i will help out leethanks it works perfect to display my list how would i go about reversing the order of the list and list the last item first edit i got it working the way i wanted it by adding reverse in that line of code from first entry to last each response feeds function from last entry to first each response feeds reverse function,0.724701523781
teo_kan,hi everybody i am around for already one year and now after long meditation and increasingly pressure i decided to dig for some answer here on forum after i exhaust all my resources to figure out by myself what is going on i am profoundly ashamed but i can live with this first question why is not possible to add tags to my channel i tried to add bmp180 esp8266 pressure temperature light and the there are accepted only pressure and bmp180 because thingspeak offered this appealing feature to ee your devices on twitter i became twitted addict only because of thingspeak while ago when this was happening the love between my thingspeak channel and twitter was so steamy i was able to see my devices twits at every five minutes long before somebody get annoyed with my my desk radiation level i changed the time from five to sixty minutes it was really nice to see it on my twitter but a few month ago everything stopped i changed my twitter settings my thingspeak settings api key in fact but after a few glorious twits everything stops second question why your truly devoted teo_kanpublic channel 9892not public yet channel 15699,0.5
lee,hi teo_kan we had a slight problem with saving tags which is fixed now your tags should save correctly if you try again and thank you for alerting us to this issue you may have to relink your twitter account please delete it under the thingtweet section and then link it again if it stops working again after that please make sure that the tweets are unique twitter will block some tweets that are exact duplicates so you may have to add some randomness to your twitter posts lee,0.135312944651
teo_kan,lee said hi teo_kan we had a slight problem with saving tags which is fixed now your tags should save correctly if you try again and thank you for alerting us to this issue you may have to relink your twitter account please delete it under the thingtweet section and then link it again if it stops working again after that please make sure that the tweets are unique twitter will block some tweets that are exact duplicates so you may have to add some randomness to your twitter posts leehi lee thank you for your quick action now it works indeed for the twitter stuff i have to take my shovel and start digging thanks a lot,0.202412098646
Cyn,i have been trying unsuccessfully to add min max to the multi field plugin if it is possible could someone please give me an explanation of how thanks,0.806740999222
lee,hi find the javascript section of the plugin that reads yaxis title text y_axis_title to change the yaxis min max to 50 100 for example change it to the following yaxis title text y_axis_title min 50 max 100 lee,0.5
Cyn,that was easy thanks,0.994502604008
slyguy,i am having start up problems with the private chart channel 25505 great number used rest easy to load 5 values into field 1 but no line on the chart json xml csv all show good stuff what have i done wrong thanks,0.851391494274
lee,hi it seems like your data is being added as 144 instead of 144 please remove the parentheses when adding data and the chart will then know how to interpret the data correctly and draw the lines lee,0.793296575546
slyguy,i bet that will do it thanks for your speedy response and thanks for hosting a site like this,0.984396100044
arawire,i am using a get to update values in my channel information returned is as follows http 1 1 200 okserver nginx 1 7 5date tue 27 jan 2015 21 09 25 gmtcontent type text html charset utf 8transfer encoding chunkedconnection keep alivevary accept encodingstatus 200 oketag 37693cfc748049e45d87b8c7d8b9aacd cache control max age 0 private must revalidatex request id 34317245 804d 403a b9b4 6dd819eae19b2230there are five lines returned the middle one 23 being the row number what are the other 2 i thought there should only be one ie row number that is 0 if unsuccessful thanks,0.5
lee,hi the 2 is the content length since 23 has 2 characters and the 0 signals the end of the http message if you view your request in a web browser or other application that understands and parses http then only the 23 would be displayed lee,0.75456225872
rossati,hellohow cna i access a channels data this question implies another can i dynamically create the page for example via php or asp best regardsjohn rossati,0.824550151825
lee,hi john to access a channel data you can use our api https thingspeak com docs channels get_feed i am not sure what you mean by dynamically creating the page but if you created an external html page you could pull in the channel feed with javascript and build whatever you need you can also use our plugins system to do this https thingspeak com docs plugins lee,0.5
rossati,thanksi am sorry i had missed this api with this api actually the data processing is done via javascript without cgi or php or asp on your site i take advantage of the response to inform you that if you omit the parameter result the default is 0 and not 100 besides in the https thingspeak com plugins italian version the correct caption of the two buttons for see and modify should be to view vedereview vistato modify modificaremodify modificabest regardsjohn rossati,0.0594305694103
martin,the charts on my channel have suddenly disappeared from view is the site experiencing some sort of problem the plugins are showing ok though so not sure what is happening here,0.101078927517
lee,hi martin the charts on the site all appear fine to me did you change your channel from public to private can you try reloading the channel page are you able to add windows back using the add windows button lee,0.862808704376
martin,hi lee not sure what happened there but all seems to be ok now i went to my channels this morning and there they were i did clean out my cache and temp files before shutting down last night so that may have been the problem regardsmartin,0.160057932138
Tylon,hi folks i have here my csv file wich i want to import i use all 8 fields and i have 66414 entries in this file after some minutes uploading i get an gateway timeout when i look into my channel i also only see 23818 entries how can i import all entries any suggetions,0.5
Tylon,ok i got it i just had to wait until all entries were loaded so everything is fine now,0.215105831623
Mono,hello i am a design student so i am definitely better with all visual stuff but a project i just started requires some technical input too right now i am not sure where to start from so i hope you can give me some advices and direction i need to track the internet usage in a particular household tracking the social network accounts of the family members not what they are doing but are they online and active in a predefined part of the day for example between 5 pm and 11 pm the best scenario would be if i could see all this no matter if they used a laptop pc tablet or phone so i guess i need two different methods one for tracking the data if they use wifi in the home and another to track their mobile devices if they are not connected to the wifi any thoughts directions cheers,0.881003499031
CHERTS,hii use talkback and added via a web interface 2 commands position 0 on and position 1 offi have their id i can execute queries and answers come to themrequest https api thingspeak com talkbacks 1204 commands 56196 api_key xxxxxanswer onrequest https api thingspeak com talkbacks 1204 commands 56197 api_key xxxanswer offbut when you try to view a list of commands in the list they are not a list of commands is issued via the web and via api such as a requesthttps api thingspeak com talkbacks 1204 commands api_key xxxin response provides a blank line i think this is a mistake of service talkback,0.5
lee,hi talkback only lists commands that have not been executed yet you seem to have executed these two commands in the past as can be seen for example by https api thingspeak com talkbacks 1204 commands 56196 json api_key xxxxxyou probably want to add two new commands for on and off and then do not execute them and they will always appear in your list lee,0.5
CHERTS,the list of commands talkback not those that i have just said see picture here how do i edit or delete these commands through the web interface http f5 s qip ru sef39ywx png,0.318504989147
lee,hi if you click on edit talkback you will be able to add edit remove your commands from there lee,0.84998601675
CHERTS,i clicked edit talkback and i do not see my commands and i can not edit or delete them the problem is this see the picture below http f5 s qip ru sef39yz4 png,0.046806037426
lee,hi i assume you are referring to your commands that have been executed already these commands are hidden archived and do not appear in any lists but if you want to delete them you can use the api https thingspeak com docs talkback delete_commandor https thingspeak com docs talkback delete_commandslee,0.196988493204
andyhelp,hi i have crated new channel with http post call to https api thingspeak com channels new channel does not have read api key what http call can i use to create read api key in the channel thanks,0.77898311615
lee,hi we currently do not have an api command to create a read api key for a channel but will look into adding that in the future for now you will have to manually create the read api key from the website channel settings lee,0.884324431419
andyhelp,thanks lee for replay for now you will have to manually create the read api key from the website channel settings it will be difficult it does not fit nicely in use case below and there is quite a few channels as well is there any workaround i can apply for now in step 2 or 3 below e g can i use any other key to read data like account key or write key button on the website sends post request to channels channel_id api_keys write 0 to create read api key can i use my account key with that call etc use case 1 app creates the channel2 not available in api app creates read api key for the channel3 app reads data from created channel,0.855646014214
lee,hi yes you can read the data using the write key it provides both read and write permissions lee,0.946782827377
andyhelp,thanks lee write key works well in my case,0.949547171593
somers123,hi i have a strange problem when requesting data when i request the data with my browser everything is fine but my php script with the same url gets other data request with my browser https api thingspeak com channels xxx fields 2 json key xxx sum daily days 365 channel id xxx name energieverbruik field1 power field2 kwh created_at 2015 01 16t16 12 29 01 00 updated_at 2015 01 21t16 40 13 01 00 last_entry_id 10993 feeds created_at 2015 01 20t01 00 00 01 00 field2 9090 0 created_at 2015 01 21t01 00 00 01 00 field2 5790 0 request with my php script data file_get_contents https api thingspeak com channels xxx fields 2 json key xxx sum daily days 365 echo data channel id xxx name energieverbruik field1 power field2 kwh created_at 2015 01 16t15 12 29z updated_at 2015 01 21t15 42 58z last_entry_id 11003 feeds field1 null field2 null created_at 2015 01 16t00 00 00z field1 null field2 null created_at 2015 01 17t00 00 00z field1 null field2 null created_at 2015 01 18t00 00 00z field1 null field2 null created_at 2015 01 19t00 00 00z field1 null field2 9090 0 created_at 2015 01 20t00 00 00z created_at 2015 01 21t00 00 00z field1 677243 0 field2 5790 0 de returned data in my php script got more null data and has a wrong format field1 null field2 null created_at 2015 01 18t00 00 00z instead of created_at 2015 01 21t00 00 00z field1 677243 0 field2 5790 0 what is wrong,0.763753175735
lee,hi i am not exactly sure what is causing this issue could you try from another browser while logged out of thingspeak or using an incognito window also does your php script send any additional parameters lee,0.244975149632
somers123,hmm i am having the same problem in my browser now so the differences between browser and script had something to do with cache i gues however the problem with the format of the response still occurs https api thingspeak com channels 23558 fields 2 json key xxx days 365 sum dailygives this result channel id 23558 name energieverbruik field1 power field2 kwh created_at 2015 01 16t15 12 29z updated_at 2015 01 21t16 14 47z last_entry_id 11119 feeds field2 null created_at 2015 01 16t00 00 00z field2 null created_at 2015 01 17t00 00 00z field2 null created_at 2015 01 18t00 00 00z field2 null created_at 2015 01 19t00 00 00z field2 9090 0 created_at 2015 01 20t00 00 00z created_at 2015 01 21t00 00 00z field2 6290 0 the last data field is good created_at 2015 01 21t00 00 00z field2 6290 0 but in all the others field2 and created_at are twisted field2 9090 0 created_at 2015 01 20t00 00 00z,0.108373552561
lee,hi since each data point is a json object there is no order specified for the key value pairs so thingspeak does not attempt to return the data object keys in any specific order you should be able to parse the data points using a json decoder and the results should be exactly the same lee,0.5
andyhelp,when accessing private channel 1 i receive invalid channel response there is no api_key parameter available for charts in docs 2 is it possible to access charts for private channels 1 http thingspeak com channels channel_id charts field_id dynamic true 2 https thingspeak com docs charts,0.744566380978
lee,hi yes you can access private charts by including an api_key parameter it included in the list of feed parameters in the documentation lee,0.5
andyhelp,thanks lee looking at docs again it is clear now,0.92709249258
krich,i would like to pass the value that triggered the react app to the thinghttp app is there any way to do this dang my first post and i posted in the wrong forum sigh a moderator move to the thing apps forum would be appreciated,0.144492208958
lee,hi yes you can pass the triggered value from react to thinghttp please see the documentation here https thingspeak com docs react replacements no worries about posting in the wrong forum lee,0.906674861908
tyler785,is it possible to pass the value the the url parameter of thinghttp,0.5
BallardHill,we can use an api url to post to our channel http api thingspeak com update key mywriteapikey field1 80 0 field2 95 0resulting in a valid channel update but the same data in firefox poster returns a page with only a 0 in it instead of the 1 or higher integer expected and the channel is not updated is there a way to see the content of the failed received post in that return page so we can diagnose the issue perhaps some special field number or value to elicit the diagnostic display,0.784412503242
lee,hi unfortunately we do not have any further way to diagnose the issue are you waiting 15 seconds between updates so that the rate limits are not kicking in lee,0.0552263259888
BallardHill,right rate limit is not an issue this happened the very first time we ever used poster and has happened every time no two posts were ever as close as 15 seconds together edit i will look to see if poster itself will display the outgoing transaction edit2 huh today copying and pasting from the same data sources poster works just fine i do not like this kind of behavior we will see how it works tomorrow anyway thanks lee,0.827743649483
mononokey,bonjour u00e0 tous je me permet de vous contactez afin de savoir si l on peut modifier les valeurs re u00e7u par push j ai mis en place des graphiques de valeurs pour les sondes de t u00e9mperature de mon ipx800 en revanche je recu des valeurs brut je cherche u00e0 les convertirs selon une formule de calcul thank,0.5
lee,hi sorry i am not sure what you are asking can you please write this post again in english lee,0.817458987236
nmac,lee said hi sorry i am not sure what you are asking can you please write this post again in english leehi i allow myself to contact you to see if you can change the values received by push i set up graphs values of temperature sensors for my ipx800 for exemple value 240 27 5 u00b0c value 0 00323 50 however i received gross values i try to convertirs according to a formula thank,0.781134843826
lee,hi we currently do not provide the ability to perform calculations or analysis on data however we are looking into ways to add this functionality in the future lee,0.872267782688
larsilund,i have built an arduino based energy monitor recording detected energy meter ticks scaled to wh every 16 seconds when i try to get the feed with https thingspeak com channels 21894 fields field1 days 2 timescale 60 everything works well and i get the first measurement from every hour but what i need is the sum of the meter ticks using the sum option with https thingspeak com channels 21894 fields field1 days 2 sum 60 returns only null values for each hour what have i missed,0.5
lee,hi your data points include extra whitespace before the numbers so we were not recognizing your data as numerical however we changed our code to ignore the whitespace and your query should be working correctly now https thingspeak com channels 21894 fields field1 json days 2 sum 60 round 2 lee,0.5
larsilund,thanks for the fast response and a working solution to my problem i am impressed lars,0.912413239479
gdillen,i am new to thingspeak is there a way to subscribe automatically receiving the new data coming in thingspeak from devices from my own application something similar as mqtt pub sub thanks,0.852880060673
lee,hi we currently do not provide this capability but it something that we have discussed adding in the future lee,0.913945198059
powtac,when posting two values field1 and created_at to the api both appear correctly on feeds last https api thingspeak com channels 20692 feeds last but not on feed json https api thingspeak com channels 20692 feed jsonthis looks like a bug related to setting the created_at value,0.5
powtac,no bug sorry my fault the problem was that would ate month returns 0 11 january 0 and i did not 1 to match the correct date for created_at,0.146589666605
lifedj,hi i have another problem when i create a channel and i try to update a feed adding a set of data the result is that the data are not stored on the channel and as result i obtain only a 0 value as entry number i tried to wait 3 seconds before the submission but the result is the same do you know why,0.213159561157
lee,hi we limit updates to one update per channel every 15 seconds https thingspeak com docs channels rate_limits so this is the behavior that you may be seeing lee,0.5
lifedj,ok i thought the limit was referred only between 2 update in my opinion it was not considered in this count the creation thank you again,0.860734701157
lifedj,how can i write on a channel if i do not have the api key i will explain i have a script that gets data from a lot of devices and at the end it has to write these data on thingspeak thus what i want to do is look in thingspeak if a channel with a specific name exist if it exist i want to write the data on the channel but considering that i do not know the write api key a priori i cannot do it beacuse there is not a way to know that key how can i do it,0.150812000036
lee,hi you can list all of your channels along with their api keys by using the documentation at https thingspeak com docs channels index look under list my channels lee,0.5
lifedj,ok thank you very much i continued to fetch html code instead of json and there were not api keys in the result thank you,0.908924221992
benduino,hello i was wondering if anyone has connected a yun directly to a thingspeak channel and if so could post some code that i could adapt i have not been able to get the examples using ethernet to work and would like to use yun wireless connection anyway thanks a lot ben,0.891842722893
chrisjmears,yep i am using ittry this include include the bridge library for communication between processors include include the httpclient library for communication with thingspeakunsigned long lastupdatetime 0 unsigned long to hold the last update timehttpclient client create a new client object char url 260 declare a character array to hold the url reserve 260 bytes we are only currently using 219 bytes but leaving room for future expansion in case the server url changesvoid setup client nocheckssl turn of checking of ssl certificate validity only requires if using https to communicate with thingspeak we implictly trust the servers key bridge begin open the connection between the arduino and openwrt void loop updatethingspeak void updatethingspeak this routine issues an https get command directly to thingspeak if millis lastupdatetime 15000 if its been 15 seconds since we last tried to contact thingspeak url 0 this are sets the character array without it it will continue to grow using all the available memory now we concatenate the url one operation at a time adding each variable to the string until we end up with a full url strcat url https api thingspeak com update api_key first add the https base url strcat url xxxxxxxxxxxxxxxx then the api key strcat url field1 text 1 strcat url field2 text 2 strcat url field3 text 3 strcat url headers false add the flag to reduce the number of http headers strcat url add the string to terminate the url while client available 0 before we start if anything is available in the client buffer client read we call a read to clear out any rubbish in the buffer client getasynchronously url tell linino to get the url in the background note if your using talkback and you add the talkback url into this string you can then do a client read and get the latest talkback command whilst updating thingspeak lastupdatetime millis reset the timer,0.5
Stonker,hi all fellow enthusiastsrelated to my post almost a month back someone has surely done a gsm mobile connection hence some light could be shed on how to connect this way as opposed to ethernet i am posting null values i posted my arduino code could someone share theirs which works many thanksstonker,0.5
Stonker,solved use xively basic example for gsm shield on arduinotake the post data required from the thingspeak example for wireless shield on this site doneif anyone needs help on this let me knowstonker,0.5
vespapierre,hi stonker does your solution work fine with the gsm shield,0.985736131668
Precedent,hi stonker thanks a lot for your post i am struggling to upload sensor data from arduino via gsm gprs shield to thingspeak i tried to modify a xively sketch that i found online but could not make it work for thingspeak if you managed to do so would you mind posting your code thanks a lot in advance appreciate your efforts cheersprecedent,0.863432765007
jass,hi i have been testing with the api to send data from a sensor that is connected by means of a gprs modem so far everything is working smoothly one think that is bothering me tough is the size of the response headers as you guys probably know gprs connection traffic for m2m is billed for upload and download amounts of data for this particular device a typical request is less then 200 bytes and a reply i get from the api is between 575 and 600 bytes i am copying a reply bellow http 1 1 200 okserver nginx 1 5 7date thu 20 feb 2014 10 07 57 gmtcontent type text html charset utf 8connection keep alivevary accept encodingstatus 200 okx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800etag 8f14e45fceea167a5a36dedd4bea2543 cache control max age 0 private must revalidatex request id ebf9ee6b f7a2 4886 ae75 2c5982cc3af1content length 17 i understand that all some of those maybe required for debugging or when you are pulling data but for an update channel message i really think is too verbose is there a way with an extra request parameter for example to request a hort version for the reply or even better squeeze the reply of the update channel call to the minimum required data to keep request response of sensors at the minimum possible amount of data hope this makes sense to you guys thanks,0.5
lee,hi we just added an option for you which allows some response headers to be removed just add the parameter headers with a value of false for example headers false when updating your channel and the rails headers will be removed although the nginx webserver headers will still be present lee,0.775476813316
jass,hi great yes it shorter now anything that improves that is welcome thanks for the prompt reply,0.995996117592
samvivi7,hi jass i have a gprs shield from seeedstudio and i am trying to set it up for thingspeak and i cant seem to make it work if you could pls share your code on how u set up your gprs or if you can help me i would really appreciate it thank you in advance,0.871245861053
Precedent,hi sam thanks a lot for your post unfortunately i cannot provide an answer since i am struggling with the same problem i want to upload sensor data from arduino via seeed gprs shield to thingspeak did you by any change already manage to do so if yes would you mind posting your code i could not find anything online and neither thingspeak nor seeedstudio support did reply to my request of course if i manage to figure something out i will be happy to post it here thanks a lot in advance appreciate your effortscheersprecedent,0.765965342522
Jan Kromhout,hello i am a new starter and i use an arduino r3 and the ethernet shield download the simple example from github thingspeak arduino examples ethernet arduino_to_thingspeak ino my question is this example working i compiled it no problems but it is not workingit is waiting this is the message connecting arduino to network thats all i put the local network setting as printed on the back of my ethernet shield andtaken the api key from my channel any clou thanks for any help jan kromhouthellevoetsluis nl,0.5
zanderman111,using http requester for firefox or using just http url posts i can update every field except the lat and long am i doing something wrong or is this feature down for example i can do this and it works fine to update field1 with whatever i wanthttps api thingspeak com update api_key my key field1 123but this doesnt work https api thingspeak com update api_key my key lat 40 123 long 82 123thoughts,0.200471013784
lee,hi what channel is this for also when viewing your channel feed are you adding the parameter location true so that the location data will be returned lee,0.934006333351
TC,hi everyone i have two questions regarding the security of data transfer while using the thingspeak platform 1 is it just enough to add a simple to the http request becoming then an https request to insure that all the data exchange between my computer hardware and the thingspeak platform are safe encrypted 2 if the answer to my first question is yes would it also be the case when using thingspeak locally on a private machine or do i have to make a specific action on this private machine thank you very much in advance for your input cheers thierry,0.901204228401
lee,hi thierry yes using https will ensure that your communications between your computer hardware and thingspeak are secure locally you can also use https but may have to create a self signed ssl certificate lee,0.945965409279
dmagee,i installed a new router and after that my time control apps stoped working the iobridge app works so i think it the router i turned off all of the fire wall settings and tested the time control app but it still did not work what else can i try,0.113519817591
lee,hi we had some slight problems that were preventing some timecontrols from firing we have fixed this issue now can you check again to see if it working properly for you lee,0.104102015495
dmagee,thanks i have been watching the program for the last two days old time control app that i have not altered work but if i modify or make a new time control app it will not work thanks dave,0.787821829319
lee,hi dave everything is working fine from our end can you double check the timecontrol time and date and make sure the action it connected to is working correctly lee,0.956875085831
sleepel,hi would anyone be able to help me on this i am trying to use my arduino to get temperature sensor to upload to thingspeak channel but i am stuck on the coding part would anyone be able to help me thanks,0.149930655956
Bluemington,hi guys i have a minor problem i am trying to use a gprs shield arduino to upload data to thingspeak through a sms gateway on an android phone the sms gateway will encode the characters within the http string and thingspeak will not accept the update this is how it works the sms gateway takes the body of the sms message and appends it onto this string http api thingspeak com update key mykeyhere field1 smsbodygoeshere but when it actually sends the message it sends the sign as 3d it also encodes the and is there a way to get around this on the thingspeak side update i should add that i do get a positive response from the server indicating the data was accepted a number indicating the row but when i check the cell is blank thanks,0.5
lee,hi unfortunately there currently no way to get around this problem from our side it may be possible to set up a proxy that you could send your requests to which would decode the url and then pass the requests on to our servers lee,0.688212513924
Bluemington,hi lee that what i suspected thanks for the response,0.930952847004
samvivi7,hi bluemington if you dont mind could you pls share your code for setting up the gprs shield for thingspeak com as i am having trouble thank you,0.897701203823
vorms,hello i see the data size is very small for example i monitor humidity and temperature every 10 seconds there is a sample the history is only 45 minutes is that possible to have more data event if i pay something best regardsthierry,0.5
lee,hi thierry you can add as much data as you like there is no limit to the number of data points that a channel can have the only limits apply to the update frequency you can only update a channel once every 15 seconds lee,0.789766669273
vorms,hello many thanks for your reply i use for now the thingspeak web site to display the chart default chart it seam that the chart display a fixed number of record is that right is that possible to customize the y axis time range is that some example i can rad for me displaying fiew last days will be good i do a sample every minute for now it will be very nice to have a possible zoom in a selected range best regardsthierry,0.959425091743
lee,hi thierry within a channel view you can change the chart options by clicking the small pencil icon at the top right of the chart otherwise you can add parameters to the querystring to change a chart as documented here https thingspeak com docs charts specifically you will probably want to change the days results yaxis start or end parameters here an example of a chart with some of the default parameters changed https thingspeak com channels 9 charts 1 width 800 height 400 results 400 average 10 yaxis new 20y axis in the future we will look into improving the charts further and adding features such as the ability to zoom in on specific ranges lee,0.5
yuval.shtemer@clicksoftware.com,hi the documentation mentions thinghttp supports get post put and delete methods any way i can use patch thanks in advance for your response,0.900863170624
lee,hi we do not have any immediate plans to implement patch methods however if you are trying to perform a partial update of a resource you can use a put and include only the properties you want to be updated lee,0.178750604391
vorms,hello i am very news in this api i will use it with arduino is that possible to post more than one field update at a time is that possible to have a syntaxical example best regards thierry,0.734116911888
lee,hi thierry yes it is possible to update more than one field at a time the api command would look something like this https api thingspeak com update api_key xxxxxxxxxxx field1 77 field2 33 field3 54 for further guidance in using an arduino to post to thingspeak please see the tutorial at http community thingspeak com tutorials arduino using an arduino ethernet shield to update a thingspeak channel lee,0.5
dmagee,is there a setting for daylight savings time or do i have to just move up one time zone,0.5
lee,hi there is not a setting for daylight savings time you will have to modify the times on your timecontrols lee,0.5
vinci123,hiwe have been working on a small project where need is to get post data thingspeak api but we dont know how to do so please assist we are assuming thingspeak api will get data manually from human and update somewhere please provide more clear information thanks,0.228710561991
lee,hi if you would like to send data to a thingspeak channel please see the documentation here https thingspeak com docs channels update_feed if you want humans to manually enter in data the easiest way would be to create a html form that submits the data to thingspeak using our api lee,0.78740477562
leonlei,dear lee sorry that i have a similiar problem i am able to upload a field update through a http post i am not sure how can i upload a json file to the thingspeak server through api in unix environment can you kindly give me some guidlines thanks regardsleon,0.245553255081
lee,hi leon you can not upload json files directly to our api but you can update channels in linux or unix using something like this curl k data api_key channel_write_api_key field1 field_1_data https api thingspeak com updatejust replace channel_write_api_key and field_1_data with the appropriate values and it should work lee,0.789433240891
gerald,i have my thinkspeak server running smooth for months now for some reason i can not longer log into my user account invalid login or password is there a way i can retireve this password on my server end i am 99 sure i did not forget it just a bit worried someone got in and changed it btw i did not initially link an email to the account so that method is not going to help thanks,0.243408560753
lee,hi you can try the following steps to get a new password 1 in the directory on the server where you have thingspeak installed type rails console or rails_env production rails console depending on which environment you are using 2 assuming you created yourself as the first user enter user user first to set the user variable if you are not the first user you may have to set the user variable as user user find_by_login your_login_name 3 once your user variable is set set your email user email email example com 4 save the new information user save 5 reset your password using the web form at users password new if you are more familiar with mysql you can also connect to the database and set your user email in a similar manner if you still can not get this working please let me know and i will add instructions on how to set up an admin user which can change your login email directly from the web interface lee,0.5
gerald,thanks lee i was able to reset it are there alot of hoops to jump through to create a admin account thanks for the help as always gerald,0.904666543007
lee,hi gerald i have added instructions on creating an admin account here https github com iobridge thingspeak optional admin setup lee,0.865841209888
gerald,thanks lee will give it a try gerald,0.907099962234
jemapel,i am failing to see my posts show up on my channel i have used the advance rest client chrome add on to test my settings here i am able to connect to 1 http 184 106 153 149 redirects to http thingspeak com 2 http thingspeak com3 api thingspeak com updatebut the first two do not post and the third one does my problem is that my arduino setup can connect to the first two but not the third like the rest client the connection on the first two methods do not post when i attempt to connect to the third address my client connect thingspeak 80 call returns 65531 i am using the channel write api key and not the user api key nor thingtweet api key i am using an opendns web server to to dns configured in static connect mode with the arduino ethernet shield r3 including content length 90 does not impact these results so i removed it since i am successfully posting i presume its not a message structure issue but the raw text for my posts are post update http 1 1host api thingspeak comconnection closex thingspeakapikey content type application x www form urlencodedfield1 70 field2 44 field3 6 field4 8 field5 9 status 20 2c21 2c22 2c23 2c24 2c25 2c141 2c14b 2c155 2c15f 2c169 2c173 2c143 2c14d 2c157 2c161 2c16b 2c175 2c144 2c14e 2c158 2c162 2c16c 2c176 2c field6 44 field7 119,0.187025874853
lee,hi we fixed posting to the raw ip address at http 184 106 153 149 update you should be able to use that correctly now it was previously forwarding to https thingspeak com http thingspeak com update is not valid since all of these requests are redirected to https thingspeak com https thingspeak com update will work though since it is already using ssl and does not need to be updated lee,0.184129148722
jemapel,hi lee thanks for the guidance i can post to those two addresses using the rest client but not with my arduino it could be that its having trouble resolving the address for the connection if i understand correctly i can only connect to either root ip addresses or root domain names but not subdirectories of domains using the arduino ethernet shield r3 to connect to domain names i think it just queries the dns to give it the ip address of the intended server so i am getting errors back when trying to resolve to a host that has a sub directory is there an update server that does not have a sub directory or is there a known workaround the tutorials on the thingspeak site show it to post to the ip address directly http 184 106 153 149 i had this working six months ago then upon trying it again at the same host it no longer works it just returns the web page http community thingspeak com arduino thingspeakclient pdethanks jon,0.851888537407
lee,hi jon we do not have a url that allows channel updates on the base domain so the update path is always required are you able to use a path with the arduino ethernet shield using a tutorial like this http arduino cc en tutorial webclient replacing the lines ipaddress server 74 125 232 128 numeric ip for google no dns char server www google com name address for google using dns client println get search q arduino http 1 1 client println host http www google com with ipaddress server 184 106 153 149 numeric ip for thingspeak no dns char server api thingspeak com name address for thingspeak using dns client println get update api_key xxxxxxxx field1 37 http 1 1 client println host 184 106 153 149 may get things working correctly lee,0.5
jemapel,this suggestion is not working for me after connecting to 184 106 153 149 and receiving 1 indicating a successful connection i have tried to subsequently send several variations with no successful postings client println post update api_key xxxxxxxxxxxxxxxx field1 37 http 1 1 client println post update http 1 1 client println api_key xxxxxxxxxxxxxxxx field1 37 client println post update http 1 1 client println api_key xxxxxxxxxxxxxxxx field1 37 where in each case the line s were followed byclient println host 184 106 153 149 client println i also tried all three using get instead of post still no posting at thingspeak from the arduino using the rest client i can connect directly tohttp 184 106 153 149 update api_key xxxxxxxxxxxxxxxx field1 37with onlypost http 1 1and it posts successfully,0.5
lee,hi unfortunately i do not have any more ideas as to what may be wrong or how to send a successful request using the arduino ethernet shield i do not have one to test with lee,0.0504506230354
NishantSood,hi i already have the http requests working fine both ways but this is only better if you need to sense stuff what about a type of communication where its like continuous stream of data moving to and fro like it happens in tcp sockets i implemented tcp sockets in my app and wifi module but that was like locally only could not get my router to be configured with a port forward on a particular port so that i may would have accessed it from anywhere hence adopted thingspeak any heads up tutorials and guidance on how to do the same will be immensely helpful,0.5
azarghan,hi i am trying to send some dummy data to thingspeak over the tcp connection i am using the below code for doing so as below code starts from here include include pragma comment lib ws2_32 lib winsock libraryint apientry _twinmain _in_ hinstance hinstance _in_opt_ hinstance hprevinstance _in_ lptstr lpcmdline _in_ int ncmdshow int main int argc char argv wsadata wsa socket s struct sockaddr_in server char message printf initialising winsock if wsastartup makeword 2 2 wsa 0 printf failed error code d wsagetlasterror return 1 printf initialised create a socketif s socket af_inet sock_stream 0 invalid_socket printf could not create socket d wsagetlasterror printf ocket created server sin_addr s_addr inet_addr 184 106 153 149 server sin_addr s_addr inet_addr api thingspeak com server sin_family af_inet server sin_port htons 80 connect to remote serverif connect s struct sockaddr server sizeof server 0 puts connect error return 1 puts connected send some datamessage post update http 1 1 message get http 1 1http api thingspeak com update key fl7sc0q2mb2hbpkd field1 1000 if send s message strlen message 0 0 puts end failed return 1 message host api thingspeak com if send s message strlen message 0 0 puts end failed return 1 message connection close if send s message strlen message 0 0 puts end failed return 1 message x thingspeakapikey fl7sc0q2mb2hbpkd if send s message strlen message 0 0 puts end failed return 1 message content type application x www form urlencoded if send s message strlen message 0 0 puts end failed return 1 message content length 20 if send s message strlen message 0 0 puts end failed return 1 message if send s message strlen message 0 0 puts end failed return 1 message field1 if send s message strlen message 0 0 puts end failed return 1 message 5 if send s message strlen message 0 0 puts end failed return 1 message if send s message strlen message 0 0 puts end failed return 1 message field2 if send s message strlen message 0 0 puts end failed return 1 message hai if send s message strlen message 0 0 puts end failed return 1 puts would ata send return 0 code ends here i can build the above code in visual studio 2013 on windows and able to see in wireshark that from my client can send data to thingspeak as below wireshark output in text format as part of post update http 1 1 hypertext transfer protocol post update http 1 1 expert info chat sequence post update http 1 1 post update http 1 1 severity level chat group sequence request method post request uri update request version http 1 1 host api thingspeak com connection close x thingspeakapikey fl7sc0q2mb2hbpkd full request uri http api thingspeak com update 5d http request 1 1 as part of next message i e continuation application x www form urlencoded as below hypertext transfer protocol content type application x www form urlencoded content length 20 content length 20 html form url encoded application x www form urlencoded form item field1 5 key field1 value 5 form item field2 hai key field2 value hai wireshark output ends here here we can see that field1 and feild2 goes to thingspeak as key value pair i e key and value but at thingspeak it does not draw the data and none of field gets updated thingspeak result through get api channel id 16736 name channel 16736 would escription nbm latitude 12 21 longitude 14 11 field1 ecg field2 tat created_at 2014 10 05t00 31 44z updated_at 2014 10 13t00 18 19z last_entry_id 3 feeds created_at 2014 10 12t23 52 26z entry_id 1 field1 null field2 null created_at 2014 10 12t23 55 17z entry_id 2 field1 null field2 null created_at 2014 10 13t00 18 19z entry_id 3 field1 null field2 null thingspeak data ends here the entry number gets increment in every send data from tcp client somy question is wireshark able to decode the data and understand it but why thingspeak decode data as null i had a look on the reference http community thingspeak com documentation api and seems that i am able to send the data in correct format but seems something is incorrect in the format of sending the data to thingspeak please suggest what correction modification i should do in format of data of field1 and field2 so that thingspeak can populate correctly in update feeds and plot the data too your help will be much appreciated thanksaj,0.291545927525
lee,hi aj i just checked your channel at http api thingspeak com channels 16736 feed json and i see data in fields 1 and 2 were you able to get your updates working correctly lee,0.5
MooseHunter,im having some difficulty finding information on the https implementation i see that ssl is optional but i have not seen an implementation using anything but port 80 do i need to host my own server to use port 443 for ssl https thank you for any help,0.82238805294
lee,hi are you setting up a private thingspeak installation from our github repository if so then yes you would have to host your own server and purchase an ssl certificate to properly enable https on your site if you just want to connect to our public thingspeak service via https you can replace any of our example urls with https and it will work correctly for example https api thingspeak com channels 9 feed last json lee,0.5
MooseHunter,currently using the public thingspeak server when replacing with https can i then use port 443 or always port 80 it was my understanding that https uses 443 but i have yet to see an example using 443 when connecting to the server via arduino,0.769827663898
lee,hi yes you should use port 443 if you are connecting to our https url unfortunately i think arduinos are not capable of https http arduino stackexchange com questions 4 how to get https on arduino lee,0.24810346961
jbeale,i have a wifly rn 131c from microchip previously roving networks and it seems to be able to get online through my wifi router and ping hosts i do not seem to be able to send data to thingspeak via tcp connection setup for host 184 106 153 149 80 i have tested that my feed works if i send it data via firefox on my desktop such ashttp api thingspeak com update key secretkeyinfo field1 123has anyone managed to use wifly with thingspeak is there a step by step example if i send out the below data via tcp to 184 106 153 149 80 should it work post update http 1 1host api thingspeak comconnection closex thingspeakapikey mysecretkeycontent type application x www form urlencodedcontent length 29field1 345 status just_a_test,0.5
jbeale,ok i got wifly to post to thingspeak after some effort my wifly rn 131c is on firmware 4 41 if that matters i updated my wifly from as shipped firmware 2 32 as follows set wlan ssid myssid configure your wifi access point nameset wlan pass mypassword configure your wifi passwordset wlan join 1 automatically connect to wifi on bootupreboot set ftp user rovingset ftp password pass123set ftp directory publicset ftp filename wifly3 441 imgset ftp mode 1set ftp address 198 175 253 161saveftp updatefactory resetrebootfirst setup your wifly via serial port as follows by itself typed quickly is the escape to command mode sorry for formatting mess this forum sorely lacks a code tag do not type in the comments starting with the of course set wlan ssid myssid configure your wifi access point nameset wlan pass mypassword configure your wifi passwordset ip tcp mode 0x0 default tcp mode flagsset ip flags 0x6 default tcp ip setup flagsset ip protocol 2 tcp server and client only set sys autoconn 1 auto connect to remote host on powerupset ip host 184 106 153 149 ip address of thingspeak serverset ip remote 80 ip port number of remote tcp hostset comm remote post string sent to remote tcp host when port openssave store config setup in flashreboot restart and auto join wifi auto open tcp to hostnow you can manually enter the data to thingspeak through the wifly serial terminal but every line must end with 2 character pair cr lf which may not happen just with the enter key i had to type control m control j after each line note initial post missing as i configured that to be the string sent immediately upon opening the tcp connection to port 80 above so first character typed is a space then update etc cr m 0x0d r carriage returnlf j 0x0a n line feed update http 1 1host api thingspeak comconnection closex thingspeakapikey mysecretkeycontent type application x www form urlencodedcontent length 29field1 354 status just_a_test,0.5
rodri,hi jbeale could you share the code you used to connect wifly to thingspeak and arduino cheers,0.941732645035
lee,hi rodri there is some example code here that you might find useful https github com thisandagain arduino wifly thingspeak lee,0.916042625904
mrsniffles,yeah i am looking for an example i can get working i have tried the code above but keep getting client was not declared in scope errors anyone had any luck,0.138660371304
stanzieg,i know i have seen that textual values were supported for the channels but i believe i have determined that the tatus field is the only element of a channel that support textual values can someone confirm this is true if i am wrong i would really appreciate an example or a point to the instructions how to post and retrieve a text value to a specific field field1 field8 thanks a lot,0.937949299812
lee,hi you can definitely post any kind of text to your channel fields the instructions for updating a channel are here https thingspeak com docs channels update_feed just replace field1 73 with field1 your_text in the example here an example i just made http api thingspeak com channels 4 fields 1 last json lee,0.5
neilh,hi i am wanting to parse the output of one of my channels seems the way to do it is request the json datahttps www thingspeak com channels 6855 feed jsonthen parse it in js however it seems getting a basic getjson error which stops me getting to even the parsing stage when executing the below getjson the chrome console says uncaught syntaxerror unexpected token feed json 1 when using firefox with firebug it says yntaxerror missing before statement feed json 1 it looks like its something strange coming from the server though i am a newbie here any suggestions as to what it is download htm file but a bit messed up script src http ajax googleapis com ajax libs jquery 1 10 2 jquery min js quot document ready function button click function would iv append appendbuttonworking getjson https api thingspeak com channels 6855 feed json results 3 callback function result console log result each result function i field would iv append field get json data button https www thingspeak com channels 6855 feed json output channel created_at 2013 07 24t23 39 42z would escription indoors sensor displaying a calculated concentration of of particles from the number of particles and particle size detected rnsensor is ppd42ns imp001 to push the measurements to thingspeak field1 ratio field2 particlemin_cnt field3 ptclszmin field4 ptclszmax field5 concentration id 6855 last_entry_id 52210 name particle sensor updated_at 2013 11 07t19 34 03z feeds created_at 2013 11 06t19 44 03z entry_id 52073 field1 0 field2 39 field3 12 field4 119 field5 0 62 created_at 2013 11 06t19 54 03z entry_id 52074 field1 0 field2 41 field3 2 field4 95 field5 0 62 created_at 2013 11 06t20 04 02z entry_id 52075 field1 0 field2 39 field3 1 field4 108 field5 0 62,0.160503596067
lee,hi your chart title has some invalid data in it the rn characters try going to https thingspeak com channels 6855 and editing your chart title so that those characters do not appear lee,0.761841118336
joeljogersen,neilh if that happens again in future you can usually extract the data from json csv com it will succesfully process the characters,0.5
StewieT,hi i am graphing power usage if i show a chart with 3 days worth of consumption in the form of https thingspeak com channels 3183 charts 6 days 3 sum 240 type columnand then add up all the column values for the 3rd aug the total comes to 16335if i do another graph in the form https thingspeak com channels 3183 charts 6 days 3 sum daily type columnit now shows the 3rd aug consumption as 17127 this seems to be because the would ay using sum daily starts on my local time of 08 00 i am at utc 8 not my local 00 00 is there a way to get sum daily to start at my local 00 00 instead of the 8 thanks,0.5
lee,hi we recently added a timezone parameter that should help you obtain the desired results here the timezone parameter documentation https thingspeak com docs timezones here the timezone added to your chart which should give you the correct value for august 3rd https thingspeak com channels 3183 charts 6 days 4 sum daily type column timezone asia 2fsingapore sorry i am not sure if you are using the singapore timezone but you can modify that value to whatever you need lee,0.88062942028
StewieT,thanks lee that gives the correct result now i did try the timezone function when i was hunting for a solution but i see now that i was looking at the pop up window on the graph which still showed 08 00 gmt 08 00 rather than the total consumption displayed i thought the 08 00 gmt 08 00 would change to 00 00 gmt 08 00 my bad thanks,0.5
Chris,i am sure i am being thick and i can not find anyone else with this problem so it kind of confirms it i am trying to sum a days water consumption the graph is here http api thingspeak com channels 5933 charts 5 today data should sum to around 70 however when i append sum 720 or daily i get a result of 2 i guess the sum function doesnt do what i expect or i am simply using it incorrectly i get the same results if i do a call to the field data any suggestions,0.061331152916
lee,hi by default the chart only shows 100 points of data here data for a full day http api thingspeak com channels 5933 charts 5 days 1and here the sum for that day http api thingspeak com channels 5933 charts 5 days 1 sum 1440or http api thingspeak com channels 5933 charts 5 days 1 sum dailyhope this helps lee,0.5
Chris,hi lee so i was missing days 1 in the call does that also explain why the median example in the retrieving channel feeds on the api docs did not seem to work either although that still seems to return thank you for taking the time to show me how to use this chris,0.125690490007
lee,hi chris the median example at https thingspeak com docs channels get_feed was not displaying any data because we stopped updating that channel earlier this month and by default we only look for data in the past 24 hours along with the default limit of 100 feeds thanks for alerting us to this example though we have updated the documentation so that those examples return some data by adding are sults parameters lee,0.760575056076
Chris,ok that makes sense thank you can you explain this for me i might have some undocumented behaviour or maybe using the api call in a way you did not intend if you run https thingspeak com channels 5933 fields 5 days 2 sum daily you get 2 days sums returned ok if you run https thingspeak com channels 5933 fields 5 days 3 sum daily you get the correct 3 values and all the other channel fields as null thankschris,0.803952455521
lee,hi chris those extra null fields were minor errors but they are fixed now thanks for notifying us about this lee,0.758416116238
Chris,hi lee i thought i would got the hang of this but i have failed again i am trying to get a sum of the last 60 minutes of the same feed usinghttps thingspeak com channels 5933 fields 5 json sum 60 gives two results neither of which is right created_at 2014 08 01t13 00 00 02 00 field5 11 0 created_at 2014 08 01t14 00 00 02 00 field5 0 0 the best i can manage is https thingspeak com channels 5933 fields 5 json start 2014 08 01 2013 20 00 sum 60 then i get created_at 2014 08 01t13 00 00 02 00 field5 9 0 created_at 2014 08 01t14 00 00 02 00 field5 0 0 the first number is ok but why the second what am i missingthankschris,0.5
lee,hi chris the sum parameter is not for the last 60 minutes but rather for the sum of data in a specific hour long time period so if your results would have included data across two different hours then um 60 will return two data points this query may better illustrate how it works https thingspeak com channels 5933 fields 5 json sum 60 days 1 where the sum is calculated for each hour in the past day lee,0.5
Chris,hi lee thanks for bearing with me i now understand what the sum does adds up the specified number of minutes starting at a particular time but always starting at 0 minutes ie on the hour a time the user has to can specify or it defaults to err something so is it possible to get a sum of the last 60 minutes of data not related to 00 00 i need a rolling on the minute hour of data so starting at o0 then 01 then 02 minutes etc my data frequency isnt always every minute so counting 60 samples wont work thankschris,0.5
lee,hi chris this is not currently possible using the thingspeak api you will have to use another programming language to request the last hour of data using the start time and then sum that up if you would like me to create an example javascript plugin to do that please let me know lee,0.878472864628
DodBasim,hello i would like go gain read access all private channels with one key is this possible what is the account api key is used for thanks in advanced,0.965808272362
lee,hi unfortunately using a single api key to view different channel feeds is not currently possible you can list all of your channels along with their api keys and then programmatically access those feeds using the channel api keys see list my channels at https thingspeak com docs channels index the account api key is also used to get specific private account information for example https thingspeak com docs users list_user_channels and when creating clearing deleting a channel https thingspeak com docs channels create lee,0.5
DodBasim,thanks lee i can work with https api thingspeak com channels json api_key 1234567,0.752311706543
chrisjmears,seems the create channel api is not working it just ignores the parameters and takes me to a list of the current channels,0.195292323828
lee,hi chris please make sure that you create a channel using http post instead of get the urls for both of these actions are restful so they are the same except for the http method lee,0.953387856483
saavedra29,hello i use an arduino with ethernet shield and a temperature humidity sensor to send data in two fields the problem appears when the entries start to increase too much the whole site gets slower almost crashes and the following message appears all the time a script on this page may be busy or it may have stopped responding you can stop the script now or you can continue to see if the script will complete script https ajax googleapis com ajax libs query 1 9 1 jquery min js 5 i am using iceweasel as a browser and if i disable the scripts on this site then i can not see the charts in the private view tab in the chart options if i give a small value at the are sults field then again it works ok but that not what i want i want to see all the resuts in the chart is it possible or it is the api restriction,0.5
lee,hi it seems like your computer is running out of ram or cpu when the browser tries to load too many chart data points there no restriction in the api that causing this problem but you could try using our averaging function on your charts to reduce the number of data points that are being displayed alternatively you can open up the charts in individual browser windows and bookmark them and then remove the charts from your private view page lee,0.162525206804
saavedra29,lee said hi it seems like your computer is running out of ram or cpu when the browser tries to load too many chart data points there no restriction in the api that causing this problem but you could try using our averaging function on your charts to reduce the number of data points that are being displayed alternatively you can open up the charts in individual browser windows and bookmark them and then remove the charts from your private view page leethe average function is great this is the best solution thanks for the help,0.22478055954
milesfromnowhere,i use an arduino to send a string of data via ethernet to a channel at xively com with ten different feeds of indoor and outdoor temperatures is there an example of how to get that data from xively into the same named fields in multiple thingspeak channels since thingspeak can only have eight fields per channel,0.5
lee,hi we currently do not have any way to get data directly from xively you may be able to import the data https thingspeak com docs channels importer or you can have your arduino post data to xively and thingspeak simultaneously here the ardunio to thingspeak tutorial http community thingspeak com tutorials arduino using an arduino ethernet shield to update a thingspeak channel lee,0.5
JPitty,hello i have been testing a wifly thingspeak data logger for a few months and have come across a recurring problem u00a0occasionally and apparently randomly ch 672 the ts data is gone from the charts and the normal feed json call u00a0if i use a are sults arg then i can tell the data is still there can you tell me what is knocking the data into some hidden place is there a way to put it back to normal thanks jp,0.5
lee,the default time range for the charts and feed is one day u00a0if you do not post during that day the chart feed wo not display anything u00a0it looks like your device was off for a few days between entry 17374 on june 13 and 17375 on june 16,0.670501232147
JPitty,thanks for the response lee i think i figured out that my arduino wifly sends bogus data after some days of running even though it appears to be running fine it a remote system so all i have is one blinky light still can not figure out why past data in a feed json call does not show up unless i use are sults i just rebooted it and feed json call is only showing entries as of 19746 and on,0.286327302456
lee,the feed json call returns data for the past 24 hours by default u00a0entry 19745 was on june 17th but entry 19746 was on june 19th u00a0so going back 24 hours 19746 will appear but 19745 will not u00a0 are sults will ignore the default settings and always return your specified number of results regardless of time,0.5
JPitty,thank you that resolves my confusion about how the data is presented and that it not a big deal after all u00a0it also helps me realize i have a hard firmware issue but that really narrows it down cheers jp,0.148303925991
rodri,hi jpitty could you please share the code and the hardware configuration,0.89616560936
lchivot,hello to you all user of thingspeak for several months now i am going deeper in the api to tailor my application it a pv monitoring app where i am checking for production each day and issue warning if prod does not start or is interrupted i am using the average function to get the value on a 10 minutes basis so i can get rid of unwanted alarms due to clouds but for a reason i did not already solve i have some datas insertions reported as null created_at 2014 06 23t10 15 28 02 00 entry_id 531238 field4 810 created_at 2014 06 23t10 16 05 02 00 entry_id 531239 field4 810 created_at 2014 06 23t10 16 38 02 00 entry_id 531240 field4 null created_at 2014 06 23t10 17 10 02 00 entry_id 531241 field4 null ans it seems that these values are taken into account in the average calculation 1 u00b0 could someone confirm if these values are taken into account 2 u00b0 if yes is there any method to tell the system not to do that and only take values weel registered best regards,0.051130592823
lee,hi yes the average function will take all entries in a given time period into account even if the values are null there is not a way to get around that so it would be easier to try to avoid inserting the null values are you able to provide more details as to how you are posting the data to thingspeak can you log your channel update requests so that debugging the null values becomes easier lee,0.199324309826
villTech,does thingspeak have api for this thanks,0.899526357651
lee,hi you should be able to send a tweet to another twitter account by preceding your status update with would or m followed by a screen name https thingspeak com docs thingtweethttps dev twitter com docs api 1 post statuses updatelee,0.86432492733
AFA58,https api thingspeak com channels channel_id feeds lastdoes not seem to work i add the right channel number in channel_id and add a read key like this https api thingspeak com channels xxxx feeds last key xxxxxxxxxxxxxxxxor https api thingspeak com channels xxxx feeds last key xxxxxxxxxxxxxxxxon both occasions i see no json result any clues,0.5
lee,hi the field number needs to be specified in your request so it should look something like this https api thingspeak com channels channel_id fields field_id last key xxxxxxxxxxxxxxxfor further information please see the documentation under get last entry in a field feed here https thingspeak com docs channels get_fieldlee,0.5
AFA58,from https thingspeak com docs channelsget last entry in a channel feedto get the last entry in a channel feed send an http get to https api thingspeak com channels channel_id feeds last replacing channel_id with the id of your channel this is what i am referring to this only displays an empty page however https api thingspeak com channels channel_id feeds last json gives a json file it seems that the information given on the mentioned page is not correct incomplete on other places it is better documented would have saved me a lot of time,0.111583143473
lee,hi you are correct this was not working properly the documentation was right but our backend code was not returning the correct information we have fixed this issue now so that it should work properly for example https api thingspeak com channels 9 feeds lastwe apologize for this problem and thank you for bringing it to our attention lee,0.811906337738
mecslu,hola mi nombre es manuel y estoy intentando configurar mi api para visualizar una semana continua de datos la aplicaci u00f3n parece no responder cuando configuro 7 dias 30 time scale 8000 resultads os agradecer u00eda alguna informaci u00f3n thank you,0.771926343441
tester,i want to update my channel and then tweet it on twitter via tcp socket tsdata field1 str x_2 tsdata twitter tsdata tweet i just posted this from my thing are quest post update http 1 1 are quest host api thingspeak com are quest connection close are quest x thingspeakapikey str key getvalue request content type application x www form urlencoded are quest content length str len tsdata request tsdatachannel is updated normally but i still dont get update on twitter i have set up a twitter account and linked it to thingspeak account what am i missing,0.835700392723
tester,i found the error just for the record as it seems twitter blocks dublicate posts so that was the problem,0.171939879656
tester,hi i am new to the platform i have this question is there any guide on how can i connect and send data via tcp udp sockets thanks in advance,0.837793767452
lee,hi we do not support udp connections but if you use tcp there are a bunch of tutorials at https thingspeak com docs tutorials is this what you are looking for lee,0.758598208427
tester,ok i created the http request using this key_value xxxxxxxxxxx would ata field1 xxxx would ata field2 xxxx are quest post update http 1 1 n request host api thingspeak com n request connection close n request x thingspeakapikey key_value n request content type application x www form urlencoded n request content length len data n my problem now is that after the first request i send which is posted on the channel my next request is not posted on the channel first i create a tcp connection and then i loop the send requests with a 20 second delay,0.738279223442
tester,ok i now tried to close tcp connection after sent the request and then make a new connection inside the 20 sec loop so it worked,0.836734950542
lee,glad to hear you got it working lee,0.949830055237
jingzhao.ou,hi i know that there is a rate limit of one update every 15 seconds i assume update means a write operation then what is the rate limit for read i have a controller to monitor the data from a sensor and act accordingly can i do better than polling the sensor thanks a lot for your help in advance jingzhao,0.5
lee,hi yes there is a rate limit of one feed update per channel every 15 seconds we currently do not impose rate limits on read operations polling the sensor seems like it would be the best method for now lee,0.839745163918
jingzhao.ou,thanks a lot for the quick reply any plan to add socket support in near future that would be very helpful for my case with both monitor and control we are using socket websocket with xively com but would like to use thingspeak due to its openness socket is a gating factor at this moment jingzhao,0.951878666878
lee,hi we may consider adding websocket support in the future but have no immediate plans for it lee,0.5
jingzhao.ou,thanks for the info in the near term i guess the react app may work for me if i plan on hosting thingspeak myself is the source code of the react app available or should i simply implement websocket myself wonder if you could give some advice to me thanks again jingzhao,0.915324568748
lee,hi jingzhao the open source version of thingspeak does not contain the react app so it would probably be best to implement websockets yourself if needed lee,0.91546612978
jingzhao.ou,sounds great lee maybe i can help contribute to this great platform thanks jingzhao,0.991661190987
turgo,i use thingspeak in a similar way for monitoring and controlling a machine there is a delay between when the data was collected then sent to thingspeak and finally downloaded and displayed it can approach 30 seconds at the 15 second update rate for the purpose of real time monitoring it would be nice if it was faster on the other hand i recently downloaded my entire channel for the year and it was 100mb that data resolution was valuable in real time but for historical review is too large and slow to download i suggest a change to the thingspeak system to allow high rate last update reading and writing but average those values into the feed at 15 second periods then add an option to further compress average the feed for historical data for instance the default setting for a new channel could be to average data into 5 minute periods for data older than 1 month this would lower your storage overhead and accelerate historical data queries,0.887814462185
etalon,hello firstly i totally love thingspeak but the more i use it the more i wish there were a couple of changes made to the way charts work feature request allow fixed scaling to be set at the moment i have power consumption data with very wide dynamic range a baseline of about 80 watts at night spiking to 3 4kw when various items turn on especially on longer time bases this causes the graph scale to auto adjust so that it shows 1 or sometimes even 2 kw there is no zero or negative data in the chart i have tried using the min max functions to limit it but this seems to affect what data is accepted rather than graph scaling tldnr can you please add options for fixed graph scaling for min or max on at at least y axis minor bug this seems to be a visual bug with looking at public view when signed in the chart area is too large for its window and the axis legends are superimposed on the top of the axis data value labels rather than on the side this fixes itself when you go to edit chart data it suddently refreshes and works also seems to not be a problem with the public charts in non signed in public view my channel is https thingspeak com channels 11460 i have set public view on my electricity consumption to 1 day to highlight the issue of chart scaling,0.293019652367
lee,hi we just added the ability to set min and max values for the y axis of charts i am not able to see the visual error when viewing charts that you are describing can you please send a screenshot to lee at iobridge dot com lee,0.726736307144
etalon,sending email now turns out my recreation steps are not exactly as i thought it might have something to do with signing in email sent with steps i took to create the bug,0.277189731598
etalon,also awesome job on adding the feature you guys dont hang around,0.947649598122
turgo,you may be interested in the charting web page i created for thingspeak it supports clicking and dragging on the chart to constrain the vertical axis to the selected range http community thingspeak com forum announcements thingspeak live chart multi channel second axis historical data csv export,0.5
vespapierre,hi it seems all the channels are down maybe is there some temporary problem thanks,0.228370785713
Dezorian,same problem here already asked through twitter no response,0.157752126455
lee,hi sorry about that it seems one of our servers ran out of memory and crashed it back up and working now lee,0.074817687273
vespapierre,hi lee seems now it is working fine i have realised the response time is much better thanks,0.968605518341
peewag,hi u00a0i tried to download the whole data set from one channel as csv file u00a0i used this url http api thingspeak com channels channel_id feed csvbut i get only the last 2666 entries i know 8000 entries are the maximum 2666 3 fields 8000 u00a0then i triedhttp api thingspeak com channels channel_id feed csv days 5but that does not work u00a0i also tried to download the whole data set in small pieces http api thingspeak com channels channel_id feed csv start 2011 11 20 00 00 00 end 2011 11 21 00 00 00but that also does not work u00a0can someone give me a hint how to use the are trieving channel feeds method u00a0best regards u00a0peter,0.5
Hans,there is no would ownload all option just yet we are thinking of adding a button the web app that allows you to do that the best way to get the data is to use time slices on the api time format is as follows 2011 07 09 00 00 00 20 is an encoded space u2013 that year month date hours minutes seconds u2013 all 2 digits long example u00a0http api thingspeak com channels 627 charts 2 timescale 10 width 600 height 400 start 2011 07 08 2000 00 00 end 2011 07 09 2000 00 00,0.5
jbowen,i am struggling with this same problem i can not figure out how to download data from my feed u00a0i have tried several combinations but here the most recent which looks ok u00a0 u00a0http api thingspeak com channels mychannelid field myfieldid csv start 2012 07 01 00 00 00 end 2012 07 09 00 00 00 u00a0it seems that no matter what i do i get a 1 returned u00a0this includes clicking on the feed links in the would eveloper info tab in my channel page they all return 1 u00a0thanks in advance for any advice,0.5
jbowen,as usual the problem is with me u00a0and as usual within minutes of asking for help i found my error u00a0in my case i needed to add a key to the url to make it work my feed is not public u00a0here a url that works for me at least u00a0 u00a0http api thingspeak com channels mychannelid field myfieldid csv start 2012 07 01 00 00 00 end 2012 07 09 00 00 00 key myreadkey,0.68878018856
almarion,hi great work you are doing has there been any update as far as downloading csv for the entire stored data i noticed at least for me that the url format has changed start seems replaced changed to start_date for example thanks,0.835940361023
turgo,hi almarion i build a web page tool that makes repeated api downloads graphs them and can export the whole data set as csv http community thingspeak com forum announcements thingspeak live chart multi channel second axis historical data csv export,0.5
lee,hi we just released a new feature that allows you to download all of your channel data to do so open your channel in a web browser click on the would ata import export tab and you should see a button to download your data in csv format lee,0.5
chrisjmears,hi i have a channel 164266 entries the clear channel function does not work,0.180997461081
lee,hi i fixed one of our services on the backend responsible for clearing channels can you try again if it still does not work please let me know the channel id and i will take a look at it lee,0.859401226044
chrisjmears,thanks lee now clearing beautifully,0.99332511425
chrisjmears,afraid the clearing channel problem is back again,0.0211920142174
chrisjmears,now working again seems a bit flakey,0.0737617909908
lee,hi this should be working again now sorry about any problems lee,0.0949103236198
almarion,hi lee i have a similar problem running the latest thingspeak from github after even i think 100 entries i can not clear channel or delete channel is there any temporary workaround for this i am not so familiar with all the components but i can surely reset a database given the linux ubuntu shell command s thanks redis cannotconnecterror in channelscontroller clearerror connecting to redis on 127 0 0 1 6379 econnrefused extracted source around line 339 337338339340341342 else self update_attribute clearing true resque enqueue clearchanneljob self id end endrails root home alan thingspeakapplication trace framework trace full traceapp models channel rb 339 in delete_feeds app controllers channels_controller rb 208 in clear are questparameters authenticity_token weyg2etd6sxnepn0jegpzxnpnntugehfhzz30mtbyk0 id 1,0.788460612297
lee,hi in the open source version for now you can increase the feeds limit in this line https github com iobridge thingspeak blob master app models channel rb l329 from 1000 to something much higher i will add in a more permanent solution for the open source version in the future since the errors are caused by resque redis requirements that do not exist lee,0.5
almarion,hi lee thanks for your very impressive thingspeak making that minor change to the ruby channel script works fine keep up the great work alan,0.991674184799
lee,you can pull the latest version of thingspeak from github where this issue has a more permanent fix now,0.089768320322
vespapierre,hi if i try to clear a channel page cannot be found message appears right after pressing the clear channel button thanks,0.910592317581
lee,hi this has been fixed now thanks for notifying us of the problem lee,0.856863975525
vespapierre,thanks lee,0.992441415787
gerald,hi i have two channels running with three different arduinos posting data that have been running for a few months great since last week none of them will stay connected for more than a day to the thinkspeak server after a few updates i get the failed to connect to thingspeak failed if i reboot the arduino i am back up and running for a few more hours until they disconnect again i am thinking it is not on my side since all six are doing this and have been working for months flawlessly with nothing changed on my side any help would be apreciated thanks,0.688791692257
lee,hi we do not intentionally stop any devices from connecting to us can you provide more details about the errors that occur when your device gets disconnected lee,0.199148327112
gerald,hi lee thanks for looking into this basically i start out fine and my unit connects to the server it prints back the usual every 5 minutesconnecting to thingspeak http 1 1 200 okserver nginx 1 5 7date tue 04 mar 2014 19 53 39 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200 okx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800etag c51ce410c124a10e0db5e4b97fc2af39 cache control max age 0 private must revalidatex request id 35be6690 39e9 402c 901c b9adf8a7c6382130 disconnectedthen after awhile i get the connecting to thingspeak failed x i can still ping the ip of my device so it seems to have a live internet connection and able to communicate with the outside world but not connecting to the thingspeak server as i said all have been working for months i am now in the process of trying to eliminate the chance of a bad arduino causing conflict for the others but removing each one at a time let see just strange after all this time the six units not connecting permanently anymore,0.5
turgo,check to see if there is enough free memory inside the update thingspeak function my large data acquisition project has been plagued with memory limitations even on a mega,0.279789328575
jasonvanwyk,yes i have the same problem ive tried with xively and device hub same issues,0.120398849249
gerald,i have found my problem nothing to do with thingspeak for some reason my network is dropping my connection i added a watchdog that detect client disconnect and my arduino reset after 3 checks anyways i also install thingspeak on a linux server and almost have it working i will create a new post for that thanks for the suggestions,0.833485066891
turboencabulator,hi is there an api to create a channel for a given user the outcome i am shooting for is the arduino able to create a channel then start uploading data to it as it currently stands i need to create the channel via the web interface and then config the arduino one answer i can think of would be to have the api key positioned at the user level instead of channel then any update to an unknown channel with correct api key could create that channel or have a separate api to create food for thought thanks,0.785976409912
lee,hi we currently do not have this feature but we are planning on adding an api to allow channels to be created edited deleted etc in the next few weeks we will probably be adding user api keys to just as you suggested lee,0.789565145969
turboencabulator,awesome thanks can you let me know when you are ready happy to test if you need someone,0.991524577141
lee,hi we just added the ability to create channels via the api using user level api keys as you suggested here the relevant documentation https thingspeak com docs channels create lee,0.943680286407
hank4stmb,on the github version where should i look to edit the dynamic update rate it currently set to 15sec i would like to speed it up a little on my server thanks,0.919037222862
lee,hi you can change the rate limit here https github com iobridge thingspeak blob master config initializers constants rb l9 you can also turn the rate limit off by modifying line 6 lee,0.5
hank4stmb,lee thanks for getting back to me i guess what i am after relates to when i embed a chart on a web page when i set dynamic true in iframe it still only updates the chart about every 15 seconds despite line 6 in constants rb set to false is there anyway to speed that up i can successfully post to my feeds at 1sec i would just like to see it plotted in real time at that rate thanks,0.917118191719
hank4stmb,i think i found what i am after in show html erb thanks for your time,0.905088663101
soundjudgement,hello all this was somewhat discussed in this post http community thingspeak com forum thingspeak api can i update multiple channels with one post but the fix for them wo not work for me i am needing to post to 5 channels with one arduino i am monitoring 20 dht sensors with an arduino mega since the arduino ethernet only allows for 4 clients i can not put the 5 channels on their own client if anybody wants to see my code i will be more than happy to display it but i am using the thingspeak example as a base i just added the writeapikey variable to the function call so that i could pass both to the update function thanks for looking tim,0.5
vespapierre,hi i am just trying to find also an answer for this i need to update 4 channels one after another i think it can be made only step by step hope somebody will help till that i am also trying to find the solution,0.900384366512
turgo,hi folks i update 8 channels every 15 seconds with the code shown below i found that calling the updatethingspeak function repeatedly did not work i needed some delay between calls and attention to client stop considerations thingspeak will not receive date more often than every 15 seconds here my some of my code disconnect from thingspeakif client connected lastconnected serial println f u2026disconnected serial println client stop if client connected 1 long millis u2013 lastconnectiontime 60000 serial println f u2026disconnected after 60 seconds serial println client stop update thingspeakserial print f millis serial print millis serial print f last connection serial print lastconnectiontime serial print f time serial print long millis u2013 lastconnectiontime serial print f client connected serial println client connected if long millis u2013 lastconnectiontime updatethingspeakinterval deleted client connected generate custom flow channel string slab flow meterdouble freqsum 0 int freqcount 0 while freqmeasure available average several reading togetherfreqsum freqsum freqmeasure read freqcount freqcount 1 double frequency f_cpu freqsum freqcount serial print frequency serial println frequency double slabgpm frequency 53 3 8 4 5 for 1 1 4 sea flow meterserial print lab gpm serial println slabgpm string slabgpmstr dtostrf slabgpm 7 2 buffer slabgpmstr trim string channelflowstr string field1 slabgpmstr runner rpmdouble freq2sum 0 int freq2count 0 while freqmeasure2 available average several reading togetherfreq2sum freq2sum freqmeasure2 read freq2count freq2count 1 double runnerrpm f_cpu freq2sum freq2count 60 serial print runner rpm serial println runnerrpm string runnerrpmstr dtostrf runnerrpm 7 2 buffer runnerrpmstr trim channelflowstr channelflowstr string field8 runnerrpmstr serial println flow channelflowstr updatethingspeak channelflowstr channelflowapikey delay 250 print thingspeak update response to serial monitorwhile client available char c client read serial print c generate heat flux channel stringdouble slabflux slabgpm 8 33 60 allsensors 14 averagetemp allsensors 15 averagetemp slab cooling in slab cooling out slabflux round slabflux 100 100 round to hundredsserial print lab flux serial println slabflux string slabfluxstr dtostrf slabflux 7 0 buffer slabfluxstr trim string channelfluxstr string field1 slabfluxstr serial println heat flux channelfluxstr updatethingspeak channelfluxstr channelfluxapikey delay 500 print thingspeak update response to serial monitorwhile client available char c client read serial print c client stop stop after last connection is made custom update thingspeakvoid updatethingspeak string tsdata string writeapikey client stop added this because updating a second channel failedif client connect thingspeakaddress 80 client print post update http 1 1n client print host api thingspeak comn client print connection closen client print x thingspeakapikey writeapikey n client print content type application x www form urlencodedn client print content length client print tsdata length client print nn client print tsdata if client connected serial println f connecting to thingspeak u2026 serial println failedcounter 0 else failedcounter serial print f connection to thingspeak failed serial print string failedcounter dec serial println else failedcounter serial print f connection to thingspeak failed serial print string failedcounter dec serial println lastconnectiontime millis,0.5
vespapierre,turgo thanks for sharing this,0.98562502861
Stonker,hi i am struggling to connect to thingspeak using a gsm connection my problem is that i am posting null values to my thingspeak channel temperature sensor i have tested the code for a string value that works fine just the value for the reading is not going up to thingspeak here is the loop and senddata section of the sketch any pointers would be greatly appreciated thank you void loop read the analog sensor int sreading analogread a0 postinginterval senddata field1 sensorreading store the state of the connection for next time through the loop lastconnected client connected this method makes a http connection to the server void senddata string thisdata if there a successful connection if client connect server 80 serial println connecting client print post update http 1 1n client print host api thingspeak comn client print connection closen client print x thingspeakapikey client print apikey client print n client print content type application x www form urlencodedn client print content length client print thisdata length client print nn client print temp sensor client print thisdata else if you could not make a connection serial println connection failed serial println serial println would isconnecting client stop note the time that the connection was made or attempted lastconnectiontime millis,0.834992408752
CeC,hi i am posting from a python script using urllib and the code below to update two channels every 15 seconds for the past month or two it been working fine and returning response status 200 it still working fine in that it is updating my channels but starting yesterday it began returning response status 406 and response reason not acceptable anyone know why suddenly thingspeak is returning 406 thanks cecparams urllib urlencode field1 v1 field2 v2 field3 v3 field4 v4 field5 v5 key mykey headers content type application x www form urlencoded accept text plain conn httplib httpconnection api thingspeak com 80 conn request post update params headers response conn getresponse if response status 200 print thingspeak response status response reasondata response read conn close,0.5
lee,hi this should be fixed now can you let us know if it working correctly for you again we added json and xml responses but did not handle text responses correctly in a recent update lee,0.927533745766
sekjal,i am creating a generic web form with jquery mobile that will allow users to manually post values to a thingspeak channel provided they know the url of the installation and the channel write key i have got a working prototype but i am having a little trouble making the posting ajaxy since the chances are strong that the thingspeak install will be in a different domain than the web form ajax will not load the response to the update post which is just the id of the newly created data entry if the response to an update were optionally wrapped in a callback if one is provided then the returned id number could be seen as an integer and processed via ajax does this kind of addition make sense to folks or would it get in the way of the primary intended clients things,0.238413155079
tamberg,1 for jsonp,0.881252646446
Hans,whoops looks like we missed an old forum topic but jsonp was and is support since day 1 of thingspeak every api command can include a callback parameter what ever value gets sent will be wrapped around the response here an example http api thingspeak com channels 3 feed last json callback testfunctionresponse testfunction created_at 2014 02 21t18 15 42z entry_id 162936 field1 60 6 f i hope that helps,0.5
chrisjmears,i have an arduino yun using the execute parameter on posting i have set my test code to try to send things to thingspeak every 5 seconds assuming 1 in 3 requests will hit within seconds of firing up the yun i have a lot of entries appearing in the thingspeak channelhttps thingspeak com channels 5384 publicviewthingspeak appears to be either ignoring the rate limit when you call the execute parameter in the url or perhaps there is some internal bug which is duplicating the results as i cant see anything in my code which would try and post more than once every 5 seconds,0.5
lee,hi are you logging the talkback commands to a channel if so the normal rate limits are bypassed so that you have an accurate log of executed commands lee,0.903640985489
chrisjmears,hi leebasically all i have done is add talkback_key whatever_my talkback_key_is to the query string to grab the latest command so my initial get posted the thingspeak was http api thingspeak com update field1 xx field2 xx field3 xx statuscode and my post to update thingspeak and grab the latest instruction all in one readshttp api thingspeak com update field1 xx field2 xx field3 xx statuscode talkback_key whatever_my talkback_key_iswith the second string i seem to get loads of talkback entries rapidly stacking up about one every second or so have a look at this channel feed and note the timings between entries http api thingspeak com channels 5384 feed csvpreviously i was happily relying on the 15 second api limit because the chart api seems to only retrieve a maximum of 8000 records with a 15 second interval between posts this meant that 3 days worth of data only came to 5760 records as its now posting every second i can only get a few hours of records max another weird thing but i will need to check my code i am sure my code only tries to post every 5 seconds so 2 out of 3 attempts are meant to bounce off the rate limit i could have made a mistake with my loop which i need to check out but i am totally bamboozled why i am getting per second posts if its not my code is something internal happening with the talkback code which is duplicating entried,0.5
turboencabulator,hi is there a way to use the api to list public channels centered around a long lat location something like http api thingspeak com channels public lon 123 lat 123 radius 50thanks aaron,0.5
lee,hi aaron we currently do not provide this functionality but may implement it in the future lee,0.748226523399
turboencabulator,thanks i will add a feature request,0.966344356537
fred,hello is there a waiting time to observe between two different channels for post for performance reasons for example ie client post http 127 0 0 1 3000 update key xxxxxxxxx field1 10 try thread sleep 1500 catch interruptedexception e e printstacktrace client post http 127 0 0 1 3000 update key xxxxxxxxx field2 20 many thanks,0.5
lee,hi yes there is a rate limit of one update per channel every 15 seconds lee,0.833905220032
fred,hello i have just installed the thingspeak iobridge from github https github com iobridge thingspeak the are sults option does not appear in menu and does not work with http post ie http 127 0 0 1 3000 channels 1 charts 1 results 30 dynamic truethe database log take into account the http post but seems to not compute the are sult option started get channels 1 charts 1 results 10 dynamic true for 127 0 0 1 at 2014 02 18 11 36 11 0100processing by chartscontroller show as html parameters are sults 10 would ynamic true channel_id 1 id 1 user load 0 2ms select users from users where users id 1 limit 1 rendered charts show html erb 0 3ms completed 200 ok in 6ms views 0 8ms activerecord 0 2ms many thanks,0.5
lee,hi fred i just tested this out on my end and everything works as expected select created_at entry_id field1 from feeds where feeds channel_id 1 and feeds created_at between 2010 01 01 05 00 00 and 2014 02 18 17 27 52 order by created_at desc limit 30can you try the following update your repository git pull origin master restart your server control c rails server try opening the charts page againlee,0.5
fred,thank you it works fine now fred,0.850235760212
turgo,when i do http api thingspeak com channels 9 feed json start 2011 11 11 2010 10 10 end 2012 11 11 2011 11 11 average 1440to obtain a years worth of daily average values only two points are returned this is utterly worthless apparently the 8000 point limit on results is for the raw data that the average function looks at two days is about 12 000 points and not the number of results it returns this needs to be changes so that the average function is worth using and so that users are not forced to download the entire data set in order to make a thumbnail snapshot of the historical data currently a big advantage of thingspeak over xlively cosm pachtube is that the user has access to the entire data history instead of just 30 days however we need effective api tools to access this data,0.703493595123
turgo,i thought i would bump this request for better functionality since io bridge appears to be monitoring the forums this month if you upgrade thingspeak to provide 8000 points of averaged data i will post a javascript highstock webpage that allows a user to dynamically chart any time period for multiple fields it like a yahoo stock chart it will also export that data as csv,0.312599539757
lee,hi yes you are correct that the 8000 point limit applies to the raw underlying data if we allowed an average of every 1440 data points for a full year at maximum we would have to first retrieve more than 2 million records from the database and then average every 1440 points we are not currently able to provide this functionality since it would severely affect the performance of other users data unfortunately we have to place limits somewhere one alternative that you could do is to retrieve the averaged data from our server or calculate it yourself and then log this data back to thingspeak in another channel after every 1440 data points have been sent another alternative would be to install the open source version of thingspeak https github com iobridge thingspeak to your own server since the rate limits would t apply lee,0.5
turgo,hi lee thanks for the quick reply please take a look at the kind of cool chart that averaging would allow http www highcharts com stock demo lazy loadingnotice how you can dynamically zoom in to a time period of interest it all done with averages i think that a chart like this is the missing link to make the gigabytes of historical data you store truly useful currently there are no effective tools to access all that data there is not enough time in the day to download a even year worth of historical data 8000 points at a time i have tried it after a months worth of data and half an hour downloading the server stops working providing access to averaged data would allow a user to focus on the part of the historical record that they were interested in and download only that part your server may have to access averages of a several million point history but would not need to download the entire record additionally the daily averages could be cashed server side for this function please give historical averages some consideration,0.854170560837
lee,hi we have made some improvements to how daily calculations are made the first time these calculations are made we store them in the database it will take some time to crunch the data but subsequent requests will load up the precalculated data your example of http api thingspeak com channels 9 feed json start 2011 11 11 2010 10 10 end 2012 11 11 2011 11 11 average 1440 should now work lee,0.5
turgo,awesome i will see about changing the multichannel graphing web page to take advantage of this http community thingspeak com forum announcements thingspeak live chart multi channel second axis historical data csv export looking at the output created_at 2011 11 28t00 00 00z field1 360 6664926931106 field2 48 91625186347463 i see lots of extra decimal places both storage and download could be hastened with some rounding,0.5
lee,you are right the download can have rounding applied which will make the response shorter in length http api thingspeak com channels 9 feed json start 2011 11 11 2010 10 10 end 2012 11 11 2011 11 11 average 1440 round 2 for storage rounding the values would not help since we are using a fixed database column size lee,0.5
turgo,i have started upgrading the multichannel historical data graphing tool and see that you have only changed the 1440 parameter to look at more than 8000 records to be useful the other average periods need full access as well however i see that storing each set of values may become cumbersome it would be particularly helpful to add 1 2 and 5 minute averages data recorded in 15 second intervals is great for live charts but when viewing historical data slightly longer averages are more efficient would it be possible to add 1 2 5 and 10 minute averages with full access since these shorter averages would not require looking at most of the data set the server performance may not be adversely affected thus you would not have to store the averaged data the change could be easy,0.847751021385
lee,the 1 2 and 5 minute averages wo not be changed anytime soon since we have to choose to make cutoffs limit 8000 somewhere that wo not adversely affect server performance we are trying to maintain a proper balancing act between results length which causes more table rows to be scanned versus storing calculated data which causes more database storage to be used so that we can keep this service free and as efficient as possible lee,0.730681419373
turgo,do you plan to store averages for any periods shorter than 1440 minutes another way to look at this problem would be to store averages for 10 minute periods and then calculate averages for periods greater than 10 minutes on the fly derived from the 10 minute data i wonder if server performance could be dramatically improved by adopting a float data type instead of fixed width characters,0.762745857239
lee,we may implement 10 minute calculations in the future but do not have any immediate plans for it some of our users store character and utf8 data in the fields changing it to floats would only affect the size of the database but not the number of table rows that need to be scanned lee,0.5
turgo,hi lee adding 10 minute stored averages would be great with 10 minute averages 8000 points would give a pretty detailed look at 55 days worth of 15 second data that would make a historical data viewer fast and useful currently it requires about 40 separate requests to see 55 days and takes half an hour to load making it impractical to see historical data,0.909244298935
turgo,i have been working with the daily average and found that the first time i call for it the server gives a 504 time out after a minute this repeats five cycles and then finally returns the daily average that a huge delay,0.5
lee,hi we do not store the daily average data for every channel once an initial request is made for daily calculated data then we store that information for the channel so the initial request may take a while as all of the calculations have to be performed once this is finished however the calculated data for those dates will never have to be recalculated and there should be no performance problems lee,0.313665449619
awardblvr,is there any way to create a running text log with messages from my arduino to appear in another window with my temperature chart what is this called i just need a lead on what to call this so i can go look at how to do it thanks a,0.784860134125
turgo,i believe you can send text to a channel field in fact if your not careful you will send numbers with white space to thingspeak and it will treat them as text in arduino use mystr trim to fix the white space problem,0.80025947094
rw950431,thingspeak has a status field for each channel that would seem a good fit for storing your status messages to display you may have to use something like a google viz annotation chart 1 or dygraphs annotations 2 i have posted some code using google viz at https gist github com rw950431 8815072 which you may be able to adapt 1 https developers google com chart interactive docs gallery annotationchart 2 http dygraphs com gallery g annotations,0.5
Malden,hi all starting from today charts generated with the thinkspeak api are not displayed anymore in an iframe of a web page this seems to happen also on the thinkspeak documentation page itself the chart is not displayed http community thingspeak com documentation api chartsthe browsers shows this error in the dev console load denied by x frame optionsfrom what i understand this should be caused by the thingspeak http server configuration in particular the x frame options settings https developer mozilla org en us docs http x frame optionsany of the devs here tinkered with these lately how can we users work around this issue thanks malden,0.156593322754
lee,hi malden this should be fixed now it was a default security option in rails 4 we just upgraded to it that had to be overridden lee,0.875890731812
Malden,great this forum has become really reponsive lately thanks,0.939340233803
commsec,i had the same issue in the past days on my websites now it is solved thanks to thingspeak valter,0.22007805109
Malden,hello i have been observing this issue for quite some time now my dynamic charts on a custom web page are updated automatically only when i am logged into my thingspeak account the data i am displaying with the chart are from a private channel but i am supplying the read api key in the http request https www thingspeak com channels 1111 charts 1 key 12345678 width 800 height 260 days 1 dynamic true am i doing anything wrong or is this an issue with the api thanks,0.787040829659
Malden,can someone confirm this problem or am i the only one seeing this issue it should be easily reproducible with data from any private channel,0.0421402752399
lee,hi you may have a slight syntax error in your url try using https www thingspeak com channels 1111 charts 1 key 12345678 width 800 height 260 days 1 dynamic true using the proper key i changed dynamic true to dynamic true,0.963096737862
Malden,hi lee thanks for your reply my implementation is correct i just pasted the code incorrectly i just retried as long as i am not logged into my thingspeak account the chart does not update on the web page i created as soon as i log in the charts starts to update automatically without reloading refreshing the page where the chart is displayed can not you reproduce this issue,0.871656775475
lee,hi malden yes i was able to reproduce this issue and it should be fixed now there were some missing parameters including the api key when the dynamic javascript callback was being executed sorry about that lee,0.108455359936
Malden,hi lee thanks a lot for fixing this issue it is indeed working now good work,0.943293809891
nr,is there an easy way to retrieve the very first entry in a channel feed i would want to use it together with the last entry to calculate the current operational lifetime of my device defined simply as the time span between these two entries nr,0.251711785793
lee,hi yes there is an undocumented feature that allows this in the format channels channel_id feeds entry entry_id for example this is the first entry in channel 9 http api thingspeak com channels 9 feeds entry 1 and this is the 99th entry http api thingspeak com channels 9 feeds entry 99 lee,0.5
nr,perfect thanks a lot nr,0.983372569084
turgo,is there a way to return a range of entries,0.736344695091
lee,hi there is no way to return a range of entries based on entry ids the closest you can get is to get entries between start and end dates lee,0.5
Andrew,i have written a java client for the thingspeak api you can find it here https github com angryelectron thingspeak java,0.718767046928
turgo,how do i use this tool with a mac,0.867497086525
Andrew,the thingspeak java client is a library which can be used by java developers to add thingspeak support to java applications it is not a standalone application that does anything on its own the readme at https github com angryelectron thingspeak java has all the instructions you need to build the library and the javadocs which describe how to use the various classes if you need further help building the library or using it in your own java application or if i have completely misunderstood your question please let me know,0.741720438004
Hans,andrew thanks for the awesome java client for thingspeak and for contributing back to the thingspeak community i just released the news of your project on our blog http community thingspeak com 2014 01 thingspeak java client for internet of things applications also drop us a line at support thingspeak com and we will send you a starbuck giftcard for some java of your own thanks again hans,0.5
turgo,looking at the example in hans blog i understand a bit more could this client be reconstituted into a java script library for use on web pages i think that would be useful,0.878587007523
vespapierre,hi i have created an html page and it was working fine since months it was about displaying the charts back to 7 days now it is not working browser says script error https thingspeak com channels 3426 charts 4 height 300 width 800 timescale 10 days 7 bgcolor white color green yaxis temperature 20celsius xaxis time title outsideno any change made in browser or on thingspeak side what is the maximum day week month number to draw back thanks,0.5
lee,hi we recently updated our charting library and it seems that charts with more than 1000 data points were affected by the problem you found we have since fixed it so everything should be working again now lee,0.199476927519
vespapierre,hi lee thanks for the quick help it is working now can you tell me what is the maximum day week month number what cen be defined back thanks,0.968953311443
meltsys,for example i would retrieve a sum for the past month is there a way to do it,0.736245214939
lee,hi unfortunately our backend does not provide the ability to sum more than 1440 minutes however you can use javascript or another programming language to calculate this sum yourself by getting the sums for the past 30 days and adding them together lee,0.742330253124
meltsys,hi lee thanks for your reply do you think if i install thingspeak on a local server it would ne possible have a nice one,0.98578608036
lee,hi yes if you install thingspeak onto a local server this would definitely be possible here the line you would have to modify https github com iobridge thingspeak blob master app controllers feed_controller rb l201 lee,0.5
meltsys,thanks again leethats a good news,0.98824596405
meltsys,hi lee i modified the line you suggested with the new value 43830 but some month have 30 others 31 days so not the same number of minutes do you have another idea to retrieve a sum for a month another question the max result 8000 is only on thingspeak com if not where i can modify it many thanks againalex,0.5
lee,hi i do not know of an easy way to retrieve the exact sum for a month there is no 8000 data point limit on the open source version of thingspeak lee,0.872833132744
nr,hello is there a way to clear a channel i e remove all data that has been posted to that channel such functionality would be quite useful during setup and testing where stray data would otherwise pollute a channel swapping to a new channel is not always feasible and also has an additional setup overhead unless channel cloning was possible this is not exactly an api question but does not seems to fit in any of the other thingspeak fora so perhaps we lack a forum here regards nr,0.20413210988
lee,we just added this functionality for you u00a0you can find it by going to your channel and clicking on edit channel,0.810791730881
nr,thanks a lot for the new feature regards nr,0.94948476553
ibtek,i apologize if i missed it in the documentation but is there a way to selectively delete data for a field using a date time range u00a0thanks marc,0.110388338566
lee,this is not currently possible sorry,0.000278294086456
meltsys,1 for this feature is there a way today to delete data from a field without clear all channel alex,0.5
turboencabulator,hi i can not figure out what i am doing wrong if i put any average or median entry into the properties on a chart the chart returns nothing when i use the api and put median or average or any aggregation i get null in the data for example http api thingspeak com channels 9675 feed json returns data buthttp api thingspeak com channels 9675 feed json average 10 returns nullcan someone please point me in the right direction thanks,0.235957086086
lee,hi you have the url correct http api thingspeak com channels 9675 feed json average 10 however the data in your channel is a bit off you have an extra space after each field entry for example 16 please input your data without the trailing space like 16 so that our system can recognize the data as a number rather than a string lee,0.5
turboencabulator,thanks fixed,0.992933988571
Andrew,according to the api documentation status updates and last entry in channel feed can be requested via post or get but while get works as expected post returns 404 below are some tcp streams showing a working get request and a failing post request where channel 9325 is a public channel i can provide my java test cases if required has anyone else encountered this issue or is everyone just using get i am in the process of setting up a rails vm to attempt to debug but i am a total stranger to ruby so i do not know how far i will get get channels 9235 status json http 1 1user agent unirest java 1 1accept encoding gziphost api thingspeak comconnection keep alivehttp 1 1 200 okserver nginx 1 5 7date tue 31 dec 2013 19 04 41 gmtcontent type application json charset utf 8transfer encoding chunkedconnection keep alivevary accept encodingstatus 200cache control max age 0 private must revalidatex rack cache misscontent encoding gzippost channels 9235 status json http 1 1connection closeuser agent unirest java 1 1accept encoding gzipcontent length 0host api thingspeak comhttp 1 1 404 not foundserver nginx 1 5 7date tue 31 dec 2013 19 04 41 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 404x rack cache invalidate passcontent encoding gzip,0.164093196392
lee,hi andrew thanks for your feedback regarding this issue the documentation was incorrect and has been updated only get requests should be used for these actions since no data is being changed on the server lee,0.751856327057
meltsys,hello does the export button appear for you https www thingspeak com channels 8229 charts 2 export truedoes not work for meotherwise is possible to get back an image url from a get request thanks,0.5
Hans,working on a fix for this issue thanks for letting us know,0.904403805733
lee,hi we just fixed this the export buttons should appear properly now lee,0.886990606785
meltsys,it works thanksis there a way to obtain a png url from a get request thanks again,0.829824030399
lee,i do not think it possible to obtain the png url via http get since there a lot of data that has to be sent to the backend server for the chart to be rendered the button posts the data to a server and the posted data is dependent on the current chart state,0.5
meltsys,thanks do your replies would it be easier with a post command i m really interesting to this feature to display chart on a display without browser javascript etc if there is a way i can try to helpmany thanks again and congrats for your work,0.97249352932
lee,since the charts are rendered by the browser using javascript i do not think it would be possible to do what you are asking the javascript actually creates the chart using svg and exporting the chart involves posting the svg data from the browser using javascript to a backend server to convert it into an image for more information please see http www highcharts com docs export module export module overview lee,0.5
CorBee,lee said hi we just fixed this the export buttons should appear properly now leehi i have the feeling that this functionality is again gone i remember seeing in the upperright corner of the graphs the export buttons currently and i am logged in i dont see any cheerscor,0.5
lee,by default the export buttons are hidden the charts will only show the export button if you add export true as a querystring parameter https www thingspeak com channels 8229 charts 2 export true lee,0.918727636337
meltsys,i have just imported som data to a channel i am not able to retrieve them from the read api method are imported data readable with the api thanksalex,0.168321043253
lee,yes imported data should be readable via the api try specifying the number of results you want to obtain by adding results 100 to your api request lee,0.5
meltsys,yes that works thanksi have not wait enough for the server finish the upload,0.806738615036
turgo,updating several thingspeak channels with the arduino eats up lots of time can i update multiple channels with one post,0.866047263145
lee,hi unfortunately the ability to update multiple channels with a single http post is not supported lee,0.0609622895718
grant77oksana,i am trying to update only two channels and using two posts will work just fine for me but i can not get it to work how do you use multiple posts i am just putting one post after the other which i guess is wrong thank you,0.143916934729
lee,if they are two different channels then sending one post after another should work if they are on the same channel you have to wait at least 15 seconds between each post lee,0.5
grant77oksana,thank you but i must be doing something wrong because it is not working here is my code if you do not mind taking a look the first post posts but the second does not if i comment out the first then the second one posts without making any other changes i have tried putting a delay between the two although you state that should not be necessary thank you very much for the help if client connect server 80 client print post update http 1 1n client print host api thingspeak comn client print connection closen client print x thingspeakapikey writeapikey n client print content type application x www form urlencodedn client print content length client print data length client print nn client print data client println client print post update http 1 1n client print host api thingspeak comn client print connection closen client print x thingspeakapikey writeapikey2 n client print content type application x www form urlencodedn client print content length client print data2 length client print nn client print data2 client println,0.72528553009
lee,hi i am not familiar with this programming language but you may have to add the second post in its own connection block by using client1 and client2 and using client1 connect server 80 and client2 connect server 80 separately lee,0.5
grant77oksana,if you are not very familiar with the code then that makes two of us but your familiarity with coding in general seems to have solved my problem it worked great thank you very much for the help grant,0.845169663429
greg,i have noticed i have been betting more and more of these when i try and do an api update on retry it goes through is the server having any performance issues the page is temporarily unavailablethe page you are looking for is temporarily unavailable please try again later,0.126467943192
lee,hi we have just made some major performance updates on our site so hopefully this is not an issue anymore lee,0.792392373085
moxi,according to http community thingspeak com documentation api view_datatxt is an optional format for retrieving the last entry in channel feed however i am only able to successfully complete the request with either json xml or csv but not txt why thanks moxi,0.731422424316
lee,hi that was an error in our documentation that has been fixed now since there may be multiple fields for a last response we can not return a single value so the txt format only works when the field number is specified like this http api thingspeak com channels 9 field 1 last txt lee,0.213074266911
wiktor,hello everyone first of all thanks for the thingspeak you are awesome i have a problem with my read api key for my channelhttps www thingspeak com channels 7950i am using a grasshopper plugin for rhino5 0 to read xml but i think the read api i provide it with 5aov3isj2teahlrd seems to be wrong do you have any suggestions why it might not work thanks,0.923071503639
lee,hi try this link and see if it works for you https www thingspeak com channels 7950 feed json results 100 key 5aov3isj2teahlrd lee,0.5
meltsys,is there a syntax to display 2 fields datas on the same chart,0.5
lee,hi we do not currently have support for multiple fields on the same chart if you are able to write javascript you may be able to modify the series yourself we use highcharts so please see http www highcharts com docs chart concepts axes for reference lee,0.70424079895
bishan.preet.singh,hi i just started working on thingspeak api i am facing a problem while downloading csv file the timezone does not match it is behind 5 30 hours here what is i am trying to fetch the file using offset parameters http api thingspeak com channels 8703 feed csv offset 05 30but it is not giving me correct date time please helpregardsbishan preet singh,0.249496787786
lee,hi bishancurrently we only support whole numbers for timezone offsets http api thingspeak com channels 8703 feed csv offset 5lee,0.5
Malden,hi this forum is not nearly as active as many others on the internet but even the few questions that are posted here have not received any answer for months is any of the thingspeak developers actualy reading here i am using thingspeak and think it is a great project but i have to say that community support is nearly not existant why is that malden,0.852898776531
lee,hi i became an employee of thingspeak this week and i will be answering forum questions daily from now on lee,0.5
manishjadhav,i have created a new channel with only one field and have tried to post the field data using both python script from a raspberry pi and a direct post using the firefox addon postor the data was posted as null when i checked the json what am i doing wrong please see my script also below return cpu temperature as a character string usr bin pythonimport osimport httplib urllibimport timedef getcputemperature res os popen vcgencmd measure_temp readline return res replace temp replace cn def poststats cputemp1 getcputemperature print cpu temp cputemp1params urllib urlencode cputmp cputemp1 key xxxxxxxxxxxxx headers content type application x www form urlencoded accept text plain conn httplib httpconnection api thingspeak com 80 conn request post update params headers response conn getresponse print response status response reasondata response read conn close if __name__ __main__ while true poststats time sleep 30,0.70876955986
manishjadhav,hi guys my mistake i hard coded the field names instead of using the generic field1 field2 etc thanks for reading the post though,0.886977791786
Jozefiel,hello i have problem with sending float numbers on my chart int analogpin0 analogread a0 float volt analogpin0 31 3 string val string volt i seen more pages with this problems and without success please help me,0.103222310543
Jozefiel,correct code include void loop char buffer 25 char field int analogpin0 analogread a0 float volt analogpin0 31 3 dtostrf volt 2 2 buffer http dereenigne org arduino arduino float to string string val string buffer,0.5
moxi,ok i figured it out no need to pay attention to the post i am trying to understand how to use the write api to retrieve data points from a private thingspeak channel i have set up a feed for sending data to a channel on one device but now i want a different device an arduino to read each data point but i am kind of confused on how to go about it and have been unable to find any information online would appreciate pointers or examples edit to be more specific which is always a good start when looking for a helpful answer i am seeking information on the use of the react app and the thinghttp app for the arduino i am uploading data to thingspeak with one device and want to download read that data with another device an arduino which will then switch on a relay the uploading data part is straightforward and there are loads of examples available online however the download of data seems to be a bit more cumbersome and less documented i thought it would be possible to use react to trigger a thinghttp request in order to fetch each data point in the channel and i still believe that it is possible but i am slightly bamboozled by the explanation on http community thingspeak com documentation apps thinghttp specifically parse stringthinghttp sends back the full response that is generated by the request if you are looking to extract a piece of data from the response you can add a parse string to the thinghttp request this feature allows you to do the parsing on the thingspeak side instead of wasting code space on the device microcontroller side the format is parent_cell child_cell etc if you also know the full xpath to the data you can specify the xpath as the parse string what does the parent_cell child_cell format refer to how does it translate to normal people speak and how can i use it to trigger a reaction on my arduino thanks moxi,0.754514932632
alexbn,hi all a feature that i found very interesting in competitors like emoncms org is the ability to preprocess data using some simple algorithms to be applied to received data before saving just an example a classic kw h counter your arduino device send number of pulses in a certain time period read from energy equipment each pulse is 1w emoncms is able to convert these pulses in kwh that is calculate how many pulses accumulated in last hour and put this value on your graph another example emoncms can calculate the average of the value received in same day or hour so that your graph rappresent not the value you sent through your ardunino but an elaboration of that value is it possibile with thingspeak do the same the advantage is obvious with the same data sent by your device you can create not just one graph but more rappresentation of the same data without alter your device thanksalessandro,0.5
forything,i have a similar question is there a way to perform some calculations on the raw data sent before displaying for example sending data x i want to display the function y a log b x c or to do any kind of smoothing with the previous data the idea is to reduce the size of the source code for the microcontroller and its load i think this would be another clear advantage of your service thank you,0.246281027794
CorBee,hiyou can allready smooth the data with the average or median function in the graphs cheerscor,0.783678174019
wilkxt,you may use plugins to displauy another graph with preproces data,0.5
greg,i am trying to change the timescale of a graph if i select 1440 a whole day i presume then it displays one dot how do i change the time scale to display a whole day of data can i also change it to week month,0.5
turgo,the highcharts library that generates the chart is very powerful and can do anything you want their highstock library is even better for viewing historical data however you will have to learn some javascript along the way what level of interest commitment do you have http www highcharts com,0.843187749386
greg,thanks i will have a look at the highstock library,0.974261879921
JohnsRobert,you need to visit chart library where you will get the other tools,0.783001303673
airsoftsoldrecn9,hello i am wanting to connect a bit older device to thingspeak for data processing a linksprite diamondback using the wiserver api i am having trouble establishing a connection on occasion and i dont think i have been able to update my channel datastreams is there a way i can view the header information as received on the server side pachube cosm xively has a request log available for debugging connection requests which i think is what i am looking for i can post code if desired connected to api thingspeak comconnection closex thingspeakapikey do1kp5uu84ig4agdtx 212 bytesrx 0 bytes from api thingspeak comconnection closex thingspeakapikey do1kp5uu84ig4agdrx 164 bytes from api thingspeak comconnection closex thingspeakapikey do1kp5uu84ig4agdhttp 1 1 200 okserver nginx 0 8 53date fri 12 jul 2013 06 35 31 gmtcontent type text html charset utf 8connection closevary accept encodingstatusrx 136 bytes from api thingspeak comconnection closex thingspeakapikey do1kp5uu84ig4agd 200etag c9f0f895fb98ab9159f51fd0297e236d cache control max age 0 private must revalidatex rack cache inval transmission cut shorti think my device is having a crashing problem too so i will have to find out what is causing that as well maybe other people use this pos device too and might have answers to that thanks alot guys for taking a look thinkspeak api is less convoluted than xively and you guys embrace legacy devices you support plugins so i can use google guages easily and best of all its open source would definitely like to support in any way i can,0.796949982643
airsoftsoldrecn9,also thought i would try using get but in this manner http api thingspeak com update key do1kp5uu84ig4agd field1 20 0again i think something is possibly incorrect in the header that i am sending so i am wondering if it would be at all possible to see some server side information got connection for api thingspeak comconnected to api thingspeak comtx 106 bytes0 105 of 106rx 0 bytes from api thingspeak comtime 1free mem 779rx 196 bytes from api thingspeak comhttp 1 1 404 not founddate sun 14 jul 2013 04 25 58 gmtcontent type application json charset utf 8connection close title not found errors no route matches get update ended connection with api thingspeak com,0.5
airsoftsoldrecn9,solved that issue i think below is the important stuff uint8 thingspeak_ip 184 106 153 149 char energy_monitor_channel api thingspeak comnx thingspeakapikey do1kp5uu84ig4agd postrequest postdc_v thingspeak_ip 80 energy_monitor_channel feedupdater void feedupdater wiserver print field1 wiserver print 31 wiserver print field2 wiserver print freeram 700 wiserver print field3 wiserver print freeram 655,0.5
Malden,hi all the thingspeak api provides the possibility to embed the chart with historical values of a channel in a web page now i would also like to show the last value of a channel as a number on this page looks like this can be done using javascript doing something like this getjson https www thingspeak com channels channel id field field id last json function data but of course this is just the api request more is needed therefore could someone please post some working javascript code which returns the last value of a given channel i am basically a c programmer and have not learned web based languages yet thanks malden,0.732761144638
turgo,hi malden here part of a script that adds the latest data from several different channels to a chart you can see how the code parses the json data into new points for the chart get latest data every 15 secondssetinterval function for var channelindex 0 channelindex channelkeys length channelindex iterate through each channel function channelindex get the data with a webservice call getjson https www thingspeak com channels channelkeys channelindex channelnumber feed last json callback offset 0 location true key channelkeys channelindex key function data for var fieldindex 0 fieldindex 0 last_date dynamicchart series chartseriesindex data dynamicchart series chartseriesindex data length 1 x var shift false default for shift if a numerical value exists and it is a new date add it if isnan parseint v p 0 last_date dynamicchart series chartseriesindex addpoint p true shift channelindex 15000,0.71363556385
Malden,hi turgo thanks for your reply actually what i want to do is much simpler as far as i understand when calling this code getjson http api thingspeak com channels channel id feed last json callback function data adding code between the brackets i have access to the values of data field1 data field8 i want to show these values as numbers on the web page so i guess i need to assign the values to the value attribute of some element on the page must be really simple but as i have no clue about javascript i do not know how to do this,0.272495985031
turgo,the code i posted somehow changed and the important part showing how to access the values you want disappeared access the field value with data field8 and the time with data created_at here it is again edit all the pasted code did not show up again get latest data every 15 secondssetinterval function for var channelindex 0 channelindex channelkeys length channelindex iterate through each channel function channelindex get the data with a webservice call getjson https www thingspeak com channels channelkeys channelindex channelnumber feed last json callback offset 0 location true key channelkeys channelindex key function data for var fieldindex 0 fieldindex 0 last_date dynamicchart series chartseriesindex data dynamicchart series chartseriesindex data length 1 x var shift false default for shift if a numerical value exists and it is a new date add it if isnan parseint v p 0 last_date dynamicchart series chartseriesindex addpoint p true shift channelindex 15000,0.187141567469
Malden,thanks turgo now i am just missing the last bit how do i actually print the value on the page sorry if this seems a stupid question,0.0378444194794
turgo,access the html element with the specified id and change its content document getelementbyid would emo innerhtml data field8 see link http www w3schools com js js_whereto asp,0.797033667564
Malden,thanks turgo i was struggling with a lot of small details and the fact that the thingspeak service is unstable at the moment does not really help but now i get what i want my first working javascript code great malden,0.0849196016788
vespapierre,hi since 2 3 days sometimes the page is working but i have receiveing the page you are looking for is temporarily unavailable plase try again later even the react are not working in this case do you have some server or network problems,0.0620056986809
chrisjmears,vespapierre said hi since 2 3 days sometimes the page is working but i have receiveing the page you are looking for is temporarily unavailable plase try again later even the react are not working in this case do you have some server or network problems i agree i am getting the same i posted on the thingspeak twitter page but got no response i know they are around because they posted another winner smartthings to thingspeak with python iot contest http bridge io 11p7qojafter that,0.175001889467
Malden,same problem here both the web page and the api are not reachable most of the time strange that there is no official statement this has been going on for three days now there are thousands of channels hosted here which should all have difficulties uploading their data and only three of us have noticed,0.0633399784565
Hans,yes we are having an issue on one of the servers in the chain the issue has been intermittent and comes back to perfect working order for a while then it fails on a backup we have been working on it constantly over the past days,0.041522026062
turgo,thanks for your work hans,0.95935344696
arduinonoob,i am also having the same problem particularly with accessing thingspeak com thanks hans,0.21927511692
vespapierre,thanks a lot hans for the informations and for fixing the problem too,0.849645674229
JDT,good at least it not me then,0.97710287571
Deepak,hi i have gone through the link http community thingspeak com documentation my intention is to install thingspeak on my local ubuntu 12 04 pc and to send test data to private server local ubuntu 12 04 pc and i want to display the test data on chart in order to acheive this i have gone through the link https github com iobridge thingspeak and i am able to install thingspeak on my local ubuntu 12 04 pc i am able to upload data to the channel through the firefox poster add on after uploading i can retrieve the data with no error on json xml csv format but when i click on view chart option it shows a empty chart a blank chart with x and y axis and when i update the chart with new names x axis y axis and title its not getting updated second problem is there is no apps option in menu please guide me on this issue to know how to display the data on chart thanks deepak,0.5
akinsgre,based on the previous discussions about the charts we are going to modify those to allow the would ynamic refreshes even if a grouping parameter is added to the query i have got a couple ideas and wanted to mention them here to get some feedback on what our users think 1 when an average data series refreshes the last data point will float as the average changes every 15 seconds the server will be queried if the average for that timeslice has changed the chart will be updated to reflect the new value otherwise it wo not change when sufficient time has gone by a new data point will be added to reflect the new timeslice and that point will begin to reflect the average 2 create plugin templates so multiple charts can be added for each data point a field could have two charts one with the average and one with individual points this way dynamic data would be displayed every time your hardware sends an update but the average chart would update more slowly to show accumulated data only,0.771498918533
vespapierre,hi sound great number 1 is how the charts worked before we discussed it before in another topic at number 2 private and public view will stayed the same and there will be possibility to create new plugin thanks pierre,0.967396378517
akinsgre,1 is not how it worked before what happened before was that the averages populated the initial chart then individual points came in so the final points on a chart were not averages they were actual datapoints from the device being monitored my proposal is to update the last datapoint with a new average rather than just adding new non averaged points 2 private and public will stay the same you will be able to add additional charts for a view so that there could be public average and a public with no calculations for the same feed,0.5
vespapierre,i think number 2 would be great,0.945304870605
vespapierre,hi guys after your new update the charts are getting smaller when next datapoint arrives what happened there are print the chart and export icons on all charts thats great but displaying is not ok u00a0thanks,0.851891875267
Hans,thanks for letting us know about the dynamic chart issues we have u00a0discovered u00a0a bug in the chart library and will have a fix soon,0.892313957214
CorBee,hi u00a0many of the default graph options suddenly seem to be working less or not at all when i for instance set the days option to 1 nice addition and leave the results part empty i do get the data of the last day if i however want to see the same data using an average median or sum for each hour i only get one datapoint in the graph for a oneday graph this is off course not an issue but when i want to look at a longer dataspan and use for instance the 1440 average this would give me a nice graph that shows daily average electricity usage unfortunately that type of graph seems to be non functional currently u00a0kind regardscorbee,0.134530037642
vespapierre,thanks hans please let us know if you managed to fix the bug at this moment it seems the dynamic functions is not working in private and public u00a0view i can see only the datapoint in every half an hour before this it was working like let say every half an hour and when opening the http page new datapoints came when they have to let say in arduino sketch in every 2 minutes for example and there is no time values on timeline u00a0 u00a0best regards u00a0pierre,0.305568575859
Hans,pierre can you let me know if the issue is still the same we made some changes to when dynamic charts get initiated and this may be the cause let me know if you see something else that you do not expect thanks hans,0.918230354786
vespapierre,hi hans u00a0it seems that chart are not refreshing dynamic function is lost maybe other users should check this too there is too much space on the left side of the chart internet explorer since you made changes thanks u00a0pierre,0.783969461918
vespapierre,update in your homepage main light level is updating dynamically but there is too much space on the left side of the graph on my channel 3426 no dynamic update u00a0and only can see datapoints from every 30 minutes that totally different than before it is the same in public and private view too u00a0,0.5
akinsgre,hi pierre u00a01 u00a0i am not seeing the too much space on the left side problem u00a0so you mean that the inside of the chart area is not populated with data or that the chart does not take up as much space on the homepage u00a0 u00a02 u00a0what selections have you made on chart options,0.228037506342
vespapierre,hi 1 yes i mean the chart does not take up much space as it was before on y axis my chart called temperature celsius and beside the y axis name it has more space 2 setting for the charts type linedynamic trueresults 2000timescale 30with this settings it was fine before and it was dynamic u2026because of dynamic functions for me thingspeak was is the best hope it will be fixed update removed the timescale 30 and datapoint are arriving before this it was working with timescale 30 like in the past datapoint were in every 30 minutes and at the point of opening the page datapoints came in every x minutes what the hardware did u2026 if you set a timescale value the graph lost its dynamic option next point will be on the grahps just after refreshing the browserspace problem at y axis is still alive,0.859927654266
akinsgre,thanks pierre u00a0 u00a0you can blame me for dropping the dynamic when any of the timeslice functions are set ie timescale avg median etc u00a0i thought if a user was looking for accumulated values then the dynamic feature is not useful because of the delay waiting for accumulated values u00a0the way it worked before was slightly broken u00a0a chart would be initially populated with averaged values for example u00a0but as dynamic updates came in they would be raw data points without the average applied u00a0give me some feedback u00a0i would love to make that more useful to you and all our users u00a0secondly regarding the chart space u00a0i am still not seeing that maybe i do not remember the way it was before the update u00a0is there any chance you have some screenshots from before that you could share with me u00a0if not i will try to put up an old version on my dev environment to compare u00a0thanks for your input u00a0it great to hear from active users u00a0greg,0.829981446266
vespapierre,greg i am really happy that there are peoples who take care about the functions so the way it was worked was really great for me i do not know about other users that was nice past values until displaying time and dynamic after displaying time even if it was brokenabout the spaces this is with timescale option no dynamicand this is dynamic u00a0dynamic has more bigger space beside y axis because of spaces qraphs are not look so niceunfortunately i do not have picture how looked like before but i hope you will see the problem before your updates it was heaven,0.853002071381
vespapierre,important update the problem what can be seen on the printscreen appears only if using ie8 with firefox and chrome it is working perfectly i have realised it because of using different pc s and laptops regarding the space beside y axis,0.19064027071
akinsgre,thanks very much pierre u00a0we tend to not use ie much around here so that slipped through the cracks u00a0thanks for the heads up u00a0i am a mac user so i guess i will have to fire up a vm and take a look at that u00a0regarding the updates of dynamic we will see if we can get something back into an upcoming release to deal with that u00a0 u00a0thanks for your time and patience,0.5
vespapierre,thanks for the answer i am waiting to hear about upcoming release you are great guys just go on,0.919518351555
vespapierre,just one more important notice after your last release update browser needs more memory and cpu to draw the graph so on the same machine the same graph is slower to daw,0.163740217686
EnergyViewPV,just new 2 weeks u00a0and had a look and tested the api everything seems to work as documented however how can an application microcontroller update missing data if a crash has happend on the microcontroller but the data is available on the microcontroller side i can upload csv history data myself and that works but looking at the api and parameters there are no parameters datafields for date and time i hope this is possible via the updating a channel u201cget u201d method u00a0i hope the problem is clear,0.232642918825
mik,hi u00a0you can specify a timestamp with a query parameter likecreated_at 2013 01 12t12 14 03z u00a0 this works for me and the opensource api honestly i do not know if i have patched that in or if it works out of the box u00a0is your username a description of your project could you share some details u00a0michael,0.5
EnergyViewPV,michael thanks for the info i will try this weekend and see if it works u00a0why is this parameter not mentioned in the api u00a0username is indeed a description of the project first step is to upload every parameter that my inverter can measure at the moment nothing is logged in any way next step will be to combine the info of an inverter with logging with this one an create the total picture u00a0works more or less adding the created_at 2013 02 05t21 49 00 01 00 adds points at a time but in this example local time is 21 49 and the timezone is amsterdam 1 the points get added at u00a0 22 49 00 which i do not want i am trying to avoid summer winter time problems gaps doubles in time but i am not sure how to do this,0.5
petethespark,when i post a status update using tatus text it posts ok but disappears after about an hour can this be changed or is there another way so that it displays for example about 5 hours ago,0.773009479046
kulgan,hi yesterday i had to clear one of my 7 channels u00a0as my zibase was posting temperatures values i was only receiving 65535 or 0 values in my chart u00a0it sounds like a interger overflow but why i have not change anything my other channels are still working properly u00a0pierre,0.287414669991
Hans,i am not familiar with the zibase we would not insert those values into the channel so it must be hardware related if you want to filter odd values from your charts you can add min 1 and max 65534 this would not display the 0 and the 65535 values,0.246529698372
kulgan,hi u00a0sorry it my fault u00a0it seems my zibase does not understand n u00e9gatives values and it under zero now in paris i was certain to manage this case but u00a0i have to correct my script u2026 u00a0so thingspeak is ok u00a0regards u00a0pierre,0.182354450226
zzyzxx,it seems development on the project has pretty much stalled out and has been dead for a couple of years u00a0why is this u00a0 have the developers lost interest u00a0 is there a better platform that they have moved on to u00a0 or something else u00a0while i read the occasional promise for an api update there has not been any in a long time u00a0 what is up u00a0thanks,0.0902104079723
Hans,the project is only 2 years old publicly so it has not been dead for a couple of years u00a0there is lots of activity for thingspeak in fact it is growing really fast we doubled in size in the past 6 8 months the api hosted at thingspeak com has gone through much development and new features added i have not blogged about each one but i am planning a post that u00a0summarizes u00a0all of the changes people have noticed all of the changes as they discussed quite a bit on other forums we have over 6000 users in the different versions of thingspeak most come from thingspeak com and hosted versions and 1000 come from the github version of thingspeak i think the api updates you are u00a0referring u00a0to are with the github api version we are behind on that as internally we are u00a0focused u00a0first on the hosted version of u00a0thingspeak then rolling out updates to github the next update is large just to play catch up with the two different versions if you are looking for u00a0particular u00a0features it would be helpful if you are vocal about them so we can u00a0prioritize u00a0internal u00a0development you can submit features u00a0suggestions u00a0 enhancements here and on github github you tag an issue as an enhancement for latest news follow the blog http community thingspeak com tweets by thingspeakhttps www facebook com iobridgeset a google alert for thingspeak and you will get flooded with updates from other places around the web thingspeak grows when it developer count and activity grows and the project is going really really well from all aspects except that we have to keep expanding u2013 it is bigger today than any day previous u00a0,0.5
zzyzxx,ok sorry hans i did not mean to offend you u00a0however 2 years in code internet time is an eternity u00a0 and with github showing virtually no changes in 2 years i incorrectly assumed the development had stopped u00a0 now i understand development has not stopped it just not being documented properly on github in the api documentation or in the blog u00a0 i am sure you can understand those conditions make it virtually impossible to understand what all the updates and improvements are hence my confusion over what is going on with thingspeak and iobridge u00a0when do you expect the updates to be listed on github u00a0thanks,0.075088173151
Hans,no offense just realized that it does say updated two years ago on github most of those files do not change often so i can see what you are saying we did update the translator a couple of weeks ago but that is lost in the mix updating the github repo is on the list but i will tell you that we hear way more about the hosted version i do not have a date to share also with the raspberry pi being an embedded computer there is a group of users porting thingspeak so it will run on the raspberry pi i think that will give the github u00a0version u00a0a big kick,0.785324335098
fire,hello u00a0i like to work with your opensource api on my servers but compared to your api running on thingspeak com the opensource api seems a little bit outdated a lot of parts of the code are about a year old last updates seven months i appreciate the free service of thingspeak com offers for people that cant afford or run their own servers but there are a lot of users that feel better with their data on their own servers u00a0do you plan an update of the opensoruce api in near future u00a0kind regards u00a0fire,0.861571669579
Hans,hi fire yes we have plans on updating the github for the open source api in the coming weeks there are 10 updates or so that we have to make and the api part will be current u00a0thanks for checking we are glad that people still want to download the source and run it home servers you should be able to run what is there since most of the changes are to how the charts gets data out and how we filter out data on the outbound side the core mechanics will stay the same hans,0.5
mik,hi hans good to hear that the opensource api will be further updated u00a0could you please explain how to report bugs in the source code or where to suggest improvements u00a0github forum mail u00a0michael,0.943498671055
Hans,hi michael i think github issue tracker is a good place you can tag bugs enhancements etc let us know what you have hans,0.941572248936
easterro,i just wanted to add that i too will be looking forward to updates on the opensource api u00a0keep up the good work,0.889341831207
fire,i wait for opensource api updates eagerly u00a0the average and rounding filters wont work reliably and the output getsslower and slower every day,0.0520651638508
Hans,fire what parts of the average and rounding are not working we do not have any open bugs on that part so i wanted to make sure we have that working properly for your app a common mistake is using a time period that is not supported such as average 7 7 is not a valid time period and will default back to having no averaging this is the line that defines the time u00a0periods u00a010 15 20 30 60 240 720 1440 line 201 of u00a0thingspeak app controllers feed_controller rb we are still working on the updates but the core api calls will not be affected much hans,0.0782324969769
StewieT,hi i collect temperature data from 5 sources the actual collection and display works fine but instead of having a chart display with a window of temperature can it display with a fixed range i would like to see my hot water temp chart from 0 to 100 as the temperature axis but it always seems to fit the data into a window within the range of max min is it possible to have a chart display this way thanks,0.5
tparvais,i am also waiting for this basic feature u00a0thomas,0.814331352711
greennomad,hi using the code below i get this error message u00a0connecting arduino to network arduino connected to network using dhcpmy ip address 192 168 64 105 posting connection to thingspeak failed 1 posting connection to thingspeak failed 2 posting connection to thingspeak failed 3 u00a0 i am on a corporate network and these are my settings for the device u00a0 u00a0titledevice 1459modelarduinopublic ip address192 168 64 105public port number u00a0local ip address u00a0local port u00a0default gateway ip u00a0subnet mask u00a0mac address9a a9 23 42 1e 4d u00a0any advice is greatly appreciated u00a0matt u00a0 u00a0 u00a0 include spi h include ethernet h local network settingsbyte mac 0x9a 0xa9 0x23 0x42 0x1e 0x4d must be unique on local network thingspeak settingschar thingspeakaddress api thingspeak com string writeapikey removed const int updatethingspeakinterval 16 1000 time interval in milliseconds to update thingspeak number of seconds 1000 interval variable setuplong lastconnectiontime 0 boolean lastconnected false int failedcounter 0 initialize arduino ethernet clientethernetclient client void setup start serial for debugging on the serial monitor serial begin 9600 start ethernet on arduino startethernet void loop read value from analog input pin 0 string analogpin0 string analogread a0 dec print update response to serial monitor if client available char c client read serial print c disconnect from thingspeak if client connected lastconnected serial println disconnected serial println client stop update thingspeak if client connected millis lastconnectiontime updatethingspeakinterval updatethingspeak field1 analogpin0 check if arduino ethernet needs to be restarted if failedcounter 3 startethernet lastconnected client connected void updatethingspeak string tsdata if client connect thingspeakaddress 80 serial println posting client print post update http 1 1n client print host api thingspeak comn client print connection closen client print x thingspeakapikey writeapikey n client print content type application x www form urlencodedn client print content length client print tsdata length client print nn client print tsdata lastconnectiontime millis if client connected serial println connecting to thingspeak serial println failedcounter 0 else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println lastconnectiontime millis void startethernet client stop serial println connecting arduino to network serial println delay 1000 connect to network amd obtain an ip address using dhcp if ethernet begin mac 0 serial println would hcp failed reset arduino to try again serial println else serial println arduino connected to network using dhcp serial println serial print my ip address for byte thisbyte 0 thisbyte 4 thisbyte print the value of each byte of the ip address serial print ethernet localip thisbyte dec serial print serial println delay 1000 u00a0 u00a0,0.840057790279
zzyzxx,ok i realize this is probably a really dumb n00b question but how exactly does one change the appearance of the charts for example the default x axis label is would ate u00a0 since it not date but rather time i would like to change it to time i cannot seem to figure this out tia,0.151020377874
Hans,tia all you have to do is sign in view your channel and select the public view on any of the charts that you want to change click on the pencil icon one of the fields is x axis so go ahead and enter what you want to say i did this for one of my channels https thingspeak com channels 3let us know if that helps hans,0.5
zzyzxx,thanks hans u00a0 that works is it possible to change the embedded public chart size u00a0 or use something like thishttp api thingspeak com channels 3164 charts 1 width 900 height 320 max 100 min 0 results 360 days 7 dynamic true yaxis x axis xaxis time title flux 20intensity,0.5
Hans,unfortunately on the channel page we use a fixed window size u00a0,0.0729986131191
amcclung,i am new to this so i am probably doing something stupid but after hours of searching i can not really say what it is i am doing wrong i am trying to update my channel with some data in a little processing java app both get and post are failing on me here is the code i am using for get string data field1 mcurrenttemperature string apikey v8bteqwv9a8frq3u mclient new client this api thingspeak com 80 mclient write get update key apikey amp field1 mcurrenttemperature http 1 0n mclient write host 127 0 0 1nn the response i get is this http 1 1 301 moved permanentlyserver nginx 0 8 53date wed 19 sep 2012 03 21 06 gmtcontent type text htmlcontent length 185connection closelocation https www thingspeak com key v8bteqwv9a8frq3u amp field1 73 292 html head title 301 moved permanently title head body bgcolor white center h1 301 moved permanently h1 center hr center nginx 0 8 53 center body html which seems weird to me perhaps even weirder is when i try to use post string data field1 mcurrenttemperature string apikey v8bteqwv9a8frq3u mclient new client this api thingspeak com 80 mclient write post update http 1 1n mclient write host api thingspeak comn mclient write connection closen mclient write x thingspeakapikey apikey n mclient write content type application x www form urlencodedn mclient write content length mclient write data length mclient write nn mclient write data the response i get back from that is client says http 1 1 411 length requiredserver nginx 0 8 53date wed 19 sep 2012 03 24 59 gmtcontent type text htmlcontent length 181connection close html head title 411 length required title head body bgcolor white center h1 411 length required h1 center hr center nginx 0 8 53 center body html but i have specified content length explicitly am i calculating it wrong i am really hoping someone can shed some light on what is going here because i am totally stumped,0.119398802519
Hans,hmm u2026 everything looks right what microcontroller is sending that request can you try making the get http 1 1,0.5
icnmfabro,hi i have a problem with sending data to thinkspeak sending these data below for testing does not work the acquisition of the latter they are flat and int and can be negative and positive data what am i wrong if i enter negative numbers for example a temperature of 89 no longer works nothing works even if the fields to be acquired are 8 if i bring them to seven it works can you give me help on how to solve the problem code int f_ts1 8 int f_ts2 7 float f_ts3 6 6 float f_ts4 5 5 float f_ts5 4 4 float f_ts6 3 3 int f_ts7 2 int f_ts8 1 thingspeak setfield 8 f_ts8 thingspeak setfield 7 f_ts7 thingspeak setfield 6 f_ts6 thingspeak setfield 5 f_ts5 thingspeak setfield 4 f_ts4 thingspeak setfield 3 f_ts3 thingspeak setfield 2 f_ts2 thingspeak setfield 1 f_ts1 thingspeak writefields mychannelnumber mywriteapikey send data to iot server,0.0391011536121
sirloon,hi guys u00a0i am trying to experiment thingspeak in order to plug several things to send data the problem i can see by now is it does not seem to be possible to actually specify the created_at field in get post requests sent to record value i can not expect my things to alway be online and send their data as the events occur u00a0so is there a way to force value timestamp while sending data u00a0thanksseb,0.251362502575
Hans,we are checking on this,0.798317551613
lee,try to specify your date format like in this example http api thingspeak com update key xxxxxxxxx field1 7 created_at 2011 07 18t01 02 03z,0.5
sirloon,ok great it works thanks i remember having tried this but got no value recorded well i must have mistaken something thanks anyway u00a0cheers seb,0.918346166611
rodri,hi lee what does t and z mean created_at 2011 07 18t01 02 03zbest rodri,0.5
Hans,hi the t just separates the date from the time z is the utc time zone,0.5
massa,how to send 2 or more values for the same field and each value with timestamp,0.5
rw950431,as far as i know its not possible to assign different timestamps to fields in the same update the created_at value is assumed to apply to all values you send in a single update u00a0you could if you really wanted to set a timestamp value as another field thingspeak fields dont have to be only numbers but you would have to devise your own processing and graphing routines,0.170340329409
mnaveed1,hello i know this thing works http api thingspeak com update key xxxxxxxxx field1 7 created_at 2011 07 18t01 02 03z when we paste it into a browser however i was wondering if there is a way to make this thing work in esp8266 thing dev to write data to thingspeak let me explain my situation i am actually trying to figure out a way to collect temperature and humidity every hour and go back to deep sleep after 5 hours wake up from deep sleep and post all the data to thingspeak can anyone help me how to accomplish it or point out me to the correct direction does anyone have sample code thank you,0.278742015362
cstapels,mnaveed1 or someone following this thread for help see https community thingspeak com forum thingspeak api unable to post multiple values to thingspeak for some suggestions,0.819892704487
mnaveed1,hello i know this thing works http api thingspeak com update key xxxxxxxxx field1 7 created_at 2011 07 18t01 02 03z when we paste it into a browser however i was wondering if there is a way to make this thing work in esp8266 thing dev to write data to thingspeak let me explain my situation i am actually trying to figure out a way to collect temperature and humidity every hour and go back to deep sleep after 5 hours wake up from deep sleep and post all the data to thingspeak can anyone help me how to accomplish it or point out me to the correct direction does anyone have sample code thank you,0.278742015362
cstapels,see here https community thingspeak com forum thingspeak api unable to post multiple values to thingspeak,0.253570854664
lotzen,hi guys is there any sample c code that is able to read thingspeak fields content here there is a short python code import urllib2 jsonread_api_key your api chanell channel_id 506125def main conn urllib2 urlopen http api thingspeak com channels s feeds last json api_key s channel_id read_api_key response conn read print http status code s conn getcode data json loads response print data field1 data created_at print data field2 data created_at print data field3 data created_at print data field4 data created_at print data field5 data created_at print data field6 data created_at print data field7 data created_at print data field8 data created_at conn close if __name__ __main__ main,0.764503955841
rw950431,this stackoverflow post may give you a starting point https stackoverflow com questions 22077802 simple c example of doing an http post and consuming the responsedepending on platform there may be pre written libraries to make the task easier expect to write at least 10x as many lines of code in c to accomplish the same thing as you would for python or other high level languages,0.5
lotzen,thanks for reply rw950431 i will take a look,0.985204637051
canny85,hey i have only monitored the readings of wireless sensor by interfacing with raspberry pi but i wanted to learn about monitoring these reading through smartphones as my guide suggested me to try thingspeak api for display the readings of sensor by using smart phonesbut as newbie to this area and for basic start i am trying to connect the thingspeak api with raspberry pi but not able to get it connected facing credential errors i will be needing you suggestions to make this process happen will be very helpful,0.764694750309
cstapels,i agree with your guide thingspeak is really great and useful for your application you should start with the basic thingspeak workflow tutorial on the get started page its a really quick fairly simple demo that runs you through the basics of thingspeak https www mathworks com help thingspeak getting started with thingspeak htmlthen have a look a the examples there is a section on rpi https www mathworks com help thingspeak examples htmllet us know how that goes there are feedback links at the bottom of each page and then feel free to share your specific questions here on the forum,0.969051003456
ilias,hello i use mqtt and i want to get the value of one field as json i want to know the time when the field was updatedwhen i subscribe with in this waystring subscribetopic1 channels 114xxx subscribe json i get a time stamp for all fieldswhen i subscribe with in this waystring subscribetopic1 channels 114938 subscribe fields field1 json i get the value of the field only and not the date when it was updatedwhat is the correct syntax to get the value of one field as json,0.5
cstapels,the field subscriptions do not return json formatted responses https www mathworks com help thingspeak subscribetoachannelfieldfeed htmlyou do not have to use the rest of the data that is returned when you subscribe to the feed alternatively you can write the data from the field you are interested in to another channel with only one field with a matlab analysis for example and then subscribe to that field,0.810792088509
tms320,i am trying to use bulk write json data api to send some data to my thingspeak channel my channel has four fields temperature pressure humidity co2 my post query looks like this post channels xxxxxx bulk_update json http 1 1host api thingspeak comcontent type application json write_api_key xxxxxxxxxxxxxxxx updates created_at 2018 06 21 22 21 40 0300 temperature 27 51 pressure 746 02576 humidity 42 407 co2 978 but server returns response tatus 400 error error_code error_bad_request message bad request would etails the request cannot be fulfilled due to bad syntax what is wrong,0.5
Vinod,i suspect your fields need to be called field1 field2 field3 field4 not temperature pressure humidity co2 in the json message,0.5
cstapels,you can update multiple fields with a single write instead of a bulk write the syntax is easier https www mathworks com help thingspeak writedata htmlassuming you are using something arduino like this example shows how to do it from a device https www mathworks com help thingspeak moisturemonitor htmland this one shows how to do it with the thingspeak communication library https www mathworks com help thingspeak read and post temperature data htmlthe bulk write will additionally allow you to publish multiple entries at one time such as in a device that is storing values while disconnected and then waking up to connect and post many measurements,0.5
mnaveed1,hello i am using dht22 sensor along with esp8266 thing dev to store temperature in celsius fahrenheit and humidity in internal memory of rtc every hour when i have reached five hours then my data would be sent to thingspeak i am able to store the data in the internal memory of rtc but i am unable to post the data at once to thingspeak can anyone help please this is the section of my code which reads and should send data to thingspeak void connects serial println connecting to serial println ssid wifi begin ssid pass while wifi status wl_connected delay 500 serial print serial println serial println wifi connected if client connect server 80 184 106 153 149 or api thingspeak com string poststr apikey for int i 1 i 6 i system_rtc_mem_read 100 i rtccel1 sizeof rtccel1 system_rtc_mem_read 110 i rtcfah1 sizeof rtcfah1 system_rtc_mem_read 120 i rtchum1 sizeof rtchum1 float cel rtccel1 float fah rtcfah1 float hum rtchum1 poststr field1 poststr string cel poststr field2 poststr string fah poststr field3 poststr string hum poststr client print post update http 1 1 client print host api thingspeak com client print connection close client print x thingspeakapikey apikey client print content type application x www form urlencoded client print content length client print poststr length client print client print poststr serial print temperature serial print rtccel1 serial print c serial print rtcfah1 serial print ft serial print humidity serial print rtchum1 serial println send to thingspeak delay 15000 client stop serial println waiting delay 30000,0.5
cstapels,you are very close do you want to post all 5 hours of data in a single transaction that would require the bulk update https www mathworks com help thingspeak bulkwritejsondata htmlalternatively you could save the data for 5 hours and then write five times every 15 seconds assuming you have a free account and then go back to sleep that would be similar to what you have above with an added loop when you run the code you shared do you see data on your thingspeak channel your post asks how to control the time axis what you need to add to the above is a parameter created_at see the doc https www mathworks com help thingspeak writedata htmlbasically you would need to add created_at to the poststr keep in mind that many devices have a very small limit on the number of characters in the http buffer so you might want to use separate string variables if it gets too long i e poststr1 and poststr2 etc,0.861418366432
Vignesh maker,thingspeak mqtt was working fine but since this morniing i am losing my mqtt connection if i attempt to subscribe to a topic i used both arduino and mqttfx for checking i used codes which were working last evening i cross checked all the credentialsanyone please help,0.173441052437
Vinod,i suspect you have more than 3 concurrent connections to the mqtt server as a free user you are only allowed 3 concurrent connections you may need to purchase a license to get access to more concurrent mqtt subscriptions,0.5
karelt,hi please i have question because there is not clear info if i would like to publish mqtt message with update for all 8 fields in one chanell there i need purchase license i thing there is only one connection with one publish is possible to see mqtt broker log somewhere example i have 4 dht11 ssenzors on wemosd1 esp8266 and this kind of publish please what now publish separately one or two fields at once and between use more than 15 second two fields at once working well but three only sometimes more fields not or i have some mistake and update all fields in one chanell is possible void mqttpublish float t1 dht11_1 readtemperature read temperature from dht sensor float h1 dht11_1 readhumidity read humidity from dht sensor float t2 dht11_2 readtemperature float h2 dht11_2 readhumidity float t3 dht11_3 readtemperature float h3 dht11_3 readhumidity float t4 dht11_4 readtemperature float h4 dht11_4 readhumidity create data string to send to thingspeak string data string field1 string t1 dec field2 string h1 dec field2 string t2 dec field3 string h2 dec field5 string t3 dec field6 string h3 dec field7 string t4 dec field8 string h4 dec int length data length char msgbuffer length data tochararray msgbuffer length 1 serial println msgbuffer create a topic string and publish data to thingspeak channel feed string topicstring channels string channelid publish string writeapikey length topicstring length char topicbuffer length topicstring tochararray topicbuffer length 1 tady odesila mqttclient publish topicbuffer msgbuffer lastconnectiontime millis,0.5
JasonW,a license is not needed to publish to a channel using mqtt however without a license there are limits on how many updates 8200 per day and how often updates once every 15 seconds are sent this page has some more information about the license https thingspeak com prices thingspeak_standardyou should be able to publish all eight fields at once through mqtt i think there is a problem in your code regarding the msgbuffer and topicbuffer variables i think you need to set the size of the char array at compile time not at runtime try setting the size to a high worst case number to see if that makes a difference for example char msgbuffer 200 currently there is no way to see broker logs but that is something we want to add eventually,0.280396938324
karelt,hi jasonw thanks for your information broker log would be grate i tryed your advice but still does not work when i try to send only two fields it is working but more not there is not information about chanell stat last update seems like that message stop somewhere on the way can you please help me with some example of working code thx karel,0.143949866295
cstapels,there are often very small limits on the buffer size for mqtt strings consider looking in the mqtt library for a size limit,0.5
karelt,hi thanks for reply i am not sure but i thing my message is something around 320b and i found that default mqtt_max_packet_size is 128kb so that is so faar bigger than my message where should be problem,0.797682642937
cstapels,are you sure about the kb that would be a very large mqtt packet perhaps try setting it to 400 just in case,0.5
karelt,i amnot sure that is the reason why i am asking ud83d ude41,0.790557861328
cstapels,the total ram on on a wemos d1 is 96 kb data 64 kb instruction there is more in flash storage but i do not think they would use flash for a data buffer so i am pretty sure that number is bytes set it higher and see what happens i recommend 512 or 1024,0.5
karelt,so now seems that 1024 working 512does not so thank you ud83d ude09 one more thing for ask is possible to send as payload json or in this case we do not have way hot to parse json to each channel or fields on thinspeak side by the way i change that example code for mqttpublish because i do not like that process to char array void mqttpublish float t1 dht11_1 readtemperature read temperature from dht sensor float h1 dht11_1 readhumidity read humidity from dht sensor float t2 dht11_2 readtemperature float h2 dht11_2 readhumidity float t3 dht11_3 readtemperature float h3 dht11_3 readhumidity float t4 dht11_4 readtemperature float h4 dht11_4 readhumidity create data string to send to thingspeak string data field1 string t1 0 field2 string h1 0 field3 string t2 0 field4 string h2 0 field5 string t3 0 field6 string h3 0 field7 string t4 0 field8 string h4 0 serial println data string topicstring channels string channelid publish string writeapikey serial println topicstring mqttclient publish topicstring c_str data c_str lastconnectiontime millis,0.5
cstapels,thanks for the code suggestion i will keep it in mind for the next revision the mqtt broker does not presently parse json although you can send json formatted information through the rest api using the write data endpoint https www mathworks com help thingspeak writedata htmlfor example post https api thingspeak com update json http 1 1content type application x www form urlencoded write_api_key xxx created_at 2018 04 23 21 36 20 0200 field1 john johnson field3 56 field4 555 field5 444 latitude longitude tatus please check in,0.5
chrisjx,when i create channels in an existing account i can query the channel ids and api keys etc i do not see how to pull the mqtt key also is there a way to generate the mqtt key through the api thanks for any tips chris,0.5
Hans,hi chris we currently do not have support for mqtt keys via the user api we will strongly consider adding this support thanks hans,0.970642447472
Happy,i have1 esp82662 arduino unoi have successfully connected my esp8266 module to wifi through at command i have also connected my arduino to api thingspeak com i have successfully upload sensor data into thingspeak channel using at command from serial monitor in arduino but now i want to read the same sensor data from thingspeak using at command is it possible to read those sensor data back from thingspeak to serial monitor of arduino can you please suggest me something,0.897494614124
cstapels,in my opinion it is much easier to program the esp directly with the arduino ide the at commands are much harder to follow there is an example in the doc showing you how to use the esp8266 to read thingspeak data using the thingspeak communication library https www mathworks com help thingspeak read and post temperature data htmlthere are many other examples for both arduino and esp8266 athttps www mathworks com help thingspeak examples htmlif you absolutely need to use the at command set you should be able to just change the write addresses to read addresses and then parse the answer see the read data page for the proper rest call to substitute https www mathworks com help thingspeak readdata htmlthe example below does not use the thingspeak library so it shows how to get the read response and put it to the serial monitor you could use these methods with your at commands if you need to https www mathworks com help thingspeak moisturemonitor html,0.755653262138
Happy,thank you so much and i will try it,0.984829187393
Happy,i have tried this one https www mathworks com help thingspeak read and post temperature data html in this link nodemcu is there but i want arduino but not able to add esp8266wifi h library into code whenever i am searching this library in include library option in arduino ide i am not able to find this library another thing i have only arduino and esp8266 wifi module my arduino doesnot contain any ethernet or wifi shield could you please help me out,0.5
cstapels,did you follow step 3 in the section program your esp8266 add the esp8266 board package under file preferences enter http arduino esp8266 com stable package_esp8266com_index json into additional board manager urls choose tools boards board manager enter esp8266 in the search bar and install the package you need this step to see the library you can do almost anything you wanted to do with the arduino on the esp the esp has built in wifi depending on what model of esp you have you will have digital gpio and if you have eps8266 12 you will also have an analog pin with an adc the esp8266 generally has only 3 3 v though it also has fewer gpio in general can you describe your project,0.5
Happy,this error i am getting when i am uploading the code to arduino i am using the linlk https www mathworks com help thingspeak read and post temperature data html esptool v0 4 13 c 2014 ch klippelsetting board to cksetting baudrate from 115200 to 115200setting port from dev ttyusb0 to dev ttyacm0setting address from 0x00000000 to 0x00000000espcomm_upload_fileespcomm_upload_memopening port dev ttyacm0 at 115200tcgetattrtcsetattrserial openopening bootloaderresetting boardtrying to connectespcomm_send_command sending command headerespcomm_send_command sending command payloadserialport_receive_c0 41 instead of c0trying to connectespcomm_send_command sending command headerespcomm_send_command sending command payloadserialport_receive_c0 41 instead of c0trying to connectespcomm_send_command sending command headerespcomm_send_command sending command payloadserialport_receive_c0 0d instead of c0resetting boardan error occurred while uploading the sketchtrying to connectespcomm_send_command sending command headerespcomm_send_command sending command payloadserialport_receive_c0 41 instead of c0trying to connectespcomm_send_command sending command headerespcomm_send_command sending command payloadserialport_receive_c0 41 instead of c0trying to connectespcomm_send_command sending command headerespcomm_send_command sending command payloadserialport_receive_c0 0d instead of c0resetting boardtrying to connectespcomm_send_command sending command headerespcomm_send_command sending command payloadserialport_receive_c0 41 instead of c0trying to connectespcomm_send_command sending command headerespcomm_send_command sending command payloadserialport_receive_c0 41 instead of c0trying to connectespcomm_send_command sending command headerespcomm_send_command sending command payloadserialport_receive_c0 0d instead of c0warning espcomm_sync failederror espcomm_open failederror espcomm_upload_mem failed,0.5
cstapels,are you using the arduino ide to upload code to an esp8266 01 the esptool sounds familiar is this output coming from the programming window in the arduino ide or from another interface,0.5
Happy,yes it is coming from programming window in the arduino ide what happen anything wrong i have done,0.174177408218
cstapels,were you able to install the add the esp board package as i described above are you using an esp8266 01 the little 6 pin version or some other board such as node mcu make sure you are in bootloader or programming mode if it is a board link a node mce hold the program button down while pressing the reset if it s the 8266 01 make sure the appropriate pin is held low during power on it might be gpio 02 or 00 also double check all your other connections have faith i am sure we will get it shortly,0.5
Happy,i am using esp8266 01 there are 8 pins in esp8266 01 tx pin of esp8266 connected to arduino tx pin rx pin of esp8266 connected to arduino rx pin vcc and ch_en pin of esp8266 is connected to 3 3 v pin of arduino gnd pin of esp8266 is connected to gnd of arduino arduino is connected to laptop through usb port is it right connection that i have done then i am uploading the program through arduino ide,0.94191634655
Happy,i am not using nodemcu,0.2060983181
cstapels,thanks for the correction on the pin count for the 01 i typed too fast on that one to program the esp8266 01 you need to tie gpio 0 pin 5 to ground and then reset the power after you program release the hold to ground on gpio 0 and then reset see the schematic here for example https www allaboutcircuits com projects breadboard and program an esp 01 circuit with the arduino ide,0.5
Happy,so connection is like this 1 tx pin of esp8266 arduino tx pin rx pin of esp8266 arduino rx pin vcc and ch_en pin of esp8266 3 3 v pin of arduino gnd and gpio 0 pin of esp8266 is connected to gnd of arduino arduino board is connected to laptop through usb port is this the correct connection,0.5
Happy,correction vcc and ch_pd pin of esp8266 3 3 v pin of arduino,0.5
cstapels,that should work but then remove the connection from gpio 0 after you program is it working what does the arduino programmer say now,0.284053117037
Happy,thank you so much for information i have ordered for usb to serial converter once it will come i will let you know,0.960599839687
cstapels,do you have an arduino the arduino will do the serial conversion for you you should not need any other hardware sorry if the schematic i referenced confused you,0.216978162527
Happy,yes i have arduino board my steps 1 select sketch include library manage libraries select thingspeak to add it to your sketch 2 under file preferences enter http arduino esp8266 com stable package_esp8266com_index json into additional board manager urls 3 choose tools boards board manager enter esp8266 in the search bar and install the package4 then tools boards generic esp8266 module i am selecting 5 then i am compiling the code in compilation no error is showing pin connection so connection is like this 1 tx pin of esp8266 arduino tx pin 2 rx pin of esp8266 arduino rx pin 3 vcc and ch_en pin of esp8266 3 3 v pin of arduino 4 gnd and gpio 0 pin of esp8266 is connected to gnd of arduino 5 arduino board is connected to laptop through usb port when i am uploading the code this error is showing opening bootloaderresetting boardtrying to connectespcomm_send_command sending command headerespcomm_send_command sending command payloadserialport_receive_c0 41 instead of c0trying to connectespcomm_send_command sending command headerespcomm_send_command sending command payloadserialport_receive_c0 41 instead of c0trying to connectespcomm_send_command sending command headerespcomm_send_command sending command payloadserialport_receive_c0 0d instead of c0resetting boardan error occurred while uploading the sketchtrying to connectespcomm_send_command sending command headerespcomm_send_command sending command payloadserialport_receive_c0 41 instead of c0trying to connectespcomm_send_command sending command headerespcomm_send_command sending command payloadserialport_receive_c0 41 instead of c0trying to connectespcomm_send_command sending command headerespcomm_send_command sending command payloadserialport_receive_c0 0d instead of c0resetting boardtrying to connectespcomm_send_command sending command headerespcomm_send_command sending command payloadserialport_receive_c0 41 instead of c0trying to connectespcomm_send_command sending command headerespcomm_send_command sending command payloadserialport_receive_c0 41 instead of c0trying to connectespcomm_send_command sending command headerespcomm_send_command sending command payloadserialport_receive_c0 0d instead of c0warning espcomm_sync failederror espcomm_open failederror espcomm_upload_mem failed,0.5
cstapels,the process you describe looks good i remember the esp8266 01 being a bit flaky though i am definitely able to program it consistently now my set up uses a 2 2k pull up resistor for ch en at times i would also use a pull up on the reset but that does not always seem necessary some people even put a pull up on gpio 2 just to make the state well defined the need for these could depend on the quality of the computer power supply most often my problem was a improperly connected wire so be sure to check your connections and re check them make sure your version of the arduino software is updated and make sure you have the connection to ground on gpio 0 already established before you power on i remember being at wits end often and then suddenly getting it to program so keep plugging and let us know,0.241803139448
Happy,thank you so much i will try and let you know,0.976048946381
SenneHoekman,i have 5 individual channels on thingspeak and have set them all on days 1 in the url like the url below for example charts 1 width auto bgcolor 23ffffff color 233e92cb days 1 dynamic true min 0 results 60 round 0 title care cube type column xaxis tijdstip yaxismin 0 sum 10however when you view this on my website link below http sennehoekman be masterproef conflictvaardigheden htmlyou see nothing at first and then after a while it shows the data for 6th of june which is 4 days ago how can i solve this i just want my graphs to show today which does not seem to work with setting it on would ays 1,0.5
Hans,can you try taking out the results 60 i think that is overriding the days parameter,0.5
SenneHoekman,hans said jquery document ready function jquery sp uninstall link click function var answer jquery spuninstalldialog dialog width 600 find checkbox off change on change function e if this checked jquery sp url val wp admin admin ajax php action spquotepost spf uninstall 038 _wpnonce d7c1a732c1 post 6244 forumid 2 remove storage else jquery sp url val wp admin admin ajax php action spquotepost spf uninstall 038 _wpnonce d7c1a732c1 post 6244 forumid 2 can you try taking out the results 60 i think that is overriding the days parameter u00a0 u00a0it removed now and i still have the same issue i just do not get how it goes back 3 days when i clearly put it on days 1 http sennehoekman be masterproef conflictvaardigheden htmli really need this fixed ud83d ude41,0.5
cstapels,it may be harder to build the string but you can consider using the start and end query parameters you would have to customize it each day if there is no data in your channel for the present day the days 1 parameter may provide confusing results seehttps www mathworks com help thingspeak createchart htmlstartstart date in format yyyy mm dd hh nn ss endend date in format yyyy mm dd hh nn ss your request might look something like charts 1 width auto bgcolor 23ffffff color 233e92cb dynamic true min 0 round 0 title care cube type column xaxis tijdstip yaxismin 0 sum 10 start 2018 06 09 8 56 00 end 2018 06 10 8 56 00,0.5
vagelism,hello to all i am loged to my account and when i click to change something in my public view of the channel the window dont save my values and i have to close it because it does not respont any ideas what is wrong with it the private works fine thank you,0.135010898113
Hans,i jsut tested my public channels and i was able to update their view my only u00a0initial u00a0idea is that you should log out and log in and see if it clears up also what browser are you using,0.759077310562
vagelism,i use chrome i did several logins and logouts nothing i tried also with firefox the same i use linux system in the start was ok now is like that not working i even restarted the system nothing,0.290919959545
akinsgre,vagelism u00a0you said that when you try to update the public view the window does not save the values and you have to close it u00a0so do you mean chrome stops responding or the javascript on the thingspeak page appears to stop working if chrome is still responding can you right click on the page choose inspect element and see if there are any messages in console,0.5
vagelism,well yes it stops to respont i made a new page and it responds nicely very strange any way thank you all for you advices,0.861516296864
BigDun,has anyone else experienced data not posting when using http post lately i have an arduino posting updates once a minute to three fields in channel id 2675 but only one in 20 actually appears on the graph u00a0thanks don,0.776099979877
Hans,are you posting the data all at the same time meaning field1 90 field2 34 etc all of the other channels are updating regularly you can check my channel which is sending every 15 seconds to two fields https thingspeak com channels 9please let me know if you find anything out hans,0.5
BigDun,yes i am posting field1 58 23 field2 62 34 field3 100 u00a0or something very similar to that every time u00a0here is my channel https www thingspeak com channels 2675,0.5
BigDun,is there anyway i can look at the raw data thingspeak is receiving from my post attempts,0.759238243103
Hans,if you are using our sketch we print the thingspeak api response on the serial debug monitor on the arduino ide as far as storing the responses we do capture the response but we have not built a way to present the data as a debug we will note it,0.5
BigDun,i do use the serial out to verify the html output here is a sample of my serial out u00a0that only produced one data point on the graph when it should have produced four u00a0arduino connected to network using dhcpbd smoker control has been setupdome 72 95probe 72 05heating element onfield1 72 95 field2 72 05 field3 100information posted to thingspeak dome 72 05probe 72 05heating element onfield1 72 05 field2 72 05 field3 100information posted to thingspeak dome 70 25probe 73 40heating element onfield1 70 25 field2 73 40 field3 100information posted to thingspeak dome 70 70probe 72 95heating element onfield1 70 70 field2 72 95 field3 100,0.5
BigDun,is it possible that my passing a number with two digits after the decimal is affecting thingspeak ability to process the post,0.5
BigDun,not to complain but it would help if your sample pde arduino code compiled with the v1 0 ide the format of the client ethernetclient call has changed a bit since you posted your sample code,0.243435770273
Hans,we moved arduino 1 sketches to github https github com iobridge thingspeak arduino examples blob master ethernet arduino_to_thingspeak ino,0.5
emdeex,hi all u00a0i have got a csv of 24 hours of timestamped data at 15min intervals like u00a02012 06 05 00 15 93 442012 06 05 00 30 67 522012 06 05 00 45 89 672012 06 05 01 00 92 322012 06 05 01 15 73 75 u00a0i have just tried to upload it via the upload function but get an error u00a0the page you were looking for does not exist you may have mistyped the address or the page may have moved u00a0the next thing i would like to try is to upload that csv using the api via a bash curl script u00a0using the api how would i write the curl command to upload a csv file of historial data,0.5
Hans,the fix for the csv uploader is coming in our next release we broke the feature when we renamed some routes it coming soon the new code is up on beta site and works great we do not have the ability to upload csv data via the api but you can try posting data to the api one data point at a time and u00a0specifying u00a0the time stamp in the update request here an example http api thingspeak com update key xxxstg7j8w0dyxxx field1 93 44 created_at 2012 06 05 2000 15 00the time format is u00a0yyyy mm dd 20hh nn ss note the 20 and you also need a seconds field just send 00 i recommend clearing your channel and posting one value at a time starting with your earliest you will need the right format of the time date let us know how it works out,0.5
emdeex,thanks hans u00a0so i understand that thingspeak can not upload history files but i must upload each individual datapoint u00a0 i guess i can do that its a lot of uploads though u00a0i understand that thingspeak is an open source download to run on my own server in that version would the csv upload function work u00a0regards murray,0.5
Hans,our next update will fix the csv upload on thingspeak com u00a0and it does work on the open source version i hoping that we can update soon there are also a dozen new features coming with the next update,0.884545564651
JChristensen,my gadget posts two fields to channel 881 once per minute u00a0 querying the channel data returns the following u00a0 note that data for 03 27 30 and 03 28 30 are missing u00a0 further down is the log from my gadget which includes the server responses u00a0 is there something in the response that indicates an issue that the data was not received or posted u00a0 i do not understand why those two posts are missing u00a0 channel data created_at entry_id field1 field22012 05 28 03 22 30 utc 1 1 02012 05 28 03 23 30 utc 2 2 02012 05 28 03 24 30 utc 3 3 02012 05 28 03 25 30 utc 4 4 02012 05 28 03 26 30 utc 5 5 02012 05 28 03 29 30 utc 6 8 02012 05 28 03 30 30 utc 7 9 02012 05 28 03 31 30 utc 8 10 0 u00a0 log 1304 send1772 connected1805 post 1 02118 server resphttp 1 1 200 okserver nginx 0 8 53date mon 28 may 2012 03 22 30 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200etag c4ca4238a0b923820dcc509a6f75849b cache control max age 0 private must revalidate1102249 disconnect2251 connected 061304 send61366 connected61400 post 2 061708 server resphttp 1 1 200 okserver nginx 0 8 53date mon 28 may 2012 03 23 30 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200etag c81e728d9d4c2f636f067f89cc14862c cache control max age 0 private must revalidate12061839 disconnect61840 connected 0121304 send121367 connected121401 post 3 0121709 server resphttp 1 1 200 okserver nginx 0 8 53date mon 28 may 2012 03 24 30 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200etag eccbc87e4b5ce2fe28308fd9f2a7baf3 cache control max age 0 private must revalidate130121841 disconnect121843 connected 0181304 send181367 connected181401 post 4 0181722 server resphttp 1 1 200 okserver nginx 0 8 53date mon 28 may 2012 03 25 30 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200etag a87ff679a2f3e71d9181a67b7542122c cache control max age 0 private must revalidate140181854 disconnect181856 connected 0241304 send241367 connected241400 post 5 0241713 server resphttp 1 1 200 okserver nginx 0 8 53date mon 28 may 2012 03 26 30 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200etag e4da3b7fbbce2345d7772b0674a318d5 cache control max age 0 private must revalidate150241846 disconnect241848 connected 0301304 send301368 connected301402 post 6 0301705 server resphttp 1 1 200 okserver nginx 0 8 53date mon 28 may 2012 03 27 30 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200etag cfcd208495d565ef66e7dff9f98764da cache control max age 0 private must revalidate100301837 disconnect301839 connected 0361304 send361366 connected361400 post 7 0361704 server resphttp 1 1 200 okserver nginx 0 8 53date mon 28 may 2012 03 28 30 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200etag cfcd208495d565ef66e7dff9f98764da cache control max age 0 private must revalidate100362099 disconnect362101 connected 0421304 send421367 connected421401 post 8 0421712 server resphttp 1 1 200 okserver nginx 0 8 53date mon 28 may 2012 03 29 30 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200etag 1679091c5a880faf6fb5e6087eb1b2dc cache control max age 0 private must revalidate160421844 disconnect421847 connected 0481304 send481368 connected481401 post 9 0481713 server resphttp 1 1 200 okserver nginx 0 8 53date mon 28 may 2012 03 30 30 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200etag 8f14e45fceea167a5a36dedd4bea2543 cache control max age 0 private must revalidate170481847 disconnect481849 connected 0541304 send541369 connected541402 post 10 0541716 server resphttp 1 1 200 okserver nginx 0 8 53date mon 28 may 2012 03 31 30 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200etag c9f0f895fb98ab9159f51fd0297e236d cache control max age 0 private must revalidate180542112 disconnect542114 connected 0,0.5
JChristensen,was hoping to hear from thingspeak staff on this this is an arduino based project and i can share the code however i do not feel that it is due to malformed posts as the code is pretty straightforward,0.909138441086
benni_75,hello if the problem continues you should use a network analysis tools such as wireshark your isp or a component of your network may be causing this problem,0.789881110191
Hans,it is almost like the api rate limiter stopped those two data points if you look at this response 301839 connected 0361304 send361366 connected361400 post 7 0361704 server resphttp 1 1 200 okserver nginx 0 8 53date mon 28 may 2012 03 28 30 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200etag cfcd208495d565ef66e7dff9f98764da cache control max age 0 private must revalidate100362099 disconnect u00a0look at this section of the response status 200 100 a status of 200 is from the thingspeak api this means we got the request then the 3 numbers 1 0 0 1 number of characters in response0 the entry_id of the data0 end of transmissionan entry_id of 0 means that the data was not inserted typically it means that the channel has u00a0exceeded u00a0it rate limit but from what i can see you are not hitting the limits do you see how the good responses say 160entry_id of 6 so i do not think it is the network something is triggering our rate limits,0.5
JChristensen,my gadget here has not been able to post data for several hours and i cannot access channel data on the web site just wondering if anyone else is seeing an issue,0.0978104174137
Hans,yes we had an issue with a server it has been resolved thanks for reporting it,0.82755023241
ricardo_ati,it seems that my old data was lost attempts to retrieve data requested with tart and end give an error and requests without these parameters only reach yesterday 2012 05 17t08 07 53 z anyone have the same problem problems with the server,0.0197052359581
JChristensen,things were working again yesterday but i have not tried to retrieve any old data today the charts are not rendering,0.140557795763
ricardo_ati,ok we will put a little patience,0.852010130882
Hans,we had a access log fill the hard drive of a caching server it has been restarted please check to see if the data time u00a0slicing u00a0works again thanks,0.5
JChristensen,charts are back now,0.744711399078
ricardo_ati,my data are also back thanks,0.889225721359
Jaka,hi u00a0i have tested sending float numbers in exponent format i have noticed the thingy works fine for numbers that do not have whole whole values e g 0 123 where number gets written as 1 230000e 001 but it does not work for numbers like 30 123 where number gets written as 3 012300e 001 becuase thingspeak removes the sign and writes the number as 3 012300e 001 giving it wrong value of 3 0123 in charts can this be changed at your side or will i have to remove the sign while producing data u00a0cheers jaka,0.206756591797
Hans,jaka the symbol is a reserved u00a0character u00a0for urls it translates into a space this char would need to be url encoded so it stays intact from end to end here are all of the reserved chracters dollar ampersand plus comma forward slash virgule colon semi colon equals question mark at symbol here a link for more info http www blooberry com indexdot html topics urlencoding htm u00a0let us know if that helps hans u00a0 u00a0,0.5
Jaka,true it happenes as you mentioned i did manage to remove the sign in code writing the number as e g 3 0123e01 but i still wonder why data is threated that way after all i send data inside http post for example u00a0post update http 1 0 connection closex thingspeakapikey mykeyhost api thingspeak comcontent length 38 1 1 2 1 634731e04 3 5 834754e04,0.815568447113
JChristensen,wondering if anyone else is experiencing this if i try to clear the data from a channel after about a minute i get a page back that says 504 gateway time outnginx 0 8 53after that the entire web site seems to be unavailable to me http www thingspeak com returns the page you are looking for is temporarily unavailable please try again later this can last a couple minutes or many i certainly hope the whole site is not going down but if so then there must be a problem when i can get back in my channel data is not cleared ps this is not an api issue but was not sure where else to post it,0.161166518927
Hans,we are checking on this issue we will let you know shortly thanks for letting us know,0.959356069565
JChristensen,much appreciated i will lay off the clear channel button in the meantime,0.19615727663
Hans,i think we got to the root of the clear channel issue please try it and let us know,0.251158237457
JChristensen,just tried it same results,0.787609994411
Hans,there must be something special about your channel our test channels clear fine it might have something to do with the size of a channel thanks again for letting us know i u00a0think u00a0you are helping us figure out a random issue we have been having we have now u00a0successfully u00a0linked the two events together the wagons are circling will be with you shortly,0.876822590828
JChristensen,glad to help u00a0 fyi i have had the issue with both channels that i have in use 878 and 879 u00a0 878 has not been active for a while u00a0 that was the one i just tried u00a0 here the exact sequence 1 went into edit channel clicked the clear channel button 2 after about a minute received the gateway timeout message as above 3 immediately went back into the channel and when it looked like there was still data from looking at the charts i clicked clear channel again which is when i got the temporarily unavailable message,0.15529897809
JChristensen,if you guys want to use my channel 878 to test with feel free there nothing there i currently need u00a0 i am currently doing some hardware testing and feeding data from that to 879 but that should be done by tomorrow at the latest,0.210836827755
Hans,okay would you like to try again,0.884015977383
JChristensen,tried a couple times with channel 878 still got the timeout message after about a minute i tried it twice and it appears that there is still one field that is not cleared but no temporarily unavailable message,0.118748039007
JChristensen,i tried clearing channel 878 several days ago and i now see a message with a yellow background that i do not remember seeing before this channel is currently being cleared any data you post to this channel before clearing is complete may be deleted several days later the message is still there an idea for you that may or may not help with this issue allowing the user to specify a maximum data retention period for a channel might be a good feature everyone requirements vary but my use so far does not need to keep months and months of history a few weeks would be plenty,0.76559150219
JChristensen,received an email a little earlier saying this issue was fixed u00a0 i was able to clear my channels even ones with considerable data in a few minutes time thanks for sticking with it thingspeak,0.792349815369
hankivstmb,i have been getting this message for more than 24 hours now after clearing my channel 1792 from the web interface the channel has not cleared yet how long does it usually take u00a0thanks,0.0967355072498
bill.french,my channel 1736 has been stuck for a couple weeks now u00a0i hope at this point it does not get cleared,0.0434214174747
Hans,bill we are working on the issue the problem is clearing channels that have lots of data we queue up the clearing jobs and this mechanism fails on large channels we are about to apply the updates what would you like to do have it cleared or not hans,0.223060011864
bill.french,hmmm well i am not sure what the date was where i switched what data i was recording u00a0i would want to clear anything before my current structure u00a0 so i do not know u00a0i guess if i had to pick i would say leave it alone,0.233950376511
KerwinLumpkins,hello u00a0i am using an arduino leonardo board to comm to a roving networks rn 171 module u00a0i have sucessfully joined my wireless network and can do tcp sessions on the network u00a0i tried to use the simple twitter post sketch from tutorial though i had to modify it since i am not using ethernet shield and the communication is by serial rather than spi u00a0no success yet i then tried to just do it manually by typing on my keyboard using the serial connection to the rn 171 i have a program that passes through serial from pc to a separate serial connection going to the rn 171 u00a0again i am able to do tcp connections on my network this way so i know the channel is working u00a0but when i try to open a connection i get a 400 message keystroke capture from serial program is below u00a0my entry is the open command note that roving networks uses space as a command delimiter note that the rn 171 responds connect to etc with a 80 for the port open 184 106 153 149 80connect to 184 106 153 149 80 2 32 open html head title 400 bad request title head body bgcolor white center h1 400 bad request h1 center hr center nginx 0 8 53 center body html clos u00a0so i am not able to open the connection to even try the other stuff any ideas thanks kerwin,0.5
Hans,you need a host field when making a request to an ip address this is to tell the web server the difference between api request or a normal website request you need to add this to the http header of your request host api thingspeak comlet us know if that works,0.5
krhoyt,hey kerwin u00a0chances are the problem is that the roving networks chip sends the open string once it has established a tcp connection u00a0web servers do not know what this string means nor do they expect it u00a0so you get a 400 error u00a0when you are setting up your roving networks chip tell it et comm remote 0 which will tell the chip not to send the open string u00a0i do not know what you are using to configure your chip but it looks like there might be a few other bits that need flipping along the way fwiw how random was it to check out the thingspeak forum today and see your post u00a0i was once in a beginning electronics class you held the basement of your home u00a0hope this response helps,0.828575968742
Eng_michel,hi everybody i am trying to make cheerlights work but i still can not get the trigger on the arduino i am using tweetcontrol and i think something is wrong with my settings u00a0could u please take a look and tell me what i am doing wrong u00a0here it is tweetcontrol settings login anonymous hashtag u00a0 crazyeth u00a0 thinghttp action u00a0thingspeak channel updater thinghttp settings nome thingspeak channel updaterkey url http api thingspeak com updatelogin arduinoethsenha m u00e9todo getcontent type u00a0vers u00e3o do http 1 1servidor u00a0par u00e2metros u00a0corpo key field1 trigger status status texto de busca u00a0criada em 20 03 2012 u00e0s 19 15 u00a0 channel settings id do canal 2013nome canal 2013chave de escrita descri u00e7 u00e3o arduino tags crazyethregistros 1956criada em 14 03 2012 u00e0s 11 19latitude u00a0longitude u00a0altitude u00a0campo 1 u00a0 u00a0 u00a0 u00a0may i have to use react i did also set the channel to 2013 and field to 1 on the arduino sketch why do i think that the problem is on settings because i got the arduino sketch from cheerlights website and it seems to be working perfectly u00a0on the serial response the arduino says cheerlight command received no match just for u 2 know i am using arduino uno r3 ethernet shield wiznet and software arduino 1 0thank you guys,0.190518409014
Hans,i have updated the documentation for tweetcontrol the step by step is the example that i have listed the part that is confusing is the filter keyword part of tweetcontrol our tweetcontrol service listens to the twitter stream and millions of tweets flow by we filter out all of the tweets that contain the filter keywords thingspeakthingspeak tweetcontroltweetcontrol iobridgeiobridge cheeerlightscheerlightsthen we scan the remaining tweets for trigger keywords that user have setup if there is a match we execute the u00a0associated u00a0thinghttp request let us know if that helps out,0.82852602005
Eng_michel,well thanks for so fast answer hans i was already using thingspeak as my hashtag and it is not working is there any problem if i use u00a0 thingspeak as my hashtag trigger alert at tweetcontrol tab i did also tried using another hashtags but nothing i am studying all the docs and trying to discover what is wrong however if sbd find something wrong in my settings please let me know please thank you,0.107992202044
Eng_michel,tell me one thing if i tweet thingspeak u00a0 crazyeth red asdfgwhere crazyeth is my hastag alert red is the command for my arduino to turn on the red light and asdfg is a random string u00a0what goes to field 1 red right u00a0,0.5
Hans,in your thinghttp settings change metodo to post u2013 i think that is your issue,0.242230087519
Hans,you also do not need the login info in the thinghttp settings both login and senha delete both of u00a0those u00a0fields you would use that if you needed to use basic authentication,0.237388491631
Eng_michel,i changed it as u said results i saw that before changing the serial output showed me an error always when i tweeted it used to take some seconds 10s to give me an answer u00a0now it just gives me the error message no match at the same time no delay that already something,0.178650587797
Eng_michel,ok i deleted login and password no changes,0.160155266523
Eng_michel,what should i put on channel 2013 field 1,0.5
Hans,put u00a0field1 red actually type out red since you are using crazyeth as the trigger trigger is being linked to crazyeth in this case you will need to make seperate thinghttp requests for each command that you want to support such as one for blue and green you are getting close,0.5
Eng_michel,really close man but no nice answer yet,0.0579481422901
Eng_michel,on thing http settings what should i write parameter field u2013 name and value just before server text to search u00a0 the last field sorry but mine is in portuguese so i m not sure these are the right names,0.778338313103
Hans,here are the only settings required url http api thingspeak com updatem u00e9todo postcorpo u00a0key field1 red status status,0.304682314396
Eng_michel,yay that working i tried many things one of these days and it worked as i was too tired i gone to sleep the next morning i started modifying the arduino sketch and some settings stopped working tried to reverse nothing again now i see that i unmarked make public tornar p u00fablico on the channel settings u2026that why it was not working u2026 hans we were really close thank you very much man now it is working u2026 not that stable but works just an arduino code problem u2026for those who may want to know wich code i am using cheerlights arduino ethernet sketch just deleted the codes related with ge color effect light since i am not using it but leds and a door lock u00a0now this is the scene i tweet to my arduino to open my door it opens but as the field 1 still filled with the command the arduino continues sending the command to open the door every 5 secs what i tried to do attach both tweetcontrol sketch and thing tweet sketch so when the arduino received the command it should write are set or any other thing different from the trigger at the field 1 so i did and something weird happened one of the methods of thingtweet sketch does not let the arduino read my channel field 1 i have never seen nothing like this i upload the tweetcontrol sketch and it works but i upload the same sketch u00a0 void updatethingspeak string tsdata and it stops working u2026have anyone tried it before do i need to open another topic cause of new problem ty guys ty hans,0.0530086159706
Eng_michel,hi guys please correct me if i am my topic is on the wrong forum i am new at thingspeak and i cannot understand how to use tweetcontrol please which are the steps to use it i have already done something with thingtweet but my real interest is with tweetcontrol to be more specific i can not understand the thinghttp part what should i write on those fields i did what is in the site below but did not work http community thingspeak com documentation apps tweetcontrol i think it because of http part but i am not sure u00a0also what should i include in my arduino sketch i found one example on github but i ignored it because it was out of date does not work on arduino 1 0 so if sbd can please give me a hint any help just for u 2 know i am using arduino uno r3 ethernet shield wiznet i also bought a netduino plus but i did not use it yet u00a0thank you guys,0.198090195656
Hans,here are the u00a0official u00a0arduino sketches for cheerlights they are all arduino 1 0 ready https github com iobridge cheerlightsalso the tweetcontrol documentation is updated u00a0please u00a0check out that,0.90205425024
turnerdanielt,i recently purchased an iobridge and want to link it with thinkspeakhttp and twitter but im unsure on how to do so u00a0 i want to be able to post something on twitter and cause it to activate a digital output pulse on my iobridge u00a0 any idea on how to set them up,0.0982512235641
Hans,sorry for the delay on the thingspeak side link your twitter account to thingspeak using the thingtweet app this will generate an api key on the iobridge side click on actions and click add account the u00a0wizard u00a0is going to ask you what type of account select thingtweet and enter the api key on the next step now that the accounts are linked you can create iobridge actions the type that you want is a message action follow the u00a0wizard u00a0for temperature analog data power pulse count or checking a switch digital input i hope this helps let us know what you end up doing,0.5
Faster_ed,hi all i have been working on the thingspeak twitter and channel update tutorial that updates twitter its working great however the update response does not work after updating the channel or twitter i have no idea where to start to find the problem i have moved the update code around if client available into the update area and made it a while statement and it stops sending after that so i kept as an if statement as in the tutorial any ideas thanks,0.187047928572
Faster_ed,oh boy never mind i had inadvertently sabotaged the program 2 days ago and have not looked carefully at it problem solved thanks,0.196958988905
noname,does the open source version of thingspeak on github has any api rate limit if yes how to change it,0.701338410378
Hans,there is no rate limit in the open source version of thingspeak and it not a setting the limiting code is not even in that version,0.5
mcmahongg,i got two spurious points on my thingspeak charts at 02 45 gmt 0000 and 02 55 on 25 dec channel 1384 the readings are initiated by a cron script at ten minute intervals u2013 xx 00 xx 10 etc so there should not be readings at the two times above the thingspeak channel log does not show readings for these times but they appear in the chart where the chart goes to zero at these locations something similar happened on the previous day but otherwise the setup has been running without problems thanks for any ideas maybe santa effect u00a0 u00a0gerry,0.5
Hans,gerry not sure what would cause that on our end is your cron job posting to the thingspeak api,0.308226525784
mcmahongg,yes the cron job runs a php script every ten minutes reading the data from the sensor module and posting it to thingspeak com thanks u00a0gerry,0.760308504105
djamo_ati,hello everyone i am developing a visual basic application to import a csv file to a channel thingspeak i have only found the possibility of importing the csv file from the website i checked the api and have not found a function for this anybody can help me thanks,0.808134317398
Hans,this is currently not possible via the api we will add this to the feature request list thanks,0.949157118797
voyager,hi for the chart u00a0color red amp bgcolor yellow amp works perfect but using u00a0color red amp bgcolor 003300 amp does not work u00a0what am i doing wrong or is it not possible to use color codes u00a0voy,0.251584082842
Hans,just drop the it a reserved character in the url http api thingspeak com channels 3 charts 1 timescale 60 width 455 height 260 bgcolor ff0 color fff u00a0you could also url encode the http api thingspeak com channels 3 charts 1 timescale 60 width 455 height 260 bgcolor 23ff0 color 23fffbut we add it for you if you u00a0specify u00a0a color or hex color,0.5
voyager,thanks for this fast answer it works perfect,0.968710660934
mcmahongg,is there a way to chart a digital variable on thingspeak e g an on off indication for a heater status over time of course one could configure 5v on 0v off and display these two levels of analog voltage but it would be good to have true digital display capability thanks u00a0gerry,0.92153275013
Hans,on the digital variable display if you send 5v and 0v 5 and 0 and then use type step on the chart api and the presentation will be would igital is this close https thingspeak com channels 212 charts 1 results 10 step true,0.788433074951
Wam,hi u00a0i was trying to use the csv upload feature to upload some data but it does not really seem to work properly when i upload some data the number of entries grows of the right number but th json file doest not contain the uploaded data and neither the charts do any solution for this issue i tried using the csv sample file available on the website and the issue is the same u00a0thanks for your time,0.104059845209
Hans,first thing to check is the time stamp if the time stamps are older than the past few days then no data will display with default api parameters u00a0if you tack on are sults 100 this will display the last 100 results in your channel u00a0regardless u00a0of the age of the results,0.5
Wam,thanks for the tip this is working now ud83d ude42 u00a0,0.949752807617
Wam,hi everyone u00a0i am doing some tests while using thingspeak really cool platform ud83d ude42 i am trying to update the location latatidue and longitude but when i visualise the json file created_at 2011 09 07t15 05 57z elevation null entry_id 36 field1 33 22 field2 31 73 field3 1 583 field4 1 058 field5 029 latitude 45 13305 location null longitude 5 469888 there is still a parameter named location null what is this parameter made for and why is it still null and last question except having the location data in the 3 feeds what is the use of updating the location is there any google map frame on the channel webpage thanks for everything fabien,0.0910072624683
Hans,location is another optional parameter that you can write a location description city state or postal code up to 255 characters,0.5
Wam,ok thank you ud83d ude42 u00a0and regarding the location data is there a google map visualisation solution on its way u00a0,0.860166668892
dsahni,hi u00a0i am new to thingspeak i am using rfid tags in project i have tagged 30 objects and i want to publish order of using object in chart on thingspeak it take approx 15 sec to update entry in u00a0thingspeak result for each tag detected i have to wait for 15 sec before using another object otherwise result is not updated on thingspeak is there any possibility to send and update thingspeak faster i am using dot net application program to send data to thingspeak u00a0any kind of help will be appreciated u00a0,0.216710627079
Hans,the 15 second limit is an api rate limitation for the free hosted version of thingspeak it possible to use the open source api and run this on a local server or on a web server the rate limit setting is adjustable in the config file otherwise for the time being the 15 u00a0second u00a0is a limit we may change how we rate limit and allow for short bursts of updates in a set period of time and then enforce the rate limit afterwards,0.5
JChristensen,was there an extended outage this morning judging from my charts i send one data post per minute nothing was posted between 0445 and 1151 edt both the web site and posts were continually returning 502 bad gateway,0.232170253992
Hans,yes there was an outage everything is back now sorry for the trouble,0.132997661829
JChristensen,thanks for your reply pretty long outage,0.964948534966
spumanti,hi ts u00a0i am playing with the api for showing the latest value of a given chart u00a0as a test i am using this channel feed http api thingspeak com channels 9 field 1 last txt u00a0id like to append the degree sign so the link i am using looks like this http api thingspeak com channels 9 field 1 last txt append c u00a0now id like to use the degree u00b0 sign in the append code but so far i have not been successful i have tried the following for the append tag alt 0176 u00a0 u00a0 which inserts u00b0 b0 u00a0 u00a0 url encoded deg u00a0 u00a0 html code 26deg u00a0 u00a0 substitute with 26 u00a0neither has worked could you please advise how to use special signs in the append tag u00a0also it would be nice if you could add the dynamic tag to the api for call ing the latest value that way if i include the link in an iframe it would always show the latest value in the iframe without me having to reload the page u00a0 i am imagining something like this iframe width 60 height 30 style border 1px solid cccccc src http api thingspeak com channels 9 field 1 last txt append c dynamic true iframe,0.782462239265
lee,http api thingspeak com channels 9 field 1 last txt append c2 b0 20c,0.5
spumanti,thanks lee u00a0works great ud83d ude42,0.99944216013
JChristensen,what are the three values returned by post u00a0 i could not find them explained in the api documentation u00a0 pretty sure the second value is the entry_id once in a while a post seems to fail even though the server sends an ok 200 response u00a0 why might this be below is a log of status messages from four consecutive posts u00a0 note the different return values from the third post u00a0 indeed this data was not captured u00a0 the numbers that begin each status message are milliseconds 7359 xbee rx ack7428 connected to server7438 post 2091 3 71 27580 server responsehttp 1 1 200 okserver nginx 0 8 53date sat 16 jul 2011 13 10 40 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200etag 46922a0880a8f11f8f69cbb52b1396be cache control max age 0 private must revalidate358207651 disconnected60000 status posts 1 connectfail 0 discwait 068307 xbee rx ack68375 connected to server68386 post 2092 3 71 068514 server responsehttp 1 1 200 okserver nginx 0 8 53date sat 16 jul 2011 13 11 41 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200etag 9ad6aaed513b73148b7d49f70afcfb32 cache control max age 0 private must revalidate3583068585 disconnected120000 status posts 2 connectfail 0 discwait 0129262 xbee rx ack129330 connected to server129341 post 2093 3 71 0129463 server responsehttp 1 1 200 okserver nginx 0 8 53date sat 16 jul 2011 13 12 42 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200etag cfcd208495d565ef66e7dff9f98764da cache control max age 0 private must revalidate100129533 disconnected180000 status posts 3 connectfail 0 discwait 0190219 xbee rx ack190287 connected to server190299 post 2094 3 71 0190425 server responsehttp 1 1 200 okserver nginx 0 8 53date sat 16 jul 2011 13 13 43 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200etag f5deaeeae1538fb6c45901d524ee2f98 cache control max age 0 private must revalidate35840190496 disconnected u00a0,0.5
Hans,how long are you waiting between posts the rate limit maybe returning the 0 response to tell you to slow down the post rate,0.5
JChristensen,one minute between posts u00a0 too fast,0.723097264767
Hans,hmm no that okay it must be something else sometimes if you are writing your own post body the content length can get off or there is a missing cariage return and line feed,0.77843028307
marten,is it possible to retrieve the min max total min max or even min max in a certain time period via the api,0.5
Hans,not from the api but you can use a plugin and write your own client side processing of returned data,0.809471726418
jbeale,the thingspeak api page athttp community thingspeak com documentation api thingspeak_api u00a0mentions that you can request data with a tart and end parameter which take a would ate argument i cannot find an example of the format for the date and there are many possibilities some of which i think would not be valid in a url can someone post an example of a valid start date format u00a0for example how would i properly complete this url u00a0http api thingspeak com channels 627 charts 2 timescale 10 width 600 height 400 start,0.5
Hans,time format is as follows 2011 07 09 00 00 00 20 is an encoded space that year month date hours minutes seconds all 2 digits long example u00a0http api thingspeak com channels 627 charts 2 timescale 10 width 600 height 400 start 2011 07 08 2000 00 00 end 2011 07 09 2000 00 00,0.5
jbeale,ha ha it works u00a0now i can see the older data which i thought was lost and gone forever thank you for the info,0.89764726162
voyager,hi u00a0i am trying to use thingspeak charts for the observation of my home control system can somebody give an answer why the recording is stopped after 24 hours is this a limitation of ts or is it the push false problem u00a0 u00a0,0.19408378005
bgardner,i am also using thingspeak to track home control data and i have not had this problem u00a0some of my channels have many thousands of points and i can display multiple days u00a0since i can only retrieve 8 000 points at a time i am limited to the number of days i can display at one time depending on the data rate but that has not been a problem u00a0you can always use the start and end api calls to display a different range here a chart with two fields from one of my channels displaying the last 5 days http gardnerswebsite com thingspeak htmlgood luck bob u00a0,0.254960179329
lee,if you log less data it easier to display charts on a longer time frame u00a0if you log every 15 seconds you reach 8000 data points in 1 4 days but if you log every hour you can return over 300 days worth of data u00a0we have to put the rate limits in place otherwise getting a month worth of data from 15 second intervals is extremely intensive on our systems u00a0for example this would require a database call for 175 000 points and then the web server might still have to slice that data into time slices and calculate averages for each of these time slices,0.275509119034
ricklon,should not i be able to get a longer date range by changing the time scale going from timescale 10 to timescale 720 should increase the date range but so far does not u00a0 u00a0,0.5
Hans,timescale is a data operation like average or median so a timescale of 10 sets the channel output to even increments of 10 minute slices even if you have a 100 data points in a 10 minute windows only 1 will be presented to get an extended range use results 200 or specify days 3 does this make sense,0.5
chrisjx,i did not see a forum branch to discuss the ui approach but this might be ok apologies if i have misplaced this post i would like to understand the intention of the web application in terms of what is meant by a channel a field a device etc in my setup i have sensors attached to u00a0radio u00a0transmitters which send data toa receiver in agateway device which has scripts to communicate to an apieach radio can have 1 to 5 sensors u00a0the gateway can support many radios the scripts in the gateway can send sensor data to 1 or more web service apis if i have 6 radios with 2 sensors each should i be setting up 6 channels with 2 fields each u00a0and if i add a radio with 5 sensors will i be defining 5 fields u00a0on pachube they seem to have a concept of feeds and datastreams on sen se the seem to have devices with feeds with senserivers u00a0how about feed comes from sensor u00a0feeds can be grouped tagged attributed for apps and or charting in any combination required u00a0like set lower u00a0threshold u00a0at 0 degrees c for any feeds tagged as temperature outdoors and do an action send a tweet alert that says pipes might freeze and plants might wilt u00a0another for example u00a0all my radios have a temp sensor on them u00a0i would like a single chart to show all my temp sensor data regardless of channel or device so i can see which rooms are not being vented properly seems a bit complicated so please help u00a0how should one set up his or her sensors for maximum flexibility and what does a channel refer to in regards to a physical sensor or data stream u00a0thanks chris u00a0 u00a0,0.5
Hans,a thingspeak channel is a conduit for data inside a channel you can have 8 fields that store alphanumeric data 3 location fields lat long elevation and one status field this is like a status update on the channel page there is a link that says view charts this will show a chart for each of the 8 fields the ones with data each chart has embed tag and you can u00a0customize u00a0it meta data and options if you want to customize a chart and show multiple lines of data you can create a plugin so a channel could be anything the output of a sensor or a place to publish data from a process with the addition of geolocation fields and status you can also give the data more context it would be trivial to be a location tracking mobile app with thingspeak in your application you would create a channel title it add a description and add tags then assign and title a field for each sensor 1 8 the devices tab is different than channels it an app that lets you register a device like an arduino it also allows you to store info about that device such as public private ip addresses if your devices needs a mac address you can generate a mac address from our address pool this mac will be globally unique the source for the api is u00a0available u00a0on github for further inspection complete customization for your application we are currently u00a0hosting u00a0private custom branches of thingspeak for customers that want a web service tied to their product,0.5
chrisjx,thanks for the detailed description u00a0that just what i needed u00a0we are currently u00a0hosting u00a0private custom branchesthat cool u00a0will keep that in mind as i think this through regards chris u00a0,0.952413916588
voyager,why am i having so many dropouts in my chart in the last cleared and new set chart with a login of 30 minutes i have drops of 8 hours how is this possible i am controlling my system with a log datafile and this says that the data has been sent i am also sending this data to another webserver which receives it correctly any help welcome u00a0,0.179087996483
lee,hi i assume you are referring to channel 607 u00a0i just looked through our log files and i can see your requests coming to our server u00a0however some of the data is missing the value for field2 here one of the normal requests get update key xxxxxxxxx field1 0 field1 23 may 2011 20 00 13 field2 627and one of the requests with missing data get update key xxxxxxxxx field1 0 field1 23 may 2011 23 00 17 field2 u00a0if you would like the entire server log file for this channel let me know and i can email it to you u00a0,0.5
voyager,hi i will have to check the failure in my system be so kind and mail me the entire server log thanks for your fast response u00a0 u00a0,0.897246837616
lee,sent,0.865262269974
roebuj,i u2019m unable to locate any information on how to generate an animated graph similar to dynamic light levels graph on the main page u00a0 any guidance would be greatly appreciated,0.759778261185
Hans,here what we do to generate the chart on our home page u00a01 we load up the last 15 entries on the channel and draw the charthttps api thingspeak com channels 9 field 1 json callback amp results 15 u00a02 after 15 seconds we request the last entry in the channel and update the chart if the last entry is newhttps api thingspeak com channels 9 feed last json callback u00a0if you view the source of our home page we have the process documented you can use a thingspeak plugins to make your own version with your own data u00a0let us know if you have anymore question have fun u00a0 u00a0,0.5
roebuj,i did view the source thanks for the info u00a0 i will see what i can make of it u00a0thanks,0.5
lee,we made this easier for you when you use the iframe embed code just put dynamic true on the end of the src attribute u00a0it should look something like this iframe width 450 height 250 style border 1px solid cccccc src https api thingspeak com channels 9 charts 1 round 2 results 15 dynamic true iframe,0.951853275299
Australian Robotics,i noticed the dynamic true option expands the graph and compresses the data and does not actually scroll the time range like the homepage chart anyway to make this another parameter or the default behaviour,0.843219995499
lee,you are right that should be the default behavior u00a0it changed now u00a0to prevent data from being pushed off the left side of the chart you can add push false as a querystring parameter,0.247437179089
Australian Robotics,thanks lee that works great now very nice charts btw u00a0 u00a0,0.985303580761
Afulki,auto updates do not seem to work when the chart is embedded in the iframe_loader in wordpress any thoughts,0.171701073647
Hans,can you provide the chart url you are using would ynamic true must be on the chart api url the demo is live on our u00a0documentation u00a0using the iframe_loader plugin,0.728974282742
voyager,hi is there any way to clear a channel via api call if so could you give a sample u00a0,0.941954612732
lee,sorry this is not possible,0.0973670780659
jbeale,here is my public channel https thingspeak com channels 627this is an ambient light sensor if you look the graph that appears on the above page you will see that the vertical axis starts at 500 for some measurements like this one ambient light the axis should not go below zero because a negative light level is not physically meaningful u00a0i am just suggesting that there should be some place to specify that a given channel is measuring positive values only so the graph can be forced to start at zero or a positive number maybe there is that option and i did not see it i am new here u00a0 thanks for the very interesting website service regards john,0.791698336601
chrisjx,ok below is my code that is causing a problem u00a0i have got a channel with 4 fields the terminology is new to me i suppose a channel is for a device the fields are where the datastreams would go so i have a board with an xbee radio and 4 sensors on it i have got a hacked asus wifi router hooked up with openwrt and python the python script is polling the various radios in my house one of them is the multi sensor device i am trying to set up in thingspeak i have got it hard coded for field1 but eventually i am going to want to pass in the field i want to update as a parametr and create the filed name field1 field2 etc i am getting an error exception http api thingspeak com 80 7 no address associated with hostname i think it is happening on the u00a0line conn request post update params headers any help would be appreciated chris import urllib urllib2 httplibthingspeakurl http api thingspeak com thingspeak_key mynumber def logtothing lnsensornum lnavgunits lcthingspeakkey fieldnum lnsensornum is the number of the xbee radio lnavgunits is the average of the last 5 minutes lcthingspeakkey the channel device api key fieldnum 1 2 3 4 is the adc input from each of the 4 sensors relates to the adcs on the xbee 0 1 2 3 feedurl thingspeakurl 80 fieldname field str fieldnum 1 try params urllib urlencode field1 lnavgunits key lcthingspeakkey headers content type application x www form urlencoded accept text plain u00a0 conn httplib httpconnection feedurl conn request post update params headers response conn getresponse data response read conn close except exception e print exception feedurl str e syslog syslog tlsm logtothing exception feedurl str e u00a0,0.5
chrisjx,hard to read my post in the embedded forum u00a0sorry,0.273586690426
lee,based on the error message it looks like you are not able to resolve the correct ip address from the hostname try using this instead thingspeakurl http 184 106 153 149,0.102845102549
Niels,hi u00a0i am developing a monitoring device that will help us collecting data about the fermentation process of our homebrewed beer since i can not be sure that the internet connection will be up and running 100 of the time i have implemented a local logging system as well the local logging happens like this all entries are logged on a sd card for later extractionall failed calls to thingspeak or any future web service are logged in local queueing files small files for easier processing a cool thing would be that i am able to upload these queueing files to thingspeak similar to the import method on the channel page but using the api u00a0it just an idea but it would be a nice feature and not too difficult to implement i suppose u00a0kind regards niels r,0.218804478645
bgardner,i am working on using an avr and a wiznet module to update a thingspeak channel and seem to be doing something wrong u00a0as a test i wrote a very simple vb6 program using the same header and format and it works fine however sending the same header and data with my wiznet module i get the following response html head title 400 bad request title head body bgcolor white center h1 400 bad request h1 center hr center nginx 0 8 53 center body html the actual data i am sending looks like field1 80 0 field2 95 0so is this response one that you are sending or i am on the wrong track u00a0any idea why the request is so messed up any help appreciated u00a0thanks bob u00a0,0.237815886736
lee,hi can you show me the full request you are sending without your api key so i can take a look at it u00a0also are you using get or post u00a0since our nginx server is sending you an automatic 400 i do not think your response is even reaching our actual thingspeak application u00a0as a quick test go to this address in your browser u00a0http api thingspeak com update key your_write_api_key field1 80 0 field2 95 0replacing your_write_api_key appropriately u00a0it should update your channel,0.769671201706
bgardner,here my full request u00a0post update http 1 1host api thingspeak comconnection closex thingspeakapikey content type application x www form urlencodedcontent length 23 u00a0field1 80 0 field2 95 0 u00a0i am sending it to 184 106 153 149 and port 80 i copied this from the arduino example on your site i also tried the link from your reply and that worked correctly just like my vb6 program any thoughts thanks bob u00a0,0.830113768578
Hans,what version of the arduino ise are you running when i wrote the tutorial i used 22 and the ethernet shield with the micro sd cart slot,0.5
bgardner,i guess i did not explain myself very well u00a0i am not using an arduino or an ethernet shield u00a0i am using a mega328 and a wiznet wiz810mj module u00a0this is basically the same processor and ethernet chip as the arduino combination u00a0i am programming with bascom avr u00a0i have done several projects with this combination and it has worked very well so apparently i am getting to your server but it does not like my request is that correct u00a0is there any way of finding out more detail or what the server is seeing i feel like i am really close but not quite there yet thanks bob u00a0,0.246679842472
lee,can you send a post to this url http posttestserver com post phpaccording to the instructions here http posttestserver com if that works please provide me with the link to your successful post and i will take a look at it,0.891664981842
bgardner,i guess i am not sure how to do that u00a0the wiznet module does not do dns so i do not know how to send my post to another address u00a0i have still got a lot to learn the good news is that i am making progress u00a0i can now post to the channel with my wiznet the first time but after that at least for several hours i can not connect but if i change my port say from 5000 to 5001 then i can post again u00a0if i change my port again to 5002 then i can post yet again i do not understand why i have to change the port each time u00a0is there some caching going on somewhere u00a0why could i connect on a certain port and then not connect a second time a few minutes later but could connect quite a while later anybody able to shed any light on this issue thanks for all the help to date bob,0.272710949183
Hans,bob we do not have much experience with the wiznet except for on the arduino ethernet shield all i know if that it locks up a lot so i have a watch dog timer that kills the connection and restarts the wiznet chip i would check to see that you are closing the connection to the server the ports 5000 that you are speaking of our local ports a device makes a connection to the internet and has a source and destination ip and port our port is 80 destination 5000 ish would be the source port like i said the only thing i can think of is that once you use a source port socket you are not closing it so it can be reused for the next connection also check to see if you are using http 1 0 or http 1 1 u2013 http 1 1 allows for keep alive and you do not have to shut off the port on every connection let us know what you find,0.5
bgardner,thanks for sticking with me on this u00a0i am using http 1 1 and using 80 as the destination port u00a0after a successful channel update i send a disconnect command to the module and the wiznet status shows that the connection and socket are closed u00a0but i agree it seems like the connection is not being closed correctly when i have a successful connection here the reply from your server http 1 1 200 okserver nginx 0 8 53date fri 15 apr 2011 19 34 28 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200etag 1aa48fc4880bb0c9b8a3bf979d3b917e cache control max age 0 private must revalidate38030if i send an update at a specific time to my channel is there any way you can check on your end to see if the connection was properly closed u00a0other than that i am really pushing my knowledge here thanks bob u00a0,0.5
bgardner,so i have done everything i can think to disconnect and close the connection correctly u00a0unfortunately i still can not re use the same port u00a0although your server sends back a connection close it just does not look like it being closed i do have a hack running that increments the port each post and then wraps around after a day or two u00a0the results can be seen here http gardnerswebsite com thingspeak htmli will keep working on it u00a0please let me know if you have any ideas thanks bob,0.5
Hans,looks like you are making more progress send us your project detail when you are ready i will hold a spot for you in the contest ud83d ude42,0.5
bgardner,so i finally got everything working correctly u00a0the port problem appeared to be caused by an arp cache used by my isp u00a0i have posted more information about the problem and the project on my site http gardnerswebsite com thingspeak index htmli will post the bascom source code in the next couple of days after i clean it up a little and add more documentation thanks for your help bob,0.860734403133
Hans,sweet writeup and glad it working now email us at support thingspeak com u00a0,0.928754746914
H07R0D,hi i am having a great time with the api netduino uploads and a drupal module in the works and i was wondering about some extra channel info it would be really nice to be able to query some channel details i e with a channel id and api key retrieve the available fields etc is this doable currently u00a0 i did not see anything specific so i can always parse them out but a quick api call would be nice to have cheers,0.959941148758
lee,currently the channel info is returned at the beginning of a feed request u00a0do you mean that you would like to get only the channel info and not the feed info,0.736263632774
H07R0D,yes that it u00a0 i am thinking of pulling the rest of a channel info when a user provides channel id and read key u00a0 the more i can auto populate the better i figure,0.930309653282
lee,http api thingspeak com channels 9 feed json results 0 u00a0is this the data you want,0.5
H07R0D,ah that will work just fine u00a0 i can parse out the channel and skip the feeds perfect thanks 13,0.949421525002
make.larsi.org,working with u00a0engineers u00a0and non engineers i have to convert between metric and standard us units a lot u00a0i adopted as a general rule that i store all my data in metric so i send my data to thingspeak in metric u00a0but this is not u00a0necessary u00a0how i want to display them u00a0i was wondering if you could have two float values with each chart a scale and an offset u00a0the display value would be scale database_value offset u00a0if i do not want to use it than the default values should be scale 1 and offset 0 u00a0for converting deg c to deg f i set scale to 1 8 and offset to 32 u00a0for i set scale to 100 and offset to 0 u00a0i would need this for each chart so i would like to pass this as an argument when i create the chart just like timescale 10 u00a0so i could u00a0actually u00a0show deg c and deg f on the same page,0.5
lee,this is a very specific request would you be able to do it in javascript instead u00a0here how you would do it using the code from our homepage as an example view source https thingspeak com u00a0the first step is copying both script tags completely into your page u00a0you will also want to add the container for the chart div id chart container style width 500px height 260px padding left 20px float left div then use your channel id instead of 9 in the line that begins with getjson https api thingspeak com channels 9 looking at the line that says chartdata push getchartdate this created_at parsefloat p this needs to be changed to chartdata push getchartdate this created_at 1 8 parsefloat p 32 u00a0that should do it for you if you need more help tell me your channel id and i will write the complete example for you u00a0,0.5
Hans,btw you can put lee example inside of a plugin so you do not have to have this running external to thingspeak good luck and let us know how it turns out,0.89252781868
outlet,hello u00a0does anybody know the easiest way to take a feed from thingspeak and generate an u00a0annotated time line from google u00a0 http code google com apis visualization documentation gallery annotatedtimeline html u00a0thanks,0.931171774864
Hans,this is definetly possible with the thingspeak plugins if anyone has experience with it feel free to post a link or two about it u00a0as for an automated way we have not currently planning on making google visualization a part of the chart api i know there is talk on the github repo so it may happen there and we will pull it into the hosted version,0.787094116211
EricH,well i attempted to add some sample code but it got pretty mangled by this editor u00a0 it is a c class that gets channel data and parses it into a generic collection for easy use in any net app if you are interested let me know where i should post the u00a0file u00a0,0.862702310085
Hans,cool thanks for working out the code if you can post it as a file i can download it and add it to the tutorials section otherwise the support at thingspeak com email will work thanks again,0.978317737579
Australian Robotics,i made this plugin yesterday https www thingspeak com plugins 60 u00a0anyway to make it publicly accessible it only seems to work when i am logged in and when i posted it to my blog i get a login to thingspeak box u00a0the plugin editor is a great idea btw when using other services i hit the cross browser ajax policy which stops me from doing anything without a proxy or fancy workaround ud83d ude42 u00a0,0.769102931023
Hans,we got plans to make the plugins u00a0embeddable u00a0 public some other big ideas have slipped in ahead of more plugin features i am glad you like that feature plugins are like running your own apps without a web server another feature for plugins that we are working on is the u00a0ability u00a0to create plugin templates so others only have to select a channel or add their key stay tuned,0.895657420158
willnue,this is related to the animated chart post but concerns the time returned by the thingspeak api animated chart post http community thingspeak com forum thingspeak api animated chart u00a0when looking at the json xml returned from the thingspeak api for a data point logged at 03 28 utc the timestamp appears as follows 2011 04 04t04 28 59 01 00 the time appears to be off by 1 hour from utc now i do see the following offset of u00a0 1 00 after the time but u00a0it appears the javascript that generates the charts ignores the 1 00 offset u00a0resulting in charts that are 1 hour off after applying the results of u00a0gettimezoneoffset to offset the time to your local timezone i u00a0am curious as to why do the records being returned by the api have an offset to begin with why not just return utc u00a0willnue,0.5
lee,thanks for finding this we were setting our offset based on british time which has daylight savings time instead of zulu time u00a0everything should be fixed now,0.901958107948
willnue,ok so now the chart on the thingspeak home page generates correctly but the charts on the charts pages do not looks like different queries are returning different date formats u00a0home page chart query https api thingspeak com channels 9 field 1 xml callback amp results 15date in results of query 2011 04 04t14 24 07z u00a0chart page iobridge example chart query https api thingspeak com channels 3 field 1 xml callback amp offset 0date in results of query 2011 04 04t15 21 07 01 00 u00a0willnue,0.5
lee,again thanks for finding this it should be fixed now on the other charts too,0.840879678726
willnue,it working now thanks willnue,0.897820949554
foxxjnm,i am trying out the chart api with a temperature sensor i have reporting from my office at work i think i must be doing something wrong i can read the json data with out trouble just a sanity check to make sure the data was transmitted properly however when i try to view the chart it comes up empty y and x axis labels are correct and so is the title just no data here is the url http api thingspeak com channels 231 charts field1 yaxis temp timescale 10 linecolor blue u00a0any ideas u00a0,0.161462157965
lee,you specified the word field1 when it should just be 1 u00a0try this url http api thingspeak com channels 231 charts 1 yaxis temp timescale 10 linecolor blue,0.5
foxxjnm,nice thanks figured i must have been doing something wrong,0.855240464211
Hans,if you want a blue line try color blue u00a0,0.161719888449
foxxjnm,thanks ud83d ude09,0.99992287159
willnue,according to the api documentation the open service via thingspeak com has a rate limit of an update every 15 seconds but to what does this rate limit apply does it apply per account per channel or per field for example say i have a channel for temperatures with 4 fields mapped to 4 thermal probes each hour i kick off a process to update thingspeak for simplicity i would prefer that my application update a thingspeak field as data becomes available from the corresponding probe rather than wait for all probes related to the channel to return their data can i update my channel with 4 separate post requests 1 per field in less than 15 seconds or u2026do i need to wait 15 seconds between posts to each field do i need group all 4 sensor readings into a single post request are my assumptions correct or should separate sensors really be on separate channels etc u2026thanks willnue u00a0,0.5
lee,the rate limit is per channel u00a0you can send all your data for the 4 fields as one post or you can make a separate channel for each of your sensors,0.5
willnue,ok got it now i need to figure out what makes the most sense on my end u00a0,0.781908988953
willnue,i created a channel named outdoor temp u00b0f so that the chart would indicate the scale the temperature data was on but the chart displays u00a0the degree symbol u00a0as what appears to be 2 diamonds u00a0any thoughts on a workaround fix u00a0thanks u00a0 u00a0 u00a0 u00a0 willnue,0.5
lee,thanks for reporting this it should be fixed now,0.92466455698
willnue,it fixed u00a0thanks willnue,0.20888376236
foxxjnm,when will the api be available for download on github,0.88913667202
Hans,coming very soon we will let you know you can follow the repo if you have not done so already thanks u00a0what kind of projects are you working on,0.962438344955
foxxjnm,thanks for the update i have several sensors reporting data through netduino arduino and one through a telit gsm modem connected via a sparkfun breakout board fun stuff,0.955491423607
lee,the api is available now https github com iobridge thingspeak,0.83261859417
foxxjnm,sweet downloading now,0.928975105286
Serge,i spent the last 15 hours of my life thinking i was doing something wrong wheneventually i have to conclude that the rest api serves feeds field data in csv roughly three times slower than in json this was tested using exactly the same data set of 7200 data points and the gnu linux time command in combination with python3 pandas python3 requests python3 urllib wget curlfor this particular data set the execution time is about 12 seconds for csv versus 4 seconds for json this is particularly relevant for the export data dump which only supports csv https api thingspeak com stream channels channel_id feeds api_key api_key timezone timezonei am pretty sure this data export could also be sped up by 300 whilst alleviating server load i would like to suggest three things to the thingspeak team 1 investigating the csv delays and2 in the mean time adding the possibility to export data in json,0.0903156399727
cstapels,we are investigating the delay and we will consider adding additional formats for export data thank you for your feedback,0.943529963493
sandan,hello i am an doing a project in channel https thingspeak com channels 468578 and i am having a strange problem when uploading data with a get request i have been testing my network all night sending information through a gprs module and at times thingspeak did not show the uploaded data for example at 03 55 gprs did this get request i have extracted this url from its log changing api key http api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 4 field2 2 field3 0 field6 21 field4 2 field5 2 field7 24 field8 61and then the thingspeak server answered with a number as always a 38 the problem is that fields 1 2 7 8 were updated but not the others and the data was in the same url anyone has faced this problem before i do not know what could be the solution but it seems its thingspeak server fault thanks,0.5
rw950431,have you downloaded the data and examined it or are you just looking at the graph you can download all the data as a csv file from https thingspeak com channels 468578 feed csv and check it in a spreadsheet its unfortunate that thingspeak does not have any kind of error log you can access,0.20371773839
cstapels,do you have a react or something else writing data to your channel if something else was writing it might interfere with the update you are making from your channel feed i see that entry 38 seems to have only field 3 and 6 with data the earlier entries have more fields populated perhaps you have cleared your channel since then the syntax looks correct for the get request as rw suggests i have seen unplottable data like text not show up in thingspeak plots but i have never seen thingspeak select only a few fields to post when the syntax was correct please let us know if you get it working as you expect,0.777382612228
zferrie,hello i am trying to simulate data coming into thingspeak from sensors that i will deploy in the future my goal is to update thingspeak with a excel matlab data set that i already have to make sure that the matlab code i will be running in tandem with thingspeak has all of the bugs worked out before i actually deploy my sensors i am hoping to update three thingspeak fields with my current data set on a pre defined time interval update fields every 1min or 5min using the excel matlab data i already have saved on my desktop is there any way to do this if so could someone point me in the right direction as to where to start any help would be greatly appreciated thank you,0.5
cstapels,you said you have matlab data saved on your desktop do you have desktop matlab or is that a miss read of your post assuming you do not have desktop matlab i think the easiest way would be to create a new channel and then upload your data to that channel using the data import tab or the api https www mathworks com help thingspeak rest api htmlthen write a matlab analysis to copy the data to the new channel using thingspeakread oldchannleid otheroptions and then thingspeakwrite newchannelid otheroptions finally schedule a time control to call that matlab analysis at the interval of your choice i would use outputformat timetable for the read operation since it is easy to write a timetable using thingspeakwrite there is an example of writing a timetable in the documentation https www mathworks com help thingspeak thingspeakwrite htmllet us know if that works btw if you have desktop matlab you can use thingspeakwrite to write the data directly and schedule the operation with the timer function https www mathworks com help matlab matlab_prog use a matlab timer object html,0.848142504692
Mubarak,dear respected sir hope you are in good health with success and happiness i am also facing bid problem with my 27 sensor data to upload in thinskpeak dear respected sir please could you help me with a example code where i could upload 27 sensors data i am using arduino mega with esp8266 wifi module please sir i will be really grateful to you,0.913421034813
rw950431,unfortunately there is a maximum of 8 readings per thingspeak channel so you will have to split your 27 readings into smaller groups and upload to different channels,0.201800435781
borjah,dear all i want to publish through mqtt several values to the same channel field using different timestampsi am using different single messages to do that but it not working is there any restriction in the thingspeak mqtt broker of time between 2 consecutives messages please find below a example python snippet trying to upload the same value to several fields several times with a delay of 1 second in the timestampsthanks a lot in advanced import paho mqtt client as mqttimport timemqtt_broker mqtt thingspeak com mqtt_port 1883messages data 1000 messages append topic channels publish fields field1 payload field1 data created_at 2018 5 16t16 48 21 status mqttpublish messages append topic channels publish fields field1 payload field1 data created_at 2018 5 16t16 49 21 status mqttpublish messages append topic channels publish fields field2 payload field2 data created_at 2018 5 16t16 48 21 status mqttpublish messages append topic channels publish fields field2 payload field2 data created_at 2018 5 16t16 49 21 status mqttpublish messages append topic channels publish fields field3 payload field3 data created_at 2018 5 16t16 48 21 status mqttpublish messages append topic channels publish fields field3 payload field3 data created_at 2018 5 16t16 49 21 status mqttpublish messages append topic channels publish fields field4 payload field4 data created_at 2018 5 16t16 48 21 status mqttpublish messages append topic channels publish fields field4 payload field4 data created_at 2018 5 16t16 49 21 status mqttpublish messages append topic channels publish fields field1 payload field1 data created_at 2018 5 16t16 48 21 status mqttpublish messages append topic channels publish fields field1 payload field1 data created_at 2018 5 16t16 49 21 status mqttpublish messages append topic channels publish fields field2 payload field2 data created_at 2018 5 16t16 48 21 status mqttpublish messages append topic channels publish fields field2 payload field2 data created_at 2018 5 16t16 49 21 status mqttpublish client mqtt client client connect mqtt_broker mqtt_port client loop_start for i in range 0 len messages out client publish topic messages i topic payload messages i payload while out is_published is false time sleep 0 05 client loop_stop client disconnect,0.5
rw950431,i am guessing that the 15 second update limit applies to mqtt as well as html updates the mods may be able to confirm the syntax you are using to publish an individual field doesnt appear correct according to https au mathworks com help thingspeak publishtoachannelfieldfeed htmlyou would be better off grouping your updates and writing them as multiple fields to a channel rather than individual fields see some python code at https community thingspeak com tutorials update a thingspeak channel using mqtt on a raspberry pi and the docs at https au mathworks com help thingspeak publishtoachannelfeed html,0.5
Vinod,irrespective of the api used rest or mqtt to ingest the data to thingspeak the maximum accepted rate of data is one data point per second per channel for users with a paid standard academic home or student license users with a free license can can send data at up to one data point every 15 seconds per channel,0.764406919479
el_poba,hello everyone for my project i have to send some data of my sensors to my thing spek chanell by arduino and sim 900 i tryed to send one data with get request and everithing is ok the channel entries increases the problem is when i try to import json data with post request nothing happen the counter is still fixed and the data do not update in my channel this is my code include create object named sim900 of the class softwareserial softwareserial sim900 7 8 char data 500 write_api_key my write api key updates 2018 05 01 18 22 22 0500 0 field1 60 data json to sendvoid setup sim900 begin 9600 define baud rate for software serial communication serial begin 9600 define baud rate for serial communication void loop serial println http post method serial print at sim900 println at check communication delay 5000 showserialdata print response on the serial monitor delay 5000 configure bearer profile 1 serial print at sapbr 3 1 contype gprs sim900 println at sapbr 3 1 contype gprs connection type gprs delay 5000 showserialdata delay 5000 serial print at sapbr 3 1 apn internet wind sim900 println at sapbr 3 1 apn internet wind apn of the provider delay 5000 showserialdata delay 5000 serial print at sapbr 1 1 sim900 println at sapbr 1 1 open gprs context delay 5000 showserialdata delay 5000 serial print at sapbr 2 1 sim900 println at sapbr 2 1 query the gprs context delay 5000 showserialdata delay 5000 serial print at httpinit sim900 println at httpinit initialize http service delay 5000 showserialdata delay 5000 serial print at httppara cid 1 sim900 println at httppara cid 1 set parameters for http session delay 5000 showserialdata delay 5000 serial print at httppara url api thingspeak com channels my channel id bulk_update json sim900 println at httppara url api thingspeak com channels my channel id bulk_update json set parameters for http session delay 5000 showserialdata delay 5000 serial print at httppara content application json sim900 println at httppara content application json set content type delay 5000 showserialdata delay 5000 serial print at httppara ua mw doc bulk update sim900 println at httppara ua mw doc bulk update delay 5000 showserialdata delay 5000 serial print at httpdata 33 10000 sim900 println at httpdata 33 10000 post data of size 33 bytes with maximum latency time of 10seconds for inputting the data delay 2000 showserialdata delay 2000 serial print data data to be sent sim900 println data delay 5000 showserialdata delay 5000 serial print at httpaction 1 sim900 println at httpaction 1 start post session delay 5000 showserialdata delay 5000 serial print at httpterm sim900 println at httpterm terminate http service delay 5000 showserialdata delay 5000 serial print at sapbr 0 1 sim900 println at sapbr 0 1 close gprs context delay 5000 showserialdata delay 5000 this is my response from various requests from serial port http post method atatokat sapbr 3 1 contype gprs at sapbr 3 1 contype gprs okat sapbr 3 1 apn internet wind at sapbr 3 1 apn internet wind okat sapbr 1 1at sapbr 1 1okat sapbr 2 1at sapbr 2 1 sapbr 1 1 10 68 74 90 okat httpinitat httpinitokat httppara cid 1at httppara cid 1okat httppara url api thingspeak com channels mychannelid bulk_update json at httppara url api thingspeak com channels mychannelid bulk_updaat httppara content application json at httppara content application json okat httppara ua mw doc bulk update at httppara ua mw doc bulk update okat httpdata 33 10000at httpdata 33 10000download write_api_key my write api_key updates 2018 05 01 18 22 22 0500 0 field1 60 okat httpaction 1at httpaction 1ok httpaction 1 401 154at httptermat httptermok thank to those taht will wont support me francesco p,0.5
cstapels,do you need to update multiple entries at once you are using the bulk update endpoint which is more complex than the normal update here is the doc nor a normal write data operation https www mathworks com help thingspeak writedata htmlif you want to update a lot of feeds at once you will need the bulk update if this is the case i would start by looking at the date format i think there my be an extra dash in your date 2018 05 01 18 22 22 0500 0 field1 60 would id you replace your channel id in the code above i assume you did for that and api keys last i would recount the bytes i think you are sending more than 33 bytes i got near 102 let us know how it goes it would be good to have some standard code for at command data entry,0.5
el_poba,thank you for your consideration yes i need to send all data just once a day for safe my energy batteries yes i replaced my channel id and my api key to the appropriate part of the code i tried to increase the data size but nothing appened finlly i think the problems are in the data string i have to get a corretc array to send at the moment with my knowledge this is little bit difficult,0.0967618823051
cstapels,some of these small devices have a limited memory buffer so i recommend sending many small parts of your bulk update string instead of sending it all at once once your sting gets larger you might try using the data in the documentation example just to practice the syntax since the format can be tricky https www mathworks com help thingspeak bulkwritejsondata htmlone thing you missed in the format is the time format specifier you need created_at or would elta_t have a look closely at the format in the doc updates 2018 05 01 18 22 22 0500 0 field1 60,0.229528576136
mobileewaste,hi help me to solve this problem i just want to display data from thingspeak to mit app if the lastest data from graph is 67 so i want to display value 67 to mit someone help me thanks,0.147976249456
cstapels,if mit can make a rest api call you can use the read data endpointhttps www mathworks com help thingspeak readdata htmlit is a get with the format https api thingspeak com channels feeds if mit can communicate via mqtt thingspeak allows publish and subscribe capabilityhttps www mathworks com help thingspeak mqtt api htmlyou can also embed the thingspeak plot in your page https www mathworks com help thingspeak embed your thingspeak plots on web pages htmlandhttps www mathworks com help thingspeak embed a chart htmli think the best thing for you to do is to run through the get started tutorial to understand the capabilities it required no device and does not take too long https www mathworks com help thingspeak getting started with thingspeak html,0.5
deivid77,hi there i am sending rfid tags numbers with alphanumeric characters to thingspeak i was wondering why the chart does not show the data properly i mean 0f001cc96c tag y axis at 10 25 am x axis best regardsdavid blanco,0.218850791454
cstapels,the thingspeak chart expects numeric logical or datetime type data i think your rdid tags look like strings to thingspeak which it does not know how to plot you can write a matlab visualization that converts the rfid value to a integer value the rfid specification may give a hint about this conversion but if not a naive number substitution might work a 1 b 2 etc or if you know you are dealing with a limited number of rfid you could index them 0f001cc96c 1 1g041cc94c 2etc you can also use all the functionality of matlab plots such as with the plot command have a look at the plot documentation for some other ideas https www mathworks com help matlab ref plot html searchhighlight plot s_tid doc_srchtitle,0.283382296562
abou,hello to all i hope you are fine please i come just begining for use thingspeak i want to know if is posible after received data in the cloud this data can be transmitted by mail or ftp in my desktop and how thank you,0.960940122604
cstapels,you can set up a channel to trigger a tweet when a certain condition is methttps www mathworks com help thingspeak thingtweet app htmlyou can use the rest api to read data in json csv xml or text formats https www mathworks com help thingspeak readdata htmlyou can export data in csv format using the data export tab on your channel viewyou can use ifttt or other external services to generate email notifications have a look at these examples https www mathworks com help thingspeak use ifttt to send text message notification htmlhttps www mathworks com help thingspeak analyze channel data to send email notification from ifttt html,0.5
alweerahman,hello everyone i want to ask about the decimal placeshow can i set the decimal place in thingspeak so that anything decimal value come out from serial monitor can be captured to the thingspeak field i am doing the energy monitoring project the problem i faced is the value of energy on the field is 0 but in the serial monitor is 0 23 so how can i set on the field that can read the decimmal data here is my code of project using nodemcu and sct current sensor include emonlib h include include includeenergymonitor emon1 double irms float power float kwhtotal 0 float kwhtotal_acc 0 const char ssid huawei p10 const char password qwertyuiop1 wificlient client unsigned long mychannelnumber 470287 const char mywriteapikey nj18yo4e2dd6h5te uint8_t k 0 l 0 m 0 void setup serial begin 115200 emon1 current a0 60 6 current input pin calibration delay 10 serial println serial println serial print conneting to serial println ssid wifi begin ssid password while wifi status wl_connected delay 500 serial print serial println serial println wifi localip thingspeak begin client void loop static boolean data_state false float milisec millis float time milisec double irms emon1 calcirms 1480 calculate irms only power irms 240 0 apparent power kwhtotal power time 3600000000 kwhtotal_acc kwhtotal_acc kwhtotal serial print irms serial println irms irms delay 2000 serial print power serial println power delay 2000 serial print totalkwhused serial println kwhtotal_acc serial print delay 2000 k irms l power m kwhtotal_acc if data_state thingspeak writefield mychannelnumber 1 k mywriteapikey thingspeak writefield mychannelnumber 2 l mywriteapikey data_state false else thingspeak writefield mychannelnumber 3 m mywriteapikey data_state true delay 1000,0.5
cstapels,you are using bytes for the values you are posting to thingspeak uint8_t k 0 l 0 m 0 k irms l power m kwhtotal_acc i would make these types float or you can make them strings and then you can easily control how many decimal places get posted to thingspeak string k l m k string lrms 2 will give you 2 decimal places,0.813844561577
alweerahman,okay thanks i would try ur suggestion,0.937464594841
newymonkey,hello i am trying to open a url from my program into a browser however i cannot update it with meaningful data i am openining the link https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 0 but the field1 0 is always cut off from my browser in a raspberry pi resulting in an entry but no data is there a way to escape from having to write this ampersand i have tried a lot of things but they would result in a feedback of 0 or a blank entry,0.5
cstapels,what browser are you using how do you know that the section is being cut off,0.234044164419
rushanarshad,hello everyone i am new to thingspeak and i am getting data from 2 sensors for liquid measurement onto my thingspeak channel i want to create a matlab visualization that combines data from 2 fields of the channel combine the data for a day and display it in the form of scatter or 2 d line plot how can i do that i am new to matlab and thingspeak u00a0 u00a0i look forward to your answers thanks,0.861998796463
cstapels,have a look at the code template tutorialshttps www mathworks com help thingspeak getting started with thingspeak htmlat the bottom there are examples for similar and different data types if your sensors have similar euits use the top ones if the units are different use the bottom examples visually compare data of the same type use area plot to compare traffic data sets visualize traffic distribution for eastbound and westbound highway car count data compare temperature data from three different daysvisually compare data of different types plot temperature and wind speed on two different axes visualize correlation between temperature and humidity use template code to generate a scatter plot for two different data types read from a public thingspeak channel,0.5
brenbry,i am using an adafruit thermocouple breakout board and a particle photon to transmit temperature data to a plot on my channel however every once in awhile i get zero values in my plot and i do not know why the serial output from the thermocouple does not show any 0 values so it must be on the thingspeak side does anyone know why this happens or how to fix it u00a0thanks,0.5
cstapels,if you are updating different fields of the same channel you may see null or zero values in one field i have created this situation when i have a react that writes values back to a channel with a matlab analysis the analysis writes a status field based on the field values but every time the status is written all the other fields see a null result it is also possible the extra characters are being written sometimes based on how the variable you use for your sensor data in the photon are cleared if there are extra non printable characters it is possible that thingspeak would interpret those values as strings and you might see them as zeros on your channel view do you see zero values in the data or just on your thingspeak plots,0.760948896408
cpram,hi i am in the middle of developing a commercial iot application with thingspeak and in need of some help i am connecting an esp8266 to 4 sensors esp8266 is connected to a channel each sensor to a field each sensor will have 3 trigger leveleach trigger need to send http request to 2 web services with all of this trigger and request i end up with 24 react and 8 thinghttp the problem is i am planning to have thousands of esp8266 and realize it will be a pain to manage and maintain the react and thing http manually does anyone have any experience with this kind of problem and have a solutions a csv import for react and thinghttp is more than enough but i can not seem to find those functions any idea,0.206086754799
cstapels,you can use csv import in matlab if you have a license if you file is on the web you can import from google sheets and other data formats in thingspeak trybob webread https thingspeak com channels feed csv days 1 this will work for a public channel add the read api key to read from a private channel you may want to consider using a matlab visualization to manage the react you can use a react or time control to call the matlab analysis you can have the visualization read channel data to determine the thresholds and even to determine which channels to read if you make the script reuasable and ambivalent to the device that triggered it you will not have so much difficulty managing all the reacts,0.5
femuruy,hi guys new to this so please let me apologize in advance for my questions u00a0i created a channel that is being updated every 15 min by a sensor array that is working perfectly https thingspeak com channels 270574but when i try to download the csv it only downloads the last 100 data points how do i download the whole data set to csv u00a0thanks in advance for your help,0.736841797829
cstapels,the data export on the private and public views of your channel will default to the last day of date use the data export feature on the data export tab to retrieve the contents of the whole channel when you click the data export on the channel view you will see the format for the rest call in your browser window you can add another parameter such as days 5 if you want more data but not all of it see https www mathworks com help thingspeak readdata html for the format and full list of parameters that you can add if you use two parameters use ampersand for the second parameter for example days 4 sum 10,0.749799489975
irproject,hii succeeded send data from a sensor by arduino uno esp8266 to my thingspeak channel now i want to send back data from my channel to arduino uno help u00a0 tnx,0.758320629597
cstapels,you can use thingspeak to modify channel data perhaps include a flag that theree is new data then when your device reads the channel it will know there is new data you can read channel data with read api calls https www mathworks com help thingspeak readdata htmlif you are using the thingspeak library there are examples on reading a field if you are not using the library see the documentation examples for several examples for reading channel data you can also use mqtt to subscribe to a channel which will send an update automatically every time the channel is updated https www mathworks com help thingspeak mqtt api htmlif you want thingspeak to queue commands for your device you can use the talkback app https www mathworks com help thingspeak talkback app html,0.5
Keaume,hello i have 8 thermocouples and i wanna know if i can wire them in series and so only take one pin in my arduino uno and can i visualize all these thermocouples on the same field on thingspeak or not the same it doesnt matter u00a0thanks,0.5
cstapels,you will not be able to visualize all 8 thermocouples if you put them in the same field assuming you have synchronous measurements from all thermocouples you should put them all in different fields if they are asynchronous you should consider putting each in its own channel you cannot wire them in series if you want to read the individual values you could use a multiplexing chip if you want to save arduino pins,0.5
rodrigomocca,hi i had a simple app built in angular used to post command to my talkback app this app was working as expected today i have found with an error 406 when execute the post i am getting this error but the command is correctly posted i can find it in the talkback page why this is happening,0.179782599211
cstapels,can you share the syntax of your post command,0.771769285202
agrisensezm,hello forum i am just transferring from ubidots and i am trying to get my code to work arduino with gprs shield currently i am sitting with error code 401 like i am using the wrong credentials i have checked and rechecked the channel id and write api several times with the same effect can anyone see where my fault is updating the channel by putting this line into my browser window works fine https api thingspeak com update api_key xxx field1 123456 this way there seems to be no issues with my write api thanks heinconnect okat cipsend 447post channels xxx bulk_update json http 1 1host api thingspeak comcontent type application json write_api_key xxx updates created_at 2018 04 22 16 26 20 0200 field1 john johnson field3 60 field4 555 field5 444 latitude 16 300580 longitude 28 819500 tatus please check in send okhttp 1 1 401 unauthorizedserver nginx 1 7 5date sun 22 apr 2018 14 28 15 gmtcontent type application json charset utf 8transfer encoding chunkedconnection keep alivestatus 401 unauthorizedx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800cache control no cachex request id d55c47ac 7940 459f 9918 24fde0b670169a tatus 401 error error_code error_auth_required message authorization required would etails please provide proper authentication details 0,0.227171361446
cstapels,it looks like you are sending only one update though for multiple fields if this is true you should use the regular update endpoint https www mathworks com help thingspeak writedata html not the bulk update the format should be https api thingspeak com update jsonfor bulk update you can send many updates in a single command to save battery power the formatting for the regular data write is more simple and the response time may be faster for a single update let us know if that works,0.866973876953
cstapels,i do not think you have a format issue by the way i was able to post your json to my channel just changing the channel id and the api key i got 202 accepted in response i would suggest creating a new channel and starting over you could try using postman or something similar to make sure the post works since you already tried the get in your browser,0.775277674198
agrisensezm,i am the same guy from this topic https community thingspeak com forum thingspeak api error 302 and it the same device can we stay on this topic so on the format of sending a single update and while using my profile api and not the write api for the channel i am updating it looks like i am not specifying which channel to update anywhere in my request post update json http 1 1host api thingspeak comcontent type application json api_key xxx created_at 18 04 23 23 25 21 0200 field1 john johnson field3 66 field4 555 field5 444 latitude 16 300743 longitude 28 819612 tatus please check in,0.5
cstapels,you are correct the update endpoint does not require the channel id i was having trouble keeping up with both threads thanks for the relief you definitely need the channel write api key not your profile api key to update a channel but the label is changed to api_key for the single update endpoint my apologies for the confusion here is working syntax post update json http 1 1host api thingspeak comcontent type application json api_key jnwivp3cd54zgi9x created_at 18 04 23 23 25 21 0200 field1 would r john johnson field3 611 field4 552 field5 443 latitude 16 300743 longitude 28 819612 tatus feeling great,0.736521422863
agrisensezm,thanks cstapels this is what i am sending sadly with the same result i am sending the write_api and i tried with specifying both api_key and write_api_key labels same result is there a way to see what actually reached the server maybe some of the last characters are not making it through post update json http 1 1host api thingspeak comcontent type application json api_key xxx created_at 18 04 24 08 20 21 0200 field1 john johnson field3 66 field4 555 field5 444 latitude 16 300660 longitude 28 819400 tatus please check in send okhttp 1 1 400 bad requestserver nginx 1 7 5date tue 24 apr 2018 06 32 49 gmtcontent type application json charset utf 8transfer encoding chunkedconnection keep alivestatus 400 bad requestx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800cache control no cachex request id 8ded12e8 3d9a 4cf5 a810 99ccc0cae4d5set cookie request_method post path 100http 1 1 400 bad requestserver nginx 1 7 5date tue 24 apr 2018 06 32 49 gmtcontent type text htmlcontent length 172connection close400 bad request400 bad requestnginx 1 7 5,0.5
cstapels,i have run into issues in arduino with the buffer size on a post depending on the library you are using there is a tiny 256 character limit for the wifi client so it is possible all your characters are not getting sent you can get around this by sending one line at a time but i think a better option for you is to use the get request to update https api thingspeak com update json api_key xxxxxxxxxxxxxxxx field1 joy field2 22 field3 77 status awesomethe get format is also shown here https www mathworks com help thingspeak writedata html,0.5
agrisensezm,joy indeed get is shorter and quicker fits my bill perfectly this is what the get request looks like when sending using at cipsend on the gprs shield get https api thingspeak com update json api_key xxx status john johnson 04 47 22host api thingspeak comone more question on this when i enter the first line into my browser it accepts the whole status update with spaces and all john johnson 04 47 22 but when i use it in the format above it only updates the first word john everything after the first space dissapears it would not be ideal to switch the spaces with underscores do you know of another way to get the spaces to go through,0.5
Vinod,if you have spaces in your content they need to be url encoded with a 20 ascii code of space in hexadecimal your get request will be something likehttps api thingspeak com update json api_key xxxxxxxxxxxxxxxx field1 john 20johnson field2 22 field3 77 status awesome,0.800833463669
agrisensezm,thanks what are the limitations to the content of the status field it seems like it only likes one word when using the get request from my arduino when sending the request through my browser address bar it seems to accept a longer string with spaces when i send this tatus unregistered it updates ok but if i send tatus emilio_violet_14 54 3 i get 400 bad request are the also a problem in the url,0.162649095058
cstapels,your web browser may do some url encoding where the arduino will not tatus emilio_violet_14 54 3 worked in my chrome browser but you can encode it to be safe from your arduino encodes to 3a have a look at this resource https www w3schools com tags ref_urlencode aspthe status field is limited to 256 characters,0.784177064896
Boggie,i am trying to set up a connection from my local mosquitto mqtt broker to thingspeak so i can run everything through my local broker and still log some of the data to thingspeak by creating a topic subtree starting with remote thingspeak i have mosquitto up and running and can pub and sub as expected but when i try to configure the thingspeak connection things start to get weird having read the mqtt documentation on thingspeaks api pages i have come up with this mosquitto conf file i put in the cleansession true everything i found about will something appears to be 0 by default thingspeak conf connection thingspeakaddress mqtt thingspeak com 1883cleansession truetopic out 0 remote thingspeak channels when i start my server it tries to connect but the connection gets refused 1502479267 connecting bridge thingspeak mqtt thingspeak com 1883 1502479267 bridge raspberrypi thingspeak sending connect1502479267 received connack on connection raspberrypi thingspeak 1502479267 connection refused not authorised1502479267 socket error on client raspberrypi thingspeak disconnecting this is before i even try to publish a message through the connection what i was hoping this configuration would allow me to do was publish a message with values to remote thingspeak channelid publish write key and make mosquitto forward it to thingspeak on the topic channels channelid publish write key u00a0does anyone out there has a working thingspeak configuration for mosquitto they can share ud83d ude42,0.5
Boggie,just to answer my own question in case anyone else with the same challenge finds it after a lot of trial error and looking at other bridge configurations on the internet i found out that i needed to turn off notifications the following bridge configuration will allow you to bridge messages from a local mosquitto server to thingspeak ud83d ude42 connection thingspeakaddress mqtt thingspeak comnotifications falsecleansession truetopic out 0 remote thingspeak channels happy mqtt ing,0.220000714064
RobO,this may be related to an issue i am having u00a0 u00a0 i am running homeassistant on a raspberrypi u00a0 it uses paho or mosquitto or some sort of mqtt broker u00a0 any way i am sending logging some weather data from an esp8266 to homeassistant through the mqtt broker u00a0 i read the data send it mqtt to home assistant then post it to thingspeak u00a0 i noticed that when i thingspeak writefields mychannelnumber mywriteapikey it drops my mqtt connection to homeassistant and must reconnect i use the lastwill feature and when they drop offline then i get a notification u00a0 the weird thing is that the keep alive time is about 5 minutes u00a0 i was getting a offline and reconnected notifications about every 30 seconds or so u00a0 i edited out the thingspeak writefields line and the issue went away u00a0 u00a0 then i searched and your post came up u00a0 u00a0 i am thinking its the two different mqtt services causing my problem u00a0so do you think there is a workaround for this issue u00a0 can i somehow separate the two mqtt messages being sent to two different mqtt services on the same device u00a0i am pretty new to mqtt these little microcontrollers u00a0 i have been curious if there was a way to send the same data to two different homeassistant installations from the same device but i dont have enough knowledge about it u00a0 after looking at the code it looks like two different mqtt servers could be declared in the variables but the thingspeak server is already declared as something different so i am still confused anyway if you could offer some suggestions i would greatly appreciate it u00a0 u00a0 right now my setup is working just for some reason it is dropping my mqtt connection to home assistant every time i send a post to my thingspeak channel u00a0 i have to turn off the notifications for the dropped connections or i constantly get them u00a0 u00a0rob,0.5
JasonW,robo i do not think your problem is related to boggie post u00a0he is referring to publishing messages to the mqtt interface of thingspeak u00a0as far as i know the thingspeak homeassistant component is using the http rest interface it sounds like there is a problem with your thingspeak configuration u00a0if the thingspeak call errors out it may be causing your homeassistant process to restart and in the process booting your esp8266 mqtt client,0.12442034483
RobO,jasonw you may be correct i probably didnt explain my setup well enough i use an adafruit huzzah esp8266 to send the mqtt messages to home assistant u00a0 u00a0 which sends fine u00a0 u00a0 then when i call the thingspeak writefields mychannelnumber mywriteapikey function within my program it kills the mqtt connection to my home assistant broker u00a0 u00a0 i do not use the thingspeak component of home assistant u00a0 u00a0 i tried that first and could not get it to work u00a0 so i saw that there is an arduino library and went that route u00a0 when i tried to add the thingspeak component i kept getting errors and i couldnt figure it out u00a0i figured this out because i get notifications when it drops the connection to the mqtt broker at the home assistant address u00a0 it should not fall off for at least 5 minutes because that is the keep alive time u00a0 if i comment out that line thingspeak writefields mychannelnumber mywriteapikey u00a0 the program works fine and does not drop the mqtt connection u00a0 u00a0 u00a0 if i leave it in there and compile it and upload the program it works fine it just drops the mqtt connection to home assistant and reconnects at the top of the program again u00a0 so based on my trial and error when i call the thingspeak writefields function it apparently forces the lastwill message to be sent to home assistant broker u00a0 u00a0 i immediately get an offline message which is what i have it set to do u00a0 u00a0 then right away i get an online reconnect message u00a0 it wont do it if i comment out that thingspeak writefields function or remove it when i read that it was a mqtt connection to thingspeak i figured this was some sort of conflict between the mqtt client setup to send messages to home assistant and the mqtt client setup to send messages to thingspeak u00a0 u00a0 i dont know enough about it other than there is something going on when i try doing them both i kind of figured there was a way to declare two different mqtt setups on the same micro and it work u00a0 u00a0 i may try to set one up and do some tests u00a0thanks for replying,0.140416324139
robvk,i am posting to mosquitto and syncing to thingspeak just as in the startingpost i post to mosquitto from an esp board i also had to set retain false in my code pubsubclient publish thingspeak_topic msgts c_str false with mosquitto_pub from command line retain is false by default enabling it also blocks the message from being synced to thingspeak maybe this helps somebody u00a0btw i can only sync when i post values in the form of field1 5 field2 10 to a specific topic does anybody know a way to sync a topic with normal values like topic home temp that contains temperature values to a thingspeak channel,0.145811527967
marcinnap,hi u00a0i am new to mqtt and thingspeak i try to do the bridge from my raspberry pi to thingspeak through mqtt i setup everything like it is said here and my topic istopic out 0 home temperatura channels chnumber publish fields field1 mymqttapi the bridge config onnection thingspeak address mqtt thingspeak com 1883 notifications false cleansession true remote_clientid thing start_type automatic log_type all remote_username u00a0 remote_passwordthe log shows bridge raspberrypi thingspeak sending connect 1522950371 received connack on connection local raspberrypi thingspeak 1522950371 bridge local raspberrypi thingspeak sending unsubscribe mid 1 topic channels mychnumber publish fields field1 mywritekey 1522950371 received unsuback from local raspberrypi thingspeaksending publish to local raspberrypi thingspeak d0 q0 r1 m0 channels mychnumber publish fields field1 mymqttapi home temperatura so it adds local topic to my remote topicso i do not see anything in thingspeak in my channel u00a0 u00a0what am i doing wrong how to change so remote broker wo not change to topic with local topic thanks for help,0.5
cstapels,i am not clear which topics are on your pi and which you are sending to thingspeak but this topic name is not right for thingspeak mqtt channels publish fields field1 home temperatura the api key should be the write api key you would use the mqttapi key for connecting not for publish the channel write api key is at the end of the topic and then the field information goes in the message body have a look at the publish and subscribe pages at the top of the mqtt api page for the correct structure https www mathworks com help thingspeak mqtt api html,0.834158301353
agrisensezm,hello forum i am using arduino with sim808 shield to send data to thingspeak just starting my project now i got the arduino to send the data but something is wrong with the content or format since i am getting error 302 redirect thinking this has something to do with my api credentials i tried the user api key but with same effect currently i am using the write api key and this is what is sent and the response any ideas on where i am going wrong would be much appreciated channel id and api key replaced by xxx for this post connect okat cipsend 352post channels xxx bulk_update json http 1 1host api thingspeak comcontent type application jsoncontent length 223 write_api_key xxx updates created_at 2018 04 21 19 26 20 0200 field1 john johnson field3 73 field4 22 field5 33 send okhttp 1 1 302 foundcache control no cachecontent length 0location https api thingspeak com channels xxx bulk_update jsonconnection closeclosed,0.185420185328
agrisensezm,apologies i am busy transferring from ubidots to thingspeak and i was still connecting to ubidots i never changed to 184 106 153 149 now that i am connected the the right server however i am hit with error 400 can anyone see anything obvious that wrong with my syntax at cipsend 351post channels xxx bulk_update json http 1 1host api thingspeak comcontent type application jsoncontent length 221 write_api_key xxx updates created_at 2018 04 21 19 26 20 0200 field1 john johnson field3 70 field4 22 field5 33 send okhttp 1 1 400 bad requestserver nginx 1 7 5date sat 21 apr 2018 20 24 15 gmtcontent type text html charset utf 8content length 0connection keep alivestatus 400 bad requestx request id d2490a7b b110 451c 81e9 b7ff7a86d41d,0.244211107492
cstapels,it looks like you are sending only one update if this is true you should use the regular update endpoint https www mathworks com help thingspeak writedata html not the bulk update the format should be https api thingspeak com update jsonfor bulk update you can send many updates in a single command let us know if that works,0.875951528549
agrisensezm,thanks for the response cstapels i changed to the regular endpoint as you suggested also content type as per the document you shared above now it 400 bad request on the bulk write document https uk mathworks com help thingspeak bulkwritejsondata html at teh bottom it has an example of the full post this helps me to put together the whole message on the help doc you sent there is no example so it hard to know where i am going wrong i am using a gprs shield since my project will be deployed remotely so i cannot use the thingspeak arduino library this means i have to do the request manually but what you see on the serial screen is not always exactly the same as what ends up being sent to the gprs shield is there a way to check the post request as it was received on the thingspeak server side this is what i have now not entirely sure of the syntax of sending a single update post https api thingspeak com update json http 1 1 i tried this line with only update json http 1 1 same result host https api thingspeak comcontent type application x www form urlencoded write_api_key xxx created_at 2018 04 23 21 36 20 0200 field1 john johnson field3 56 field4 555 field5 444 latitude longitude tatus please check in send okhttp 1 1 400 bad requestserver nginx 1 7 5date mon 23 apr 2018 20 19 09 gmtcontent type text htmlcontent length 172connection close400 bad request400 bad requestnginx 1 7 5,0.763684988022
cstapels,make your content typeapplication jsonand for the regular update you need api_key not write_api_key sorry about that but i assure you there was an important reason for that change thanks for the feedback about a json encoded example on the write data page,0.921193003654
agrisensezm,i am trying all combinations of possible variations still 400 i get two different responses when changing the url and host in the second option the response seems a bit more lively the 3rd response is as verbose as the 2nd 4th response less verbose which suggests to me that host must remain api thingspeak com this is as far as i am getting but unless there is a clear example on exactly how all the brackets need to be i do not know what else to try post update json http 1 1host https api thingspeak comcontent type application json api_key xxx created_at 18 04 23 23 25 21 0200 field1 john johnson field3 66 field4 555 field5 444 latitude longitude tatus please check in send okhttp 1 1 400 bad requestserver nginx 1 7 5date mon 23 apr 2018 21 46 44 gmtcontent type text htmlcontent length 172connection close400 bad request400 bad requestnginx 1 7 5 post update json http 1 1host api thingspeak comcontent type application json api_key xxx created_at 18 04 23 23 25 21 0200 field1 john johnson field3 66 field4 555 field5 444 latitude longitude tatus please check in send okhttp 1 1 400 bad requestserver nginx 1 7 5date mon 23 apr 2018 21 51 02 gmtcontent type application json charset utf 8transfer encoding chunkedconnection keep alivestatus 400 bad requestx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800cache control no cachex request id 5549b316 fa3e 484d 80b5 3cc33da2c296set cookie request_method post path 100 post https api thingspeak com update json http 1 1host api thingspeak comcontent type application json api_key xxx created_at 18 04 23 23 25 21 0200 field1 john johnson field3 66 field4 555 field5 444 latitude longitude tatus please check in send okhttp 1 1 400 bad requestserver nginx 1 7 5date mon 23 apr 2018 21 55 50 gmtcontent type application json charset utf 8transfer encoding chunkedconnection keep alivestatus 400 bad requestx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800cache control no cachex request id 19887308 f15d 4c53 83be ce0236f390b3set cookie request_method post path 100 post https api thingspeak com update json http 1 1host https api thingspeak comcontent type application json api_key xxx created_at 18 04 23 23 25 21 0200 field1 john johnson field3 66 field4 555 field5 444 latitude longitude tatus please check in send okhttp 1 1 400 bad requestserver nginx 1 7 5date mon 23 apr 2018 22 00 39 gmtcontent type text htmlcontent length 172connection close400 bad request400 bad requestnginx 1 7 5,0.684067130089
hkuehn,hi i ran out of messages and waited until the year was over should not i be able to write again values to my channel it still shows you have run out of messages as of october 26 2017 u00a0 but under my account free messages start date 2017 12 05 is shown thanks in advancehenning u00a0,0.096977263689
Vinod,if your free messages start date is 2017 12 05 unless you have used up 3 million messages in two days very very unlikely you should be able to update your channel u00a0can you log out of thingspeak log back in and confirm that the message about having run out of messages is gone can you try updating a test channel with a single get using your browser does that update your channel if the answer to either of the above two questions is no please send me an email vcherian at mathworks com and we can set something up to investigate this,0.221660971642
hkuehn,hi thank you very much for your reply i have logged out and in again and tried updating with my arduino device as well as by using the brouwser but without success it still says 3000000 messages remaining and you have run out of messages as of october 26 2017 i will write a mail with the screenshot to that email,0.852619767189
hkuehn,vinod has cleared the cache now everything works well you are doing a great job thank you very much,0.966217279434
hugo11dom@gmail.com,vinod said if your free messages start date is 2017 12 05 unless you have used up 3 million messages in two days very very unlikely you should be able to update your channel u00a0can you log out of thingspeak log back in and confirm that the message about having run out of messages is gone can you try updating a test channel with a single get using your browser does that update your channel if the answer to either of the above two questions is no please send me an email vcherian at mathworks com and we can set something up to investigate this u00a0 u00a0looks like the same issue here could someone help thanks,0.223297476768
Nisreen,hello i am trying to download data from a google sheet and that works great on matlab and at least runs on thingspeak i use websave omedata csv urlofsheet using websave returns an extension i want thingspeak to read these values and run code on them but the normal csvread does not work i tried to find this saved value in my data imports and exports and cannot find it is there any way for thingspeak to read and work on what it has downloaded from google sheets and if not how can i get data from google sheets onto my channel,0.152288526297
cstapels,i looked at this fileexchange https www mathworks com matlabcentral fileexchange 39915 getgooglespreadsheet to see that you can export a google doc to matlab i was able to import my document in thingspeak using the formatoutfile webread https docs google com spreadsheet ccc key docid output csv pref 2 where docid is the google doc id which you can see in theurl when you open the doc you may have to adjust to doc sharing settings thingspeak has some tight limitations on the size of the file you can display but i think you can still load in a larger file and then manipulate it can you clarify what you mean by is there any way for thingspeak to read and work on what it has downloaded from google sheets where is the file downloaded in matlab,0.5
tkomar,maybe the forum can help me out i started receiving a response code 400 about weeks ago i am using the example api code for bulk data transfer posted below i have checked my account and it is way under the limit of messages here is my channel it has been operational for months https thingspeak com channels 357730anyone have recommendations thank you for comments update the thingspeakchannel with datavoid httprequest char csvbuffer csv format to bulk update this function posts the data to thingspeak server compute the data buffer length string data_length string strlen csvbuffer 1 close any connection before sending a new request client stop post data to thingspeak if client connect server 80 client println post channels channelid bulk_update http 1 1 client println host server client println user agent mw doc bulk update particle photon client println connection close client println content type application x www form urlencoded client println content length data_length client println client println csvbuffer else particle publish failure failed to update thingspeak channel delay 1000 wait to receive the response client parsefloat string resp string client parseint particle publish are sponse code resp print the response code 202 indicates that the server has accepted the response lastconnectiontime millis update the last conenction time,0.5
cstapels,what hardware are you using some restrictions on format for bulk updates that were not enforced before are now being enforced if you are using relative time format please make sure you are using integer time values you may have to round them if you used the example code from thingspeak documentation if that is not the issue consider removing the extra character in this linestring data_length string strlen csvbuffer 1 instead usestring data_length string strlen csvbuffer please let us know if that fixes your 400 error,0.277066797018
tkomar,the extra 1 added to data_length was the culprit i removed it per your suggestion and i am back to posting data here is the source of my code with hope it can be updated https www mathworks com help thingspeak bulk update a thingspeak channel using particle photon board htmlfyi i am using a particle photon many thanks for quick response,0.923870563507
apollyon,i started a project for smart parking and iam using a rfid tag in the car and rfid reader in the parking spot so the question i want to ask is the can i use a single channel to push one tag per one field and also weather or not field individually give lat long or not u00a0please advice or suggest better method,0.792105793953
cstapels,sounds like a great project for thingspeak u00a0i would use a channel for each tag u00a0 since the fields in a single update all share a single timestamp every time you post with a tag all the other tag fields would be updated with a null value latitude and longitude are available with each feed entry so if you have two fields updated in the same post you would not be able to have separate location information u00a0 however if the updates were from two separate devices they would be separate entries and they would each have their own location information still i urge you to use one whole channel per device your data will be much easier to sort and understand,0.856202542782
raytravel,i signed up for api thingspeak combut have no clue how to fill in below all i have is my email address help thanks ray u00a0 thingspeak settingsconst int channelid xxx string writeapikey xxxxxxxxxxxxxxxx write api key for your thingspeak channelconst char server api thingspeak com const int postinginterval 20 1000 post data every 20 seconds,0.5
cstapels,have a look at the getting started tutorial u00a0 its a nice quick overview that will answer a lot of your questions and help you get going to see the api keys click the api keys tab of your channel view,0.927696466446
bubba198,hi everyone something changed about a month ago and even the published example no longer works for thinghttp here the example which no longer works straight out of the thinghttp setup window https imgur com exvwcmyhow does one make it work again with whatever changes have occurred thank you b,0.248546898365
Vinod,thinghttp as such has not changed u00a0google changed the google finance website change the url field to https finance google com finance and everything else should work as is it will be interesting to see what additional changes come in november now that google has announced that the google finance page will be changing,0.779903650284
bubba198,thank you confirming that the url you suggested does work thanks maybe someone would update the example under thinghttp thank youvinod said thinghttp as such has not changed u00a0 google changed the google finance website change the url field to https finance google com finance and everything else should work as is it will be interesting to see what additional changes come in november now that google has announced that the google finance page will be changing u00a0 u00a0,0.924571096897
cstapels,also it looks like google changed the unique id to u00a0 ref_626307_l from u00a0 ref_626307_c u00a0 u00a0,0.5
bubba198,now google finance is completely broken none of the examples work and the new u00a0 ref_626307_c also does not work u00a0any ideas anyone b,0.157632261515
cstapels,google is making changes quite frequently u00a0 you can get the s p value and a bunch other values from marketwatch in your thinghttp enter https www marketwatch com in the url fieldenter get in the method fieldin the parse string field enter the xpath html body header div 2 div 1 div div 1 table tbody tr 2 td 4 bg quotethis will give the present value of the s p 500 not the change for the day,0.5
bubba198,cstapels thank you marketwatch did work none of the other sites work even though i copy the xpath using chrome just as i did for marketwatch u00a0the issue at hand is solved but i am curious nonetheless is there some kind of defect with using xpath if so many sites simply do not work even though i inspect the element carefully and copy and paste the xpath using the browser function no human typing it of course thanks b,0.229679584503
cstapels,many of these sites use code that calls some other process or script to populate the number you see u00a0 the xpath to the number you want is correct but the number is not yet there when you ask urlfilter to parse the page u00a0 the function does not wait for any other scripts to complete u00a0,0.780183255672
tochinet,i want to send some data to thingspeak but whatever i try i am only able to get logged and receive the entry id back but nothing gets written the code is u00a0void httpsend string field1 string field2 send 1 or 2 string to thingspeak if client connect tsserver 80 serial println connected to thingspeak construct api request body string body field1 body field1 if field2 length body field2 body field2 body added because it did not work no effect client println post update http 1 1 client println host api thingspeak com client println user agent esp8266 nothans 1 0 client println connection close client println x thingspeakapikey writeapikey client println content type application x www form urlencoded client println content length body length client println client print body no println in the original sketch serial print body client println u00a0 added because it did not work no effectunsigned long timeout millis added a response reception to detect errors get the entry_id while client available 0 if millis timeout 5000 serial println client connection timeout stopping client stop serial println are ceiving thingspeak response while client available body client readstringuntil serial print serial print body client stop whether connection was successful or not any idea what can be rong nothing is shown in the dashboard and the json export is a proof that the packet was sent and received but it says nothing else than field1 null,0.25094178319
cstapels,the format of your http post command seems to be fine you might want to remove the nothans and change it to tochicnet but that wont change how anything works here are some troubleshooting steps does the entry id increase each time you write can you write to the channel using a browser get command here is the format make sure you use the channel write api key https api thingspeak com update json api_key your_write_api_key field1 123can you output the variable you call field1 to the serial monitor just before you append it to the body to make sure something is there i see there is already a print command for the body variable what do you see in the serial monitor after serial println body u00a0 u00a0,0.710370540619
tochinet,does the entry id increase each time you write definitely and the server replies that number as body u00a0can you write to the channel using a browser get command u00a0here is the format make sure you use the channel write api key https api thingspeak com update json api_key your_write_api_key field1 123yes it works can you output the variable you call field1 to the serial monitor just before you append it to the body to make sure something is there i see there is already a print command for the body variable what do you see in the serial monitor after serial println body u00a0 u00a0depending on the values the body is u00a0 for example field1 5 0 field2 6 0,0.5
cstapels,you seem to be doing everything correct u00a0 if your channel is public can you share the channel number u00a0 otherwise can you show what the last update looks like you can use this in your browser https api thingspeak com channels your_channelid feeds last json u00a0,0.76382124424
tochinet,sure its public https thingspeak com channels 160089 u00a0last post is after my manual try on your request u00a0 created_at 2018 03 13t19 17 04 01 00 entry_id 262 field1 123 field2 null field3 null can it be linked with the decimal dot in the values i see that the entry_id or nulls have no quotes but the field1 value has,0.249601781368
cstapels,thingspeak can understand decimal values u00a0 if you want you can convince yourself with this command in your browserhttps api thingspeak com update json api_key your_write_api_key field1 12 3here are two more small things you can try the network strength example in the documentation does not send a line feed at the end of the post u00a0 i see some comments in your code that might indicate you already tried this also the string for body may not be printing to the client as expected u00a0 u00a0instead of u00a0client print body u00a0you cold try hard coding the output client println content length length field1 1 23 client print field1 1 23 u00a0and then if that works you can try it in two parts client print field1 client print string field1 u00a0 u00a0,0.5
tochinet,thanks for the proposal but it wo not work length is only a method of string it says undefined i tried many other variations in no particular order and when i focused on the content typeclient println content type application x www form urlencoded i tried to put the values in the url and it finally worked got as reply yes changed as json in the meantime as wellconnected to thingspeakfield1 123 23 field2 6 0receiving thingspeak responsehttp 1 1 200 okcontent type application json charset utf 8transfer encoding chunkedconnection closestatus 200 okx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800etag e78f0xxxxxxxxxxxxxxxxxx0203 cache control max age 0 private must revalidateset cookie request_method post path x request id c4cf 4dx runtime 0 067653x powered by phusion passenger 4 0 57date sun 18 mar 2018 16 04 46 gmtserver nginx 1 9 3 phusion passenger 4 0 57102 channel_id 160089 field1 123 23 field2 6 0 field3 null field4 null field5 null field6 null field7 null field8 null created_at 2018 03 18t16 04 46 00 00 entry_id 357 tatus null latitude null longitude null elevation null 0 u00a0any reason why there is a number before and after the json in the body,0.860841929913
cstapels,thanks for catching my bad syntax i should have writtenstring fielddata field1 12 3 client println content length fielddata length client print field1 1 23 u00a0i am glad you got it working can you show the line s where you put the values in the url u00a0i will look into the numbers you are getting before the json response i do not see those with an update from postman i can try it with an esp32 later u00a0 these are the other headers i see access control allow headers u00a0 u2192origin content type x requested withaccess control allow methods u00a0 u2192get post put options delete patchaccess control allow origin u00a0 u2192 access control max age u00a0 u21921800cache control u00a0 u2192max age 0 private must revalidateconnection u00a0 u2192closecontent type u00a0 u2192application json charset utf 8date u00a0 u2192sun 18 mar 2018 17 57 51 gmtetag u00a0 u2192 25ddfff65cd7e90df008cb339d7a0d11 erver u00a0 u2192nginx 1 9 3 phusion passenger 4 0 57status u00a0 u2192200 oktransfer encoding u00a0 u2192chunkedx frame options u00a0 u2192allowallx powered by u00a0 u2192phusion passenger 4 0 57x request id u00a0 u2192bbefaa13 c868 4a87 9870 813d94d89ae7x runtime u00a0 u21920 037343 u00a0and the json response is u00a0 u00a0 channel_id nnnnnn field1 2 field2 null field3 null field4 null field5 null field6 null field7 null field8 null created_at 2018 03 18t17 57 51 00 00 entry_id 8 tatus null latitude null longitude null elevation null u00a0is there anything else you are writing the serial monitor u00a0,0.804444909096
tochinet,thanks for your great and fast support the code as i changed it to post was now as below i am still considering moving back the body part to the request body it cleaner i am also wondering if the vs vs println could have an impact i read somewhere that the http protocol specified but i do not think arduino serial does i may be mistaken but at least for the first number u00a0 it could not be due to some other serial print etc because it part of the same loop however it could be some bogus content length for the second 0 there could always be another unspotted serial print somewhere void httpsend2ts string field1 string field2 send 1 or 2 strings to thingspeak if client connect tsserver 80 serial println connected to thingspeak construct api request body string body field1 body field1 if field2 length body field2 body field2 client print post update json serial print post update json client print body here as parameters client println http 1 1 end of the url line in http specs serial print body here as parameters serial println http 1 1 end of the url line in http specs client println host api thingspeak com client println user agent esp8266 d duino 0 666 client println connection close client println x thingspeakapikey writeapikey client println content type application x www form urlencoded client println content length body length client println empty line between headers and body client println body no println serial print body client print unsigned long timeout millis while client available 0 if millis timeout 5000 serial println client connection timeout stopping client stop serial println are ceiving thingspeak response while client available body client readstringuntil serial print one dot per line replied replaced by a real print for debug serial print body serial print body client stop whether connection was successful or not,0.228131502867
tochinet,error in the post above the backslash r and backslash n were not automatically escaped trying to repeat herei am also wondering if the u00a0vs vs println could have an impact,0.761837542057
tochinet,can not apparently edit the postings i obviously meant i am wondering if the backslach r backslash n vs backslash n vs println instead of print would have an impact,0.84485989809
cstapels,the code below works to post values u00a0 i think the difference is that you need to convert the output of body length to a string u00a0 you can also include the api key in the body and that saves one extra header and some lines of code string postdata api_key xxxxxxxxxxxxxxxx field1 2 i build this programatically see the example code in the soil moisture example client println post update json http 1 1 client println host api thingspeak com client println connection close client println content type application x www form urlencoded client println content length string postdata length client println client println postdata i have also observed the extra characters before and after the output for a device esp8266 we are looking into that and the ability to edit posts here,0.5
cstapels,the numbers before and after the response are the size of the remaining chunks in hex u00a0 the response includes the header transfer encoding chunked wiki link in your case there were 258 bytes in the response or 102 in hex u00a0 after the data there were 0 bytes remaining u00a0 this may be a device or library dependent issue postman does not generally show the bytes in the response u00a0 i did see it on an esp8266 with esp8266wifi h library you should consider using the thingspeak communication library u00a0 it is compatible with esp32 and takes care of a lot of these details for you u00a0 there are several examples in the arduino section of the documentation examples that show how to use the library including the sonar example u00a0 the process for esp32 will be very similar to arduino u00a0 if you are not already programming with arduino the esp32 network strength example in the documentation demonstrates how to set it up u00a0 u00a0there are also arduino examples that come with the thingspeak library,0.5
tochinet,thanks for the content length tip i will try tonight i looked at the library but in general arduino i have less experience with esp i am reluctant to use libraries because each one brings extra and often hidden dependencies my worst experience was with wrtc from leornardo miliani that was really nice until there were issues in the use of timer 2 then differences between 3 0 and 3 1 then lower level of support and after 2 years of use i had to drop it and re engineer whay i needed myself of course i learned a lot in the process though the thingspeak library looks nice but i did not complete my analysis it u00a0 obviously pretty complex because of the support of several cpus one concern is whether it could interact with my other uses of the wifi client currently fetching a weather underground prediction but i plan to add other functions in addition the closest example to what i want to do writing multiple voltages is not compatible with esp and also looks bloated with compiler directives this seriously reduces first sight attractivity,0.249074816704
Mohd Shanawaz,hello i am able to upload two string in two different field string str get https api thingspeak com update api_key xxxxxxxxxxxxxx field1 0 string temp field2 string temp2 u00a0how to upload two string in a single field can anyone help,0.5
cstapels,i would not recommend putting two strings in the same field u00a0 in the end i suspect it will make things more difficult u00a0 u00a0 if you need more than 8 fields consider using a second channel if you need to combine the two i would consider using the strcat function u00a0 this assumes you are posting from a c based device or posting from a matlab analysis u00a0 you may have to adjust the syntax below depending on the language you are using variable1 variable2 bufferdelimiter buffer strcat variable1 delimeter buffer strcat buffer variable2 get u00a0https api thingspeak com update api_key xxxxxxxxxxxxxx field1 string buffer,0.5
Mohd Shanawaz,thank you cstapels for your valuable reply i am working on arduino can you tell me how to write this function for it,0.886625766754
cstapels,i do not recommend putting both values in the same field u00a0 you can easily find examples for strcat and arduino elsewhere so that you can make sure i have the syntax correct u00a0here is a c reference for strcat u00a0 u00a0the first argument is the destination u00a0delimiter strcat variable1 delimeter buffer strcat variable1 variable2 get u00a0https api thingspeak com update api_key xxxxxxxxxxxxxx field1 string buffer,0.761104106903
Mohd Shanawaz,hello cstapels i am able to upload two values in same field but it is visible only in csv file and not on the graph on graph i am able to see only the first value can you help,0.301231920719
cstapels,thingspeak plots cannot interpret two values in the same field u00a0 this is another good reason to avoid putting two values in the same field u00a0 if you need to do this you can write a matlab analysis to read the channel and then split the strings i would consider using thingspeakread and strsplit and then plot or thingspeakplot,0.793092250824
Asdm,hi there i have problem sent data to thingspeak the data is not update in thingspeak i not sure either problem because of hardware or coding someone please help me my project is sent latitude and longitude to the thingspeak here my coding include liquidcrystal h liquidcrystal lcd 7 6 5 4 3 2 include softwareserial h softwareserial espserial softwareserial 8 9 rx txsoftwareserial gps 10 11 rx tx string str char str 70 string gpsstring char test gpgga string latitude no range string longitude no range int temp 0 i boolean gps_status 0 float latt longg string apikey replace with your channel thingspeak write api key u00a0boolean debug true void setup lcd begin 16 2 serial begin 9600 espserial begin 9600 gps begin 9600 lcd print have hicle tracking lcd setcursor 0 1 lcd print system delay 2000 gsm_init lcd clear espserial listen espserial println at cnmi 2 2 0 0 0 lcd print gps initializing lcd setcursor 0 1 lcd print no gps range gps listen get_gps delay 2000 temp 0 void loop get_gps thingspeakwrite latt 100 longg 100 delay 15000 u00a0 void showresponse int waittime espserial listen long t millis char c while t waittime millis if espserial available c espserial read if debug serial print c boolean thingspeakwrite float value1 float value2 espserial listen string cmd at cipstart tcp tcp connection cmd api thingspeak com api thingspeak com cmd 80 espserial println cmd if debug serial println cmd if espserial find error if debug serial println at cipstart error return false string getstr get update api_key 1yfhfyqf5t1cxhws field1 0 prepare get stringgetstr field1 getstr string value1 getstr field2 getstr string value2 getstr field3 getstr string value3 getstr send data length cmd at cipsend cmd string getstr length espserial println cmd if debug serial println cmd delay 100 if espserial find espserial print getstr if debug serial print getstr else espserial println at cipclose alert user if debug serial println at cipclose return false return true u00a0float conv_coords float in_coords initialize the location float f in_coords get the first two digits by turning f into an integer then doing an integer divide by 100 firsttowdigits should be 77 at this point int firsttwodigits int f 100 this assumes that f 10000 float nexttwodigits f float firsttwodigits 100 float thefinalanswer float firsttwodigits nexttwodigits 60 0 return thefinalanswer void serialevent espserial listen while espserial available if espserial find track vehicle temp 1 break else temp 0 void gpsevent gps listen gpsstring while 1 while gps available 0 checking serial data from gps char inchar char gps read gpsstring inchar store data from gps into gpsstring i if i 7 if gpsstring i 1 test i 1 checking for gpgga sentence i 0 gpsstring if inchar if i 65 gps_status 1 break else i 0 if gps_status break void gsm_init espserial listen lcd clear lcd print finding module boolean at_flag 1 while at_flag espserial println at while espserial available 0 if espserial find ok at_flag 0 delay 1000 lcd clear lcd print module connected delay 1000 lcd clear lcd print would isabling echo boolean echo_flag 1 while echo_flag espserial println ate0 while espserial available 0 if espserial find ok echo_flag 0 delay 1000 lcd clear lcd print echo off delay 1000 lcd clear lcd print finding network boolean net_flag 1 while net_flag espserial println at cpin while espserial available 0 if espserial find cpin ready net_flag 0 delay 1000 lcd clear lcd print network found delay 1000 lcd clear void get_gps gps listen gps_status 0 int x 0 while gps_status 0 gpsevent int str_lenth i latitude longitude int comma 0 while x str_lenth if gpsstring x comma if comma 2 extract latitude from string latitude gpsstring x 1 else if comma 4 extract longitude from string longitude gpsstring x 1 x int l1 latitude length latitude l1 1 l1 longitude length longitude l1 1 lcd clear float latt1 latitude tofloat latt conv_coords latt1 float longg1 longitude tofloat longg conv_coords longg1 lcd print lat lcd print latt lcd setcursor 0 1 lcd print long lcd print longg i 0 x 0 str_lenth 0 void init_sms espserial listen espserial println at cmgf 1 delay 400 espserial println at cmgs use your 10 digit cell no here delay 400 delay 400 void send_data string message espserial listen espserial println message delay 200 void send_sms espserial listen espserial write 26 void lcd_status lcd clear lcd print message sent delay 2000 lcd clear lcd print ystem ready int l1 latitude length latitude l1 1 l1 longitude length longitude l1 1 lcd clear lcd print lat lcd print latt lcd setcursor 0 1 lcd print long lcd print longg return void tracking espserial listen init_sms send_data have hicle tracking alert send_data your vehicle current location is espserial print latitude send_data string latt espserial print longitude send_data string longg send_data please take some action soon thankyou send_sms delay 2000 lcd_status,0.5
cstapels,sounds like a fun project can you tell us what you are tracking you may need a space between the get and update in the string you build to send your http command u00a0string getstr get update api_key 1yfhfyqf5t1cxhws field1 0 prepare get stringcan you describe what you see on the serial monitor u00a0 u00a0,0.5
Asdm,cstapels said sounds like a fun project can you tell us what you are tracking you may need a space between the get and update in the string you build to send your http command u00a0 string getstr get update api_key 1yfhfyqf5t1cxhws field1 0 prepare get string can you describe what you see on the serial monitor u00a0 u00a0 u00a0 u00a0my project is about to track vehicle when i sent track vehicle to the sim number gsm didnt sent back feedback message,0.5
rstacey,hi i have tried running your mqtt fx to thingspeak tutorial and i am not receiving data on my channel u00a0 the mqtt fx log shows i am successfully publishing data however on the thingspeak side my channel shows 0 entries u00a0 i could use some help on the thingspeak side debugging this thanks ralph,0.896036624908
JasonW,the log in mqtt fx only records that a publish message was sent successfully u00a0 it wo not tell you anything about what happens on service side u00a0 for example if the api key or channel number is wrong an error wo not show up in the mqtt fx log here is a handy list of things to check if mqtt publish is not working for you https www mathworks com help thingspeak troubleshoot mqtt publish html u00a0 u00a0,0.114945590496
rstacey,found the problem u00a0 i was using the mqtt api key in the publish link in mqtt fx u00a0 i replaced it with the write api key and all well u00a0 thanks,0.84971922636
kipk,hiwith an update each 15sec the timescale parameters seems a bit limited would be nice to have it completly dynamic and not limited to some values actual is 10 20 720 this would allow me to generate graph with different time range always using the same are solution by adjusting dynamically the timescale to export the same volume of data if it not possible could you add 1 mn and 5mn to the timescale even a bit more if you can thanks,0.798995912075
kipk,ho another thing when exporting using timescale parameter it starts to jump from first value the problem with that is you always miss the last fresh value then using timescale should timescale from the last values to the first missing the first one is mostly less important than the last fresh data this also solve some charts api display problem like generating highstock with highchart js missing last data can makes important gaps on the chart navigator bar at loading and cause nav issue,0.0178310871124
kipk,i hope some teamspeak guy will pass here i have found a more important issue i was wondering why i could not get like one month of field data using timescale to preserve bandwidth whatever the timescale parameter i use it only gives me 34 hours of last data one data each 15 it seems the timescale filtering is applied after the export limit i mean if you have like 2 102 400 entries in your channel corresponding at sensors updating each 15sec for a year and you want to grab this year of data with a timescale of 1440 this should gives 1460 entries far better than grabing the 2102400 just for generating a year graph but you can not because it will filter the last limited entries looks to be 8000 giving only 5 result 8000 1440 there no sense of having a timescale parameter capable of 1440 if the source data is filtered before to the last 8000 entries it should work the other way first it filters data with timescale from your database then if there more than the limit only deliver the last 8000 this looks more a bug than a feature or have i missed something any input from thingspeak devs thanks,0.137285649776
schlaubstar,i would like to push this issue as i encountered the same problem it a real pain and api bug that should be fixed a simple setup i assume 1 month has 30 days in average log data for a year in a 15 min interval try to query a range of one year you will be limited to 8000 points 8000 points 96 points per day 30 days per month 2 7 months instead of a year try the logical consequence reduce the interval to 60 mins which should give you 8000 24 30 11 1 months almost a year the real result however is that you will get the datapoints within a 2 7 months timespan but a lower resolution so changing the interval parameter does not help you at all to change the length of a plottable timespan could you please have a look at this issue as this heavily limits the useability,0.0965782999992
Vinod,we will look into this and get back on this thread,0.800593197346
Kamac,anything new regarding this weird 8000 points limit behaviour when using timescale average median sum uploading data at 15 second interval for example to have one year daily averages data you would normally need minimal bandwidth and only one api call for 364 values but to get this the way it is implemented now you would have to make 365 24 60 4 8000 263 api calls each giving you only 1 4 days worth of data so 263x more connections and a lot bigger bandwidth use which is not really feasible way of getting long term averages if you upload data only once per minute you would still have to make 365 24 60 8000 66 api calls each worth 5 5 days of data only to get one year worth of daily averages it is practically the same if you want monthly averages that would otherwise only take one api call of 12 data points this is really annoying and complicates making longer term averages comparisons inefficient as it takes a lot of unnecessary u00a0 internet traffic thingspeak bandwidth load is there a plan to change this behaviour in near future are there any better more efficient ways to do it thanx and best regards dejanslovenia,0.5
lorenzo.chiesi,hi all i am wondering about the possibility to see implemented in a future api to retrieve max and min value other than average and sumwhen you plot hystorical data as for example temperature having api for retrieve daily average is great anyway will be extremly useful have also api to retrieve min and max u00a0this let you create plot showing the daily variation min avg max is the perfect statistic set to rapresent hystorical data series that has intrinsecally a cycle like most environmental dfata that has daily year cycle many thanks for take it in consideration lorenzo,0.96180331707
Kamac,just my thought it would be very usefull to get also min and max actually i was pretty surprised it is not implemented yet i do not want to put too much load on server internet connection and also speedup display of daily weekly monthly data so i download in 10 15 60min averages but this way i miss all the peaks that are somehow interesting in monitoring heat pump operation now if i want to know the peaks which i do i have to download raw data which is a lot slower and takes more processing in case of data stored every 15 seconds it takes 60x bandwidth to calculate min max for every 15minutes even 240x for hourly stats on the other hand when server is calculating averages medians over the raw data set determining min max values too would be trivial and would take just a little bit of extra processing and practically no additional bandwidth btw it would be very nice to also have 5min and maybe even 1min timescale average median sum options because as 10min might be enough for most temperature changes is can be too rough for power and many other measurements i really wish and hope than implementing min max and 5min interval will be reconsidered in near future best regards dejanslovenia,0.246525853872
Master1001,hi folks i would like to stream sensor data with the app ensor node sensor node u00a0via mqtt to thingspeak i use sensor node because i need the microphone output with no programming background i struggle a little bit to bring together what thingspeak needs and what i can put in the configuration of the app ud83d ude09thingspeak needs channel id api key etc but the app allows me to fill inurl u00a0portuserpasswordthe url and port are clear but where can i add the channel configuration and api key or will the app just not work with thingspeak every help is much appreciated thanksmarkus,0.773748993874
cstapels,i am not sure this application will be a good match to thingspeak u00a0 if you are trying to stream real time data the update limits may prevent you from capturing all your data u00a0 if the app is posting an update or a filtered response to thingspeak that would match better u00a0 u00a0does the sensor node application have a built in mqtt interface u00a0 if so you will need to be able to specify the topic that is where the channel information and api key go u00a0 have a look at the mqtt api u00a0documentation to get the correct format especially publish to a channel feed u00a0or u00a0publish to a channel field feed,0.817013025284
Chip Stewart,having just moved i stumbled across a wemos d1 with a dht11 and upon which i had flashed u00a0daniel eichhorn esp8266 dht thingspeak logger u00a0 https github com squix78 esp8266 dht thingspeak logger a year or two ago i fired it up last night and it logged data until early this morning now for no apparent reason it has stopped working even though i can post the same url through a browser reflashing did not seem to help the serial monitor shows wifi connectedip address 192 168 0 168connecting to api thingspeak comconnection failedconnecting to api thingspeak comconnection failedconnecting to api thingspeak comconnection failedconnecting to api thingspeak comconnection failed which runs indefinitely i will post the code below but it is pretty much stock i tried changing my api write key but it did not make any difference any ideas the mit license mit copyright c 2015 by daniel eichhornpermission is hereby granted free of charge to any person obtaining a copyof this software and associated documentation files the oftware to dealin the software without restriction including without limitation the rightsto use copy modify merge publish distribute sublicense and or sellcopies of the software and to permit persons to whom the software isfurnished to do so subject to the following conditions the above copyright notice and this permission notice shall be included in allcopies or substantial portions of the software the software is provided as is without warranty of any kind express orimplied including but not limited to the warranties of merchantability fitness for a particular purpose and noninfringement in no event shall theauthors or copyright holders be liable for any claim damages or otherliability whether in an action of contract tort or otherwise arising from out of or in connection with the software or the use or other dealings in thesoftware see more at u00a0http blog squix ch include esp8266wifi h include would ht h begin settings const char ssid ssid const char password password const char host api thingspeak com const char thingspeak_api_key api write key dht settings define dhtpin d4 what digital pin we are connected to if you are not using nodemcu change d6 to real pin uncomment whatever type you are using define dhttype dht11 dht 11 define dhttype dht22 dht 22 am2302 am2321 define dhttype dht21 dht 21 am2301 const boolean is_metric true update every 600 seconds 10 minutes min with thingspeak is 20 secondsconst int update_interval_seconds 300 end settings initialize the temperature humidity sensordht dht dhtpin dhttype void setup serial begin 115200 delay 10 we start by connecting to a wifi networkserial println serial println serial print connecting to serial println ssid wifi begin ssid password while wifi status wl_connected delay 500 serial print serial println serial println wifi connected serial println ip address serial println wifi localip void loop serial print connecting to serial println host use wificlient class to create tcp connectionswificlient client const int httpport 80 if client connect host httpport serial println connection failed return read values from the sensorfloat humidity dht readhumidity float temperature dht readtemperature is_metric we now create a uri for the requeststring url update api_key url thingspeak_api_key url amp field1 url string temperature url amp field2 url string humidity serial print are questing url serial println url this will send the request to the serverclient print string get url http 1 1 host host connection close delay 10 while client available delay 100 serial print read all the lines of the reply from server and print them to serialwhile client available string line client readstringuntil serial print line serial println serial println closing connection go back to sleep if your sensor is battery powered you might want to use deep sleep heredelay 1000 update_interval_seconds,0.5
Chip Stewart,okay nevermind u00a0 everything seems to be working again,0.115411400795
shiva3212,u00a0hi i am trying to upload sensor data to thingspeak i am using max31856 temperature sensor i am receiving correct u00a0data onserial monitor but on thingspeak the data shown is 0 please find the code include thingspeak h include spi h include timer h timer t include adafruit_max31856 h include softwareserial h include stdlib h softwareserial serial1 2 3 adafruit_max31856 max adafruit_max31856 10 define heart 13char api_key ym9d34ll7cjsz9n7 enter your write api key from thingspeakstatic char posturl 150 int temptc void httpget string ip string path int port 80 byte degree 8 0b00011 0b00011 0b00000 0b00000 0b00000 0b00000 0b00000 0b00000 void setup serial begin 115200 serial println max31856 thermocouple test max begin max setthermocoupletype max31856_tctype_k serial print thermocouple type switch max getthermocoupletype case max31856_tctype_b serial println b type break case max31856_tctype_e serial println e type break case max31856_tctype_j serial println j type break case max31856_tctype_k serial println k type break case max31856_tctype_n serial println n type break case max31856_tctype_r serial println r type break case max31856_tctype_s serial println type break case max31856_tctype_t serial println t type break case max31856_vmode_g8 serial println voltage x8 gain mode break case max31856_vmode_g32 serial println voltage x8 gain mode break default serial println unknown break serial1 begin 115200 serial begin 115200 serial println connecting wifi connect_wifi at 1000 connect_wifi at cwmode 1 1000 connect_wifi at cwqap 1000 connect_wifi at rst 5000 connect_wifi at cwjap tenda_abd7a0 anjay 123 10000 serial println wifi connected pinmode heart output delay 15000 t oscillate heart 1000 low t every 15000 send2server void loop int val analogread 10 converting to degree celsius float temptc val 50 0f 1023 0f temptc max readthermocoupletemperature serial println temptc delay 15000 t update void send2server char temptcstr 8 dtostrf temptc 5 3 temptcstr sprintf posturl update api_key ym9d34ll7cjsz9n7 field1 0 api_key temptcstr httpget api thingspeak com posturl 80 get https api thingspeak com update api_key dxie1hocwvuci8gh field1 0void httpget string ip string path int port int resp string athttpgetcmd get path http 1 0 at cipstart tcp 192 168 20 200 80 string attcpportconnectcmd at cipstart tcp ip port connect_wifi attcpportconnectcmd 1000 int len athttpgetcmd length string atsendcmd at cipsend atsendcmd len connect_wifi atsendcmd 1000 connect_wifi athttpgetcmd 1000 void connect_wifi string cmd int t int temp 0 i 0 while 1 serial println cmd serial1 println cmd while serial1 available if serial1 find ok i 8 delay t if i 5 break i if i 8 serial println ok else serial println error,0.5
cstapels,have a look at the line where you construct your write string sprintf posturl update api_key ym9d34ll7cjsz9n7 field1 0 api_key temptcstr i would add a write to the serial monitor of posturl after this line so you can see what you are constructing as i see it you are constructing a line that says write zero to my channel which is what you are seeing u00a0see the documentation for write data to get the appropriate format also look over the documentation for sprintf especially where it shows the specifier,0.5
BrianD,i am a complete beginner trying to understand how this all works i have set up a talkback app and i can add in commands from an arduino esp8266 i am now trying to use postman to try out all the commands i am cutting and pasting the commands directly from the apps page so i know they have the correct key etc but with the exception of accessing the last command executed which does work every submission from postman results in the page you were looking for does not exist 404 clearly i am missing something basic and would appreciate any help,0.234643667936
cstapels,can you share a sample of the url you are trying and what action you expected add a command get a command update a command etc u00a0 you can erase the api key to keep the control private u00a0 make sure you indicate what verb you have set as well get put post etc,0.5
BrianD,thanks for responding i have loaded 10 commands onto a queue from a pretzel board i can see them all there u00a0as an example i am trying to delete one of the commands using the api i have pasted the url below with the verb delete i have pasted in the command id i am expecting the command string of the deleted command to come back the response is the page you were looking for does not exist 404 u00a0i am clearly doing something wrong but i can not see whaturlhttps api thingspeak com talkbacks 22922 commands 11473319 json api_key xxxxxxxxxxxxxxxxxx u00a0,0.168311238289
cstapels,i was just able to complete a delete of talkback command using postman u00a0 i would check the body settings and the api key u00a0 the api_key needs to be the talkback api key and the body setting should be x www form urlencoded,0.307754576206
SRT392,i am able to send an sms u00a0via twilio using thinghttp but the message i send is hardcoded within thinghttp here is the way it looks in thinghttp body to 167xxx89x63 from 16x88xxx731 body hello world u00a0i am only able to send hello world since it hardcoded into the body within thinghttp i need to send real messages data from my app as an sms message is there a way to create the url in my app that allows me to send data to twilio via thinghttp u00a0thanks for the help,0.252606630325
rw950431,there is this in the documentation and this thread the range of replacement strings are pretty limited u00a0 for a more flexible solution you might be able to use a matlab analysis and the webwrite matlab command,0.237316548824
SRT392,success i am now able to send an sms containing data from my app using twilio via thinghttp use code from http www instructables com id send sms from arduino over the internet using enc2 step3 arduino side you also must edit thinghttp body to look like the following body from 16xxxxx731 to 167xxxxx263 body message,0.709717869759
Super ME engineer,hello str329 u00a0 u00a0 u00a0i should fill u00a0 from 1xxxxx732 to 167xxxxx263 body ooooo into u00a0body box when i u00a0edit u00a0thinghttp to send sms via thinghttp to twilio doube or single u00a0 u00a0 btw i am new guy may i ask what is content type box fill application x www form urlencoded thanks,0.963778436184
faizulmustafiz,hi srt392i have tried every thing like its in the tutorial body to 88017 080249 from 13203 4699 body message or from 13203 4699 to number body message but its not working the error i get view thinghttp request response is21211the to number 88017 080249 is not a valid phone number https www twilio com docs errors 21211400my number is verified by twilio and when i use send sms from twilio its working but when i am trying to send sms via thinghttp it not working any suggestions,0.0995989739895
raghunow,hi guys u00a0i am facing a similar issue i am able to send an sms from thingspeak to a us number but not to an indian number however i am able to send an u00a0sms u00a0from twilio to the indian number this confirms that this number is verified and also that i am using the correct format in thingspeak u00a0i also tried using u00a0 forcedelivery true but it still doesnt u00a0work and i get this message code 21211 message the to number 9198xxxxxx49 is not a valid phone number more_info https www twilio com docs errors 21211 tatus 400,0.197717636824
irproject,raghunow said hi guys u00a0i am facing a similar issue i am able to send an sms from thingspeak to a us number but not to an indian number however i am able to send an u00a0sms u00a0from twilio to the indian number this confirms that this number is verified and also that i am using the correct format in thingspeak u00a0i also tried using u00a0 forcedelivery true but it still doesnt u00a0work and i get this message code 21211 message the to number 9198xxxxxx49 is not a valid phone number more_info https www twilio com docs errors 21211 tatus 400 u00a0 u00a0hi u00a0raghunow i am having the same problem did you figure out a way how to solve it does anyone else knows how to solve it i am frustrated thnaks,0.215703010559
logonutility,thanks a lot to give suggestions i also want to integrate api for my business,0.893245458603
samuel.thf,solved replace with 2b for international mobile number,0.5
mtmtntop,i am looking for some help with the coding to post to my channel u00a0 this is a sketch to post a single value from a one wire network u00a0 i have cut and pasted the code from here http internetofthinking blogspot com 2016 02 upload ds18b20 temperature sensor data htmlmy serial monitor shows the temperature correctly and that the wifi is connected it is just not posting to my channel on thingspeaki know i can establish the connection from my sparkfun esp8266 because i ran this sketch from thingspeak and it posts correctly on the field 1 graph u00a0 u00a0https www mathworks com help thingspeak continuously collect data and bulk update a thingspeak channel using an arduino mkr1000 board or an esp8266 board htmlalthough these do entirely different things i am not able to see why the temperature is not being posted to my channel from the first sketch i have listed above u00a0 i have double triple checked my write api key even tried resetting it with no success u00a0 u00a0does anyone see any coding issues u00a0 thanks,0.5
cstapels,have a look at the soil monitor example which shows how to use client commands to make http requests u00a0the thingspeak communication library makes it even easier to interact with thingspeak using your devices u00a0 the proximity sensor example shows both reading and writing with thingspeak using the library the sample code you posted has an oddly formed post string but i tested your code removing the onewire and dallastemperature libraries and it still works for me u00a0 i am pretty sure i have tested using these libraries as well but i did not test with your code in your sample code poststr contains the api key and then field1 and then data u00a0 according to the doc page on writing data the post string should begin with field1 u00a0 i have tested with an in front and this works too u00a0 even with the api key in the poststr it worked for me to post to my channel u00a0 u00a0string poststr apikey u00a0 u00a0poststr field1 does the number of entries increase on your channel view you may be accidentally posting data that thingspeak thinks is a string and that is why you do not see it in your plot you can try exporting your data is there are entries that you do not see on the plot also you can try removing the dallas libraries and posting a constant as a test temp 123,0.857386827469
mtmtntop,solved with comments about learning the hard wayyou were right u00a0 there was not anything wrong with the code taken from the website i referred to u00a0 in the end i started all u00a0 over cut and pasted it and it worked u00a0 here are 2 things i came across that may help other totally inexperienced code writers like me 1 u00a0 the thingspeak read and write keys use both o the letter o and 0 zero u00a0 i only found this out by accident resetting my api codes and the new one had both characters u00a0 if you work in the world of vin numbers for cars for example the letter o is never used u00a0 if it looks like an o its really a zero u00a0 but as i found out this is not a universal truth 2 u00a0 if you are getting a wifi connected message on the serial monitor but nothing is happening on thingspeak try inserting a piece of code that returns the response from thingspeak u00a0 this may help point you in the right direction u00a0 an example is below taken from here https www mathworks com help thingspeak continuously collect data and bulk update a thingspeak channel using an arduino mkr1000 board or an esp8266 board html post data to thingspeak if client connect server 80 client println post channels 418168 bulk_update json http 1 1 replace your channel id with your thingspeak channel id client println host api thingspeak com client println user agent mw doc bulk update arduino esp8266 client println connection close client println content type application json client println content length data_length client println client println data else serial println failure failed to connect to thingspeak delay 250 wait to receive the response client parsefloat string resp string client parseint serial println are sponse code resp print the response code 202 indicates that the server has accepted the response jsonbuffer 0 reinitialize the jsonbuffer for next batch of data jsonbuffer 1 0 lastconnectiontime millis update the last connection time thanks for the help,0.212848097086
alexanderott,hallo community i am neewbe in the world of iot and want to send a data from ttn the things network to thingspeak so my question is what is the best way to do it many thanks,0.898086965084
nicolas@sound-force,hi there this is a very basic thing but i am just beginning and i can not find the solution using google when i increase my iframe width and height the outside frame gets bigger but the graphs itself stay the same size see for yourself i have 2 graphs on this page http sound force nl fermenter htmlthanks in advance nicolas,0.5
Hans,welcome to the community try using the auto sizing feature you change your iframe src url u00a0to something like the following http thingspeak com channels 423600_id charts 2 width auto height auto,0.849857509136
nicolas@sound-force,thanks a lot hans this is perfect,0.98760163784
Gustavo_JE,solicito ayuda con el siguiente problema tengo un canal con 8 fields que se actualizan cada 10 minutos mediante 2 get ya que cuando intentaba actualizar los 8 fields con un solo get los u00faltimos 2 recibian null el problema puntual es que dicho canal estuvo un poco m u00e1s de 2 d u00edas recibiendo datos pero luego los fields 4 y 5 recibian solo null utilizo un arduino mega en conjunto con un modulo esp12 y el numero del canal es u00a0417156 u00a0desde ya muchas gracias,0.0286716520786
piajola,gustavo yo uso un arduino uno con esp01 con comandos at y hasta ahora funciona podrias decir tu metodo das poca informacion a ver si te puedo ayudar opinar podria ser que los numeros que mandas son numeros y debes mandar trings pero estoy hablando en adivinanza porque no se que haces saludos u00a0,0.171201646328
Gustavo_JE,hola piajola gracias por responder u00a0elcodigo que utilizo es el siguiente u00a0 u00a0 u00a0 u00a0 u00a0if millis periodo_refresco_wifi 600000 flag_primer_envio false u00a0 u00a0 refresco cada 10 minutos u00a0 u00a0 u00a0 wdt_reset u00a0 u00a0 u00a0 u00a0 u00a0 thingsupdate u00a0 u00a0 u00a0 u00a0 u00a0 serial println thingsupdate ejecutada u00a0 u00a0 u00a0 u00a0 u00a0 primerenvio millis u00a0 u00a0 u00a0 u00a0 u00a0 flag_primer_envio true u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 if millis primerenvio 15000 flag_primer_envio true u00a0 u00a0 u00a0 wdt_reset u00a0 u00a0 u00a0 u00a0 u00a0 thingsupdate2 u00a0 u00a0 u00a0 u00a0 u00a0 serial println thingsupdate2 ejecutada u00a0 u00a0 u00a0 u00a0 u00a0 flag_primer_envio false u00a0 u00a0 u00a0 u00a0 u00a0 periodo_refresco_wifi millis u00a0 u00a0 u00a0 u00a0en esta porcion de codigo me aseguro de enviar los datos cada 10 minutos una primera parte con 6 fields y luego un segundo mensaje con los 2 restantes 15 segundos despues las funciones que son llamadas son las siguientes void thingsupdate u00a0 u00a0 funcion que envia la informacion a thingspeak u00a0 wdt_reset u00a0 u00a0 char buffer 200 u00a0 u00a0 u00a0 u00a0 funcion para convertir un dato tipo float en un string u00a0 s_temp_comp_01 dtostrf temp_comp_01 4 1 buffer the format is dtostrf floatvar stringlengthincdecimalpoint numvarsafterdecimal charbuf u00a0 s_temp_in_t dtostrf temp_in_t 4 1 buffer u00a0 s_temp_out_t dtostrf temp_out_t 4 1 buffer u00a0 s_temp_in_h dtostrf temp_in_h 4 1 buffer u00a0 s_temp_out_h dtostrf temp_out_h 4 1 buffer u00a0 s_a_rms dtostrf a_rms 4 1 buffer u00a0 u00a0 string cmd at cipstart tcp u00a0 cmd ip u00a0 cmd 80 u00a0 serial3 println cmd u00a0 delay 2000 u00a0 if serial3 find error u00a0 u00a0 u00a0 return u00a0 u00a0 u00a0 u00a0 cmd msg u00a0 cmd field1 u00a0 cmd s_temp_comp_01 u00a0 cmd field2 u00a0 cmd s_temp_in_t u00a0 cmd field3 u00a0 cmd s_temp_out_t u00a0 cmd field4 u00a0 cmd s_temp_in_h u00a0 cmd field5 u00a0 cmd s_temp_out_h u00a0 cmd field6 u00a0 u00a0cmd s_a_rms u00a0 cmd field7 u00a0 cmd s_caud_t u00a0 cmd field8 u00a0 cmd string caud_h u00a0 cmd u00a0 serial3 print at cipsend u00a0 serial3 println cmd length u00a0 if serial3 find u00a0 u00a0 u00a0 serial3 print cmd u00a0 u00a0 fin funcion thingspeak update u00a0 u00a0void thingsupdate2 u00a0 u00a0 funcion que envia la informacion a thingspeak u00a0 wdt_reset u00a0 u00a0 char buffer 200 u00a0 u00a0 u00a0 u00a0 funcion para convertir un dato tipo float en un string u00a0 float f_caud_h caud_h u00a0 s_caud_t dtostrf f_caud_h 5 1 buffer u00a0 u00a0 string cmd at cipstart tcp u00a0 cmd ip u00a0 cmd 80 u00a0 serial3 println cmd u00a0 delay 2000 u00a0 if serial3 find error u00a0 u00a0 u00a0 return u00a0 u00a0 u00a0 u00a0 cmd msg u00a0 cmd field1 u00a0 cmd s_temp_comp_01 u00a0 cmd field2 u00a0 cmd s_temp_in_t u00a0 cmd field3 u00a0 cmd s_temp_out_t u00a0 cmd field4 u00a0 cmd s_temp_in_h u00a0 cmd field5 u00a0 cmd s_temp_out_h u00a0 cmd field6 u00a0 cmd s_a_rms u00a0 cmd field7 u00a0 cmd s_caud_t u00a0 cmd field8 u00a0 cmd string caud_t u00a0 cmd u00a0 serial3 print at cipsend u00a0 serial3 println cmd length u00a0 if serial3 find u00a0 u00a0 u00a0 serial3 print cmd u00a0 u00a0 fin funcion thingspeak update u00a0la razon por la que uso 2 funciones separadas es porque cuando intent u00e9 actualizar los 8 campos al mismo tiempo solo recib u00eda los primeros 6 y los u00faltimos 2 siempre recib u00edan null esto andubo perfectamente durante un poco m u00e1s de 2 d u00edas sin embargo desde hace al menos unas 24 horas los campos 3 4 y 5 solo reciben null perdon por el formato en que presento el c u00f3digo u00a0,0.81584495306
piajola,gustavo para poder usar el menor tiempo en comunicacion y ver en la pc para debugear siempre hay problemas yo uso altsoftserial library de prjc que va bien a 57600 en el arduino uno y creo que hay tiempo para mandar los 8 campos mas el status en mega con dos seriales hardware a 115200 no deberia faltarte tiempo creo para que wdt_reset pregunto yo hago altser hacia el esp serial hacia la pc cuando debugeo tcp connection string cmd at cipstart tcp cmd 184 106 153 149 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 no api thingspeak com cmd 80 altser println cmd if altser find error mi firmware actual pide mayusculas if altser find error u00a0 serial println at cipstart error u00a0 eperau 8000 espera segun elapsedmillis h return preparar get string string getstr get update api_key getstr apikey getstr field1 getstr string strtemp getstr field2 getstr string strhume getstr r n r n u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 bien clarito 2 ret 2 nl hay que usar el quebrado invertido en vez del para poderlo escribir en el forum cuantos caracteres voy a mandar cmd at cipsend cmd string getstr length altser println cmd if altser find altser print getstr else altser println at cipclose alertar usuario que no paso nada esta vez serial println at cipclose copialo al ide arduino y dile que le de autoformatoyur opinion plis u00a0 hay que seguirla hasta que te funcione u00a0,0.5
Gustavo_JE,yo utilizaba un solo r n al final del string cual es la diferencia al usar 2 probando un poco m u00e1s encontre un comportamiento extra u00f1o tal vez hayas podido deducir que mi programa lee algunas temperaturas y 2 caudales de agua y encontre que cuando tengo efectivamente se u00f1al de caudal la transmision se realiza sin problemas en un momento cerr u00e9 el caudal y cuando le toc u00f3 actualizar la informaci u00f3n descubr u00ed que solo se enviaba el segundo mensaje con el caudal 0 como corresponde pero las temperaturas nunca las envi u00f3 es extra u00f1o pues no deber u00eda funcionar as u00ed podr u00e1 tal vez ser un problema con la funci u00f3n string caud_t cuando el caudal es cero u00a0gracias,0.128036737442
piajola,que 2 r n es el doble de lo que usas u00a0 en serio no se pero en algun lado lo lei que asi es con el esp y arduinolas lagrimas es lo que forja la experienciayo uso termite https www compuphase com software_termite htm no se instala no se mete en el registry es chico es rapido etc etc at cipstart tcp api thingspeak com 80 at cipsend 77 get update api_key ___el_api_key___ field1 00 00 field2 00 00 field3 00 00prueba esas tres lineas y veras que los ceros no tienen problemas termite los envia como string y ts los graba valor cero numerico lo acabo de probar asi que copyalo y pastealototal has probado mandar los 8 campos de un solo viaje prueba string tu valor numerico regresado por tu sensor y tambien juega con los parametros de dtostrf siempre me paso un dia con esta cuestion del valor del sensor y mandarlo por internet continuara,0.5
Gustavo_JE,l u00e1grimas montones de ellas u00a0hasta ahora parece que todo volvio a funcionar actualizar u00e9 si es que ocurre alg u00fan cambio u00a0muchas gracias por tu ayuda y apoyo moral xd,0.733375251293
jacktheripper125,hiall was going well with thingspeak untill just recently when i wanted to use the last entry the problem is because my matlab skills suck i am parsing 4 lots of data every 20 min so it updates my data one at a time all ok but now i want the last data for gauges it shows null and then whatever it updated last is there any way to get the last good data reading instead of u00a0 created_at 2018 02 06t19 27 16z entry_id 3530 field1 null field2 null field3 null field4 87 u00a0all i get is 87 for my gauge any ideas that doesnt involve breaking my working matlab install,0.0133256018162
cstapels,mr theripper do you want just the last entry in a field u00a0 there is a specific rest call for last entry in a field u00a0 as long as there is a number in the last 8000 entries the read last field entry should work for you i assume you are presently reading the last entry in the feed not the field which is why you get all the null values the syntax is similar for example u00a0https api thingspeak com channels 12397 fields 4 last json if that not what you were looking for please let me know u00a0 u00a0,0.254834264517
dpolukhin,i am using different mqtt clients but it seems that all of them have similar problems server closes connection after subscription here is how it looks with u00a0mosquitto_sub mosquitto_sub d v u user p token h mqtt thingspeak com p 8883 capath etc ssl certs t channels 107178 subscribe json i mqttclient mqtt12684 sending connectclient mqtt12684 received connackclient mqtt12684 sending subscribe mid 1 topic channels 107178 subscribe json qos 0 client mqtt12684 received subacksubscribed mid 1 0client mqtt12684 sending connectclient mqtt12684 received connackclient mqtt12684 sending subscribe mid 2 topic channels 107178 subscribe json qos 0 client mqtt12684 received subacksubscribed mid 2 0 c u00a0it seems that it is somehow related with subscription limits for free account u00a0few first attempts worked for me but now i get this error even if i do not have active connection it seems like my old subscriptions that are not active anymore i terminated mosquitto_sub are counted as active that is not true,0.5
JasonW,i am looking into this do you also have subscriptions on channel 111206 u00a0 it looks like those are still marked as active on our side,0.223981201649
dpolukhin,i used to have 1 active subscription to u00a0111206 from openhab to make sure that it is really only 1 connection i removed openhab subscriptions completely and restarted openhab now it seems that problem is gone so it looks like it was something on my side now i can have 3 simultaneous connections with mosquitto_sub really sorry for false alarm,0.0701276659966
BiologyWatcher,i recently added 4 fields for a total of 6 and since then i can not seem to pinpoint a weird bug that only the latest updated value is returned on an api call under feeds however the graphs are working just fine and i can see the data is there here a small snippet of json from my channel channel id 182539 name flower room would escription collects flower room data latitude 0 0 longitude 0 0 field1 room temperature field2 room humidity field3 are servoir ph field4 are servoir ec field5 intensity at canopy field6 co2 addition created_at 2016 11 12t23 30 52 07 00 updated_at 2018 02 05t17 03 12 07 00 last_entry_id 453 feeds created_at 2018 02 05t16 21 27 07 00 entry_id 354 field1 null field2 null field3 5 91 field4 null field5 null field6 null created_at 2018 02 05t16 21 43 07 00 entry_id 355 field1 null field2 null field3 null field4 2 15 field5 null field6 null created_at 2018 02 05t16 21 59 07 00 entry_id 356 field1 null field2 null field3 null field4 null field5 13639 407 field6 null created_at 2018 02 05t16 22 16 07 00 entry_id 357 field1 null field2 null field3 null field4 null field5 null field6 1965 53 created_at 2018 02 05t16 23 01 07 00 entry_id 358 field1 26 23 field2 null field3 null field4 null field5 null field6 null created_at 2018 02 05t16 23 28 07 00 entry_id 359 field1 null field2 null field3 5 82 field4 null field5 null field6 null created_at 2018 02 05t16 23 44 07 00 entry_id 360 field1 null field2 null field3 null field4 2 12 field5 null field6 null created_at 2018 02 05t16 24 00 07 00 entry_id 361 field1 null field2 null field3 null field4 null field5 13560 425 field6 null created_at 2018 02 05t16 24 17 07 00 entry_id 362 field1 null field2 null field3 null field4 null field5 null field6 1958 65 created_at 2018 02 05t16 25 01 07 00 entry_id 363 field1 26 52 field2 null field3 null field4 null field5 null field6 null u00a0i have since deleted the channel and created a new one to no avail as you can see one value per api call any advice,0.126360446215
Vinod,based on the snippet i think the issue is your code that is updating the channel is updating one field per update instead of one update that updates all fields the most efficient code on your device would do a http get request like this https api thingspeak com update api_key your_api_key_here field1 10 field2 20 field3 30 etc u00a0instead of 3 separate requestshttps api thingspeak com update api_key your_api_key_here field1 10https api thingspeak com update api_key your_api_key_here field2 20https api thingspeak com update api_key your_api_key_here field3 30,0.681910157204
BiologyWatcher,ohhhh yes that definitely it thanks for the quick response,0.983501315117
Lakshana,i had used the below code to send data using arduino pubsubclient library the serial monitor shows data being sent to the thingspeak mqtt broker but the thingspeak dashboard is not getting updated please help me include spi h include ethernet h define use_ethernet_shield byte mac x x x x x x ipaddress ip 192 168 x x ethernetclient client include char mqttusername x char mqttpass x char writeapikey x long channelid x pubsubclient mqttclient client const char server mqtt thingspeak com unsigned long lastconnectiontime 0 const unsigned long postinginterval 20l 1000l include thingspeak h unsigned long mychannelnumber x const char mywriteapikey x include would ht h define dhtpin 2 dht dht const int sensor_pin a1 void setup serial begin 4800 thingspeak begin client ethernet begin mac ip if ethernet begin mac 0 serial println f unable to configure ethernet using dhcp for serial println ethernet configured via dhcp serial println connected to internet mqttclient setserver server 1883 dht setup dhtpin void loop if mqttclient connected reconnect mqttclient loop if millis lastconnectiontime postinginterval mqttpublish void reconnect while mqttclient connected serial print attempting mqtt connection generate clientid for int i 0 i 8 i clientid i alphanum random 51 char clientid x if mqttclient connect clientid mqttusername mqttpass serial print connected with client id serial print string clientid serial print username serial print mqttusername serial print passwword serial println mqttpass else serial print failed rc serial print mqttclient state serial println try again in 5 seconds delay 5000 void mqttpublish delay dht getminimumsamplingperiod float moisture_percentage int sensor_analog sensor_analog analogread sensor_pin moisture_percentage 100 sensor_analog 1023 00 100 float t dht gettemperature float h dht gethumidity create data string to send to thingspeak string data string field1 string moisture_percentage dec field2 string t dec field3 string h dec int length data length char msgbuffer length data tochararray msgbuffer length 1 serial println msgbuffer create a topic string and publish data to thingspeak channel feed string topicstring channels string channelid publish string writeapikey length topicstring length char topicbuffer length topicstring tochararray topicbuffer length 1 mqttclient publish topicbuffer msgbuffer lastconnectiontime millis use this function instead to publish to a single field directly do not forget to comment out the above version void mqttpublish float t dht gettemperature read temperature from dht sensor string data string t dec int length data length char msgbuffer length data tochararray msgbuffer length 1 serial println msgbuffer create a topic string and publish data to thingspeak channel feed string topicstring channels string channelid publish string writeapikey length topicstring length char topicbuffer length topicstring tochararray topicbuffer length 1 mqttclient publish topicbuffer msgbuffer lastconnectiontime millis,0.5
cstapels,does the serial monitor show a successful connection to the thingspeak server i e do you get connected with client id i would double check your channel number and write api key i have definitely made that mistake before u00a0 u00a0one debugging method that i use is to copy the topic output and the publish command from the serial monitor and try to publish the same content using mqtt fx u00a0 there is a demo for it here u00a0 that will halp make sure you are publishing correctly another thing is that the declaration for the pubsub client library is missing but you would not be able to compile without that what hardware are you using specifically,0.763693034649
Franclod,hello i have a probleme to connect appinventor with thingspeak i succeeded to write with app inventor to thingspeak but u00a0 u00a0i can not read information in a channel i used this tutorial to help me http www instructables com id iot made easy with uno esp 01 thingspeak and mit a u00a0but instead of only having useful information i have all the information that the page provides me if someone knows the way and wants more information to help me you can contact me at xelirac gmail com cordially u00a0,0.870843648911
cstapels,franclod are you using an esp8266 01 for this project u00a0 are you trying to read data from thingspeak with the device u00a0the demo you provided uses the at commands to communicate through the esp8266 01 u00a0 it may be a little easier to program through the arduino ide directly u00a0 install the esp8266 board support and connect the esp tx and rx pins directly to the arduino tx and tx pins u00a0the esp examples in the thingspeak documentation will work to show you how to read from thingspeak with a device u00a0 the temperature example shows how to use the thingspeak communication library for arduino and esp to read from a thingspeak channel u00a0 these examples can be programmed on to the esp8266 01 though they were tested with esp6266 12 the 01 does not have an internal adc so you cannot read an analog voltage i looked through the example you provided it shows both writing and reading from the channel can you describe what is going wrong or what you are seeing when you try to read,0.5
Franclod,i not use u00a0an esp8266 01 i use an ardruino with the ardruino i have succed to read info and write https thingspeak com channels 403739 charts 3 bgcolor 23ffffff color 23d62020 dynamic true results 60 type line update 15 u00a0without considering ardruin because it is not me who takes care of it i have do this u00a0https ibb co gvseprbut i have an erroe bad arguments to the operation cannot accept the arguments null 10 i can if you want send you the project app inventor,0.801608681679
cstapels,thanks for the clarifications u00a0 i am still not fully clear what your goal is u00a0 are you trying to get data to the app or are your trying to display the thingspeak plot since the second block in the appinventor code you showed seems to parses the json i assume you are trying to get data u00a0 if so use the get channel feed api call change the url to something like u00a0https api thingspeak com channels your_channel fields 1 jsonthen the web1 gottext input will be json formatted does that help,0.5
Franclod,i have change the url like you told to me but i have the same error u00a0do i have to change the second block,0.108155459166
ryan528,u00a0hello u00a0guysi have a weird problem with u00a0transferring and updating chart data on thingspeak however the entry was updated when the sensors captured new data the channel is public https thingspeak com channels 410378 here are the codes i have uploaded to the arduino u00a0uno board please help me out it is really killing me since i tried almost methods available online include mutichannelgassensor h include cytronwificlient h include cytronwifiserver h include cytronwifishield h include thingspeak h include wire h network parametersconst char ssid lovesalus const char pass alus0411 thingspeak informationchar thingspeakaddress api thingspeak com unsigned long channelid 410378 char writeapikey ubfr2pu51pn7onjo char readapikey nqj7ziagvon0uqev const unsigned long postinginterval 120l 1000l unsigned int datafieldone 1 field to write nh3 dataunsigned int datafieldtwo 2 field to write co dataunsigned int datafieldthree 3 field to write no2 dataunsigned int datafieldfour 4 field to write c3h8 dataunsigned long lastconnectiontime 0 long lastupdatetime 0 multi channel gas sensorfloat cnh3 float cco float cno2 float cch4 float ch2 esp8266client client void setup serial begin 9600 serial println tart multi channel sensor setup gas begin 0x04 gas poweron wifi connection wifi begin 2 3 if wifi connectap ssid pass serial println f error connecting to wifi serial print connected to serial println wifi ssid serial println wifi localip thingspeak begin client void loop if millis lastupdatetime postinginterval multi channel gas sensor cnh3 gas measure_nh3 cco gas measure_co cno2 gas measure_no2 ch2 gas measure_h2 serial print nh3 is serial println cnh3 serial print co is serial println cco serial print no2 is serial println cno2 serial print h2 is serial println ch2 write2tsdata channelid datafieldone cnh3 datafieldtwo cco datafieldthree cno2 datafieldfour ch2 delay 10000 float writetsdata long tschannel unsigned int tsfield float data float writesuccess thingspeak writefield tschannel tsfield data writeapikey write the data to the channel while writesuccess serial println string data written to thingspeak return writesuccess float write2tsdata long tschannel unsigned int tsfield1 float field1data unsigned int tsfield2 long field2data unsigned int tsfield3 long field3data unsigned int tsfield4 long field4data thingspeak setfield tsfield1 field1data thingspeak setfield tsfield2 field2data thingspeak setfield tsfield3 field3data thingspeak setfield tsfield4 field4data float writesuccess thingspeak writefields tschannel writeapikey return writesuccess u00a0please please please help me,0.811714529991
cstapels,what exactly is the problem u00a0 your channel does not seem to be public at present u00a0 u00a0i am curious about the while loop while writesuccess serial println string data written to thingspeak if writesuccess is true wont this loop forever,0.141615509987
Makeorbrake,i can get the bulk upload to work fully when connecting to the wifi the normal way with only ssid and password but when i try and use static ip instead i do get connection to wifi but i do not get a client connect true anymore so cant upload to thingspeak anyone that got it to work and might be able to help have used the same code for connecting to wifi with normal upload without problem thanks in advance the code removed connection data and channel no and key reveal spoiler this example shows how to bulk update a thingspeak channel using an arduino mkr1000 or an esp8266 include ethee3ernetclient h uncomment this library to work with esp8266 include esp8266wifi h uncomment this library to work with esp8266char jsonbuffer 2500 initialize the jsonbuffer to hold datachar ssid your network ssid name char pass your network passwordwificlient client initialize the wifi client librarychar server api thingspeak com thingspeak server collect data once every 15 seconds and post data to thingspeak channel once every 2 minutes unsigned long lastconnectiontime 0 track the last connection timeunsigned long lastupdatetime 0 track the last update time const unsigned long postinginterval 60l 1000l post data every 1 minutes const unsigned long updateinterval 15l 1000l update once every 15 seconds u00a0ipaddress ip 192 168 1 159 original with sht31ipaddress gateway removed to post to forumipaddress subnet ipaddress dns1 ipaddress dns2 byte mac 6 the mac address of wemosuint8_t router_mac 6 your router wifi mac addressuint8_t router_channel 10 your router wifi channel u00a0void setup serial begin 115200 connectwifi works connectstatic does not work u00a0void connectwifi attempt to connect to wifi network while wifi status wl_connected serial print attempting to connect to ssid serial println ssid wifi begin ssid pass connect to wpa wpa2 network change this line if using open or wep network delay 10000 wait 10 seconds to connect serial println connected to wifi printwifistatus print wifi connection information void connectstatic attempt to connect to wifi network while wifi status wl_connected serial print attempting to connect to ssid serial println ssid wifi mode wifi_sta wifi config ip gateway subnet dns1 dns2 delay 10 wifi begin ssid pass router_channel router_mac delay 10000 wait 10 seconds to connect serial println connected to wifi printwifistatus print wifi connection information void loop updatesjson jsonbuffer for int i 0 i 120 i la in f u00f6r annars kommer det f u00f6r t u00e4tt l u00f6ses automatiskt senare med deep sleep delay 500 updates the jsonbuffer with datavoid updatesjson char jsonbuffer json format for updates paramter in the api this example uses the relative timestamp as it uses the would elta_t if your device has a real time clock you can provide the absolute timestamp using the created_at parameter instead of would elta_t would elta_t 0 field1 70 would elta_t 15 field1 66 format the jsonbuffer as noted aboveserial print tart build json serial println millis for int i 0 i 31 i strcat jsonbuffer would elta_t starta en rad i jsonbuffer unsigned long deltat 20 ber u00e4kna deltat size_t lengtht string deltat length ber u00e4kna l u00e4ngden p u00e5 deltat char temp 4 skapa parameter temp string deltat tochararray temp lengtht 1 g u00f6r om deltat till string och till temp strcat jsonbuffer temp l u00e4gg in str u00e4ngen temp i jsonbuffer strcat jsonbuffer l u00e4gga in i jsonbuffer long rssi i skapa parameter rssi strcat jsonbuffer field1 l u00e4gg in prefix f u00f6r f u00f6rsta parametern lengtht string rssi length ta reda p u00e5 l u00e4ngden p u00e5 parameter 1 string rssi tochararray temp lengtht 1 g u00f6r om till str u00e4ng och in i temp strcat jsonbuffer temp in i json strcat jsonbuffer avsluta den delen serial print json serial println jsonbuffer yield size_t len strlen jsonbuffer jsonbuffer len 1 byter sista mot serial print total json serial println jsonbuffer serial print length json serial println string jsonbuffer length httprequest jsonbuffer updates the thingspeakchannel with datavoid httprequest char jsonbuffer json format for data buffer in the api this example uses the relative timestamp as it uses the would elta_t if your device has a real time clock you can also provide the absolute timestamp using the created_at parameter instead of would elta_t write_api_key your channel writeapikey updates would elta_t 0 field1 60 would elta_t 15 field1 200 would elta_t 15 field1 66 serial print tart send serial println millis format the data buffer as noted above char data 2500 write_api_key xxx updates replace your channel writeapikey with your thingspeak channel write api key strcat data jsonbuffer strcat data close any connection before sending a new request client stop string data_length string strlen data 1 compute the data buffer length post data to thingspeak if client connect server 80 client println post channels your channel id bulk_update json http 1 1 replace your channel id with your thingspeak channel id client println host api thingspeak com client println user agent mw doc bulk update arduino esp8266 client println connection close client println content type application json client println content length data_length client println client println data else serial println failure failed to connect to thingspeak delay 250 wait to receive the response client parsefloat string resp string client parseint serial println are sponse code resp print the response code 202 indicates that the server has accepted the response jsonbuffer 0 reinitialize the jsonbuffer for next batch of data jsonbuffer 1 0 lastconnectiontime millis update the last connection time serial print end send serial println lastconnectiontime void printwifistatus print the ssid of the network you are attached to serial print sid serial println wifi ssid print your device ip address ipaddress ip wifi localip serial print ip address serial println ip print the received signal strength long rssi wifi rssi serial print ignal strength rssi serial print rssi serial println dbm,0.109983623028
Vignesh maker,there is only documentation for publishing to thingspeak from arduino client using mqtt can anyone help me out to subscribe a channel from an arduino u00a0client and receive data using mqtt u00a0is it even possible u00a0btw i was able to receive data using the mqtt fx software thanks in advance,0.5
cstapels,vignesh yes it is possible to subscribe to a thingspeak channel using an arduino u00a0 there is an example currently for a mqtt subscribe on particle photon u00a0 the photon is very similar to arduino u00a0 if you were able to subscribe with mqtt fx you should be almost there you might consider the pubsub client for your mqtt library u00a0 let me know if this example works for you,0.5
steveknott,i have at present 2 soon to be 3 ds18b20 probes connected to a pi zero and want to send this data to thingspeak using python i have setup the 2 fields and it will report data to both but both sets of data are the same how can i get both probes to report the correct information both of the data values report correctly in the terminal on my pi when i run the command u00a0 py belowmany thanks u00a0import os u00a0import glob u00a0import time u00a0import sys u00a0import datetime u00a0import urllib2 u00a0 u00a0 u00a0baseurl https api thingspeak com update api_key my key field1 field2 u00a0 u00a0 u00a0os system modprobe w1 gpio os system modprobe w1 therm u00a0 add more sensor variables here based on your setuptemp_0 0temp_1 0 u00a0for sensors in range 2 change number of sensors based on your setup u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 base_dir sys bus w1 devices u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 device_folder glob glob base_dir 28 sensors u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 device_file device_folder w1_slave u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 print device_file u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 print sensors u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 def read_temp_raw gets the temps one by one u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 f open device_file r u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 lines f readlines u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 f close u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 return lines u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 def read_temp checks the temp recieved for errors u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 lines read_temp_raw u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 while lines 0 strip 3 yes u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 time sleep 0 2 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 lines read_temp_raw u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 equals_pos lines 1 find t u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 if equals_pos 1 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 temp_string lines 1 equals_pos 2 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 set proper decimal place for c u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 temp float temp_string 1000 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 round temp to 2 decimal points u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 temp round temp 1 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 return temp u00a0 ask for temps to be read and store each in a variable u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 if sensors 0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 temp_0 read_temp u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 if sensors 1 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 temp_1 read_temp u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 print temp_0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 print temp_1 u00a0while true infinite loop u00a0 u00a0 u00a0 u00a0 u00a0 temp_0 read_temp get the temp u00a0 u00a0 u00a0 u00a0 u00a0 values datetime datetime now temp_0 u00a0 u00a0 u00a0 u00a0 u00a0 temp_1 read_temp get the temp u00a0 u00a0 u00a0 u00a0 u00a0 values datetime datetime now temp_1 u00a0 u00a0 u00a0 u00a0 u00a0 g urllib2 urlopen baseurl field1 s field2 s temp_0 temp_1 u00a0 u00a0 u00a0 u00a0 u00a0 time sleep 60 u00a0,0.770246624947
rw950431,maybe posting to the forum messed up the indenting but that code doesnt look right to me u00a0 u00a0the way its come out it looks like you are defining functions read_temp_raw and read_temp within the for sensors loop u00a0 function definitions are usually done once at the top of the program u00a0 when you start on the infinite loop the value of the variable ensors will be constant so you read the same temp repeatedly u00a0there are existing python modules https github com timofurrer w1thermsensor looks like the most popular to do the hard work of actually reading the sensor but if you want to keep rolling your own i have posted some suggestions for your code at u00a0https gist github com rw950431 2b1a632f49e89cb0c3ac6b77433f13fa u00a0 u00a0 u00a0 since the forum seems to be especially unkind to python code,0.789059519768
cstapels,you may also want to consider removing field1 field2 from baseurl at definition time since the statement at the end seems to add it again u00a0g urllib2 urlopen baseurl field1 s field2 s temp_0 temp_1,0.5
steveknott,hi thank you both for taking the time to reply this is my first project with python and i don u2019t understand which part of the timofurrer code i need my sensors are working locally and also i have them working with domoticz so i only need to send this data to thingspeak i have read through all the code by timofurrer but can u2019t see anything about thingspeak which i could use or modify as i u2019m new to all of this also the link https gist github com rw950431 2b1a632f49e89cb0c3ac6b77433f13fa u00a0 does not work,0.5
rw950431,apologies it appears my cut and paste added spurious characters to the end of the urltry this linkhttps gist github com rw950431 2b1a632f49e89cb0c3ac6b77433f13fa u00a0in terms of the library you probably want the multiple sensor example this replaces all the globbing and string parsing you currently do from w1thermsensor import w1thermsensorfor sensor in w1thermsensor get_available_sensors print ensor s has temperature 2f sensor id sensor get_temperature,0.5
uphillbattle,hi i am posting weather data to a few channels on thingspeak for example this outdoor temperature https thingspeak com channels 130083 charts 1 bgcolor 23ffffff color 23d62020 dynamic true results 60 type line u00a0i know how to change the color for the entire line in the graph but since this is an outdoor temperature in norway where the temperature changes between above and below freezing on a regular basis it would be really nice to have the graph line have different colors above and below freezing specifically i would like it to be blue below 0 freezing point on the centigrade scale and red above 0 any ideas how to do that,0.893020272255
rw950431,i dont know if any way to modify the thingspeak basic grapsh u00a0 if you use a matlab visualization you can sort your values into 2 series above and below zero in your case and plot them on the same graph with different colors u00a0 u00a0 u00a0hopefully someone with matlab skills can give us code for that,0.825921297073
Adarsh_Murthy,here is an example matlab code snippet to help you get started read data from your channel data time thingspeakread 130083 numpoints 8000 fields 1 create variables for holding values greater than zero and less than zerodatagtzero nan 1 length data datalszero nan 1 length data assign values to the variables datagtzero has all values of data that are greater than zerodatagtzero data 0 data data 0 datalszero has all values of data that are less than zerodatalszero data 0 data data 0 plot both chunks of data and specify color to be blue b for data less than zero and red for the other plot time datalszero b hold on plot time datagtzero r,0.236536353827
Stillub,i posted this question under arduino and probably should of placed it here my bad original post viewed here http community thingspeak com forum arduino thingspeak multiple field updates from html,0.5
Piez,stillub said i posted this question under arduino and probably should of placed it here my bad original post viewed here http community thingspeak com forum arduino thingspeak multiple field updates from html u00a0 u00a0i am not sure if it my url or something going on with the thingspeak com servers but i am not having any success getting consistency it quite possible they are working on the servers or there are a number of datastream intensive opertions going on that are slowing down the thingspeak server response times all speculation u00a0 but i cannot figure out why my data urls work fine one moment then not at all the next and the intervals are all over the place as far as time between data points like anywhere between 1 minute and several hours even though i am sending update feeds every 60 seconds u00a0 i have a gut feeling something going on with the thingspeak server s at this time u00a0 u00a0 u00a0 again could be totally wrong just a guess based on observation of data,0.5
cstapels,the servers seem pretty steady on channels where i have time controls set up i see a fluctuation of about 15 seconds for these u00a0 there is less variation in the channels i have that are using devices to write except where they collide with other writes u00a0if you have multiple writes to your channels they might be competing which will make the posting look intermittent u00a0 check your time controls and analysis scripts u00a0 you licence type will tell you how often you can update u00a0if you are using the rest interface from an html script reliability may depend on your internet connection are you posting from a location with a reliable internet connection u00a0 u00a0,0.758061051369
Piez,cstapels said u00a0 check your time controls and analysis scripts what do you mean by this where are these and are they pertinent to get urls suppling datapoints via an html feed no json xml,0.5
MURLIDHAR ROY,i am trying to send two data values to thingspeak value please tell me the command through which i can send the two sensor data the basic code is given below u00a0 include softwareserial h create object named sim900 of the class softwareserial softwareserial sim900 8 7 void setup sim900 begin 9600 define baud rate for software serial communication serial begin 9600 define baud rate for serial communication void loop serial println http post method serial print at sim900 println at check communication delay 500 showserialdata print response on the serial monitor delay 500 configure bearer profile 1 serial print at sapbr 3 1 contype gprs sim900 println at sapbr 3 1 contype gprs connection type gprs delay 500 showserialdata delay 500 serial print at sapbr 3 1 apn airtelgprs com sim900 println at sapbr 3 1 apn airtelgprs com apn of the provider delay 500 showserialdata delay 500 serial print at sapbr 1 1 sim900 println at sapbr 1 1 open gprs context delay 500 showserialdata delay 500 serial print at sapbr 2 1 sim900 println at sapbr 2 1 query the gprs context delay 500 showserialdata delay 2000 serial print at httpinit sim900 println at httpinit initialize http service delay 2000 showserialdata delay 500 serial print at httppara cid 1 sim900 println at httppara cid 1 set parameters for http session delay 500 showserialdata delay 500 serial print at httppara url api thingspeak com update sim900 println at httppara url api thingspeak com update set parameters for http session delay 500 showserialdata delay 500 serial print at httpdata 33 10000 sim900 println at httpdata 33 10000 post data of size 33 bytes with maximum latency time of 10seconds for inputting the data delay 200 showserialdata delay 200 serial print api_key 8mmr5dd7qc42nauj field1 2 data to be sent sim900 println api_key 8mmr5dd7qc42nauj field1 2 delay 500 showserialdata delay 500 serial print at httpaction 1 sim900 println at httpaction 1 start post session delay 1000 showserialdata delay 2000 serial print at httpterm sim900 println at httpterm terminate http service delay 2000 showserialdata delay 500 serial print at sapbr 0 1 sim900 println at sapbr 0 1 close gprs context delay 500 showserialdata delay 500 void showserialdata while sim900 available 0 if data is available on serial port serial write char sim900 read print character received on to the serial monitor,0.5
cstapels,piez you can perform channel updates in matlab analysis scripts also in visualizations u00a0 if you were using a script to update the channel i would check if the script is doing multiple writes within the update limit u00a0 time controls u00a0are used to regularly schedule running of code u00a0 they u00a0 can be used to trigger analysis scripts which could also cause overlapping writes to channels u00a0writing simultaneously to multiple channels can also violate the update rate limitation and lead to missed data,0.5
cstapels,murlidhar roy see u00a0rest api documentation u00a0for the appropriate syntax u00a0does the code you provided work to update a single field u00a0 if it works as is for one field add field2 to get it to work for 2 fields u00a0 u00a0 if the code does not work as is you may need a before the api key if you are using a get operationhttps api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 0then continue to append fields with the https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 0 field2 56 field3 123,0.5
royalghost,perform channel updates in matlab analysis scripts and check script if it is doing multiple writes within the update limit gomovies,0.5
smuseby,i am unable to update a channel with the following u00a0 u00a0 post https api thingspeak com update u00a0 api_key m5o3lnsmlqg8twxz u00a0 field1 456 u00a0applescript balks at https i am guessing post is not in the applescript dictionary unfortunately what little skill i have is in applescript u00a0question u00a0is it possible to update a channel with applescript if not is there a python possibility,0.100946903229
bbruno22,i have matlab code whose output gets written to my thingspeak channel id u00a0 379753 in three separate instances instance 1 writes to fields 1 3 4 5 instance 2 writes to field 6 instance 3 writes to field 7 it the data logged in instance 1 that i am having trouble with data gets written successfully but eventually disappears after maybe an hour or two when i download and view the exported csv files it is not there either i can not seem to connect the disappearance with any other task being performed by my computer for instance it does not disappear while writing to the other fields in my channel nor does it happen when i call for instance 1 to happen again because at the moment i have only got one data point each to write to fields 1 3 4 5 i have called for instance 1 to happen only once u00a0while the data remains i have also noticed that these fields take several moments to show data something like 10s whereas if i refresh my page all the other fields re populate almost instantly any help with this would be much appreciated u00a0,0.5
piajola,hi bbruno22 as your data seems public i downloaded some with u00a0api thingspeak com channels 379753 feeds csv start 2018 01 19 00 00 00 end 2018 01 19 23 59 59obtainingcreated_at entry_id field1 field3 field4 field5 field6 field72018 01 19 00 53 58 utc 303 0 01663893511805415 2018 01 19 01 01 39 utc 323 592018 01 19 01 53 58 utc 304 0 01668520578309842 2018 01 19 02 05 22 utc 324 592018 01 19 02 53 50 utc 305 0 01673640169033585 2018 01 19 03 08 47 utc 325 592018 01 19 03 53 28 utc 306 0 008356545955453048 2018 01 19 04 12 03 utc 326 58 989830457627132018 01 19 04 53 30 utc 307 0 01668984697099557 2018 01 19 05 15 33 utc 327 58 998611133333332018 01 19 05 53 18 utc 308 0 0167061116647121 2018 01 19 06 20 23 utc 328 58 987222166666672018 01 19 06 53 13 utc 309 0 08326394677719125 2018 01 19 07 25 25 utc 329 58 982222266666672018 01 19 07 53 24 utc 310 0 08375209373545039 2018 01 19 08 29 58 utc 330 592018 01 19 08 52 37 utc 311 0 008270158522242643 2018 01 19 09 39 11 utc 331 592018 01 19 09 54 19 utc 312 0 01666666666666667 2018 01 19 10 47 19 utc 332 58 990555652018 01 19 10 52 37 utc 313 0 01690617074210293 2018 01 19 11 48 29 utc 333 592018 01 19 11 52 37 utc 314 0 01666666666666667 2018 01 19 12 48 30 utc 334 58 987222249999992018 01 19 13 48 30 utc 335 592018 01 19 14 28 30 utc 336 59observe entry_id the order of reception and created_at timestamp these 2 values must be correlated and with the same order and they are not perhaps that is the problem i think you are having troubles sending the timestampsi hope this is some helpp,0.5
bbruno22,piajola much thanks for your reply it is strange to me that the entry ids bounce around like that however the data that you pulled up is from the charts that i am having no trouble with i wonder why this entry_id timestamp issue would cause problems for one chart and not for others i also do not know how i would troubleshoot this issue if it helps here is an example of the code i use to upload the disappearing data to thingspeak the code for the other fields is the same u00a0for j 1 size events_data 1 u00a0 u00a0 u00a0 u00a0 thingspeakurl http api thingspeak com u00a0 u00a0 u00a0 u00a0 thingspeakwriteurl thingspeakurl update u00a0 u00a0 u00a0 u00a0 writeapikey xksekkx7tekz2n8e u00a0 u00a0 u00a0 u00a0 fieldname chart with multiple series 1 u00a0 u00a0 u00a0 u00a0 channelid 379753 u00a0 u00a0 u00a0 u00a0 fieldvalues masses_m j u00a0 u00a0 u00a0 u00a0 d datetime datestr start_times j inputformat would d mmm yyyy hh mm ss u00a0 u00a0 u00a0 u00a0 thingspeakwrite channelid fields 1 values fieldvalues writekey writeapikey timestamp d u00a0 u00a0 u00a0 u00a0 pause 15 u00a0 u00a0 end u00a0is there anything in the code above which would cause the assignment of random entry ids thanks u00a0,0.0941099524498
cstapels,i looked at your channel anerobic digester sounds like a fun tracking application for thingspeak i used the following rest call to see the data in fields 1 3 4 5 http api thingspeak com channels 379753 charts 1 results 400http api thingspeak com channels 379753 charts 3 results 400etc i would suggest using the would ata export tab next to the api keys tab instead of the data export button if you want all the data in the fields u00a0 even better to use rest api calls such ashttps api thingspeak com channels channel_id fields field_id csv days 3there are many other parameters you can use to customize the data returned to you with the rest call i used three days as a parameter in the above just as an example as piojola indicated different alignment of the entry id and the time stamps will cause your plots to behave differently but this is not outside the model of thingspeak u00a0 entryid is assigned at the time you enter data and is presently used to order the database entries u00a0 so if you have one point entered in 2018 but its time stamp is from 2016 it would probably have a higher entry id than all your data from 2017 for example your data will not disappear once it gets written to a channel but you may have to adjust some settings to see it u00a0 have you played with the chart parameters u00a0 its a pencil icon on the top of the plot u00a0 try the results parameter or days u00a0 these may help you make the chart show what you want more predictably the delay you are seeing might be due to the alignment of the chart settings and data entry u00a0if you have two update frequencies for the two sets of fields it may be easier to use the default display settings if you update two channels separately u00a0 it is definitely possible to use one channel but the alternate updates will put empty entries in the fields of the other updates u00a0 this does not change the data but if you read by the results parameter you might get a lot of empty entries u00a0 u00a0,0.5
bbruno22,cstaples u00a0thank you for your reply it is such a relief to see that my data does not actually disappear though strange that it would seem so when using one export button and not another unfortunately the data export button you recommend is not accessible to the public making downloads by the public restricted to api calls i was hoping to make downloading very easy and my target audience is so much more likely to be familiar with csv files then with calling an api alas i may try to use separate channels for each data stream in hopes that it may help the charts keep my data visible thank you u00a0,0.121576100588
Metawatch,newbie programmertrying to modify existing code developed many years back for pachube feed to be compatible with thingspeak upload using microsoft visual basic it appears to successfully login as there are no error and the entries denotes transfers taking place but the data for field5 is not updated must be a simple formatting error and would like support from those in the know here is my vb codetrydim pachubestream as string field5 20 prepare to upload the latest changed data to pachube thingspeak for on line data storage and plottingdim mywebclient as new webclient uploaddatapachubekey xxxxxxxxxxxxx mywebclient headers add content type text csv apply ascii encoding to obtain the string as a byte array dim bytearray as byte encoding ascii getbytes pachubestream configure uploaddata pachube port urluploaddatapachubeport https api thingspeak com update api_key uploaddatapachubekey uploaddata input string using http 1 0 put method if not in test modeif testmode false then mywebclient uploaddata uploaddatapachubeport post bytearray are initialize data comparitor for next passcatch fail as exceptionconsole writeline the process failed 0 fail tostring end try,0.213633805513
cstapels,are you sure testmode false u00a0 that would cause the client to not upload the data u00a0 your formatting of the rest call looks fine u00a0 i am not familiar with your library specifically but there is usually a data size indicator in the post command for example you can see the steps in this example u00a0 i assume your client library takes care of that itself but i thought i would mention it just in case u00a0 also you might double check the write api key,0.782565534115
edenderest,u00a0via the arduino and dht22 sensor i am uploading my temperature to thingspeak the data is shown in the graphs of the applicable fields of my private channel u00a0nevertheless only the last 100 entries are shown and downloading them as a csv file gives the same result only u00a0 the last100 samples are downloaded the number of results is left empty in channel config why do i not obtain the remaining previous samples is there something wrong with my channel settings any help is appreciated,0.0788331329823
cstapels,use the data export tab to the right of the api keys tab to get all your channel data or use a rest call with results set greater than 100 https api thingspeak com channels channel_id feeds json results 200 api_key xxxxxxxxxxxxxxxxdo not use the button next to add visualization this has the output default of 1 day,0.816446304321
stni,hello i imported data into a new channel now the daily average chart is not working there is alway one point visible but when i change to 12 hours chart it working u00a0daily https thingspeak com channels 402929 charts 1 average 1440 days 712 hour https thingspeak com channels 402929 charts 1 average 720 days 7anyone knows this problem,0.5
Vinod,i see 3 points in your daily chart i am not sure what you mean by it is not working have you considered that the channel may only have data worth 3 days,0.272456526756
stni,you can see there is more data on the second chart but it not showing the data before 13 1 on the daily chart u00a0i imported all data on 13 1 via the csv import function the newer data is uploaded with thingspeak api,0.5
Piez,after an extensive google search and on this forum i have not found anything that gives me an idea of how to change the number of data points over a given time period u00a0 u00a0 right now i am getting a data point about every 8 minutes although inexplicably it sometimes changes to as many as 1 data point per minute i have absolutely no clue why it changes or how to try to set it to the rate i want which is 1 data point per minute can someone please point me to meaningful documentation on this or explain the steps u00a0thanks,0.228519529104
cstapels,what is updating your channel u00a0 are you using a device or a thingspeak app such as matlab analysis sensor devices can update a channel with http commands or with mqtt protocol matlab can update a channel from the desktop environment u00a0 matlab analysis can write to a channel in a similar way generally with thingspeakread command u00a0 then you can schedule a time control to complete that action at regular intervals u00a0 is your question related to how many points are displayed in a plot or how many points you have in your channel u00a0if you are interested in seeing how a channel updates try the getting started tutorial it will take you through the whole process step by step if you are looking for options on the plots see the create a chart page u00a0 the parameters listed there are for http commands but they match the controls for thingspeak plots when you press the pencil icon u00a0let us know if that helps,0.5
Piez,cstapels said what is updating your channel u00a0 are you using a device or a thingspeak app such as matlab analysis sensor devices can update a channel with http commands or with mqtt protocol matlab can update a channel from the desktop environment u00a0 matlab analysis can write to a channel in a similar way generally with thingspeakread command u00a0 then you can schedule a time control to complete that action at regular intervals u00a0 is your question related to how many points are displayed in a plot or how many points you have in your channel u00a0 if you are interested in seeing how a channel updates try the getting started tutorial it will take you through the whole process step by step if you are looking for options on the plots see the create a chart page u00a0 the parameters listed there are for http commands but they match the controls for thingspeak plots when you press the pencil icon u00a0 let us know if that helps u00a0 u00a0hello and thank you for the reply i am using a sensor to update my channel via an http get url does that mean that my local program delay settings govern how many data points per hour for example are made u00a0 u00a0 for example the channel willl plot as many points as i send via url up to the limit of one data point every 15 seconds,0.5
Piez,still have not figured out how to change the update interval ud83d ude41i guess the basic question i need answered is this is the interval controlled from my side my arduino sketch for example or from the thingspeak side in the channel settings,0.5
Vinod,if you have a free account you can send data to a thingspeak channel up to once every 15 seconds if you try sending it faster the request will be rejected you can send it slower if you wish and that would be controlled by your device if you have a paid license you can update a channel as fast as once per second enforced on the server side again if you wish to go slower that would be on your device end,0.121589511633
Piez,vinod said if you have a free account you can send data to a thingspeak channel up to once every 15 seconds if you try sending it faster the request will be rejected you can send it slower if you wish and that would be controlled by your device if you have a paid license you can update a channel as fast as once per second enforced on the server side again if you wish to go slower that would be on your device end u00a0 u00a0ok i think you are saying it is controlled from my side and not by thingspeak other than free greater than or equal to one update every 15 seconds and paid you can update as often as every second so this is to conclude that there is no control over the data interval or how it displayed other than stated above while at the thingspak website thanks,0.12907999754
Vinod,are you asking about controlling the rate of storing data to thingspeak or the rate at which the data is refreshed in the charts my comments above relate to how fast you can send data to thingspeak if your question is about how fast a chart is refreshed for a free license the chart is updated every 15 seconds for a paid license the charts can be configured to update once a second or at a lower rate,0.879819273949
Piez,vinod said are you asking about controlling the rate of storing data to thingspeak or the rate at which the data is refreshed in the charts my comments above relate to how fast you can send data to thingspeak if your question is about how fast a chart is refreshed for a free license the chart is updated every 15 seconds for a paid license the charts can be configured to update once a second or at a lower rate u00a0 u00a0you know those two things both could probably affect the apparent rate but i am referring to the time between each data point u00a0 not the refresh rate on thingspeaki had set my data rate to 1 data point every 60 seconds but they were all over the place 1 minute 2 minutes 3 minutes all the way up to hours between data points this being after they6 were all plotted,0.879457235336
Vinod,piez said i had set my data rate to 1 data point every 60 seconds but they were all over the place 1 minute 2 minutes 3 minutes all the way up to hours between data points this being after they6 were all plotted u00a0 u00a0i think the quickest way to understand what is going on is to share your code redact the api keys please that is posting data to thingspeak i suspect the way the data is packaged before being sent to thingspeak has some subtle bug if my hunch is right your device is providing the timestamp of the data instead of thingspeak recording when it received the data and using that for plotting and the bug is in this section of the code on your device,0.5
Piez,hello vinod thanks for your help and looking at this here the entire sketch u00a0 u00a0 if you see anything i would really appreciate your advice ud83d ude42 begin code include dht h include dht_u h include would ht h including library for dht include dht h include liquidcrystal h liquidcrystal lcd 14 15 16 17 18 19 include timer h timer t include softwareserial h softwareserial serial1 2 3 define dht_dpin 12 define dhtpin 12 define heart 13 define dhttype dht22 dht 22 am2302 dht dht dhtpin dhttype char api_key abcdefghijk123456 enter your write api key from thingspeakstatic char posturl 150 float humi float tem int tem humi float temconv float humiconv void httpget string ip string path int port 80 void setup lcd begin 16 2 lcd clear lcd print humidity lcd setcursor 0 1 lcd print measurement delay 2000 lcd clear lcd print circuit digest lcd setcursor 0 1 lcd print welcomes you delay 2000 serial1 begin 115200 serial begin 115200 lcd clear lcd print wifi connecting lcd setcursor 0 1 lcd print please wait serial println connecting wifi u00a0connect_wifi at 1000 connect_wifi at cwmode 1 1000 connect_wifi at cipsta 192 168 003 57 192 168 003 001 255 255 255 000 10000 connect_wifi at cwqap 1000 connect_wifi at rst 5000 connect_wifi at cwjap mywirelessssid password 10000 serial println wifi connected lcd clear lcd print wifi connected pinmode heart output delay 2000 t oscillate heart 1000 low t every 20000 send2server void loop humi dht readhumidity tem dht readtemperature dht read11 dhtpin lcd setcursor 0 0 lcd print humidity humi dht humidity lcd print humi printing humidity on lcd lcd print lcd setcursor 0 1 lcd print temperature tem dht temperature lcd print tem printing temperature on lcd lcd write 1 lcd print c delay 2000 t update void send2server char tempstr 8 char humidstr 8 temconv tem 1 8 32 temconv tem temconv temconv 1 4 correction for dht11 1 temconv temconv 1 4 correction for dht22 1 humidity calibrations if humi 47 humi 40 humiconv humi 1 if humi 40 humi 39 humiconv humi 2 if humi 39 humi 36 humiconv humi 3 if humi 36 humi 34 humiconv humi 4 if humi 34 humiconv humi 5 dtostrf temconv 5 3 tempstr dtostrf humiconv 5 3 humidstr sprintf posturl update api_key s field1 s field2 s api_key humidstr tempstr httpget api thingspeak com posturl 80 get https api thingspeak com update api_key abcdefgh87654def5 field1 0void httpget string ip string path int port int resp string athttpgetcmd get path http 1 0 string athttpgetcmd get path at cipstart tcp 192 168 20 200 80 string attcpportconnectcmd at cipstart tcp ip port connect_wifi attcpportconnectcmd 1000 int len athttpgetcmd length string atsendcmd at cipsend atsendcmd len connect_wifi atsendcmd 1000 connect_wifi athttpgetcmd 1000 void connect_wifi string cmd int t int temp 0 i 0 while 1 lcd clear lcd print cmd serial println cmd serial1 println cmd while serial1 available if serial1 find ok i 8 delay t if i 5 break i if i 8 serial println ok lcd setcursor 0 1 lcd print ok else serial println error lcd setcursor 0 1 lcd print error,0.5
Vinod,i think there is a lot going on in this sketch i would try and simplify the sketch by removing the non essential aspects and see if you notice the same behavior specifically please remove the lcd related functionality also you are using a delay function in your sketch in addition to software serial because delay is a blocking function you may see some non intuitive effects with soft serial and your sketch take a look at this and there may be tips in there that will improve the reliability of your sketch https randomnerdtutorials com why you shouldnt always use the arduino delay function,0.5
hanytalaat,hi all u00a0 i am writing arduino code using arduino uno and esp01 wifi module u00a0 to sense some data and send it to thingspeak api but i always got error and tcp connection close here is my code and response u00a0 emonlibrary examples openenergymonitor org licence gnu gpl v3 include emonlib h include emon libraryenergymonitor emon1 create an instance include softwareserial h code to use softwareserialsoftwareserial espserial softwareserial 2 3 arduino rx pin 2 arduino tx pin 3 connect the arduino rx pin to esp8266 module tx pin connect the arduino tx pin to esp8266 module rx pin include newping h define trigger_pin 12 arduino pin tied to trigger pin on the ultrasonic sensor define echo_pin 11 arduino pin tied to echo pin on the ultrasonic sensor define max_distance 500 maximum distance we want to ping for in centimeters maximum sensor distance is rated at 400 500cm newping sonar trigger_pin echo_pin max_distance newping setup of pins and maximum distance string apikey jwb4k7p94y5bi0rr replace with your channel thingspeak write api key string ssid ntg egypt ntg wifi network ssid string password p ssw0rd ntg eg ntg wifi network password string ssid hanyhotspot mobile wifi network ssid string password fd8dbe30049d mobile wifi network passwordstring ssid tp link_9299b0 home wifi network ssidstring password hggihglsjuhk1 home wifi network passwordboolean debug true double v_amps double v_watt double v_tanklevel showresponcevoid showresponse int waittime long t millis char c while t waittime millis if espserial available c espserial read if debug serial print c setupvoid setup debug true enable debug serial serial begin 9600 espserial begin 9600 enable software serial your esp8266 module speed is probably at 115200 for this reason the first time set the speed to 115200 or to your esp8266 configured speed and upload then change to 9600 and upload again espserial println at rst enable this line to reset the module showresponse 1000 espserial println at uart_cur 9600 8 1 0 0 enable this line to set esp8266 serial speed to 9600 bps showresponse 1000 espserial println at cwmode 1 set esp8266 as client showresponse 1000 espserial println at cwjap ssid password set your home router ssid and password showresponse 5000 if debug serial println etup completed emon1 current 2 60 current input pin calibration boolean thingspeakwrite double amps double watt double tanklevel string cmd at cipstart tcp tcp connection cmd 184 106 153 149 api thingspeak com cmd api thingspeak com cmd 80 espserial println cmd showresponse 1000 if debug serial println cmd if espserial find error if debug serial println at cipstart error return false string getstr get update api_key prepare get string getstr apikey getstr field1 getstr string amps getstr field2 getstr string watt getstr field3 getstr string tanklevel getstr send data length cmd at cipsend cmd string getstr length espserial println cmd if debug serial println cmd delay 100 if espserial find espserial print getstr if debug serial print getstr else espserial println at cipclose alert user if debug serial println at cipclose return false return true double calcirms double irms emon1 calcirms 1480 calculate irms only serial print irms 220 0 apparent power serial print serial println irms irmsreturn irms double calcpower double i double w i 220 0 apparent power serial println w return w double measurelevel double dim1 double dim2 string shape double totalvolume unsigned int us sonar ping send ping get ping time in microseconds us double distance us us_roundtrip_cm convert ping time to distance in cm and print result 0 outside set distance range double levelvol distance dim1 dim2 serial println distance return levelvol void loop setup v_amps calcirms v_watt calcpower v_amps v_tanklevel measurelevel 1 1 cube 100 read sensor values thingspeakwrite v_amps v_watt v_tanklevel write values to thingspeak thingspeak needs 15 sec delay between updates delay 16000,0.5
Piez,you need to enter your wifi information and un comment these lines this will or should work if you are using dhcp on your router most people are u00a0 i do not use dhcp and assign all my network devices a static ip address espserial println at rst enable this line to reset the module showresponse 1000 espserial println at uart_cur 9600 8 1 0 0 enable this line to set esp8266 serial speed to 9600 bps showresponse 1000 espserial println at cwmode 1 set esp8266 as client showresponse 1000 espserial println at cwjap ssid password set your home router ssid and password showresponse 5000,0.5
raybright,i am using a digital input connected to a esp8266 to connect to thingspeak i have then used thingtweet to post tweets when the digital input status toggles the digital input is monitoring a reed switch on an electrically operated gate which i would like to monitor the open closed status problem the gate open close status does come through as tweets but so slow several minutes question what is the minimum response i should expect keeping mind that the gate may only be open for say a minute where is the time delay being introduced thanks for your comments in anticipation,0.957555413246
cstapels,you should be able to drastically improve your performance time if you set up your own monitor instead of twitter you can use mqtt subscribe to get rapid feedback on a channel status here is an example showing publish and subscribe for mqtt on esp8266 https www mathworks com help thingspeak mqtt publish and subscribe with esp8266 htmlyou can use the subscribe part to monitor the gate status but you will have to use another device at the monitor point there are mqtt clients that will run on a cell phone but i would use another esp connected to a oled display you can use the callback function to update the screen i have been able to achieve sub second response time averages using mqtt subscribe it would be interesting to know if you get an additional performance gain using mqtt publish to update the gate status if you feel like implementing it in two parts please let us know what you get after implementing each part or just let us know mqtt helps ypur application,0.5
AussieBattler,hi hope somebody can help it quite simple i am bringing in data from a temperature sensor and when it is below 25 degrees it posts a tweet however occasionally the value returned from the sensor is null and it tweets when it should not is there a way to have thingtweet ignore null values,0.238664895296
cstapels,your plan is definitely possible it requires just a little bit of administration and it may increase the delay i would create another channel for filtered data then create a matlab analysis that reads the data from your temperature sensor channel if the value is normal it writes to the refined channel if the value is null you can have it repeat the previous value or do a running average you can use a react or timecontrol to trigger the analysis then you can set up your react to trigger on the refined channel and it wont have the problem with null values you can only have one react run on data insertion so one of the two operations will need to be on a regular schedule let us know if that works for you,0.848651885986
vkadal,i am trying to send data to thingspeak com when i type the following on the browser address bar my channel in the thingsspeak gets updated https api thingspeak com update api_key jyhbume7wxoz1b50 field1 12i am trying to send the same address using esp8266 using post methid i have code to connect to wifi network i need post method command can anyone help,0.288169026375
cstapels,the easiest way is to use the thingspeak communication library here is a good example https www mathworks com help thingspeak read and post temperature data htmlthis one shows you how to build the post manually its harder buy may offer more flexibility in some cases https www mathworks com help thingspeak moisturemonitor htmlhere is the reference page for the write data method which works with get and post https www mathworks com help thingspeak writedata html,0.760131657124
fmarzocca,i have setup my twitter acount but i can not understand how to setup a react to send me a tweet message if a battery is below a threshold it seems that the only option i have in are act is to send a public tweet from my account,0.5
cstapels,thingspeak does not offer a way to send a direct message on twiter you can send a public tweet as you indicated it is possible to use ifttt to send a text message or email seehttps www mathworks com help thingspeak use ifttt to send text message notification htmlorhttps www mathworks com help thingspeak analyze channel data to send email notification from ifttt html,0.5
ArgusR,hello i have two different projects on the same account and for each i want to have a react on data insertion but if i select run action each time condition is met for two different reacts looking at two different channels i get you have a react with similar test frequency action and option settings delete that react to save this one i am registering only once every 5 minutes in both channels but no synchronization between them and they are actually more than 500km from each other any way to overcome this limitation or this is a free account limit and i should create two accounts thanks,0.732837080956
cstapels,this is an account limitation for any account type at present you can have at most 1 react that runs matlab code on data insertion unfortunately the 500 km would be only about 400 us apart at least in terms of signal propagation ud83d ude42you could consider a time based react that runs every n minutes the react can call matlab code that looks back over the last n minutes and evaluates all the entries for your condition of interest the read data rest call includes a minutes parameter you can use for this purpose,0.293098330498
Polaris82,hi guys i need help with my timecontol scheduling because it does not start the column of last ran is always empty my settings are recursive 5 minutes it enough strange because the matlab function works properly if used manually regards,0.131285429001
cstapels,i presume the action is set to call the matlab function you refer to can you please try delelting this timecontrol and setting a new one with the same properties please let us know if that works,0.81653213501
richlock,hi i have several recurring timecontrol app what i have experienced that some of them usually is not started u00a0sometimes it is started but it is random how it behaves those timers have actions interacting with talkback timers are recurring types week based and should run every workdays at specified time for example the timer 29180 is scheduled but that scheduled date is passed so somehow skipped last run 2018 01 02 8 04 pm run at 2018 01 03 8 00 pm u00a0timer 29186 last run u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 run at 2018 01 04 5 00 amcurrent time is jan 04 2018 12 20 00 pm cet u00a0have you noticed similar problem or is it isolated just for me can someone check the log what the cause is of not starting the sheduled timers i can provide the problematic timer ids to check it 29180 and 29186thanks richlock,0.5
Vinod,i am not sure i have correctly understood your problem so please correct me if i got it wrong you have several timecontrols set to execute on a daily schedule sometimes of them execute on schedule while others do not you are trying to troubleshoot this correct information that would be helpful u00a0 u00a0what apps are tied to your timecontrol u00a0 u00a0how is the timecontrol interacting with talkback u00a0also stepping back from the immediate issue you are trying to diagnose can you provide more information describing your project so i can suggest something knowing about the application,0.190173685551
richlock,i attached picture when the timecontrol did not run it can be noticed that the column last run did not refreshed after the prediefined time elapsed nor my relay controlled by talkback switched on or off the talkback functionality is working as i can trigger it manually from postman or curl and my device act on it this relay is for switching the heating i try to replace my wall mounted programmable thermostat to have remote control possibilities and have original time control i attached what is the detail one of my timecontrol settings u00a0to overcome the issue i edit the faulty timecontrol did not change anything and save it this way it is re registered then i hope it will fired correctly next time the last day it was ok so the problem may be gone but for me this timecontrol app is not so reliable,0.146180540323
Polaris82,i have the same problem did you solve,0.214752882719
cstapels,polaris82 can you share the settings for your timecontrol,0.864380002022
codenascher,i am using matlab to compare data from two channels on certain conditions data is written to an channel which in turn triggers react to start thinghttp thinghttp is supposed to send a simple get request to an url the get request triggers a script on the server it is send to everything else is working i simply need thinghttp to sendthis get request no need to handle any return simply putting the url in my browser works so the script and server are all right yet it does not work in thinghttp i only gave an url set input to get and http type to 1 1 can anyone help,0.5
cstapels,when you edit the request you can see another request to trigger the thinghttp on the right hand side help pane if you copy this into your browser does it trigger the url you desired hat is the response from your browser to the trigger request in the react there is a table that indicates when it was last run is your react running as you expect,0.78070807457
codenascher,okay i found the problem i tried to use placeholders like trigger in the url thinking thinghttp would replace them with the actual values for me,0.107580065727
cstapels,sorry that was confusing thanks for posting the solution if you read the doc can you answer the survey feedback on the page where you saw replacement keys that would really help us improve it,0.243645608425
codenascher,i will thanks for the help,0.960443019867
notforyou23,can someone help with how to formulate a url for a talkback command i would like to have a link or a button on a website to send a talkback command it will be the same command everytime click link button trigger a pin on the arduino yun instead of having to us the interface on thingspeak i would like to use my webpage with a link i have looked at the tutorials but and again i am a newbie here i am getting stuck on the syntax i know i can code a url to update a channel field pretty easily so that if i copy it into the browser address bar the field will update as desired but i can not get the same functionality for posting a talkback command my attempt https api thingspeak com talkbacks 1234 commands api_key xxxxxxxxxx command_string on would oes not work returns the error error_auth_required,0.780604481697
notforyou23,so i found a workaround i am actually using the bridge functionality on the arduino yun to do just this basically sending a command to the yun via a hyperlink on a webpage i am going from the bridge example but tweak it to have a switch go on and off its clunky but it works for now if command opensesame digitalwrite relay low delay 300 digitalwrite relay high the issue with this is that when you click the hyperlink it brings you to that page on the arduino yun i e arduino local arduino opensesame it would be better to just fire off a command and stay put good times,0.197644919157
mehmetalisubasi,hi i am trying to put a toggle button to my channel and open close a led i tried to use talkback to send a command to ardunio uno but i have not succeeded yet did you manage to send on off command to ardunio if yes can you help me about it thank you in advance have a good day,0.845333456993
cstapels,talkback app is good for device control sometimes i have been confused between getting commands read list and executing them remove from list i would recommend you start by getting your arduino set up to read a channel value and then move on to the talkback since talkback is not included in the thingspeak communication library at present you will have to formulate the request format you could first use a cheerlights example to see how to read a field value https community thingspeak com tutorials arduino cheerlights with arduino and the fastled library you do not need pixels you can just output to the serial port just be sure to disable to pixels control part if you do not have them then you can change the format of the get request to the talkback format https api thingspeak com talkbacks talkback_id commands executeif you want to add commands the the talkback queue be careful to use the post verb and format you could also consider having your device subscribe to a channel using mqtt the mqtt subscribe feature will push messages to your device whenever the channel us updated there is presently an example for particle photon which is very similar to arduino https www mathworks com help thingspeak use particle photon client to subscribe to channel updates htmllet us know how it goes,0.727389335632
SenneHoekman,i have 5 individual channels on thingspeak and have set them all on days 1 in the url like the url below for example charts 1 width auto bgcolor 23ffffff color 233e92cb days 1 dynamic true min 0 results 60 round 0 title care cube type column xaxis tijdstip yaxismin 0 sum 10however when you view this on my website link below http sennehoekman be masterproef conflictvaardigheden htmlyou see nothing at first and then after a while it shows the data for 6th of june which is 4 days ago how can i solve this i just want my graphs to show today which does not seem to work with setting it on would ays 1,0.5
Alexan,hello thingspeak community recently i bought an esp32 f module and i started experimenting with the wifi i want to get data from a website and read them thru the esp my code is ok connecting to my thinghttp link and reading the data problem is that i can not read data from a website using thinghttp let see an example i want to get data from openweathermap yes i know that they have already an api option but it just an example when creating a thinghttp at the url i paste https openweathermap org city 734077then using the inspect option i find the xpath of the humidity which is id weather widget table tbody tr 4 td 2 then i paste it at the parse string select get and http version 1 1 and save it then when i use the link that it says i keep getting error parsing document try a different parse string however in the second example url https www timeanddate com worldclock greece athensparse string id ct and then i get the data that i want why is that happening i want to create a project that will get data from a website and display them on an lcd screen i also tried with receiving data from youtube without luck any help is welcome p s i am new to the subject i am sorry if i did something wrong please let me know,0.5
cstapels,what you have found is a common issue with thinghttp you can only parse the content that is originally loaded with the page if you inspect the source of the first page you will see a weather widget java script that is populating the table with the humidity data that data is provided to the page by the script but the data is not there yet when thinghttp attempts to parse the page for you if you look at the source of the second page you will find the element 2 58 45 am which is populated into the page at runtime though it may be updated later at the present time it is not possible for matlab or thingspeak to parse the final content of pages that have embedded code that populates elements after run time fortunately there is the api option as you pointed out there are also time apis to read from the second page you described you can use matlab analysis and the webread function to return data from api calls and provide it to other apps or write to your thingspeak channel,0.5
sandan,hello first of all i want to thank thingspeak developers and its community because i find it a very useful tool i am doing a university project reading values sent from a gprs module values are updated correctly in the corresponding fields each 2 3 min the problem comes when i want to send a tweet with thingtweet and react it should send me a tweet each time a specific field reaches a certain value but it is not doing it this is the configuration i have it seems that when the condition is met the first time in some hours it sends the tweet but then if condition is met another time in the next minutes 8 9min i have checked it does not send the tweet i do not know what could it be the issue there any kind of limit that makes react not working until the next hour or something like that thanks dani,0.900806188583
cstapels,i just tested i react to a thingtweet that i have based on a numeric value for field 1 on a channel i was able to trigger it once and then again 8 minutes later with similar settings as yours did you check the data in your channel to make sure it was updated if you were rapidly updating a post may have exceeded the rate limit and been denied also sometimes numeric based reacts can be tricked by string like data make sure the post that you want to trigger the react does not have any non numeric characters in it especially non printable ones you can test if the conditional setting is causing the failure by setting the condition to not equal to a string i have attached an example of a react that i want to run every time i post any data to the channel if your channel is public can you share the channel,0.773152291775
sandan,hi thanks for your time how did you tried react with run action only the first time the condition is met i can not see the image that the way i did and it does not work the data i am using is from field 6 from channel thingspeak com channels 468578 you can see in field 6 that data has been a lot of times over 50000 the react threshold and in the twitter account twitter com senshort there are only 11 tweets there are only numbers in my data so i do not think it related with string problems i can not see the image link broken it seems so i do not know how to make that condition you are explaining,0.5
desaiankit,sorry i cannot see the image you attached but i am assuming you have set the react to run action each time the condition is met another thing to keep in mind is that twitter does not allow tweet with the same text to be sent multiple times this thread throws some light on that https twittercommunity com t duplicate tweets 13264so if your tweet is of the same text it might be blocked by twitter and hence not posted hope this helps,0.262480735779
Sam,is there an api to create a new react or thinghttp,0.905506670475
Adarsh_Murthy,hi sam there is no api today to create a new react or thinghttp app you will need to create it on thingspeak com tell us more about your use case that requires these apis thanks adarsh,0.878397941589
Sam,hi adarshthanks for your answer ok i will try but my english is not very good u2026i do a diploma thesis in the field of iot the main goal is to register sensors as simple as possible which then send data to thingspeak the whole registration process should be able with a mobile app without a need of thingspeak com so i create new channels through the api and it would be nice also create react or thinghttp app for example to send always the newest value to firebase which i also use for that project greetingssam,0.865958452225
Adarsh_Murthy,thanks for sharing sam we will consider adding support for creating react or thinghttp app programmatically for a future release adarsh,0.972658872604
mvyctf,is it possible for a web browser to send parameters to a visualization app via the url i have a matlab visualization that users will view with a web link e g https thingspeak com apps matlab_visualizations xxxxx when the app generates the graph for that user i need to set the location of a reference line based on a piece of information from the user is there an easy way to do that for example maybe the user could use a url such as https xxxxx mydata 15maybe there some other way to do what i need thanks,0.5
mvyctf,my bad this topic has already been discussed here http community thingspeak com forum thingspeak apps parsing data from the url in matlab analysis and visualizations for me porting to javascript is not an option because the code is too complex,0.0978476107121
Souperman,i am not able to issue a post command to my private talkback channel i have successfully executed and deleted commands i am sending the following post to talkback but i am not sure of the syntax can anyone tell me what i am doing wrong post talkbacks 2864 commands json api_key myapikey command_string on position i have tried replacing the and the characters with carriage return line feed escape chars but still get 400 errors also tried removing the single quotes from the command string field thanks,0.147862434387
Souperman,this works get talkbacks 2864 commands execute json api_key mykey followed by crlf crlf,0.729035973549
borsaci06,i have some channels and established react trigger for tweeting when channel temperature above some level the react only worked once and sent a tweet when value got over level later it does not send tweets although temperature is over specified level not to mention i checked to trigger everytime value goes higher than specified level pls help,0.904633760452
lee,hi twitter will not allow multiple tweets to be posted that are identical try adding the time or some random value to your tweet and it will probably work correctly lee,0.918906450272
ndinev,is there any random replace item like datetime or similar that can be used to make different posts to twitter from react twitter if not this feature become unusable works only the first time just imagine a case you have channel field for door open or closed an you want to tweet the status this will work once for close and once for open because of twitter limitation,0.777757465839
homerruma,https www mathworks com help thingspeak react app htmlreplacementsif you specify trigger in your thinghttp request or thingtweet message trigger will be replaced with the value that triggered your react your tweet could be it is way too hot in here at trigger c you can also add the channel id attached to the react by using channel_id as a replacement,0.716295003891
rw950431,ndinev said is there any random replace item like datetime or similar that can be used to make different posts to twitter from react twitter if not this feature become unusable works only the first time just imagine a case you have channel field for door open or closed an you want to tweet the status this will work once for close and once for open because of twitter limitationtwitter only blocks identical tweets next to each other you should be able to tweet on off on off indefinitely you just cant tweet on on on on etc if the above is still not working for you then maybe you need some matlab analysis code between your react and your thingtweet matlab webwrite function can be used to post data to thingtweet url,0.766015648842
homerruma,twitter only blocks identical tweets next to each other you should be able to tweet on off on off indefinitely you just cant tweet on on on on etc is this rule verified,0.26912933588
rw950431,you can test it from the twitter web interface or your favorite appsee also https twittercommunity com t duplicate tweets 13264 or search for twitter duplicate tweet,0.961180508137
OZ2CPU,i have a problem i can not get my entire data curve shown my data gets truncated to unly show the last month of datawhy where is december data https thingspeak com channels 71167it does not matter if i ask for 99 days or 999 days december data is still gone,0.0266665816307
rw950431,a single api call can only return 8000 points is that likely to be a problem for you,0.0687117576599
OZ2CPU,thanks i think this explain my problem this means if i want to make a curve over several years i need to figure out how often i can upload dataso my total points is still inder 8000ok lets do the math together 8000 2 years 4000 points pr year4000 365 11 points pr day in other words only upload every 2nd or 3rd hr,0.188980400562
Adarsh_Murthy,all the data points that you send to thingspeak are still stored and available however as you have noticed the default charts allow you to visualize only the last 8000 points if you want to visualize data for a specific period of time then you can do that by specifying the tart and end parameters as described on this page under feeds parameter section https www mathworks com help thingspeak create a chart htmlif you want to visualize more than 8000 points at a time you can create a matlab visualization and add the visualization to your channel page here is a simple code snippet that i created to visualize data for the last 8 days about 11500 points the first data segment note that this should contain less than 8000 pointsend1 datetime now start1 end1 days 4 second data segment note that this should contain less than 8000 pointsend2 start1 start2 end2 days 4 read the first data segment data1 time1 thingspeakread 12397 would aterange start1 end1 fields 3 4 read the second data segment data2 time2 thingspeakread 12397 would aterange start2 end2 fields 3 4 join the two data setsdata data2 data1 time time2 time1 plot the datathingspeakplot time data find more information about the matlab visualization app at this link https www mathworks com help thingspeak matlab analysis and visualization html,0.247561305761
OZ2CPU,thanks for the info i realized the problem must be with year change since my curves show fine all data from january until now when i ask for it using days or points but nothing from december no matter how many points or days i ask for to check this is true i downloaded all my data into a csv file and bingo ud83d ude42all my december 2015 data is perfectly there just impossible to show it please fix the bug thingspeak ud83d ude42,0.249198913574
OZ2CPU,i keept playing with this since it keep driving me nuts i see it is possible to show a curve from dec 2015 and continue the curve to feb 2016since other of my channels do work here you can see the ones that workand the ones with error dont show dec http webx dk ak test htmplease help,0.5
wewa,hello i need to detect if a device is alive respectively online i thought of adding some kind of watcher to a thingspeak channel the watcher should alert me if there is now data added to the channel for a predefined time is there some existing plugin or how could i realize this best regards wewa,0.894396543503
Hans,check out the react app one of the options is no data inserted,0.737268090248
wewa,oh thank you i did not notice that option first,0.852537930012
umami,following settings does not work url https api thingspeak com talkbacks 3635 commandshttp auth username thingspeak userhttp auth password thingspeak passwordmethod postcontent type mimehttp version 1 1host api thingspeak comheaders body api_key b1ubytu4iregtx8u command_string led04 1any ideas,0.5
Hans,i would try changing the content type to the following content type application x www form urlencoded,0.87927287817
umami,it works,0.242533385754
MartinV,i am trying to do exactly the same but i get a return that the page does not exist so this must mean that my thinghttp is not set up correctly also what should i type in the http auth username password the channel is private this is my setting name request 15128api key f5a4m44upu6i309wregenerate api keyurl https thingspeak com apps talkbacks 5728 commandshttp auth username http auth password method postcontent type application x www form urlencodedhttp version 1 1host api thingspeak comheaders body api_key lowe6cycq2kccjf4 command_string led position 1,0.5
Modus,hi guys i successfully displayed some datas from arduino on my personal webpage using http post and thingspeak with the standard chart code available however i would like visualize integer numbers whole numbers instead of using analogue datas on charts like temperatures how can i do this another thing that i would like to know is to be better visualized how can i extend the charts to it horizontal sides to cover more it historical information thank you very much,0.93642783165
Adarsh_Murthy,hi modus you can use matlab visualization app to create custom visualizations of your sensor data to convert decimal values to integers you can use the round function in matlab for e g if your data looks like this data 9 1519call the round function to convert it to an integer round data ans 9 there are other options depending on how you want to convert the data ceil floor functions regarding extending the charts horizontal sides if you are using the default visualization on thingspeak then click on the pencil symbol in the top left corner of the chart this opens a new window with options that you can set to change the data being displayed play with the days or results options to find the appropriate display thanks adarsh,0.5
Dennniske,hello i have searched a while in the forum but cannot find the answer i am looking for i have a channel via matlab visualization i have added 5 visualizations with a template some of them do not work okay no problem others i do not need at the bottom shows the delete option i got a warning dialogbox telling me that i am sure to delete the code yes there was also a checkbox in this warning box to confirm that this dialogbox was no futher needed i checked the box but now i cannot delete any visualizations i do not know how to turn on the safety warning box again looked in my profile etc perhaps a stupid thing i looked over anybody help oh windows 10 with chrome apps for chrome installed adblock and ghosteryregards denniske,0.102657526731
joefly,hi thingspeak is great if the end device talks http requests what about email support with react so ideally if a certain datapoint condition is met one can be alerted by email and with ifttt basically all possibilities open up seems like ifttt does not have plans to supprt http thanks,0.94220238924
lee,hi this is something we have discussed internally and will consider implementing in a future update to thingspeak lee,0.5
rayellam,this email function would be a very nice to have option auto alerts on my prototype power meter with pic and esp,0.906080722809
rw950431,https zapier com has some support for http post email paid service though theres also this somewhat dated post https www marcus povey co uk 2012 11 07 using webhooks with ifttt com which uses wordpress as middleware between a http post and ifttt but i dont know if it still works,0.214026749134
homerruma,rw950431 said https zapier com has some support for http post email paid service though theres also this somewhat dated post https www marcus povey co uk 2012 11 07 using webhooks with ifttt com which uses wordpress as middleware between a http post and ifttt but i dont know if it still works how to thingspeak to zapier please tutorial for step by step for our beginners thank you,0.234918117523
rw950431,since my original post ifttt have introduced the maker channel which avoids the above work around see this thread http community thingspeak com forum thingspeak apps thinghttp ifttt maker for some details on how to use it,0.5
CorBee,hi u00a0i am a happy user of thingspeak for many months i was also pleased to see the possibility to use the react app as an addition to get informed of important data events however my react calls mail and android notifry are not arriving at all anymore since last night they have been working fine for months and i do see the data arriving at the thingspeak channels properly also the react rules are still in tact ive tested sending a message from for instance a linked httppost event and that still was working so it looks as data from my side arrives at the server and the server is able to inform me but the react app seems to not send its events anymore u00a0regardscorbee,0.80449783802
CorBee,this morning the system seems to have been functioning shortly but its again stopped anybody working on it u00a0regardscorbee,0.134697705507
CorBee,and its working again as planned odd that we never hear if this was done by some kind of mystic powers or someone behind a keyboard hope they read this message too u00a0thanks,0.231900036335
Hans,whoops i missed your posts about react on on of the reacts server we were running low on ram this caused some odd behavior we addressed the issue and everything should be back to normal,0.061898291111
CorBee,hi u00a0well the issue has indeed been resolved unfortunately i could not find a clear adress where i could send in my error report is there something like a thingspeak helpdesk mailadress u00a0cheerscor,0.0476871728897
Hans,glad it working again please use support thingspeak com for support email,0.853403806686
vespapierre,hi corbee can you help please how to send e mail and or notify android like you do thanks,0.974783778191
vespapierre,managed to do this with nma thanks,0.925662815571
CorBee,i am using notifry in combination with pushingbox so thingspeak sends a message to pushingbox and pushingbox sends notifactions and or emails accordingly that i can receive on my android using notifry and a normal mailprogram gmail in my setup cheerscor,0.72715139389
CorBee,unfortunately since yesterday i have the feeling the react server is again giving problems anybody else that sees this also i tried tested the thinghttp links and they were working still as planned but react does not seem to fire requests or so ive posted several mails also to support thingspeak com but have no answer yet regardscorbee,0.0196860432625
Hans,we got your support messages and we are looking into the issue as of right now all services are up and running properly i will get back to you shortly thanks hans,0.229589670897
CorBee,hi hansthanks for the action i dont see any messages appearing yet regardscor,0.685272574425
vespapierre,hi i have the same problem like corbee no messages arriving to my android device using react in case of using the link manually to test it is working but seems react do not send the request automatically,0.756645441055
CorBee,hi vespapierre when did this problem start for you with me it started somewhere during last tuesday unfortunately my problems also have not been solved regardscor,0.0448452830315
vespapierre,hi last push message came on 14th of may 15 46 local time budapest and still no message arrived except the test ones on 16th of may 12 47 and 12 52 local time,0.5
CorBee,hithat fits to my scheme i saw my last message coming in at 930 netherlands on the 14th of may i should have had messages later that day at around 2000 or so but none arrived since then i have tested many options i created an additional thinghttp scheme that uses another notification system nma but both my original setup using pushingbox and the new one still have not delivered any of the reacts the data is streaming well and my graphs show that i should have had reacts but something seems to be wrong cor,0.211967408657
vespapierre,i thinks thingspeak guys will solve the problem netherlands great looking for contacts about importing used bicycles and vespa scooters,0.793891787529
hans,we found a possible issue that might cause reacts to stop in certain cases i will update you as soon as we have a fix thanks for reporting this,0.822938084602
CorBee,hi vespa i can inform you about using bicycles but not about how to import them cor,0.884588479996
CorBee,hi hans i think it would be interesting to know which type of react you think should be working still cor,0.946890592575
TipsEZ,so i am brand new to the iot world i am using an adafruit huzzah board to connect up with a stepper motor and driver board of course being driven from the huzzah i am trying to get my thinghttp setup so that when i post a tweet see tipsez on twitter the thing http will input the entire tweet string into field 1 or field 2 then i will use the thingspeak header on the huzzah and perform a readstringfield mychannel 2 myapi however i cannot seem to get it to post what i want into the fields it triggers and updates my channel feed with my tweet but it does not post to fields please someone help me i have tried all the documentation i could find but with my limited knowledge of http and such i am just sucking right now this is my latest road block after spending about a week trying to get connected directly to twitter thank you folks,0.5
rw950431,you are using tweetcontrol have you read the documentation at https au mathworks com help thingspeak tweetcontrol app html would seem to allow the whole text of the tweet status to be inserted into a field the example shows it being added to the status field of the channel but you can change that,0.695058882236
TipsEZ,i have indeed read through this a couple of times i have mine setup like this api_key mywriteapikey field1 status status status which to me would seem to mean that i am going to read the status and place it into field1 and also place it into my channel feed it shows up in my channel feed but not in my field1 for me to pull with the arudiono code and the thingspeak header,0.5
rw950431,thats how i would have done it have you done some manual testing trying to insert strings into a field and retrieve them i am wondering if there is an undocumented limit on string lengths or if spaces within the string screw up the insert if you dont have access to command line tools like wget or curl you can use https www hurl it to make web requests,0.191570043564
TipsEZ,when you say manually input the data into the field what do you mean i apologize i am brand new to this world i have read some stuff about curl and php but none of it has really made much sense to me,0.5
rw950431,from what i read it seems you are having trouble extracting the data rather than putting it it so i will try to explain the data extraction side under the hood of whatever library you are using the code has to deal in http requests and responses the same kind of thing you use to access a website from your browser for example to access the last data from a public channel put this url into your browser 2102 is the channel number http api thingspeak com channels 2102 feeds last jsonif its not a public channel add your read api key like sohttp api thingspeak com channels 2102 feeds last json api_key your_read_key logon to thingspeak and visit https thingspeak com channels channel_id api_keys to see your keys to try these with hurl it choose the get method and enter the url above see the docs at https au mathworks com help thingspeak get a channel feed html for more information and examples to add more than one parameter separate them by like sohttp api thingspeak com channels 2102 feeds json api_key your_read_key results 2this will allow you to see what your huzzah is seeing hopefully it helps figure out whats wrong if you find the data is being updated properly let me know and i will try to explain the updating side slightly more complicated,0.5
TipsEZ,great thank you work looks to be rather busy today but i am hoping to swipe a few minutes on lunch to have a go at this it would would be great to find out if i am just not updating or not pulling properly,0.922549247742
TipsEZ,so i set my channel to public and input the string for a public channel into hurl it as a get below is what i got back created_at 2016 01 12t16 42 13z entry_id 17 field1 thingspeak testing flagshalfstaff field2 null so it looks like my recent change to post my twitter string to field one is functional next i input the following string to use as a get after i sent a new tweet http api thingspeak com channels 78204 feeds last json api_key myapi keyi received back in the body created_at 2016 01 15t18 50 41z entry_id 18 field1 testing thingspeak tweetcontrol for flagshalfstaff field2 null so i am guessing there is something i am missing in the thingspeak arduino library it looks like the data is indeed updating properly any further thoughts before i open up the thingspeak header to try to figure out what parameters i may be missing,0.5
TipsEZ,i did some more reading and testing after i got some work stuff done and i am getting this to my serial monitor error reading message status was 303using this code string message thingspeak readstringfield mychannelnumber 1 int resultcode thingspeak getlastreadstatus if resultcode 200 serial print latest message is serial println message else serial print error reading message status was serial println resultcode so i did a quick google search and found this thread below that had some information i updated my library git download and renamed the old thingspeak library to _old and it works phew now to try to integrate all this into my code for my current project i would still appreciate learning anything else you have to offer this whole iot world excites and interests me but is a bit overwhelming for a newbie http community thingspeak com forum arduino error code 303 err_bad_response unable to parse response,0.761000990868
superdonkey,hi new to thingspeak i am just testing out the features really the instructions for thinghttp are not all that clear for the parsing aspect of it i had an idea of parsing information out of a website like a weather website however for websites that do not use any id tags in their code this seems nigh on impossible does the parsing support regex for instance i want to parse the temperature field from this website http www wunderground com global stations 03772 htmli can do a regex search to extract the temperature field div id curtemp wx value sfrom this section of html div id curtemp style color 52b673 span class wx data span class wx value 5 span span class wx unit u00b0c span span div any ideas,0.740424633026
rw950431,xpath syntax can be used its a bit different to regexp though see my old post http community thingspeak com forum thingspeak apps why does this xpath fail for some info firefox firepath plugin is pretty helpful in trying to figure out the syntax,0.814907431602
superdonkey,ahh thanks for the reply this is incredibly temperamental i even tried using the mobile version of the website to try and parse the data on the website http m wund com global stations 03772 html i have come up with an xpath string that works on google chrome with the command prompt using x allows you to search with xpath table table 1 tr 2 td 2 span 2 b text returns me 6 which is correct if i put that into thinghttp i still get error parsing document i tried the example the guy used in your link which works fine though edit even a 1 text should at least give me the text of the first link but still get the error,0.225915789604
rw950431,scraping html is always fraught with peril even more so nowdays when websites can dynamically change the page thats served up to you depending on your user agent ip address or any number of factors theres a new website called import io that claims to specialise in this kind of thing but even it didnt succeed 100 with your pages if you are really interested in weather underground weather its probably easier to sign up for a free account and use the api which will give you nice clean and consistent xmleghttp api wunderground com api your_secret_key geolookup q england london xml,0.897466897964
tparvais,hello u00a0i am starting in xml and thingspeak i would like to feed some data for charting from a xml file containing different measurements u00a0here is an example of this xml file refreshed every 5min below u00a0what kind of parsing string should i use to save the different temperature u00a0 sensor romid 830008019475e410 name air_exterieur name value 4 44 value sensor u00a0 save 4 44 in one of my field for charting field name air_exterieur u00a0thank you u00a0 u00a0the xml file u00a0 xml version 1 0 encoding utf 8 standalone yes data program name logtemp version 2 25 0 97 version timezone_bias_utc 0100 timezone_bias_utc program temperatures sensor romid 830008019475e410 name air_exterieur name value 4 44 value sensor sensor romid 0e0000036dc6e228830008019475e410 name gain puit canadien name value 7 75 value sensor sensor romid 4d0000036db7ab280e0000036dc6e228 name gain vmc name value 6 13 value sensor sensor romid 2600000091c90b26 dp name point rosee air exterieur name value 3 34 value sensor,0.5
Hans,can you send us a link to that xml feed support thingspeak comi think you can do this with a combination of thinghttp and the channel api,0.5
tparvais,can you send us a link to that xml feed support thingspeak comi think you can do this with a combination of thinghttp and the channel api http ophain dyndns org domo last xmlthomas,0.5
Hans,i was able to parse your xml but the xml is cutoff so it not a complete document i used a parse string of sensor 3 value and this grabbed the u00a0gain vmc value example output http api thingspeak com apps thinghttp send_request api_key re102bfgaggu4lsh,0.5
tparvais,thank youbut i obtain strange resultfor example if i request the first sensor valuehttp api thingspeak com apps thinghttp send_request api_key tleagcghskk6os4a u00a0i get u00a05 2587 410 0514 00 u00a0correct value is 5 25 u00a0how can i use then this value to feed automatically thingspeak u00a0in fact my request is the following u00a0is there an automatic polling system which every x minutes gets from an url a value to add to a datastream u00a0thank you,0.5
Hans,there is not an automated polling mechanism we would have to think about how to scale that type of service if you add this request to the feature request section of the forum we will take note and consider how to do this in a scaled up way now on the first result thing i think that the xml feed is getting cut off and the document is not parsing properly that 1 trick works on other feeds but the feed has an open and closed xml xml tag,0.5
sinergia,any new about this i have the same problem i have sone passive sensors there is no way to programe nothing on them but if you ask them the prooer xml petition you get the data desired how can i make thingsoeak to ask a xml poll every 15 minutes to my sensors,0.76021116972
rw950431,as well as thingspeak timecontrol there are internet cron services that will allow you to poll a url on a regular schedule eg https www setcronjob com although i dont think that gets you all the way to a system that polls a url and stores the values in a thingspeak channel its kind of a shame that you can do both halves of the task but just cant join them together for now you have to supply some device to sit in between either a server you have access to or perhaps a program on a service like heroku or openshift,0.5
evancroby,hope this will help you http net informations com q faq xmlreader htmlevan,0.895513176918
gyrolen,i would like to do a react when a variable value is greater than 10 of the previous value the react app appears to allow a constant onlynotes field1 is numericlet lastest equal the latest reading into field1let previous equal the previous reading into field1react if latest is greater than previous 110 any suggestions on how to do a workaroundthanks,0.234076112509
Hans,a possible solution is to use matlab analysis you could have matlab run every time data gets inserted using a react,0.310908257961
gyrolen,yes that works ok i added a new field called reaction which can have 0 1 1 depending on a mathlab decision then used multiple reacts to respond 3 different ways depending on the contents of the reaction field thanks hans,0.922336578369
viscomjim,i have set up thinghttp to work with tweetcontrol and it works quite well however similar to cheerlights how can one pass data along with the trigger i understand that the cheerlights is the filter keyword and then the trigger is then the data but with the tweetcontrol one must use the filter keyword ie tweetcontrol etc and the trigger is just that a trigger no data other than the trigger is available other than setting up several different thinghttps and tweetcontrols one for each trigger how can we pass data values along with the trigger this would be a great way to control things using twitter for example tweetcontrol samsledlights redor tweecontrol samsledlights redor something like this,0.784442126751
rw950431,according to the docs tweetcontrol allows you to pass the entire contents of the tweet to thinghttp via the status replacement key as per https au mathworks com help thingspeak tweetcontrol app html does this help it would be nice if the tweetcontrol could trigger a matlab analysis with the same replacement keys,0.840468347073
Martini,i would like to change the font size of the gauge name temp u00e9rature does not fit actually i tried this var gauge_name temp u00e9rature gauge_name gauge_name fontsize 4 it does not work i would like to show you the result but i can not seem to be able to make the gauge public if someone can help me with that as well edit i wanted to edit the title for something a bit more specific like google gauge changing the font size but no luck,0.132273823023
Martini,upan idea anyone,0.771095633507
hkbiet,hi all i want the following to happen whenever a field value in thingspeak channel crossses a threashold the thingspeak should push a binary as response how do i do that take it in a way like a software update on a remote system as a particular date passess the thingspeak should push a binary to it,0.5
mschutze,hi there i am trying to setup a react to send a request to my ifttt channel which in turn sends me push notification with the current temperature if the temperature is over a limit according to https ifttt com maker all i need is to make a get post request to a certain url https maker ifttt com trigger alert with key my_key and add json encoded information in the body of the request so i created a thinghttp like that name alert ifttturl https maker ifttt com trigger alert with key my_keymethod gethttp 1 1host maker ifttt comaccept the react is working and i get the push notification through ifttt what i can not figure out is how to send the current temperature reading in the thinghttp request is there any way to include the value of a field in a channel in the body of the request also related to the react if i configure it only to run the first time a condition is met if the temperature drops below the limit and then goes up again will it fire again it would be cool if there would be an option like are set action if condition is not met or run action only once a hour day week cheers,0.811632514
rw950431,based onhttps thingspeak com docs thinghttp especially the section custom replacement keys you might try on the thingspeak side change to post method set message value1 channel_channel_id_field_field_number where channel_id and field_number are modified to suit your channel then hopefully on ifttt use value1 in the recipe output side if you are having trouble with the syntax you can use a site like http requestb in to examine whats coming out i have not tried any of this so please let me know if it works interested to know what you use for push notifications i have yet to find a reliable one that doesnt use too much resources as far as i know the run only first time condition is automatically reset once it becomes untrue so it will fire again if the temp drops and rises again,0.81173145771
mschutze,cool it works i skipped the extra though body value1 channel_xxxx_field_1 added the value1 to the message and it worked fine i use the ifttt end alert funtion it works even if the if app is not running and i receive a push notification on my homescreen about 2s after firing the event the react run only once is kinda woking sometimes i get just one alert sometimes a few might be related to small fluctuations around the trigger limit as i mentioned earlier it would be could i could limit the ammount of alerts to one per hour or something like that i might try writing a matlab app for this thanks for you help,0.84464263916
rw950431,cheers glad to know it works that maker channel on ifttt opens up a bunch of possibilities i am guessing that whatever you are triggering off is fluctuating up and down over the trigger point so you get a few alarms a matlab script could either rate limit the notifications or introduce a little bit of hysteresis or both in fact not sure how to save state in matlab between invocations though maybe you need a separate thingspeak channel just to remember the alarm state,0.5
naamah75,hi like mschitze i am trying to use thinghttp with ifttt maker i am able to receive the event in ifttt but i cannot receive the value1 data as suggested before i used the http requestb in website and the post seems to be correct but nothing this is my thinghttp url https maker ifttt com trigger alert with key dgkxok2 v fapjm93mp0cghttp auth username http auth password metodo postcontent type versione http 1 1host maker ifttt comheaders body value1 channel_75458_field_1 where i am wrong thanks,0.833490431309
Hans,try changing the content type to application jsonthis tutorial helped me with ifttt maker channel http www makeuseof com tag ifttt connect anything maker channel,0.87904715538
naamah75,yeah thanks hans now it working,0.896726489067
gcarlier,hi i am trying to use the gauge plugin for temperature values in c u00b0 but it does not seems to work with decimal values is there anything to add in the script for that thx in advance u00a0guillaume,0.5
Hans,if you are using code from our google gauage tutorial there is a line that rounds the value p math round p 1023 100 that will remove the decimals you can try taking it out and seeing if decimals display let us know u00a0,0.5
gcarlier,thingspeak said if you are using code from our google gauage tutorial there is a line that rounds the value p math round p 1023 100 that will remove the decimals you can try taking it out and seeing if decimals display let us know u00a0hello u00a0thanks for the answer i tried to remove the line but it does not work the gauge is not displayed any more the feed number is 1198 and here my code u00a0 script type text javascript src https ajax googleapis com ajax libs jquery 1 4 4 jquery min js script gt script type text javascript src https www google com jsapi script gt script type text javascript u00a0 u00a0 u00a0var chart u00a0 u00a0 u00a0var charts u00a0 u00a0 u00a0var data u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0google load visualization 1 packages gauge u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0google setonloadcallback initchart u00a0 u00a0 u00a0function displaydata point u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0data setvalue 0 0 light level u00a0 u00a0 u00a0 u00a0 u00a0 u00a0data setvalue 0 1 point u00a0 u00a0 u00a0 u00a0 u00a0 u00a0chart draw data options u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0function loaddata u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 variable for the data point u00a0 u00a0 u00a0 u00a0 u00a0 u00a0var p u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 getjson https api thingspeak com channels 1198 feed last json callback 039 function data u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 get the data point u00a0 u00a0 u00a0 u00a0 u00a0 u00a0p data field1 u00a0 u00a0 u00a0 if p u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 p math round p 100 100 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 displaydata p u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0function initchart u00a0 u00a0 u00a0 u00a0 u00a0 u00a0data new google visualization datatable u00a0 u00a0 u00a0 u00a0 u00a0 u00a0data addcolumn tring label u00a0 u00a0 u00a0 u00a0 u00a0 u00a0data addcolumn number value u00a0 u00a0 u00a0 u00a0 u00a0 u00a0data addrows 1 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 chart new google visualization gauge document getelementbyid chart_div u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 options width 120 height 120 redfrom 90 redto 100 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 yellowfrom 75 yellowto 90 minorticks 5 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0loaddata u00a0 u00a0 u00a0 u00a0 u00a0 u00a0setinterval loaddata 15000 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 script u00a0thanks u00a0g,0.5
Hans,i see the issue when you get data from json javascript is going to think the variable type is a string the rounding operation made it work by changing the variable type to a number if you want to perserve the decimal use parsefloat replace your jsonp call with this code getjson https api thingspeak com channels 1198 feed last json callback function data get the data point p parsefloat data field1 if p displaydata p that should do the trick,0.275078415871
gcarlier,ok thanks i will try this u00a0by the way thingspeak is a great project congrats u00a0g,0.996910095215
Martini,my values have two decimals but i wanted to display only one so i did p data field1 if p p math round p 10 p p 10 displaydata p is there a smarter way of doing it not a coder that pretty much the first time i use javascript better even is it possible to round a value to the closest half degree c 22 56 would be displayed as 22 5 21 8 would be 22,0.5
frodevv,hii am trying to setup something that allowes me to get push notifications on my iphone whenever the temperature of my sensor reads too low i have three channels in thingspeak and they are working fine i get a push notification when i use the no data check in react app with the thinghttp action but that is if it has not received any data in a set amount of time i need it to send push when the temperaure is too low i tried setting the condition type to numeric but nothing happens what am i doing wrong,0.229662656784
rw950431,it should work you did set all the conditions right numeric is less than channel and field numbers correct etc a site like http requestb in is sometimes useful to troubleshoot such issues change your thinghttp to point to requestb in rather than the existing url and you can view what if anything is being sent its unfortunate that thingspeak does not have a logging facility that shows incoming and outgoing requests,0.215556561947
fanest,hello im new here and need some help if i increase chart size over the size of standard box i get sliders so my question is why can not i increase chart size for better visibility of presented data i used both mathlab visualization and some default plugin and in both cases i get the same chart size if i embed my chart to some other page can and set bigger chart frame size will my graph become bigger thank you,0.317005306482
fanest,never mind figured it out did not see the view button next to application xd,0.5
MarkC,greetings i am trying to create something similar to cheerlights to let visitors change portions of my holiday light display i have read everything i can find and watched every video so i apologize up front for not being able to figure this out i created a channel with one field called color i can post new colors to this channel from a web browser and i can read the colors with my arduino application so far so good i then created a tweetcontrol for each color that should trigger a thinghttp app the settings for the tweetcontrol are twitter account drflights trigger red one for each color thinghttp action drf http updater which is my thinghttp update app then i created a thinghttp app with the following settings wish i could include a screen shot here name drf http updater key zl8gwnx18lvabxj0 url http api thingspeak com update username i left it blank password also blank method post content type application x www form urlencoded http version 1 1 host api thingspeak com headers i left it blank body key 8eg143rzkmmf3p5c field1 trigger status status parse string i left it blank so i send the following tweet drflights thingspeak red from a twitter account and it shows up ok in the drflights twitter feed but the color does not show up as new data in my thingspeak channel i suspect that i do not have the thinghttp app not set up correctly but i am clueless as to what i am missing does anybody see something obvious that i am doing wrong thank you very much in advance mark,0.95135653019
rw950431,according to the docs at https au mathworks com help thingspeak tweetcontrol app html bu4l8f_ 1 you might need api_key rather than key in your body,0.5
MarkC,thank you for pointing that out i made the change but it still does not work here the crazy thing that i do not understand if i do a tweet to my twitter account drflights it changes the cheerlights color but not my color for example if i tweet drflights thingspeak red it will change the cheerlights color to red immediately but not show up in my feed my tweetcontrol app is specifying drflights as the twitter account to watch and drf http updater to run my thinghttp app it feels like the backend is vacuuming up all the tweets that have one of the trigger keywords and routing them to cheerlights i hope that i am doing something wrong but it not obvious to me right now anybody have a thought thanks again in advance for any help mark,0.191222846508
hans,markc according to the tweetcontrol app documentation https www mathworks com help thingspeak tweetcontrol app html bu4l8tj 1 4 check the anonymous tweetcontrol box to enable anyone to trigger this tweetcontrol you may need to set each color tweetcontrol to use an anonymous tweetcontrol to let anyone control the color if a twitter account is specified it the associated thinghttp will only be triggered from the associated account tweets,0.5
MarkR,i have a channel 1 that receives temperature readings from an arduino board and then use react to trigger a page with a string on or off depending on the temperature i am not sure how to set up channel 2 so that it would post a string to a plaintext page after react sends a thinghttp to channel 2 thanks mark,0.5
Ulvis,got this error you have a react with similar test frequency action and option settings delete that react to save this one channel is different test criteria is different action matlab script is different so when does thingspeak consider the reacts to be too similar,0.224092483521
AYAduino,i have got a number of different channels with fields updating anywhere from once every 30 seconds to a few times day i have created matlab apps that do some basic math on a few of those fields and write new values to other channels in an effort to not be wasteful with resources i had tried to set up multiple react triggers that would only launch the matlab apps when specific fields were updated each field has a maximum rate of 1 minute but they could also see hours or days between updates the problem is i could not save the 2nd react because the trigger was too similar to the first one though different channel field entirely i could create just the one react but then i would have to trigger it on the most frequently updated field every 30 60 seconds 24 7 just wondering if i have missed something or if anybody has any suggestions thanks brad,0.755244314671
Ulvis,same problem here,0.065504938364
shironawa,is it possible to change the condition in the react app through smartphone application by using the talkback app if possible can anyone give some suggestion on how to do it thanks in advance,0.5
lee,hi unfortunately this is not possible the react app condition can only be changed via the website lee,0.142176002264
bobthesheep,i tried the tutorial from tweetcontrol and thinghttp using api_key thingspeak_write_key field1 trigger status status however this does not seem to write the data into a field in my channel it writes instead to a channel status update field i want to parse the tweet and discard the words leaving only numbers anyone got any idea how to do it i can not seem to be able to get the data using mathlab analysismy channel https thingspeak com channels 65186thanks,0.181774973869
hans,bobthesheep i can not seem to be able to get the data using mathlab analysis can you please clarify what you are trying to do using the matlab analysis app i tried the tutorial from tweetcontrol and thinghttp using api_key thingspeak_write_key field1 trigger status status however this does not seem to write the data into a field in my channel it writes instead to a channel status update field i first want to make sure i understand what you are trying to achieve it sounds like you want to do the following 1 listen to twitter for a specific tweet to occur the tweet will contain some unknown value and the known trigger 2 you want to be able to find the unknown value in the tweet and extract the unknown value3 once the unknown value is extracted from the tweet you want to write the unknown value to a specific channel field if i understood the intention correctly it is possible to do something similar in a slightly different way tweetcontrol is currently limited to only triggering thinghttp requests when a tweet matches a trigger condition tweetcontrol can pass values to thinghttp via ubstitution keys in a thinghttp request currently tweetcontrol nor thinghttp cannot parse or alter the substitution values given the example scenario above it is currently not possible for tweetcontrol to modify the substitution values prior to passing the values to thinghttp likewise it is not currently possible for thinghttp to alter or modify substitution values once the have been provided to thinghttp this does not mean it is not possible to accomplish the same end objective within the given framework it is possible to create a tweetcontrol to listen for a specific trigger value the entire tweet may be written to a channel using thinghttp once the full tweet is in a channel a react app may trigger a matlab analysis app to execute whenever data is inserted to this intermediate channel the matlab analysis app would then read the last value written to the channel parse the value that was written to that channel perform a transformation and write a new transformed value to a different channel,0.5
Ulvis,i did what you ask for the https thingspeak com channels 66116 channel i could not get the tweet in to a channel using thingspeak probably not doing it right so i used zapier for this after that a react trigger a matlab script which parses the text and writes the desired values to a destination channel a typical tweet variable text prisoppdatering bensin 95 13 48 diesel 12 48 st1vestby 2015 11 18 09 21 18 script below full of scrap but you get the idea script just replace the zzzz xxxxx yyyyy below todo replace the with channel id to read data from readchannelid zzzzzzzzzzzzzz todo enter the read api key between the below readapikey xxxxxxxxxxxxxxxx todo replace the with channel id to write data to writechannelid 66116 todo enter the write api key between the below writeapikey yyyyyyyyyyyyyyy read data data thingspeakread readchannelid are adkey readapikey data thingspeakread readchannelid are adkey readapikey colors thingspeakread readchannelid numdays 1 outputformat table data time thingspeakread readchannelid outputformat table k strfind data would iesel analyze data add code in this section to analyze data and store the result in the analyzeddata variable analyzeddata colors content display analyzeddata display data summary summary data erik data content 1 display erik whos erik ola char erik whos ola ola strrep ola replacing commadisplay ola posdiesel strfind ola would iesel poshash strfind ola strdieselvaluetxt_ary strsplit ola would iesel display strdieselvaluetxt_ary 2 txtsecondpart strtrim char strdieselvaluetxt_ary 2 display txtsecondpart whos txtsecondpart posnewline strfind txtsecondpart display posnewline strdieselpart strfind txtsecondpart txt_ary2 strsplit txtsecondpart txtdieselvalue txt_ary2 1 display txtdieselvalue numdieselvalue str2num txtdieselvalue bensin posbensin strfind ola bensin 95 strbensinvaluetxt_ary strsplit ola bensin 95 display strbensinvaluetxt_ary 2 txtsecondpart strtrim char strbensinvaluetxt_ary 2 display txtsecondpart txt_ary2 strsplit txtsecondpart txtbensinvalue txt_ary2 1 display txtbensinvalue numbensinvalue str2num txtbensinvalue writedisplay numbensinvalue display numdieselvalue write data thingspeakwrite writechannelid numdieselvalue numbensinvalue writekey writeapikey,0.5
redWall22,i would like to turn a light on at a specific time which is trivial using timecontrol app thanks for that but i would also like it to turn off at a specific time i could make it send a single on command then another to send an off command at a different time but would like a little more in the way of error control reliability ideally i would like to send the on command every 5 minutes starting at a certain time and then stop sending the on command either at a certain time or a way to set it up so it keeps sending the on command until it receives a confirmation that it was received successfully though an http get post any ideas on how to accomplish this with timecontrol or do the equivalent in any other manner would be appreciated,0.824547111988
redWall22,so i also went with the matlab analysis first time ever using it so it kinda cobbled together and probably really really bad but it does seam to work so far although i do not need want to the whole would ata part it just kept throwing errors when i tried to only do webwrite offcmd or webwrite offcmd options oncmd http myaddy com lighton offcmd http myaddy com lightoff ontime 20 00 8 pmofftime 06 00 6 amdata 42 data2 100 data struct api_key data2 field1 data options weboptions mediatype application json t datetime now timezone local format hh mm light thingspeakread mychannel fields 3 are adkey myreadkey get the most recent data from field3 light 1 on 0 off if t ontime t offtime if it during the time the light should be off off time if light 1 if its onresponse webwrite offcmd data options turn it off end and notify me somehow tbd probably push notification through ifttt else the light should be on on time if light 0 if its offresponse webwrite oncmd data options turn it on and notify me device has probably reset endendif anyone knows how to improve this like just sending webwrite oncmd or can see any issues i might run into doing it this way then please let me know,0.0880146324635
rw950431,what is it that you are trying to turn on off are you operating in push mode that is thingspeak does a get post to the device or waiting for the device to poll that is device does get post to thingspeak if the second case did you look at the talkback app although the timecontrol talkback path seems to only support appending a command whereas you may be looking to update for more complex logic you may have to try coding a matlab analysis edit looks like you already did,0.5
redWall22,rw950431 said for more complex logic you may have to try coding a matlab analysis edit looks like you already did trying to anyway i can not figure out how to edit my post right now but the hopefully corrected if statement is if t ontime t offtime,0.173946261406
rkgarg,hello i would like to have a react based on my local time the condition shall be something like thisif time is between 9 pm and 6 am check the garage channel and notify based on channel value between this time i do not care the value of the channel outside this time i did not find any way to write such reach,0.722643375397
rkgarg,well never mind i got it done through matlab analysis it is awesome thanks,0.976701557636
redWall22,can you post your matlab code i am trying to do something similar and am having no luck edit so i also went with the matlab analysis first time ever using it so it kinda cobbled together and probably really really bad but it does seam to work so far although i do not need want to the whole would ata part it just kept throwing errors when i tried to only do webwrite offcmd or webwrite offcmd options oncmd http myaddy com lighton offcmd http myaddy com lightoff ontime 20 00 8 pmofftime 06 00 6 amdata 42 data2 100 data struct api_key data2 field1 data options weboptions mediatype application json t datetime now timezone local format hh mm light thingspeakread mychannel fields 3 are adkey myreadkey get the most recent data from field3 light 1 on 0 off if t ontime t offtime if it during the time the light should be off off time if light 1 if its onresponse webwrite offcmd data options turn it off end and notify me somehow tbd probably push notification through ifttt else the light should be on on time if light 0 if its offresponse webwrite oncmd data options turn it on and notify me device has probably reset endend,0.0715403854847
wirog,hi all this is my first post from newbie i have an idea to make project using arduino and web cam ip cam i want to monitor the traffic of street every one hour i want to tweet the condition of traffic with image captured by camera is possible to tweet with media image using thingtweet or other twitter app thanks all,0.702969133854
Hans,we do not support image sending via our thingtweet app you can send status update messages up to the normal twitter character limit here a blog post about a project using raspberry pi and matlab to do car counting http community thingspeak com 2015 09 counting cars and analyzing traffic with thingspeak let us know if you need anything else have fun with your project hans,0.847253024578
hermes,update the character i was trying to send was removed 55356 by this forum post hi i am working with thingtweet for one my projects but i ran into an issue the issue is that i can not send any emoji characters the one i tried is i know that twitter supports these characters when i tried to send these characters they were removed and the text in the thingtweet message that was after the symbol was removed from the message entirely so is there any workaround i could use to send these by using unicode codes p s i tried to send emoji in this form 55356 it was not converted,0.138479858637
rw950431,did you try to urlencode the emoji string the form you quote probably contains characters which are illegal in a url,0.140469551086
hermes,i want to remind that i am using timecontrol thingtweet in order to send emoji i tried to send the url encoded message on advice you gave me heres the message i sent emojo url encoded decimal 26 2355356 uri f0 9f 8c b1 js escaped ud83cudf31 on twitter i received exact same message emojo url encoded decimal 26 2355356 uri f0 9f 8c b1 js escaped ud83cudf31,0.5
rw950431,so at least you know that the urlencoded version doesnt truncate the rest of the message i notice you appear to have omitted the trailing in your encoded version not sure if that makes a difference or not perhaps the twitter emoji github https github com twitter twemoji might have some clues as to the format expected otherwise you may have to try and find another webservice that can post emoji to twitter and try to figure out how its encoded,0.252160966396
geetee,how can i see my datta from channel in a table format,0.834502696991
Matthew Driver,hello all i am collecting a small amount of data 50 records from many 100 moisture sensors and storing it all in one channel this is working well i then use one matlab visualization to create a customised visualization about each sensor as an example the first line of the matlab code is sensorid id1234 change this sensor id value onlythe problem is i need to manually change the sensorid in code to view the visualization for that sensor question is there any way to include in the url the sensor id and then grab this in the matlab code example url https thingspeak com apps matlab_visualizations 26703 sensorid id7654 or some other format code becomes sensorid geturldata ensorid this would make the matlab analysis and visualizations code far more flexible as it would allow inputs from the user via the url an external website could then embed multiple visualizations on page that all based on the same visualization code i am guessing this feature does not yet exist i would love to be proved wrong does anyone know of another way to provide inputs to the matlab code via the url i could modify data in another channel eg set the sensor id to be viewed then check for it in the visualization code but this is not a very scalable solution when multiple people view the visualization at the same time any ideas cheers matthew driver,0.748205840588
hans,matthew driver thank you for posting your question on the thingspeak forum the functionality requested in your post is not currently available in the form described to better understand your request can you describe your setup in a little more detail for example what convention are you using to differentiate data points from various sensors in a single channel matlab provides a function ubplot to create multiple axes in a figure the ubplot function works with static matlab plots and does not work with dynamic plotting functions thingspeakplot ect more information on the ubplot function is available on the following documentation center page http www mathworks com help matlab ref subplot html searchhighlight subplotit is also possible to plot multiple series in a single matlab plot the syntax and examples for how to do so are available in the following documentation center page http www mathworks com help matlab ref plot html searchhighlight plot,0.87530362606
Matthew Driver,hello thank you for responding i should have checked back sooner my channel has fields at datetimesensorid alphanumeric examples oats1 oats2 onionslayer1 value options r g b layer2 as abovelayer3 as abovelayer4 as abovemy visualisation code filters out all but one sensorid and does some coloured rectangle drawing to get the output i need at the moment i am making one visualisation app per sensorid but this is not scalable please see the examples https thingspeak com apps matlab_visualizations 27998https thingspeak com apps matlab_visualizations 27999https thingspeak com apps matlab_visualizations 28000so my problem is not how to plot i have got that sorted my problem is how to make one visualisation app reusable based on the sensorid as an input this same concept could be used for any kind of data example iot temperature sensors i plan to build a large number of temperature data logging devices using 1 wire temperature sensor and an esp8266 wifi module each temperature sensor has an 64bit id proposed thingspeak solution code all the micro controllers identically with the same thingspeak write key store the data for all sensors in a single channel fields datetime sensorid temperaturecreate a single visualisation that has the sensorid as an input embed on a web page multiple lines like this iframe src https thingspeak com apps matlab_visualizations 27986 sesnorid a5d4c4ee62 width 100 height 220 iframe src https thingspeak com apps matlab_visualizations 27986 sesnorid ee62a5d4c4 width 100 height 220 etc end result you have a data storage and visualisation system for any number of temperature sensors without requiring the micro controller to have customised writekeys you only need to configure one thingspeak channel and one visualisation app all the above solution is missing is the ability to provide an input to visualisation apps via the url i hope i have explained myself well enough for other to see the power of a feature like this cheers matthew cheers matthew driver,0.5
rw950431,matthew i wonder if the url query string is available in the thingspeak matlab via getenv this stack overflow question lists how to enumerate the environment variables https stackoverflow com questions 20004955 list all environment variables in matlabbut i am too much of a matlab newbie to know how to return any such list,0.827597439289
Matthew Driver,thanks rw950431 interesting idea to use getenv i have tried getenv inside of a visualisation and this the available content code used map java lang system getenv disp map the output is below but unfortunately it does not appear to contain the url query string the query string was https thingspeak com apps matlab_visualizations 28323 editcheers matthew output matlab_connector_autostart_enabled false automount_map shlvl 2 matlab_prefdir tmp matlabpref osg_ld_library_path opt mlsedu matlab r2015b sys openscenegraph lib glnxa64 xfilesearchpath opt mlsedu matlab r2015b sys java jre glnxa64 jre lib locale l t n s usr dt app defaults l dt proxy_server_port 3128 matlabpath opt mlsedu matlab r2015b toolbox local debian_frontend noninteractive lc_numeric c gfortran_stdout_unit 1 mail var mail mlsedu hostname 6c3e2f72fd93 mlsedu_root opt mlsedu mdcsserver latest pwd opt mlsedu mdcsserver latest m mkl_domain_num_threads logname mlsedu kmp_handle_signals 0 toolbox opt mlsedu matlab r2015b toolbox nlspath usr dt lib nls msg l n cat ld_library_path opt mlsedu matlab r2015b sys opengl lib glnxa64 opt mlsedu matlab r2015b sys os glnxa64 opt mlsedu matlab r2015b bin glnxa64 mvm opt mlsedu matlab r2015b bin glnxa64 opt mlsedu matlab r2015b extern lib glnxa64 opt mlsedu matlab r2015b runtime glnxa64 opt mlsedu matlab r2015b sys java jre glnxa64 jre lib amd64 native_threads opt mlsedu matlab r2015b sys java jre glnxa64 jre lib amd64 server kmp_stacksize 512k oldpwd opt mlsedu matlab r2015b shell bin bash matlab opt mlsedu matlab r2015b mw_crash_mode exit language en_us en basematlabpath path usr local sbin usr local bin usr sbin usr bin sbin bin usr games usr local games gfortran_stdin_unit 1 proxy_server ec2 50 17 204 167 compute 1 amazonaws com host_ip_address 10 203 202 175 worker_gateway_web_server_public_port 10000 lm_license_file 13501 motw flexlm 15b a wsroute mathworks com 13501 motw flexlm 15b d wsroute mathworks com display 1 0 user mlsedu home tmp matlabpref arch glnxa64 docker_container_name trusting_wilson_0 kmp_blocktime 1 worker_config tmp worker properties gfortran_stderr_unit 1 mkl_num_threads initrd no http_matlab_client_gateway_public_port 8000 lang en_us utf 8,0.2421656847
rw950431,shame about that did you try to append some parameters just to be sure i notice you are using the edit url rather than the straight viewer wonder if that makes any difference were you were able to see the result of would isp map on the thingspeak console when you called the url maybe thats why you used the edit url useful to know for debugging,0.774039208889
Matthew Driver,hi hi rw950431 i have rewritten the code so i can include the text in an actual visualisation please visit this url to see the output https thingspeak com apps matlab_visualizations 28323 xxx aaaaaaaaaaaaaaaaaaaaaaaaaaaaaresult unfortunately the extra parameters are not present here is my visualisation code if your interested it not very elegant but does the job for this test map java lang system getenv figure position 0 0 1000 500 drawtext char map num 100 textlength length drawtext numlines ceil textlength num for k 1 numlines frompos 1 k 1 num topos num k 1 num if topos textlength topos textlength end drawtext_part drawtext frompos topos text units pixels position 10 400 k 12 fontsize 10 tring drawtext_part endcheers matthew,0.730243206024
rw950431,awesome thanks for the code wonder if theres any way to use a 3rd party webservice as a wrapper then your visualisation would call an external url which does the filtering supplies the filtered data via webread and returns the image not sure if its possible just thinking out loud,0.888778448105
Matthew Driver,hi rw950431 the trouble with any kind of solution like we first store the input parameter for example into another matlab channel and then the visualisation code goes off to find that valueif multiple hits to the visualisation happen at the same time the results returned may not be what are expected it all gets rather messy i am starting to the think i need to drop using the matlab visualisation solution and rewrite the visualisation as a javascript plugin this will be a pain but at least i will have access to the url parameters this is a real shame as the matlab visualisation code is very powerful and i have already written it except for url input parameters thanks for your thoughts cheers matthew,0.0819030106068
rw950431,after thinking about it some more i came to much the same conclusion simpler to use one of the javascript graphing libs to do it all in browser perhaps the thingspeak guys will take it as a feature request,0.739176511765
Matthew Driver,hi rw950431 i have just finished porting my matlab visualisation to a javascript plugin it still hosted with thingspeak as a plugin as it not a tradition chart i just coded it using javascript canvas drawing functions i used jsbin com as my development editor the best feature is it redraws in real time as you code and displays syntax errors in a useful way http jsbin com lelode edit html css js outputexamples the url for the new plugin is in the format https thingspeak com apps plugins 29169 sensorid oats1https thingspeak com apps plugins 29169 sensorid oats2https thingspeak com apps plugins 29169 sensorid mustardyou can see i have my sensorid input parameter in the url let hope url input parameters are added to thingspeak in the future cheers matthew,0.867594659328
2BitBot,its been at least 400 this afternoon it took me 4 days to get the esp8266 to talk to my arduino then it took another 3 days to solve the 64 character buffer limit issue preventing me from sending any data greater than 64 characters to a url now at least i am getting data to thingspeak but no matter how i format the post i get an error can somebody provide an example of a post from an esp8266 that actually reaches twitter i send the post statement exactly the way i copied if off the documentation page post space url cr lf tab api_key cr lf tab status cr lf cr lfhere is the output i am getting from my program at cipstart tcp 184 106 153 149 80at cipsend 121 debugmsg everything looks good so far sending command post https api thingspeak com apps thingtweet 1 statuses updateapi_key mylongkeyherestatus arduino tweet 001send ok ipd 172 400 bad request400 bad requestnginx 1 7 5okokunlinkdebugmsg another error message start over,0.763703465462
2BitBot,ha found another code example on github and it works it alive the correct format is post apps thingtweet 1 statuses update http 1 1host api thingspeak comconnection closecontent type application x www form urlencodedcontent length 49api_key mylongkeyhere status arduino tweet 001,0.879427611828
Mona_kh,hey theiri am interested to do the same as you did but never get the correct code i am getting errors for that may you please show me hoe you wrote your code for this part thanks,0.889396250248
2BitBot,if by part you mean the http code format here you go this is the arduino sketch code i used the variable are quest holds the text i am sending to twitter oh the n at the end of several lines is the line feed character i do not know how to put that in here without it turning into a an actual line feed just remove the space between the and the n in your code create the request string request api_key mylongkeyhere status request string sendcommand post apps thingtweet 1 statuses update http 1 1 n sendcommand host api thingspeak com n sendcommand connection close n sendcommand content type application x www form urlencoded n sendcommand content length sendcommand request length sendcommand n n sendcommand request first you connect to thingspeak com using cipstart string startcommand at cipstart tcp 184 106 153 149 80 then you tell it how many characters of data to send wtih cipsend serial print at cipsend serial println sendcommand length 2 finally you send the endcommand string 64 characters at a time pausing to wait for esp8266 to echo back the substring just sent before sending the next substring serial print sendcommand substring t i t i i 64 while serial available dbugmon print serial read keep looping until all sendcommand characters are sent where i sendcommand length and if you do not make any syntax errors like usually do it works once i pretty up my code i will post it online as part of my tweeting dehumidifier that tweets when it needs to have it bucket emptied i will be looking for funny suggestions for the tweet text hope this helps good luck,0.5
asadujjaman,2bitbot said ha found another code example on github and it works it alive can you please give me that github link where you find that example or please send me your code thanks,0.8457249403
patman,i am trying to send a tweet when certain conditions are met in the data in my feed however i am stymied by the fact that twitter will only show a given tweet once react works well to send a tweet but if it sends it twice i only see the first one on twitter variables such as date will not work in a react can anyone help thanks,0.764869093895
lee,hi if you use trigger in your react does that help to avoid sending the same tweet https thingspeak com docs react replacementslee,0.869059205055
patman,i tried that but the data does not change enough it an on off switch,0.21966958046
rw950431,perhaps this will work for you 1 set up your thingtweet and get the key 2 create a matlab analysis with the code shown below adding your channel id read api key and thingtweet key where shown 3 set up a react that triggers your matlab analysis you can customize the message by changing fmtstr add timestamp to data in order to bypass twitters no duplicates policy todo replace the with channel id to read data from readchannelid your_channel_id todo enter the read api key between the below readapikey your_read_key read data for field 1 of given channel data thingspeakread readchannelid are adkey readapikey fields 1 uncomment below to debug data disp data thingtweeturl https api thingspeak com apps thingtweet 1 statuses update thingtweetapikey your_thingtweet_key fieldname tatus fmtstr ensor reading 0 1f at s fieldvalue sprintf fmtstr data datestr datetime now response webwrite thingtweeturl api_key thingtweetapikey fieldname fieldvalue,0.5
vorms,hello as anybody know how to use thinkspeak with sigfox data iot m2m any help will be welcome best regardsthierry vorms,0.973256111145
Acanom,hey there is it possible to ignore certain values in any way and don u00b4t get the react triggert or maybe send a react only when a value ist inbetween vertain parameters the reason i am asking this is because i am intercepting a signal from a thermometer with a reciever and from time to time there are errors in the chechsum so rediculous values like a few 10000 u00b0c are triggering my react and because it is meant as an alarm that is kind of annoying any ideas or tipps are appreciated thank you,0.755252659321
rw950431,its a bit of a rube goldberg solution but you might be able to use the new matlab plugin to filter your data theres an eliminate data outliers example that seems like a great starting point using a react to data insertion write it to a another channeltrigger your alarm react off the new cleaner channel its kind of a shame that thingspeak does not allow you to set limits that automatically reject ridiculous values,0.199319303036
vespapierre,hi i would like to send e mail if my sensor status is greater than x i think it should work with httppost or something like that can you please help me thanks,0.951080441475
vespapierre,managed to do this with nma application for android thanks,0.849848985672
kniazio,vespapierre said managed to do this with nma application for android thanks please write a brief guide of how to do it,0.865224599838
rw950431,i know nothing about matlab so pardon the newbie question does the thingspeak implementation contain modules to parse json and xml alternatively is it possible to include functions like https www mathworks com matlabcentral fileexchange 20565 json parser content parse_json m,0.713874280453
Rob Purser,there an arbitrary xml reader function here info about it http www mathworks com help matlab import_export importing xml documents htmlthere no arbitrary json decoder in matlab but if you get json data back from webread it is parsed into a structure typically this is what people want to do api http climatedataapi worldbank org climateweb rest v1 url api country cru tas year usa s webread url s 112x1 struct array with fields year data,0.5
rw950431,awesome news rob do you happen to know the matlab syntax to access a particular element of the structure returned by webread the example you used returns the array of structures shown below how would i get the value for the last year available like i said i am a total newbie at matlab year 1901 would ata 6 6187487 year 1902 would ata 6 4643273 year 1903 would ata 6 073844 year 1904 would ata 6 149883 year 2012 would ata 7 939524,0.5
Rob Purser,if you are sure the last element in s contains the latest year which it does in this case you can just do s end dataif you are not sure which item has the greatest year in it you need to do two steps maxyear idx max s year figure out the element with the largest year and put the index into idxs idx datafor a more complete tutorial on matlab indexing see http www mathworks com help matlab indexing htmland if you want something deeper https www coursera org courses query matlab rob,0.320847928524
rw950431,thanks for that its very helpful,0.998043656349
sinergia,hi i have a sensor that measures electric parameters when i ask this sensor via web this xml petition http my_ip 1200 services user values xml var eds 20brio pm1 20 20general api i get this response note i changed by and by in the response in order to show it in the forum values variable id eds brio pm1 general api id value 55 200000 value variable values that means that the variable of electric power eds brio pm1 general apihas the value 55 2how can i use the app thinghttp to get this information from the sensor to thinkspeak i have tried hard but i have not been able i do not know what to put in every field of the configuration of the app thinkspeak any help will be wellcome,0.5
rw950431,sadly there is currently no way to retrieve information from a url and store it direct to thingspeak this is something that many people wish for you can use thinghttp to fetch the url and extract the data from the xml but there is no way to store that except via a 3rd program such as an arduino or other computer you may be able to sign up for the free tier at a service like openshift or heroku and make a small program that will retrieve the data from your sensor and store it to thingspeak,0.5
sinergia,shame as i readed this http community thingspeak com forum thingspeak apps parse json data with thinghttp i thought that it was posible i have tried heroku and openshit but are to hard fir me i am nit a programmer and my perl php html knowleng are very poor so shame,0.0179992318153
hans,sinergia it is possible to perform this task using the matlab analysis app and the matlab function urlfilter there are two example templates that go through the processes of scraping a data value from a website performing some processing and storing the value into a channel using the matlab function thingspeakwrite the documentation contains more information about how to use each of these matlab functions 1 https thingspeak com docs matlab_analysis thingspeakwrite2 https thingspeak com docs matlab_analysis urlfilter,0.5
mun,hii am very new to thingspeak and have one question using the thingtweet app and setting a react using it does thingspeak post the tweets on your behalf or does thingspeak post tweets from its own account using certain hashtags thanks,0.906410992146
akhila,hi mun thingspeak will post the tweets on your behalf you have to link your twitter account to thingspeak first thanksakhila,0.805136561394
ebaugh,i have created a thinghttp call that hits a service and gets back the sunrise time and another that gets back the sunset time i would like to take the results of those calls the actual times and save them into two fields on a channel is there any way to do this i can not see how to get the result of a thinghttp call into the field part of a call to update the channel thanks earl,0.296492815018
Hans,earl another way to accomplish what you are looking to do is to use the matlab analysis app instead of thinghttp thinghttp is typically used by a low level device looking to send a complex http request and parse the response without doing that on the device here what you can do with matlab analysis 1 first create a new thingspeak channel2 create a matlab analysis under apps 3 select the crape web temperature data example4 modify the matlab code with the thingspeak channel info5 set a timecontrol to call the matlab code every so often and this will update your channel with the data from the websitesif you look over the example you will see how it works you can easily modify it to point to other sites and even get multiple pieces of data and write multiple values back to your channel at the same time let us know how it works for you hans,0.5
akhila,hi ebaugh you could achieve this using the matlab analysis app https thingspeak com apps matlab_analyses you would be using thingspeakwrite and urlfilter function in matlab analysis app thingspeakwrite allows you to write data to a thingspeak channel and urlfilter allows you to scrape one or more number from a web page if you are reading content from a restful web service you could also use webread function for example url http forecast weather gov mapclick php lat 42 29 lon 71 36 vt5ugifvhbc sunrise urlfilter url unrise at sunset urlfilter url unset at thingspeakwrite writechannelid sunrise sunset writekey writeapikey this is better explained in crape web temperature data example in https thingspeak com apps matlab_analyses templateshere are the links to relevant documentation 1 matlab analysis https thingspeak com docs matlab_analysis 2 thingspeakwrite https thingspeak com docs matlab_analysis thingspeakwrite3 urlfilter https thingspeak com docs matlab_analysis urlfilter4 webread http www mathworks com help matlab ref webread htmlakhila,0.5
ebaugh,there are two service apis for products wink and automatic that i have that require oauth tokens to work is there any way to use the current thinghttp to make those calls i see that twitter can be contacted via an app now so it technically possible earl,0.5
revolk,so i am trying to send data to my arduino using talkback app i am using an esp8266 module but i am only recieving garbage in the debug when the command gets in this is what i am getting get https api thingspeak com talkbacks commands execute api_key wait response talkback u00ffg u00a8 u00a1 u00d1 u00c1z u00cb u2030 u00d6 u00ae u00ac m u00e8 u00b1 u00ad u2026 u0161 u20194 u00ab u00ab u2013 u00d6 y u00d9 u00e0 u00ad u00e52eju u00d5 v u00cdi think my arduino is recieving the data because the command disappears from the queue at the talkback app and send to a chart named channel status updates in my channel this is the part of the code that i am using to recieve the talkback command void checktalkback char charin tcp connection string cmd at cipstart tcp cmd 184 106 153 149 cmd 80 ser println cmd if ser find error serial println at cipstart error return prepare get string string getstr get https api thingspeak com talkbacks talkbackid commands execute api_key talkbackapikey getstr apikey getstr field1 getstr string strtemp getstr send data length cmd at cipsend cmd string getstr length ser println cmd serial println cmd if ser find ser print getstr serial println getstr else ser println at cipclose alert user serial println at cipclose serial println wait delay 1000 talkbackcommand while ser available charin ser read serial print charin talkbackcommand charin serial println resposta talkback serial println talkbackcommand after this my code should have get the talkback command and turn on a led but it didnt work what i am doing wrong,0.5
funycheng,hi revolkat first check the listpicker below in serial monitor on arduino ide then try to change it sometimes i am also in a problem about talkback app well for what will you do it by the execute get https api thingspeak com talkbacks talkbackid commands execute api_key talkbackapikey command will be removed after the time is it ok for you thank you,0.765504777431
revolk,hi funnychengwell i changed the options on the listpicker that you told me but it didnt work its ok to me because i created a button on my website to create new commands every time i press it thank you,0.840035319328
funycheng,how about changing the baudrate in arduino ide,0.787873387337
revolk,i tried but i set the esp8266 and the arduino uno to 9600 baudrate so if i change it in the serial monitor nothing appears or only garbage this is weird because only the command i receive is garbage i think i am missing something in my code,0.0372924804688
funycheng,there are some versions about esp8266 about old version one you must change the baudrate to 9600 bps at first time did you do it like this anywhere at ciobaud 9600because the default about the baudrate may be 115200 bps then check it again about in your code,0.5
revolk,my firmwere is set to 9600 bps one thing i forgot to say is that in the other part of my code i can send temperature data to my channel in thingspeak so i dont think is baudrate problem,0.0693818628788
akhila,hi revolk one way to debug might be to check whether your talkback commands are being added retrieved appropriately here is the documentation for getting a talkback command http thingspeak mathworks com docs talkback get_command are you able to get your existing talkback command via a browser or any other http tool akhila,0.790171682835
funycheng,it was resolved by myself thanks you,0.908157289028
user161,i like the thingspeak react feature very much may i know if this is available in the local server version where the source code can be downloaded from github,0.875942409039
Hans,thingspeak react is not available on the local server version of thingspeak,0.0673783123493
Infinity,https www youtube com watch v xngb_8sbohwheya everyone iot will chanfe evrythings and we know that already thingspeak is playing a very important role in this but for quite sometime i was searching for an app with which i can upload my gps co ordinates to thingspeak channel as this is one of the prequsites in the internet of thing but there was no such app so i build one myself it has other functionality too give it a tryhttps www youtube com watch v xngb_8sbohw i hope you might like it too,0.796821475029
tryanderror,hi i am new here i tried the app thinghttp with the http get method and parsing data it works well now i am trying to fill out a webpage form to get the output data and parse them i guess i should use the method http post but i did not figure out how to do that concretly i would like fill out this form http online fahrplan zvv ch bin stboard exe en with zurich hb and get the information of the departure count down of the next trains does anyone have an idea how i can perform these or do you have a nice example,0.772881984711
rw950431,as a general method you can install a browser plugin my choice is firebug with firefox that allows you to view whats being sent from your browser to the server and back again if you do this you will see what parameters you have to supply and what format the results come back in the next step is to see if you can re create the form submit using a command line program like wget curl or https www hurl it however if you hope to extract data from a website with thinghttp and use it to update a thingspeak channel directly you are out of luck this is a feature which is often requested but not yet available the only option is the use of a 3rd party to fetch the data and push it back to a thingspeak channel it appears that you can now use the matlab analysis plugin to scrape data and plug it into thingspeak good news,0.783146739006
Infinity,i made many projects using this app and intel edison and arduino quite nice app waiting for next version check it here the urlhttps www youtube com watch v peetdzxmwvais there any other app with more functionality,0.811575651169
Oskar Camenzind,i would like to periodically read a value from a node and then write this value in a thingspeak channel is this possible are examples available thanks oskar,0.952500700951
lee,hi oskar yes this can be done just set up a thinghttp to update your channel via this api https thingspeak com docs channels update_feed lee,0.83309417963
Oskar Camenzind,thank you lee for your quick reply but i am not sure whether this solves my problem here my workflow 1 are act periodically reads a temperature with a thinghttp request e g http host temp 2 as a response i get e g 25 00 3 now i want to write 25 00 to a channel if i understand you correctly then you suggest to use thinghttp for step 3 again however how can i link the response of the first thinghttp request with a second thinghttp request update channel thanks oskar,0.833822667599
lee,hi oskar for step 1 instead of using a thinghttp for react to read from the channel use the condition fields of react then in step 3 you can perform the action using a thinghttp to write to another channel here a full example 1 create a thinghttp to write data to channel 2 2 create a react that reads data from channel 1 using the condition fields 3 set the react action as the thinghttp that write to channel 2 lee,0.761029362679
joefly,using thingstweet i was able to post new updates to twitter easily but how can i read or get the latest status update from the same account when i added my twitter account to thingspeak it stated that there were many functions available such as showing followers post updates get updates etc but i do not see any example beside the posting of update any ideas edit i have found that the tweetcontrol can act on certain function and receive its contents however it does not work on privacy protected twitter accounts even if i add the twitter account to thingstweet and and add the specific twitter account in my tweetcontrol instead of anonymous it would be great if i can get the thingstweet function to work with getting latest updates from twitter from a specific account,0.830539941788
lee,hi you will have to look into the twitter api documentation for additional commands for example to get a user tweets you can use https dev twitter com rest reference get statuses user_timeline lee,0.895485281944
joefly,lee i previously tried it and did not work with your encouragement i tried getting status from cnn twitter with this post or get requestshttps api thingspeak com apps thingtweet 1 statuses user_timeline json api_key mythingstweetapi screen_name cnn count 2returns the page you were looking for does not exist you may have mistyped the address or the page may have moved what am i doing wrong,0.5
lee,hi i apologize it looks like i spoke too soon we have not kept up to date with twitter api changes so only the update tweet functionality works from our end we will work on addressing this issue in the future so that more twitter api commands will work from thingspeak lee,0.189144939184
joefly,perfect lee that would make life so much simpler where url should i keep an eye out for the update,0.913963258266
lee,hi we try to post updates to our blog so http community thingspeak com would be the best url lee,0.953975975513
chrisjmears,hihttp api openweathermap org data 2 5 forecast daily lat 55 16 lon 1 68 units metric cnt 1returns cod 200 message 0 0007 city id 2642182 name morpeth coord lon 1 6912 lat 55 167648 country gb population 0 cnt 1 list would t 1434456000 temp would ay 18 61 min 11 max 18 88 night 13 57 eve 17 88 morn 11 pressure 1023 58 humidity 94 weather id 803 main clouds would escription broken clouds icon 04d peed 2 16 would eg 186 clouds 64 or more neatly tidied up to cod 200 message 0 0019 city id 2642182 name morpeth coord country gb population 0 cnt 1 list would t 1434456000 temp would ay 19 13 min 12 27 max 19 13 night 13 57 eve 17 65 morn 12 27 pressure 1023 58 humidity 94 weather id 803 main clouds would escription broken clouds icon 04d peed 2 16 would eg 186 clouds 64 ive tried lots of things i just dont seem to be able to figure out how to extract individual items of data like max or description using the parse option any ideas,0.5
lee,hi chris you can use javascript json parsing operators here are the two parse strings for you list 0 temp maxlist 0 weather 0 descriptionlee,0.5
chrisjmears,wow thanks as always lee you blow me away ud83d ude42is there any way of extracting multiple parses at once i e parse out the temp max and the description,0.789690434933
lee,hi chris unfortunately thinghttp does not have the ability to parse multiple items at once lee,0.100497156382
ndinev,hi all since twitter seems to block messages that are same is there any random replace item like datetime or similar that can be used in twitter message to make posts to twitter from react twitter if not this feature become unusable works only the first timejust imagine a case you have channel field for door open or closed an you want to tweet the status this will work once for close and once for open because of twitter limitationthanks in advance,0.201026678085
lee,hi we currently do not support datetime for thingtweet messages what programming language are you using to post the thingtweet would you be able to inject the datetime there lee,0.76199889183
androidcontrol,i have use timecontrol app but it cannot change or update time with api how to do that,0.158440589905
lee,hi we do not provide an api for timecontrol sorry lee,0.801553487778
zoidicus,if a thinghttp encounters an error where can i see the error description log i have a simple thinghttp that calls into an iot device a server i know the url works because i can do it from my phone from outside my network mobile data enabled wifi disabled also my thinghttp used to return the correct result now it simply responds 1 i assume that means an error occurred but what my public ip address has not changed and the url still works,0.118077069521
lee,hi we currently do not provide error logs for thinghttp although that is something we plan to implement in a future release lee,0.855899810791
ch1234,hello i want to use react app and i want to send a tweet when the condition of channel field 1 and field 2 both are satisfied so how can i do that currently i can see that the option where it can check for only 1 condition please help,0.887233912945
lee,hi currently the react app does not have the ability to check conditions on multiple fields the only alternative i can think of is to make a third field that has a derived value from fields 1 2 such as field1 field2 and trigger react based on that lee,0.5
ch1234,hi i am new to thingspeak and want to use it for iot purpose background i am following the existing program to understand its working i am replicating the work done in the following link for my initial understanding http www codeproject com articles 853183 internet of things programming iot devices web ser tnti have followed all the steps and summarising again in brief name myarduinogoogleurl https script google com macros s akfycbzv7medduh7o8nuos4urjs7v8 m9tq6rcrlan5kz_itdadpocs execmethod postcontent type application x www form urlencodedhttp version 1 1body temp data also i am using the following script in the google function doget e return htmlservice createhtmloutput temperature value e parameter temp finding when i directly run the googlescript by the following way it works well https script google com macros s akfycbzv7medduh7o8nuos4urjs7v8 m9tq6rcrlan5kz_itdadpocs exec temp 2 31however when i run this via thinghttp https api thingspeak com apps thinghttp send_request api_key qfgbpv4b0nmq6gdc data 2 31then it redirects me to the following link https script google com macros s akfycbzv7medduh7o8nuos4urjs7v8 m9tq6rcrlan5kz_itdadpocs exec pli 1i e exec temp 2 31 is not coming and instead pli 1 is coming problem since thinghttp is not redirecting to https script google com macros s akfycbzv7medduh7o8nuos4urjs7v8 m9tq6rcrlan5kz_itdadpocs exec temp 2 31 but instead it is redirecting to https script google com macros s akfycbzv7medduh7o8nuos4urjs7v8 m9tq6rcrlan5kz_itdadpocs exec pli 1 as a result i am not getting the desired result so my question is how i can get the additional variables or replacements in thinghttp since i am new to this so might be that i am missing a very basic thing here input in this will be of great help for me please check what i am missing or doing wrong here,0.5
lee,hi it seems that the google script is running via javascript thinghttp does not run a javascript parsing engine so google probably notices that and redirects the request to another page lee,0.5
jpitts,when i try and get the last executed command using the following get request https api thingspeak com talkbacks my_channel commands last api_key my_api i get the following message error_resource_not_found all the other commands seem to be working not sure what seems to be the problem with the last command,0.0228093862534
lee,hi if you have not executed any commands yet then that the error you will receive to make sure that everything is working correctly you can add a command execute the command and then try to get the last executed command also please make sure you are using your talkback id and api key in the url you wrote above lee,0.927643537521
salesguy,hi i have several working thinghttp requests that work great u00a0i have 13 that work fine when i try to add another it fails u00a0 u00a0i am simply parsing a cosm feed my settings are identical in the additional request but they fail u00a0 u00a0is there a limit to the number of thinghttp requests apps you can make or use in a day u00a0 u00a0i have racked my brain trying to determine why the additional requests do not work the parse strings are identically formed url is correct cosm is responding it does not make sense any help would be appreciated,0.166160315275
Hans,salesguy can you send an email to support thingspeak com with the url that you are trying to parse we do not have an implemented restriction on the number of thinghttp requests that you can make but there might be real resource limitations on both sides that stop u00a0simultaneous u00a0ones form going out the reality is that we would be able to support so many requests at the same time,0.5
salesguy,thanks for the help i found the error a simple syntax error i was overlooking,0.784371733665
hanguyen,can you help me the code to get value fromhttps api thingspeak com apps thinghttp send_request api_key 0aggwtn8ku5c5qn8 i get the code which can connect wifi through esp8266 but i dont know how to get the valuecan you help mebelow is the code that i can run with esp8266 uno include include liquidcrystal_i2c lcd 0x27 2 1 0 4 5 6 7 3 positive include include define ssid define pass define ip 184 106 153 149 thingspeak comstring get get update key ijo0ivy7kd6paa5e field1 softwareserial monitor 0 1 rx txvoid setup monitor begin 9600 serial begin 9600 lcd begin 16 2 columns rows size of displaylcd clear senddebug at delay 1000 if serial find ok monitor println are ceived ok connectwifi void loop updatetemp 4 delay 1000 void updatetemp string cmd at cipstart tcp cmd ip cmd 80 senddebug cmd delay 1000 if serial find error monitor print are ceived error return cmd get serial print at cipsend serial println cmd length if serial find monitor print monitor print cmd serial print cmd lcd setcursor 0 0 lcd print c else senddebug at cipclose lcd setcursor 0 0 lcd print n if serial find ok monitor println are ceived ok else monitor println are ceived error void senddebug string cmd monitor print end monitor println cmd serial println cmd boolean connectwifi serial println at cwmode 1 delay 1000 string cmd at cwjap cmd ssid cmd cmd pass cmd senddebug cmd delay 1000 if serial find ok monitor println are ceived ok return true else monitor println are ceived error return false,0.5
yaqwsx,on my channel 31707 viewing charts in firefox causes enormous cpu usage and the browser becomes laggy the same thing happes in chrome on android other channes on ts do not have this problem what is wrong with my settings,0.0205497443676
lee,hi are you trying to display too many data points at once it may help to go into your chart settings and use an average or lower the number of results that are displayed lee,0.5
dab0015,hey there i am getting my would aily notification e mail one hour late since the recent switch to daylight saving time i u00b4m not u00b4sure wether this is just a problem with my configuration or a general problem is anyone experiencing the same setup time control is set to 7 00 am timezone is berlin triggers a thinghttp which triggers an e mail notificationnow the e mail arrives aroung 5 minutes after 8 00 am since the switch thanks for your answers dab,0.222999244928
lee,hi we have not implemented fixes for daylight savings time yet but if you open and re save your timecontrol it should be fixed lee,0.5
yoder1100,so basically i was wondering if anyone else has found a way around this other than just coding on whatever platform thinghttp has a tutorial helping you get linked up with twilio outdated and not very helpful to begin with but once you figure out what it talking about you will find that twilio does not support mediaurl with txt json or xml which just happens to be the only way that you can get information off of your channels unless i am overlooking the most obvious thing i am really confused thoughts comments help,0.149762630463
Hans,do you know much about their api it must have changed since this example worked at one point when i wrote the tutorial i will look into it,0.818057179451
Labas,hello could somebody help to find the examples of arduino code with thinghttp services i would like to use thinghttp apps and sent sms over twilio sms gateway thanks,0.906425476074
yoder1100,http www instructables com id send sms from arduino over the internet using enc2 allstepshope that helps,0.746966183186
rkgarg,hi i am trying the execute talkback api using arduino uno and esp8266 wifi at cipstart tcp 184 106 153 149 80oklinkedat cipsend 102 get https api thingspeak com talkbacks 1095 commands execute api_key o277a7d3oib2dpou http 1 0send ok ipd 19 error_auth_requiredoki get error_auth_required thanks,0.779414176941
rkgarg,i finally got it working how can i see my tackback logs i did choose a channel to log talkback commands but it does not show up always,0.782727301121
lee,hi you can view your logged talkback commands by viewing your channel status log here an example for channel 1417 https api thingspeak com channels 1417 feeds json status true lee,0.910452485085
Cyn,is there an android app to update thingspeak when i enter a geofence thanks,0.883845686913
Cyn,in case anyone is interested a great guide is documented at http noobtechiespeaks blogspot com 2014 10 android app to connect to thingspeak htmli followed his instruction and now i have an app running on my phone that works with a netduino thank you sounak great job,0.931924462318
lee,thanks for sharing that link with the thingspeak community sounak indeed did an excellent job of providing clear instructions in his blog post lee,0.994202613831
Stevo,hello it seems so easy i have followed the tweetcontrol doc example and tried everything i could think of searched the forums and still no love i have my channel set up i have my thinghttp set up i have my tweetcontrol set up no matter what i tweet nothing changes in the channel tue july 15 2014 are these things working beyond following the example steps i have added the application x www form urlencoded as content type for the thinghttp i am totally stuck do these apps generate logs that we can check to see what is going on stevo,0.908905744553
lee,hi stevo can you provide your twitter screen name and your thinghttp id so that i can take a look at the problems you are experiencing we do not provide log file access but i will make sure to help you out as much as you need lee,0.916318535805
Stevo,hi lee sure thing twitter screen name is dpinventionnot sure what you mean by the thinghttp id but the url is https thingspeak com apps thinghttp 3363we have 2 tweetcontrols setup https thingspeak com apps tweetcontrol 816 edithttps thingspeak com apps tweetcontrol 817 edithope this helps get things going stevo,0.5
lee,hi stevo thanks for providing that information i took a look at your thinghttp and it looks like your body field has an extra space between key and your api key everything else appears correct so if you remove the extra space hopefully everything else should work fine for you lee,0.952698111534
Stevo,hi lee thanks for noticing that things have started working now however i have got 3 tweetcontrols set up and it seems like only 1 of them is working love seems to be working but turnlightson and blue have yet to generate any data points https thingspeak com apps tweetcontrol 816 edithttps thingspeak com apps tweetcontrol 817 edithttps thingspeak com apps tweetcontrol 821 editthoughts,0.258227467537
lee,hi stevo it looks like we had a minor error on our side that was preventing some tweetcontrols from firing this should be fixed now can you see if your tweetcontrols work properly now also please make sure you wait at least 15 seconds between tests since all your tweetcontrols post to the same channel and the channel can not be updated twice in the same 15 second period lee,0.783528745174
Stevo,hi lee i just did a tweet from dpinvention that was thingspeak blue blue blue and i did not see anything show up in the channel thoughts what is the thinking behind the 1 update per 15 second deal stevo,0.687612533569
lee,hi stevo i apologize for not noticing it before but in tweetcontrol 821 you should list your screen name as dpinvention instead of dpinvention sorry for not being explicit in the instructions we have just added some help text to let users know that the sign should not be included the rate limit of 1 update every 15 seconds is there so that our service can remain free https thingspeak com docs channels rate_limits lee,0.5
Stevo,hi lee thanks again now it looks like everything is working maybe an idea for you guys is to auto remove the if present stevo,0.845982968807
lee,hi stevo glad it working for you now we went ahead and implemented your suggestion and auto removed all leading signs if present le,0.951058983803
mihaigavanescu,hi i would like to ask for some help too the tweetcontrol example does not work for me just cannot make it trigger on a tweet i have an anonymous tweetcontrol and trigger is love or should it be love in the thinghttp body section is key lkqq1jjz5wyosufk field1 trigger status status where lkqq1jjz5wyosufk is my channel key of course ramde4h2wvmpuylm is my thinghttp key mihaigavanescu is my tweeter account can you please help me to make this example to work,0.244073629379
mihaigavanescu,i have added application x www form urlencoded to content type but still not working,0.825326859951
lee,hi mihaigavanescu after looking at your twitter account it seems that your tweets are not public our application monitors the public stream of tweets so this is probably why your tweets are not reaching our application correctly lee,0.5
mihaigavanescu,many thanks lee it worked as soon as i changed my tweeter account settings to make it public,0.918205142021
mihaigavanescu,hi again lee i have found an example about how can arduino update a channel with data that works well as i have just tried http community thingspeak com tutorials arduino using an arduino ethernet shield to update a thingspeak channel but i would like to read channel data with arduino as well is there any example how to read latest channel feed with an arduino suppose field1 is having the value 25 how can i read 25 with my arduino thanks in advance,0.847303390503
lee,hi i do not have any specific examples of reading channel data with an arduino but you may find these links helpful http forum arduino cc index php topic 44778 0http bildr org 2011 06 arduino ethernet client the api command to get the most recent field value looks like this https thingspeak com channels 9 fields 1 last txtand is documented here https thingspeak com docs channels get_fieldlee,0.5
mihaigavanescu,thanks lee can someone write to my channel feed if the channel is public without the write api key i have managed to adapt the cheerlights project arduino sketch http community thingspeak com tutorials arduino cheerlights with arduino and the fastled library now i can read my channel feed it works but i had to make my channel public does not work when channel is private so i will read the docs again and try to find a way to read my channel feed as a non public channel here is the sketch i have modified a bit was not easy to find cheerlights cheerlights channel arduino ethernet fastled this sketch subscribes to the cheerlights thingspeak channel and relays the last color from the internet to a fastled compatible rgb light like neopixels or rgb 123 light panels this sketch uses dhcp to obtain an ip address automatically and requires arduino 1 0 arduino requirements arduino ethernet or arduino ethernet shield arduino 1 0 ide fastled library https github com fastled fastled releases network requirements ethernet port on router dhcp enabled on router unique mac address for arduino created december 19 2014 by hans scharler http nothans com additional credits example sketches from fastled thingspeak tutorial http community thingspeak com tutorials arduino cheerlights with arduino and the fastled library to join the cheerlights project visit http www cheerlights com include include local network settingsbyte mac 0xd4 0x28 0xb2 0xff 0xa0 0xa1 must be unique on local network thingspeak cheerlights settingschar thingspeakaddress api thingspeak com string thingspeakchannel 22005 channel number of the cheerlights channelstring thingspeakfield 1 field number of the cheerlights colorsconst int thingspeakinterval 5 1000 time interval in milliseconds to get data from thingspeak number of seconds 1000 interval variable setuplong lastconnectiontime 0 string lastcommand boolean lastconnected false int failedcounter 0 initialize arduino ethernet clientethernetclient client void setup setup serial serial begin 9600 delay 100 serial flush delay 100 start ethernet on arduino startethernet void loop process cheerlights commands if client available 0 delay 100 string response char charin do charin client read read a char from the buffer response charin append that char to the string response while client available 0 echo command delay 200 serial println cheerlight command received response serial println delay 200 disconnect from thingspeak if client connected lastconnected serial println disconnected serial println client stop subscribe to thingspeak channel and field if client connected millis lastconnectiontime thingspeakinterval subscribetothingspeak thingspeakchannel thingspeakfield check if arduino ethernet needs to be restarted if failedcounter 3 startethernet lastconnected client connected end loopvoid subscribetothingspeak string tschannel string tsfield if client connect thingspeakaddress 80 serial println connecting to thingspeak serial println failedcounter 0 client println get channels tschannel field tsfield last txt client println lastconnectiontime millis else failedcounter serial println connection to thingspeak failed string failedcounter dec serial println lastconnectiontime millis void startethernet client stop serial println connecting arduino to network serial println delay 1000 connect to network amd obtain an ip address using dhcp if ethernet begin mac 0 serial println would hcp failed reset arduino to try again serial println else serial println arduino connected to network using dhcp serial println delay 1000,0.5
lee,hi nobody can write to your channel without the write api key even if the channel is public if you want to read data from a private channel change this line client println get channels tschannel field tsfield last txt to client println get channels tschannel field tsfield last txt api_key your_read_api_key lee,0.5
mihaigavanescu,hi lee my code works for now i am reading field1 every 20 sec if field1 contains arm then arduino will arm my system will send me a tweet as a confirmation that system is armed and will also replace the word arm in field1 with an other word would ell or else it will be always arming the system the sequence is like this check for intrusion check temperatures read field1 and check if it contains the word arm if yes arm the system after 20 sec send me a tweet after another 20 sec replace the word arm in field1 with would ell go back to the beginningin case of an intrusion will send me a tweetthe main problem is that my code works for a while then stops reading from thingspeak and restarting the ethernet module does not help it could be after 15 min sometimes it works for 3 hours restarting the arduino does help however do you know what could be the reason for that i can put my code here if that helps to understand the reason for this failure thanks,0.5
mihaigavanescu,hi again lee i have read this artickle http cowfish org uk blog 2014 12 28 arduino ethernet a dht11 sensor and thingspeak it says my thingspeak gotchas their example code needs some tweaking to work with the current version of the arduino ethernet library putting newlines in the post body confuses the api you should just send your data on a single line in the form field1 data1 field2 data2 and so on if i u2019d read the whole of the example page i would have realised this u2026 your data items are called fieldn rather than the nice names you set up in your channel those are just used when your data is displayed the example code seems to suggest this isn u2019t the case u2013 more experimentation required could that be the reason for my problem,0.5
nicothespider,hi i would like to periodically read a value from a website then put it in a thingspeak channel u00a0i have successfully setup a thinghttp app to extract data from the web a request to http api thingspeak com apps thinghttp send_request api_key xxx return my numeric value it seems possible to define a are act app to periodically check the data for this app using a no data check condition with a test period greater than the update period for example test frequency every 30 minutes condition u00a0if channel x has not been updated for 20 minutes but i cant figure out how to put the data from my u00a0 thinghttp app into a channel with another u00a0 thinghttp app or is there a simpler way to accomplish this thanks nicolas,0.867870151997
Deepak,i am also trying the same thing i e to put the data from my thinghttp app into a channel if you find answer please reply me,0.243406027555
ezubiria,it would be great to have such a feature i have made a c program that reads the value from thinghttp and sends it to a channel but it not a very elegant solution and it also needs a computer to run the program periodically,0.916918992996
lee,hi we will look into providing a way to automatically log thinghttp data to a channel lee,0.873589158058
Labas,hello i would like to ask the community to help me with understanding how to combine two sketches from https github com iobridge thingspeak arduino examples tree master ethernet into one code my goal is to read the temp sensors feed values to channel and post them on twitter i managed to read sensors and upload data channel at this point everything is ok but now i start thinking how to tweets data and lost both sketches look very similar and difference is only the functions updatethingspeak string tsdata and updatetwitterstatus string tsdata should i call the first function and after that the second one in the main loop it looks that not what should i do thank you in advanceupdated i found the tutorial how to do this and the thingspeak function works ok and feeds data into the channel but thingtweet function returns to arduino monitor the following below it looks something is wrong with gateway on which side where is a problem pls help connected to thingtweet http 1 1 502 bad gatewayserver nginx 1 7 5date thu 13 nov 2014 11 38 00 gmtcontent type text htmlcontent length 537connection closeetag 541ae607 219 body width 35em margin 0 auto font family tahoma verdana arial sans serif an error occurred sorry the page you are looking for is currently unavailable please try again later if you are the system administrator of this resource then you should checkthe error log for details faithfully yours nginx disconnected,0.720285058022
chrisjmears,being able to use timecontrol is excellent however i do feel its missing a trick if timecontrol was able to send talkback commands this would be excellent i am suprised this was ommited as it seems obvious to set up all your timing in the cloud and have thingspeak issue a talkback command at a set time for the remote device to act on,0.0792587697506
lee,hi timecontrol can interact with talkback via thinghttp for example to add a talkback command https thingspeak com docs talkback add_command you can set up a thinghttp to send a post to https api thingspeak com talkbacks talkback_id commands json with any extra parameters you need talkback does not have a mechanism to push commands directly to devices since talkbacks originate from devices so we did not see an obvious mechanism to link it with timecontrol lee,0.5
chrisjmears,hi lee thanks for the response yes i realise i can do it this was but its another cog to go wrong occams razor and all additionally if i try to use thingspeak in future for a commercial project it means a very clunky setup of timecontrol thinkhttp and talkbackactually i find talkback lovely for my project i check for talkback commands when updating a channel kind of using talkback like a mailbox this works beautifully and avoids all the horrors of nat traversal and different protocols at the remote client site for me just the ability to directly issue a talkback command via time control would be wonderful far less api keys and setups to keep track of,0.872500181198
lee,hi what is the specific talkback api command that you would like to use with timecontrol is it add a talkback command https thingspeak com docs talkback add_command lee,0.924726128578
chrisjmears,yes that exactly it at present i have an processing js app html5 canvas for my solar controller this works on browsers and mobile devices my solar controller is an arduino yun it sends data up to thingspeak at regular intervals using talkbacks features to update a channel and check for new commands as i say kind of a mailbox over http which is lovely because it avoids all the headaches of setting up port forwarding on a users lan it just works out of the box so currently it does the followingsend to thingspeak grab latest commands which are waiting in future i plan to add a feature to the app to allowed timed control of the backup electric heater so the app will then have a page which allows the user to set times for the heater to be on and off this will then add a new timecontrol command when the user selects send when the thingspeak time control server arrives at the correct time i want it to issue a new talkback command for heater on off which will be picked up the next time the solar controller updates the channel hopefully thats clear i understand the workaround you have suggested using thinghttp however its adding in another app which is another potential point of failure additionally as i try to take this commercially i am going to need to licence thinghttp talkback and timecontrol and have the headache of managing a mass of different keys for each user hopefully you can now see why i am keen to see timecontrol being able to directly issue a talkback command,0.788745880127
lee,hi as requested we have just added the ability for timecontrols to add talkback commands you can find the documentation here https thingspeak com docs timecontrol lee,0.87448823452
chrisjmears,lee you and the team are brilliant i truly thing thingspeak is the best thing on the internet its so rare to find an organisation and a forum which actively listens to its userbase takes onboard their suggestions and acts on them swiftly thank you so much once againkind regardschris mears,0.971790790558
chrisjmears,just one thing is there any way to create a timecontrol using the api via http get or post i cant seem to see how to do that seems it can only be done via the timecontrol app which means i can not incorporate the timecontrol functionality into my processing javascript app,0.188659965992
lee,hi chris currently there is no way to interact with timecontrols via the api but i will add that functionality in the near future lee,0.841049492359
chrisjmears,that would be absolutely wonderful,0.987247884274
chrisjmears,just musing on my issues with react to thinghttp and then thinghttp to talkback it would be lovely if a react could just add a talkback command directly just as you did for time control it would remove a level of complexity is the talkback command code you added to timecontrol something you could easily add to react,0.881620407104
chrisjmears,weirdly talkback channel 539 just doesnt put the commands into the status field of channel 14533i cant see any good reason why not even when i manually add a command from talkback,0.129205465317
lee,hi chris talkback only logs executed commands to a channel are you executing the talkback commands https thingspeak com docs talkback execute_commandlee,0.72951990366
chrisjmears,no that would explain it,0.846444606781
Handosa,hi i have installed thingspeak on a local ubuntu server unlike the online thingspeak service there are no apps in the locally installed version am i missing something i would like to know how to access apps from a local installation specifically the talkback app if the apps for some reason are not included in the open source version then i would like to know how to send commands to a device like i used to do with the talkback app on the online thingspeak thanks,0.778205156326
lee,hi the apps are not included in the open source version these need to be licensed from us you can contact upport at thingspeak dot com if you would like to discuss licensing terms lee,0.852128744125
DodBasim,hi i would like to have an option to set the test frequency parameter for check 1 or 5 minutes and not only 10 30 60 the reason behind his is to show an no data check react in a m2m demo and 10 minutes will be too long to wait any idea,0.5
lee,hi due to the large number of reacts currently in our system unfortunately we wo not be able to lower the frequency to 1 or 5 minutes since the reacts consume a large amount of system resources and lowering the frequency would have an adverse affect on the performance of thingspeak as a whole lee,0.271003484726
DodBasim,hi i would like to send the channel id with the http react call the idea is to parse at the receiving side which sensor was triggered it can be either in body or header i am writing the web service that being triggered thanks for the help,0.881837487221
lee,hi based on your request we just added the ability to replace the channel id by using channel_id please see https thingspeak com docs react replacements for documentation lee,0.5
DodBasim,lee wow thank you so much i will give it a try edit works,0.954164862633
DonFL,i am playing with a cheerlights setup using an iobridge io 204 and an arduino for now just turning leds on and off with the color commands using the iobridge dashboard via a serial widget it works fine i am now working on setting up the twitter control and running into issues i am guessing its some syntax issues that i am just not getting right couple questions for the body of the thinghttp app is the iobridge widget id entered within brackets or not the trigger remains just as is with the double from the docs would appear that is the case edit the key piece not showing up properly in the message so i just removed here is the info i am working from http www cheerlights com arduino iobridge cheerlights controller reference info for what to enter in thingspeak the cheerlights website indicates just 3 things need to be inserted method body and url wondering if something has changed on the thingspeak side over time requiring more also on the tweetcontrol app the trigger is purely the color no hashtags or reference to cheerlights i have dug thru the documentation tried several variations but still not getting a response from the iobridge thanks for any and all suggestions,0.800034880638
DonFL,got it working on the url for the iobridge thinghttp app drop post simple as that,0.875739097595
tester,there is no manual for that so let me ask you here i want to create a tweetcontrol which after i trigger it from twiter it will send data to my embedded system by that i mean that i have opened a tcp port which i read data i want after i trigger the event to receive those data in thinghttp in url i put my ip 100 xxx xxx xxx method post body i want this to be in my device test spam spamspamm and host my lan ip and port host 192 168 1 10 5005 i have set up my tcp socket where i read data still after i trigger the tweetcontrol nothing is send to me any ideas,0.5
lee,hi if you try to trigger just your thinghttp https thingspeak com docs thinghttp send_request does that work lee,0.242090135813
tester,as it seems no i even tried to do it on my pc params urllib urlencode api_key message dasdsadasdasdas headers content type application x www form urlencoded accept text plain conn httplib httpconnection api thingspeak com 80 conn request post send_request params headers response conn getresponse print response status response reasondata response read conn close i get error 404 not found,0.317903220654
tester,let me ask you something tweetcontrol sends a warning to thingspeak when a trigger is pulled and then the thingspeak site server will send the selected thinghttp request to the device or not,0.235115528107
lee,hi i think you have the thinghttp test url wrong it should be http api thingspeak com apps thinghttp send_request you seem to be missing apps thinghttp in your test post yes you are correct posting on twitter with the thingspeak hashtag and your trigger word will send the alert to thingspeak which will then use thinghttp to send data to your device lee,0.81679546833
tester,yes you are right about the post query it was wrong i can activate the thinghttp now only problem is that it does nothing i mean i use as url my public ip and as host my private ip and port as i wrote above i sniff the packets and after i send the http request i get a response http ok 200 and then i dont see any http response on my newtwork at all i use body to send data body hello pc still i dont see the data while i sniff the packets i have used all methos post get delete put i tried this too i forwarded a port on my router and used as host publicip port still i dont see the http response from the server thinghttp settings api key 6lfv2m18zl5zanzqmethod postcontent type application x www form urlencodedhttp version 1 1host 176 92 xx xx 5000body hello worldall the other forms are null,0.195437669754
lee,this problem seems like it may be due to the configuration of your local network possibly nat problems from this article http www i programmer info babbages bag 1721 ip addressing and routing html start 2 for example how can someone on the internet gain access to one of the machines on the internal network the simple answer is they can u2019t because the router only delivers packets that arrive in response to outgoing packets and none of the machines connected to the local network have valid ip addresses that is it is impossible for an external agent to initiate a connection to a local machine are you able to send a get or post from another web browser not on your local network to your specified publicip and port as an alternative you may want to check out our talkback app https thingspeak com apps talkbacks you can make a thinghttp request that adds a talkback command https thingspeak com docs talkback add_command and then have your device periodically check if there are any talkback commands to execute and act on it accordingly then you can hook that thinghttp up to tweetcontrol and by posting on twitter you should be able to control your device,0.138363748789
tester,nice alternative i will check it tomorrow and i will let you know thanks and sorry for bothering you,0.972489237785
tester,yeah worked like a charm thanks lee,0.962454557419
muscatco2,i am trying to use an arabic trigger words to trigger the thinghttp action i have a feeling triggering is not taking place because maybe unicode is not recognized is there a way to resolve this issue,0.168429017067
lee,hi i will take a look into this further what is the thinghttp id lee,0.916817128658
muscatco2,you mean the api key x8ue4nigcc2ml17c,0.749134302139
lee,hi your thinghttp id is 1215 feel free to reset your api key there was no problem with thinghttp but there was a problem where tweetcontrol was filtering out utf8 characters i updated the code to be utf8 compatible you can try tweeting your message again and everything should work properly lee,0.911703586578
muscatco2,it worked million thanks really appreciated that was quick,0.997986793518
muscatco2,will this also help the thing tweet as there also the arabic text is not shown whenever the tweet is is arabic,0.814421713352
lee,hi you should be able to use thingtweet with utf8 characters too without a problem lee,0.750895619392
muscatco2,could it be that iobridge platform is what blocks it because it does not tweet,0.21417555213
lee,hi i am not sure what you mean by the iobridge platform blocking it can you try following the instructions at https thingspeak com docs thingtweet update and let me know if that works lee,0.881525993347
muscatco2,yes i sow that it will be a good way to isolate the problem in my original project is to do the post through iobridge gateway which works when i sent latin charactors the moment i try to send arabic it does not,0.126061558723
Hans,we will have to check on the iobridge side but you may be right the latin character set might be what is currently supported from the iobridge actions,0.775382757187
vespapierre,hi it seems the react rule with no data point setting is not working i have two of these rules in case of checking the link that is ok thanks,0.767410874367
lee,hi i just tested this out and it seems to be working fine from my end the channel that is monitored for no data must already have some feed data in it can you verify that that is the case for your channels otherwise please let me know the react ids and i will look further into this problem lee,0.842033028603
vespapierre,hi lee you are right i have cleared the channel but i am still testing i will back to you soon thanks,0.971585035324
rw950431,url http www bom gov auparse string div class capital a href vic forecasts melbourne shtml p class now spanworks ok if i use div class capital a but my every attempt to filter it further results in an error i also tried the following with same result all work ok in firefox with firepath div class capital a h3 text melbourne p class now span a href vic forecasts melbourne shtml p class now spanany chance you could modify the error message to tell the difference between wrong xpath syntax and no matching data,0.15258321166
lee,hi the dot in the xpath was throwing our parser off we just made some changes that should fix this please try your thinghttp request again lee,0.5
rw950431,looking much better the following a href vic forecasts melbourne shtml p class now span text returns 23 4 u00b0is there an xpath way to trim the trailing degree symbol off suspect the translate or replace functions might work but i dont know enough of the syntax to figure out how ideally theres a general solution that will strip out anything thats not a part of a valid number ie 0123456789,0.827769756317
lee,hi unfortunately we do not support xpath functions lee,0.17609551549
rw950431,thanks for the info lee its still a very useful feature for internet connected microcontrollers or devices on slow links that have difficulty decoding html on their own,0.90581715107
rw950431,i was looking for a way to check when a twitter feed was last updated twitter now require oauth to access their api which is a pain to set up the following thinghttp will return the time of the last tweet from a twitter page format is econds since 01 01 1970 aka epochtime and appears to be in the timezone of the page url tweets by cocacolaparse string span data time 1 as a demo below is a small linux shell script that calculates how long since i posted to my twitter feed the last line isnt supposed to break like that bin bashnow date s last wget q o http api thingspeak com apps thinghttp send_request api_key hp66qvbrtw4isd8b howlong now last echo last update howlong seconds ago,0.5
rw950431,also found thatparse string a data element term follower_stats strong titlewill give the number of followers format is numeric but with commas separating groups of 3 digits eg coca cola has 2 302 043 followers slightly more than me i can highly recommend the firefox extension firepath for figuring out xpath syntax,0.806057631969
lee,thanks for posting your example parse string lee,0.955158114433
rw950431,wondering if its possible to extract a field from json data using thinghttp json seems to be overtaking xml as the web data exchange format of choice for example extracting the likes count from a facebook page using the graph api eg https graph facebook com cocacola i know that you can request individual parameters using fb api but i am using this as a accessible example of a more general case am i right in thinking that there is no way to insert such a result into a channel without an external device using a react on no data inserted for x minutes would seem obvious but i couldnt see any way that the react could update a channel with the result,0.5
lee,hi you are right that we should support json parsing via thinghttp so we just added this ability using your example at https graph facebook com cocacola you can parse the json via its keys for example using the thinghttp parse strings founded cover or cover cover_id would all work here a thinghttp i created that parses that url using cover cover_id no quotes as the parse string http api thingspeak com apps thinghttp send_request api_key d1w3zmrtqy5ao6ax in terms of logging this data to a channel we leave it up to users to create applications that would do this lee,0.5
rw950431,lee thanks for that great news but what syntax is needed to obtain an array member for example how to extract the are fresh_message from http www bom gov au fwo idn60901 idn60901 94768 json observations header gets the whole array observations header refresh_message still gives the whole arrayobservations header 0 gives error parsing document try a different parse string,0.889485120773
lee,we just added the ability to parse json with arrays too here an example i created thinghttp url http www bom gov au fwo idn60901 idn60901 94768 jsonparse string observations header 0 refresh_messagetest using http api thingspeak com apps thinghttp send_request api_key 4qpdge1ha95u0qbmlee,0.864313662052
rw950431,excellent work thanks is there a list of public thinghttp or any other way of easily sharing,0.97900390625
lee,currently there is no list of public thinghttps lee,0.5
vwtimah,hi there i was wondering if there is a way to have thinghttp send unique feed values in the body of the post that it sends when triggered by a react u00a0i am setting up temperature sensors and want them to trigger alarms at high and low values u00a0i would like the thinghttp to send json data to a php script with the information of which sensor and what the triggering value was u00a0i am transitioning from pachube to thingspeak and on pachube i was able u00a0to set a trigger for each feed and when it got triggered it would send an http post with that feed id and value u00a0the react on here does not seem to pass any values that would tell my thinghttp alarm which feed and what value caused it to go off u00a0can i even send my own feed data through thinghttp to my external php script u00a0am i thinking about this all the wrong way u00a0thanks for any help you can offer tim,0.782332777977
Hans,i think i understand what you are asking first create a thinghttp request in the body of the request you can write anything you want this includes json in there you can put info that your php script may need to parse use the replacement u00a0 trigger in the body and we will replace that string with what the trigger of your react is second create your react and set the trigger value and select your thinghttp request when data comes in that meets that condition react will execute the thinghttp command and then do any detect replacements i think that will do the trick for you let us know,0.5
vwtimah,thank you hans that is just what i was looking for u00a0i missed that when reading through the react docs u00a0does react pass any other variables that can be parsed with u00a0thanks again i am really enjoying thingspeak so far compared to pachube u00a0looking forward to seeing what 2 0 brings as well,0.802861690521
claudiuo,this is really cool i also missed the trigger placeholder and it is what i needed side question if i setup a geo react is there a way to pass the result of the calculation to thinghttp i do not mean true or false i mean the actual distance value trigger does not seem to do the trick thanks for all your help,0.19027158618
murilo.picanco,vwtimah said thank you hans that is just what i was looking for u00a0i missed that when reading through the react docs u00a0does react pass any other variables that can be parsed with u00a0thanks again i am really enjoying thingspeak so far compared to pachube u00a0looking forward to seeing what 2 0 brings as well i have seen this question several times looking through different posts in the forum and not once it was answered to the user hope that thingspeak answers it one day,0.8188829422
lee,hi currently there are no other values besides trigger that can be parsed via react and the trigger in geo calculations does not return the distance we are actively developing thingspeak though and will try to improve the features available to react and thinghttp lee,0.929789423943
JChristensen,is thingtweet working i have not had a message get through for two days now i am getting http 1 1 200 ok back from the server after my post but it never shows up on twitter,0.5
davtas,same problem here it is about two days that tweets are not sent anymore any reason i will try to change the api key best regards,0.213160812855
JChristensen,davtas thanks for the confirmation i have not changed my application for months so i am not inclined to change anything without hearing from thingspeak support on this what can you tell us folks,0.790444612503
kg4jam,mine stopped working as well i tried regenerating my key and changing the code in my arduino but still no luck i then unlinked my twittter account and tried to re authorize thingtweet to my twitter account now i cannot get that to work every time now when i try to authorize the app i get redirected to a message that simply says twitter fail,0.0175904631615
JChristensen,kg4jam appreciate the confirmation i was about to try what you did is anyone from thingspeak paying attention to this thread is thingtweet actually working for anyone at this time,0.819620609283
JChristensen,according to this gentleman twitter has changed their api tweets by davide_tasca,0.30481928587
davtas,check this for confirmation of our problemtweets by thingspeaki wish the problem could be solved very soonregards,0.0748094320297
JChristensen,davtas said check this for confirmation of our problemtweets by thingspeaki wish the problem could be solved very soonregards yes i did see that thanks unfortunately that is the only information that i have seen from thingspeak on the problem and that was posted three days ago now as of tomorrow the problem will be a week old and i am very disappointed at the lack of information that has been forthcoming from thingspeak i would have expected better communication and some indication of estimated time to repair before now i use thingtweet as part of a home monitoring system while i only have a small number of systems installed when i finish writing this i will be contacting my users to tell them that alerts are not functioning,0.0323757231236
JChristensen,thingtweet has been working for the past 7 8 days who do we thank for fixing it,0.76486313343
Hans,sorry it looks like i missed this thread in fact twitter did change their api we had a dependency that did not get updated until about 10 days ago as soon as it was ready we made the update,0.06163880229
TonyC,until recently my arduino project with thingtweet had been working fine now i get http 1 1 400 bad request and invalid api key responses has there been a change to the api,0.0748324394226
turgo,my arduino feeds are working have you made any changes,0.724548280239
lee,hi we have not made any changes to thingtweet everything seems to be working fine from our end here an example you can try out from one of our test accounts http api thingspeak com apps thingtweet 1 statuses update api_key uuadckl1tm92vnal status test 20posttweets by thingspeaktestlee,0.740865588188
TonyC,thanks turgo the only change i made was to re generate my api key thingtweet had been working fine for me until i started receiving invalid api key messages i re generated my key but it did not help thanks too lee thingtweet works ok for me if i send the request from my browser my arduino code worked ok before and its post command follows the protocol as described in the thingtweet documentation are there any logs that would be accessible to me to verify my arduino http commands,0.774224221706
lee,tony send me the details of your thingtweet lee at iobridge dot com and i will try to pull up the relevant server logs lee,0.87946665287
lee,another suggestion you can try is to unlink and then relink your twitter account since twitter may have expired some of the authorization tokens that we have stored for your account lee,0.302581906319
TonyC,thanks lee the relinking did the trick,0.980262875557
TonyC,howdy lee thingtweet started working again for me after the relinking but has not worked since the database upgrade i tried relinking again but it did not help here the server response http 1 1 400 bad requestserver nginx 1 5 7date sun 02 feb 2014 03 41 46 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closestatus 400 bad requestx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800cache control no cachex request id 2d9d912e 6922 44d0 a61f 86d8676c2600finvalid api key0do you know what is going on thanks for your help tony,0.5
lee,hi tony after relinking your account did you make sure to use your new thingtweet api key lee,0.5
TonyC,hi lee yes just double checked new api key is correct tony,0.99144411087
vespapierre,hi i have realized that mya previously defined body values of all my thinghttp have been lost not the whole string but has been cut due to this i have not received android push messages can you tell me what caused this problem any server side backolad or something thanks,0.117805331945
lee,hi we recently performed a database upgrade that may caused some minor unintended problems we apologize for this lee,0.726869702339
vespapierre,hi lee thanks for the information no problem,0.992560625076
turgo,its cool that react can activate a mac mavericks notification via twitter i have several reacts which are only true when the machine i am monitoring is on when it is off the reacts are giving faulty tweets could you upgrade the react app to test for more than one condition with and or then i could condition the reacts when the machine is on,0.768330931664
lee,hi can i help figure out why the react is resulting in faulty tweets what react id are you referring to feel free to email me lee at iobridge dot com adding multiple conditions to react is something we will consider adding in the future lee,0.948216676712
turgo,thanks lee for your kind offer of assistance the tweets are faulty only in that they are initiated without considering if the machine is on if you add multiple conditions to react then i can correct the errant tweets,0.837193846703
wiktor,helloi am learning how to use twitter to input data to my thingspeak channels can i send multiple values to my channel via tweeter,0.5
Malden,hi is there a reason why we can specify only one action in a react app it would be very convenient to be able to specify multiple actions to date if i want to execute two actions when a certain condition is met i need to create two identical reacts and specify the different actions in one and the other would this be a big issue to implement in thingspeak ondrej,0.724801599979
ctmorrison,when i go to create a new react if i change to another channel i am still seeing the fields from my the first channel it seems i need to play some games with refreshing the screen or selecting the channel prior to entering data into any fields looks like the ajax behind the channel field is not firing when the field selection is changed,0.5
peterpan666,hi everyone is react on the opensource api i can not find it,0.0884146988392
H07R0D,i am looking to send some data up from a netduino and also back down to it ideally i would like to send down field names as listed in the channel u00a0 can i use thinghttp to parse a feed json from thingspeak and send down just the field name string,0.795892655849
lee,yes this will work try the following as an example url http api thingspeak com channels 9 feed xml results 0parse field1,0.5
H07R0D,lee said yes this will work try the following as an example url http api thingspeak com channels 9 feed xml results 0parse field1thanks i was just getting into that section u00a0 xpath is pretty new to me how would i return all fields instead just field1 u00a0edit just noticed the gravatar i guess i should start being a dick now right,0.5
lee,try using this parse string channel field1 channel field2,0.773716509342
H07R0D,that works just fine i did end up getting just the field names by using channel substring name 1 5 field can i also send a style sheet in u00a0 my request u00a0 i would like to format the output a bit to show 1 temperature 1 2 ph 2 is that doable with the parse string or can i add something to the body,0.838282465935
lee,there are 2 fields prepend and append that will allow you to format the output but they only allow you to format it at the beginning and the end so you could do each request separately http api thingspeak com apps thinghttp send_request api_key your_api_key prepend 1 append 1 gt u00a0http api thingspeak com apps thinghttp send_request api_key your_second_api_key prepend 2 append 2 gt u00a0if you want this all as one request you will have to format the response on your end somehow maybe by using parse string channel field1 channel field2which should return u00a0 field1 temperature field1 field2 ph field2 and then removing all strings of field u00a0edit the gt in the urls should be replaced by i can not get this forum to post it correctly,0.5
Deepak,lee said yes this will work try the following as an example url http api thingspeak com channels 9 feed xml results 0parse field1it works for getting field name what parse string to be used to get value at that field,0.5
cjm4909,does anyone know how to use the thinghttp app to get my longitude and latitude from google latitude i just can not figure out how to return only longitude and latitude using the parse field u00a0https latitude google com latitude apps badge api user xxxxxxxxxx type jsoncurrent results type featurecollection features type feature geometry type point coordinates properties id xxxxxxxxxx accuracyinmeters 10 timestamp 1359231515 are versegeocode my city photourl https latitude google com latitude apps badge api type photo photo cetdftwbaaa r7dlt91fdfdamqukap5axw vc64pqj9dyvuoh1poam3ew photowidth 96 photoheight 96 placardurl https latitude google com latitude apps badge api type photo_placard photo cetdftwbaaa r7dlt91fdfdamqukap5axw vc64pqj9dyvuoh1poam3ew moving true stale true lod 1 format png placardwidth 56 placardheight 59 u00a0thanks,0.5
akinsgre,thinghttp will only parse xml html it wo not parse jsonwe are working on more flexible parsing but i do not have any release targets yet,0.0276248455048
cjm4909,my goal is to have the react app trigger the thinghttp app the thinghttp app would send a message to prowl the react trigger is working with thingtweet but i can not get thinghttp to send a message to prowl i have a prowl api key i assume i have missed something in the setup url https api prowlapp com publicapi addmethod postcontent type u00a0application x www form urlencodedhttp version 1 1body u00a0apikey mykey application thinghttp event message u00a0any ideas what i am doing wrong,0.0768954753876
cjm4909,i figured it out never mind,0.840281844139
davtas,hi everybody i would like to have a personal hashtag filter for tweetcontrol app u00a0how to do this u00a0i wrote to support thingspeak com but i did not have reply u00a0thank you regards davide,0.876415371895
Hans,i got your email and will write back to setup a custom trigger word for you sorry for the delay hans,0.293655157089
tonyf,this question has been asked a few times before but i am still struggling to get tweetcontrol to work i have set up my channel tried public and not added the thinghttp app then the tweetcontrol app but i can not get the twitter statuses to go into the channel i have recreated the example but still no joy i can create a custom post message direct to the thinghttp app and it goes through to the channel ok the tweetcontrol app is not anonymous the twitter account is not protected have i missed anything thanks,0.0651252865791
jpmurph,make sure you have your thinghttp setup with content type of u00a0application x www form urlencoded u00a0not having that established is the issue i ran into when setting up twittercontrol u00a0,0.918241918087
jpmurph,i have have a working twitter control app which is now updating my thingspeak channel i am now working on an arduino sketch which will listen to my thingspeak channel and u00a0if the channel gets updated u00a0then the led on pin 13 will blink for a second u00a0 u00a0i used the cheerlights arduino ethernet sketch as a starting place but i am having an issue with creating with my void loop u00a0i know it needs to be something like this but really i have no idea could someone help point me in the right direction u00a0void loop if u00a0 client available u00a0 look for updates to channel u00a0digitalwrite led high delay 1000 digitalwrite led low delay 1000 u00a0 u00a0 u00a0,0.831332445145
Hans,hi jp sorry for the delay i would check your constants and setup section you need to u00a0specify u00a0which pin the led is on and make sure the pin set to an output u00a0const int led u00a013 void setup pinmode led output u00a0,0.5
jpmurph,i am trying to make a new twitter control by following the tutorial in the documentation but i am having an issues should your first step be to create a channel then thinghttp then twitercontorl u00a0 u00a0i created all 3 and have tested sending at post via poster firefox pluging and received teh 200 ok but when i try sending u00a0a tweet with the filter and trigger nothing gets posted to the channel u00a0 u00a0heres the details of my setup am i missing something,0.795531868935
Hans,i tihnk you are close the twitter account field needs to just be your username no symbol what are you tweeting exactly,0.5
jpmurph,ok got it to work removed from twitter username and added content type of application x www form urlencoded to my connected thinghttp u00a0 u00a0that did the trick thanks for the help this is a relay killer service next step u00a0controlling u00a0the arduino connected via ethernet u00a0shield u00a0,0.977530360222
Scott216,i was looking at the react app and i would like to send a twitter message out if the channel stops getting data u00a0 it seemed like status field would be good for this but i do not know what text values the status field can equal u00a0 i do not even see a status anywhere on thingspeak u00a0,0.254059642553
Scott216,are there instructions for the thingspeak charts explaining what the settings do u00a0 some i do not understand like dynamic results and timescale,0.838494896889
Hans,we do have some documentation for the charts http community thingspeak com documentation api chartsif you have other questions we can provide more detail,0.5
cgalaz,hi this is first time posting and did not know where to put this question the documentation say it as simple as having a csv file and turn up from the page to import data as much as the ample csv file test using stored on my pc i always get the same error message the page you were looking for does not exist,0.758618056774
Hans,looking into the error i will let you know soon thanks,0.91043484211
cgalaz,hans said looking into the error i will let you know soon thanks the problem remains is there another way to handle historical data,0.217170625925
jbowen,bump i have tried a couple different files including the sample provided in the documentation u00a0,0.7362383008
Hans,our next update will have this fix to the uploader we are trying to get our new features wrapped up for release this will be soon,0.706702053547
adjie1258,this is great idea i have some problem to uploading file,0.14845892787
pejobass,hi u00a0i am parsing google weather data u00a0everything u00a0works fine with one single data for example temp_f data but how can i retrieve different data for example both temp_f and temp_c can i use a single string to do so and if yes what is the syntax u00a0thank you u00a0andrea,0.5
Hans,the parse string for thinghttp will only return one result you could setup two thinghttp requests but your application may not allow for that what are you building,0.5
pejobass,i am building an arduino weather station that get the data fom an rss weather site i am trying tio have the parse info on a server and then retrieve it with an arduino client u00a0andrea,0.5
Hans,cool,0.973930835724
tomarthur,hi everybody u00a0i am just trying everything out here for the first time so far so good i have digital sensor data open closed running from an xbee to an arduino and then up to a thingspeak channel that part is working a ok yay u00a0however i am having a heck of a time getting react to work i am testing both a posting via prowl and directly to twitter and neither is working ideally i want it to post when the value for a field changes for example field 1 going from 0 to 1 trying to make the react from that change is not working nor is just having it react if a channel has not been updated after a period of time u00a0is anyone else having problems or is it me thanks,0.723920583725
Hans,we are investigating thanks for reporting,0.967871725559
Hans,we have update the documentation for the tweetcontrol app http community thingspeak com documentation apps tweetcontrol tweetcontrol allows you to monitor twitter for trigger words and trigger a thinghttp request the cheerlights project uses tweetcontrol to update its thingspeak channel so other lights could stay in sync with each other,0.5
richardchabot,i receive the message invalid api key with the connectport with u00a0http api thingspeak com apps thingtweet 1 statuses update api_key status testtwitter and the same url posted in my browser safari or ie do the right job and change my twitter message,0.244484335184
Hans,i would try encoding that second sign with 26 a lot of these passthru gateways do not like signs let us know if that works,0.258597999811
richardchabot,no it does not workrichard,0.752673923969
Hans,invalid key might be from the symbol try 3f in replace of the what is generating the string that is sent through the xbee,0.212241888046
Hans,btw i am using this table to find the url encode of these special chacters http blooberry com indexdot html topics urlencoding htmuse the code points hex column a space is 20 hex so you use 20 in the url,0.837230682373
richardchabot,thank you u00a0i am using the same table and i tested every special character the string is generate by coolterm u00a0i will check the python program of xig too u00a0if i found i let you know,0.937603294849
richardchabot,xbee parameter the packetization timeout ro must be to 0 and you can send more than 72 characterseverything ok u00a0,0.5
wlewis,i have signed up for a thingspeak account on thingspeak com u00a0where is the api key u00a0how do i get a thingspeak api key,0.5
hans,click channels and create a new one once you have a channel you have an api key to put data into the channel and can create read keys for other apps,0.843151986599
DennisB,howdy u00a0having fun with thingspeak u00a0while implementing google gauge i noticed that it only seems to work on public channels u00a0 u00a0is there any way to use google gauge with private channels u00a0thanks u00a0 dennisb,0.763208448887
Hans,glad you are having fun ud83d ude42create a read api key and pass that in the request for a u00a0channel u00a0feed use key readkey on the end of the channel feed request you can create as many readkeys as you want one for your web page another for a labview application etc you can u00a0delete u00a0them or u00a0deactivate u00a0them when you want,0.812136650085
JChristensen,i am finding that it not unusual for tweets sent via thingtweet to never show up on twitter even though the server response is http 1 1 200 ok anyone have any ideas on what might be going on below are server responses from three tweets the first two of which never posted on twitter the first two were sent about a second apart from each other not sure if that an issue they both do come through sometimes http 1 1 200 okserver nginx 0 8 53date thu 01 sep 2011 18 33 28 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200etag c4ca4238a0b923820dcc509a6f75849b cache control max age 0 private must revalidate110http 1 1 200 okserver nginx 0 8 53date thu 01 sep 2011 18 33 29 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200etag c4ca4238a0b923820dcc509a6f75849b cache control max age 0 private must revalidate110http 1 1 200 okserver nginx 0 8 53date thu 01 sep 2011 18 34 50 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200etag c4ca4238a0b923820dcc509a6f75849b cache control max age 0 private must revalidate110,0.5
Hans,if messages are u00a0similar u00a0in a certain amount of time the twitter api rejects the post you get a 200 ok from thingspeak because the transaction is good to that point,0.227856874466
JChristensen,good to know are you aware what the parameters are i e what amount of time and how imilar is determined in this case i would not have considered the two messages to be similar even so i would have expected the first message to be posted regardless my application sends two tweets when it starts up they are canned messages and do not vary from one startup to the next sometimes both make it sometimes neither if twitter is dumping them then it would seem that it not being consistent about it,0.832296729088
Hans,some of our javascript did not render on older versions of internet explorer we recently updated our charts and they work great all the way back to internet explorer 6 we have not tested older than that though,0.169599980116
dm3281,this is a cool post i just got started using thingspeak and wired this up using powershell and my wi fi thermostat http myblog4fun com archive 2011 06 28 filtrete 3m 50 wifi thermostat aspxhttp myblog4fun com archive 2011 07 04 filtrete 3m 50 wi fi thermostat and thinkspeak aspxnow that google is retiring google powermeter it would be nice if thingspeak supported receiving the same type of data http myblog4fun com archive 2010 10 17 currentcost envi and google powermeter aspxhttp myblog4fun com archive 2011 06 24 google retires powermeter aspxmy next task is to get my netduino plus running the code via c and publishing to pachube and thingspeak u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0,0.5
Hans,yes it is a cool post thanks for writing up your project we will add it to the blog u00a0,0.992258787155
Aghillo,hi u2013 i have been working on using an arduino board to update a twitter status using thingtweet this works fine on a normal network without a proxy using the following snippet of code u00a0connect directly to the api endpoint api thingspeak com thenclient print post apps thingtweet 1 statuses update http 1 1n client print host u00a0api thingspeak comn u2026 etcall is good u2026 however on another network with a non transparent proxy i have been trying connecting directly to the proxy wwwcache domainname org which does not have any form of local authentication then trying a fully qualified post client print post http api thingspeak com apps thingtweet 1 statuses update http 1 1n client print host u00a0api thingspeak comn u2026 etcwhich does not work any bright ideas on what i could try should be doing many thanks graham,0.854768276215
Hans,here the first thing comes to mind do you have the gateway address of the arduino pointed to the proxy server i did some searching on the arduino forum and did not see and u00a0definitive u00a0answers maybe we will be the u00a0trend setters u00a0if we can come up with a fix for proxies,0.5
Aghillo,that a very good point i will check monday u00a0and report back u00a0,0.926666736603
Aghillo,all works fine now through a proxy it was simply an extra rn that i would missed in the post headers ud83d ude42 u00a0graham17,0.213581889868
bgardner,for anyone using the homevision controller for their home automation i have written a thingspeak plugin for the homevisionxl software u00a0the plugin is written in tcl and allows the user to upload up to 8 homevision variables to a thingspeak channel u00a0more information and documentation can be found at http gardnerswebsite com thingspeak hvxlplugin htmlhope you like it bob,0.848317742348
Hans,this is excellent thanks for sharing i will get the word out as well,0.990832924843
mc,i am using an arduino uno with ethernet shield to talk to thingspeak though that is more or less irrelevant as my question is more general than that u00a0this is my first attempt at integrating web control into the design of an imbedded system so some of the steps in facilitating communication between thingspeak and my hardware are new to me the problem i am having is that i can not figure out how to get data to my u00a0ethernet u00a0shield with a known local static ip address from my router with some known public ip address anyone with some experience with this have any input u00a0,0.5
Hans,with the arduino ethernet you will have to do two things one assign the arduino an ip address and port number two create a port forward rule on your router this port forward takes the public ip and port number and forwards it to one internal private ip and port number so arduino has an ip of 192 68 0 123 and port number 8000 your router has a public ip of 90 123 123 123 and port 8000 you u00a0create u00a0that port forward rule in the router so the public ip port forwards to the private ip port to access your arduino enter http 90 123 132 123 8000 in a web browser i know that a few users are working on tweetcontrol projects i will post when i get the details u00a0,0.5
mc,well that was easy thanks so much u00a0,0.994241714478
stefacc,hello u00a0everyonei am new u00a0to the forum and u00a0i wanted to u00a0ask u00a0how u00a0i can interface thinghttp with google u00a0and u00a0facebook from facebook u00a0i want to u00a0receive u00a0the rss feed of the my notificationsd i u00a0tried using u00a0labview u00a0and the u00a0normal browser u00a0and it works u00a0but if u00a0i use a get with thinghttp nothing happenshow can i u00a0do,0.5
lee,i just got it working for me u00a0try using the rss feed link from this page http www facebook com notifications phpyour feed url should look something like http www facebook com feeds notifications php id xxxxxxx viewer xxxxxx key xxxxxxxxxx format rss20i put that url into the thinghttp url and left all the default values alone and was able to get my feed i hope i was able to help let me know if you still have issues u00a0 u00a0,0.158923774958
stefacc,thanksssssssssss now however u00a0must u00a0also work u00a0with u00a0various u00a0google services,0.751468360424
Hans,how are your apps going,0.805955648422
Hans,we just finished up work on a twitter proxy app called thingtweet as you may or may not know twitter has introduced oauth open authentication for u00a0third party apps oauth is a little too much processing for a basic microcontroller to handle so we have created a service that handles the oauth to twitter and allows you to send status updates via the thingspeak api to try it out sign in to https thingspeak com login u00a0select apps from the menu and then click on thingtweet under the thingtweet app select link new twitter account this will redirect you to twitter to see if you want the app to have the ability to access your account you can allow or deny the process once you have confirmed the right twitter account twitter will send you back to thingspeak we then generate a new api key for you to use if you send an http post with your key then the message will be relayed to twitter all of the parameters u00a0from the twitter api statuses update are possible the uri is http api thingspeak com apps thingtweet 1 statuses updatewe made our url uri to be u00a0similar u00a0to the actual twitter api so it may be a drop in switch out with not much headache the only new addition is that you must send an api key along with the parameters or in the x thingspeakapikay header api_key thingtweet_api_key status i just posted this from a microcontroller i will get the full u00a0documentation u00a0on our docs page but i wanted to give you some early access let me know how it works,0.5
chetan,hello i am new in thingspeak i am working on a project in which wanted to get data from this website http www isstracker com and the data i want is longitude value from the website i copied xpath of the value and paste it inside the parse string after creating the api link and opening link shows blank value as 000 000please help me with this,0.5
cstapels,the data you are trying to parse is updated by code that runs after the page is loaded that why you see it update in real time when the page is first loaded the value is 0 0 thingspeak can retrieve the page but it does not run all the code for you as well here is a rest api you can use and parse the json https wheretheiss at w developermake your thinghttp urlhttps api wheretheiss at v1 satellites 25544and then see the parse json example at the end of the thinghttp page in the doc https www mathworks com help thingspeak thinghttp app htmllet us know if you get it working,0.749343454838
hroobert,hi u00a0first of all i am very impressed with what thingspeak came up with it makes me wonder what would make sense to iot in my house and in my life i have a problem though i set up a channel 447365 private where i log temperatures of my boiler every 3 minutes with an esp2866 i also set up a react that is supposed to tweet me on data insertion when a temperature raises above a certain level i want it to only tweet once when the condition is met therefore i set run action only the first time the condition is met the twitter part works well it tweets whenever the condition is met the problem is that it tweets every time it met not only the first time even thoudh it set to u00a0 run action only the first time the condition is met the data has no noise in it that would result the condition to go false and back to true thanks for your support u00a0condition typestring u00a0status u00a0numeric u00a0geo u00a0no data checktest frequencyon data insertion u00a0every 10 minutes u00a0every 30 minutes u00a0every 60 minutesconditionif channelhero test 400669 u00a0kotel_heves 447365 field1 zpatecka u00a02 tuv u00a03 topeni_radiator u00a04 okolni_teplota u00a05 tuv_ohrev u00a06 teplotni_zisk_kotle u00a07 u00a08is greater than u00a0is greater than or equal to u00a0is less than u00a0is less than or equal to u00a0is equal to u00a0is not equal toactionthinghttp u00a0matlab analysis u00a0thingtweetthen tweetusing twitter accounthero_iotoptionsrun action only the first time the condition is metrun action each time condition is met,0.865819692612
hroobert,sorry for the listing above for some reason i can not edit the post here is the setup u00a0condition typenumerictest frequencyon data insertionconditionif channel447365field5is greater than45actionthingtweetthen tweet datetime message using twitter account twitter account options run action only the first time the condition is met,0.766734719276
cstapels,my single fire reacts worked once only as recently as a week or two ago i just tried one out now with similar conditions as yours and i saw only one tweet for three channel updates with conditions that should have triggered the react u00a0 over how long did you see the behavior persist,0.207256019115
hroobert,i set this channel and it triggers up about 3 days ago the last set of triggers i got as shown in the screenshot below i got 3 tweets when i should only have gotten the first one https photos app goo gl w0zr1mgqsxrnuvbo2,0.265926271677
hroobert,any suggestion,0.755712270737
cstapels,i am sorry to hear that your react is misbehaving u00a0 is the behavior still persisting u00a0 i just repeated my test and got one trigger from a react on four posts from an esp8266 01 u00a0 can you try erasing the react and setting up a new one u00a0 u00a0the only differences i see are that you are posting to field 5 on a private channel and i am using field 1 of a public channel u00a0if the behavior you see is still happening with a new react then i will try it with the same conditions as yours are there regular updates to other fields of that channel u00a0,0.5
hroobert,i tried deleting and setting up a new one but the behavior is the same https photos app goo gl rcrzfr3tfpn88urj2https photos app goo gl wnl8u9mep2k0klph3the other fields are getting regular updates but i only have this one with a react that is supposed to run once when the condition is met thanks,0.192307084799
cstapels,thanks for giving a new react a try u00a0 do you have any other processes that are writing to the channel u00a0 perhaps if there were simultaneous writes to the channel it could cause the react to trigger multiple times u00a0 can you try removing the react again and then causing the original trigger condition to be true again u00a0 then see what happens with the channel values and the tweets u00a0 i will attempt to replicate the process for a react to field 5 so it matches your conditions exactly,0.791524231434
hroobert,there is an analysis running on the channel but that is writing to a different field the trigger keeps tweeting on every one of the instances when the condition is met not only the first time the condition is met after the condition was not met i believe i have it set up properly and that there is a bug in the system,0.5
alweerahman,hello everyone currently i doing the monitoring energy project so i am use the thingspeak database to record all the measured value of current power and energy can i know what is interval time for the data will stored in the tingspeak channel,0.745324850082
cstapels,have a look at information for paid users https www mathworks com help thingspeak information for paid users htmland the faq page https thingspeak com pages license_faqat present free users can update channels every 15 seconds most of the advanced licenses allow an update frequency of once per second a comparison of available licenses is at https thingspeak com prices,0.901558876038
tiaratan,hi all i am new on thingspeak and need help for integrating thinghttp react app and ifttt maker webhooks i want to send myself an sms whenever the set condition on the thingspeak react app is met and is plotted on the thingspeak channel i am using the ifttt maker webhooks to achieve this this is the flow of my project and my set parameters for thinghttp react app and ifttt maker webhooks 1 data from my device digital vernier calliper is sent via esp8266 and is collected onto my thingspeak channel 2 i then created thinghttp with the set parameters name bearingoverlimiturl https maker ifttt com trigger __enter event name here__ with key __enter key from ifttt webhooks maker here__ method postcontent type application jsonhttp version 1 1host ifttt com maker_webhooksbody value1 channel_ enter channel id _field_1 3 next i created a react app with the set parameters name bearingoverlimitcondition type numerictest frequency on data insertioncondition if channel set channel field 1 is greater than 42action thinghttpthen performs select event name from drop down options run each time condition is met4 i created an applet on the ifttt maker webhooks with the following parameters if maker event enter event name then send me an sms at 00 __entercountrycode__ __enter phone number__ update phone number send me an sms with message the event named eventname has a bearing diameter of value1 this does not work as i do not receive an sms although the set condition is met i have a feeling that my thinghttp is not communicating with the ifttt maker webhooks could someone please kindly help me out are my parameters correct photos are uploaded for reference thank you in advance,0.5
cstapels,we have an example at https www mathworks com help thingspeak use ifttt to send text message notification html if you have not seet it already there is another similar example with a different workflow as well at https www mathworks com help thingspeak analyze channel data to send email notification from ifttt htmli would first try pasting the webhooks url into your browser they also offer a testing page at ifttt for the request when you set it up if you dont get a message when you manually trigger the webhooks event with a browser there is a problem with the ifttt setup if the webhooks url works then you can try triggering the thinghttp thinghttp can also be triggered by pasting the url with the thinghttp api key see the settings page for the thinghttp to find this url reacts now show you the last time they were triggered you can see in the table if the react is being triggered in the settings you described above i did not see that you chose the name of the thinghttp for your react this may cause a disconnect unfortunately i was not able to see the images you uploaded you can also cause the react to trigger manually but writing a field value that satisfies the react conditions see https www mathworks com help thingspeak writedata html or your channel api keys page for the correct format to update your channel manually,0.5
u14121001,i have an esp8266 connected to arduino and i am collecting data u00a0that i managed to store in a channel correctly u00a0i want to connect that data in realtime automatically to my database on an u00a0xampp u00a0server and i cannot find a php u00a0code to do so please help u00a0,0.140985280275
cstapels,this may be a roundabout method but if you install a rest api on your xampp server as described here http www phpzag com create simple rest api with slim framework you can use the rest api to take data in to the server you can use the react app in thingspeak to run a matlab analysis every time the esp8266 posts data to your channel in the matlab analysis you can use webwrite to generate the rest calls to your xampp server a side note have a look at the examples in the documentation https www mathworks com help thingspeak examples html depending on the complexity of your sensors and the type of esp8266 you have you may be able to remove the arduino and just use the esp8266,0.865629792213
applepie80,i am having trouble trying to develop a function for comparing the data points i have collected from my light intensity sensor in order to see the period of u00a0 time when there is the lowest activity of light i am not familiar with programming so i appreciate all the help i can get u00a0 essentially i have a light intensity sensor measuring the quality of light in a room which will be uploaded onto the thingspeaks server so far i have been able to retrieve data points in a table format using under the matlab analysis app readings thingspeakread channelid fields 1 numpoints 60 outputformat table however i want to create a function that can see when the light quality value is low for a few occurrences mark that time and then subtract it from the next time the light quality is at a higher value to figure out the longest time that the light level stays low i am unsure about how to do this using the above function to retrieve the data thus far my general idea is to find the first low value with the corresponding time search through the rest of the data until a high value is present again with the corresponding time and then subtract both times under a table format ultimately i want to use this data u00a0 as a proxy to see how much light impacts me when i sleep by using light quality as a factor does anyone have an idea of how this can be implemented or is there an easier way for me to obtain the results i want,0.217365682125
cstapels,neat project u00a0 i wonder what you are using to measure light level u00a0 in phase ii of the experiment you could measure the spectrum too i would set up a timecontrol that runs a matlab analysis daily then writes your new values to another channel there is presently a code template called are place missing values in data that will show you some of these techniques use thingspeakread to get the data you can use numdays 1 or numminutes 600 depending on when you set up the timecontrol and how long you sleep u00a0data thingspeakread chid fields 1 numminutes 600 outputformat timetable if you know the threshold for high and low data you can use the find function to separate the data threshold yy lowindex find data threshold highindex find data threshold if your channel writes occur at regular intervals then the length of each index array will be proportional to the relative light and dark times then you can write the data to your other channel for later study thingspeakwrite otherchid writekey xxxxxxxxxxxxxxxx fields 1 2 values length lowindex length highindex u00a0if you want to calculate each duration separately you can loop through the timetable that you read in the analysis and add to the duration until the index array is non continuous if lowindex i 1 lowindex i 1 add duration,0.732389211655
vichu95,i am new to thingspeak u00a0iam trying create a android app i need to read from a field and also write to another field please help me with java code for writing reading is ok i will give url as the needed one and do get request u00a0but writing dont know please help,0.851063966751
cstapels,you can also write to a field using a get request u00a0 see the write data documentation for the correct format u00a0 you can also see the format for writing to a channel when you click the api keys tab on your channel view welcome to thingspeak can you share what the app will do,0.95588183403
hedwig,try my app ud83d ude42https play google com store apps details id com alex93savari pulsy_thingspeak,0.5
dnsr03,i am trying to set 2 reacts one for each field of my channel temperature and humidity but apparently only 1 is fully working the react for the temperature while the other only work randomly even if the condition it achieved some times the reaction a tweet doest not work can somebody help me u00a0,0.202589839697
cstapels,can you post some sample field values and the condition you have set u00a0 i just set up a pair of reacts to trigger on field1 and field 2 of my test channel my reacts were set to trigger each time the condition is met u00a0 it has a numeric condition to trigger a tweet when field1 is greater than 100 and another that triggers a tweet when field 2 is greater than 30 u00a0 i used the rest api to write to the channel with a gethttps api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 110 field2 333and both tweets were posted within the same second u00a0are you posting from a device or from a web server u00a0 it may also help to show us the format you are using to post values to your channel,0.829976737499
dnsr03,cstapels said can you post some sample field values and the condition you have set u00a0 i just set up a pair of reacts to trigger on field1 and field 2 of my test channel my reacts were set to trigger each time the condition is met u00a0 it has a numeric condition to trigger a tweet when field1 is greater than 100 and another that triggers a tweet when field 2 is greater than 30 u00a0 i used the rest api to write to the channel with a get https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 110 field2 333 and both tweets were posted within the same second u00a0 are you posting from a device or from a web server u00a0 it may also help to show us the format you are using to post values to your channel u00a0 u00a0i was getting the data from a sensor on an arduino board doing pretty much the same thing you described with one react to tweet when field1 was greater than 28 and the other react to tweet when field2 was greater than 50 but for some reason sometimes only the react for the field1 was tweeting and the second one not even when the condition for the react of field2 was reached but your answer solved my doubt i will do more tests and see whats happen u00a0thanks,0.846397221088
RPAWx,in thinghttp i am attempting to send a single sms through twilio to two numbers in the body i usedfrom 12345678910 to 12345678910 12345678910 body sms messagebut did not work can i send to two numbers if so what is the correct format or do i need separate react and thingshttp for each thanks,0.219939678907
martinknutson,i have an existing arduino project implemented with xively originally pachube and then cosm u00a0 the free version of xively is going away so i am reimplementing in thinggspeak u00a0 i have the data uploading successfully to a channel but i am having a devil of a time getting the react to post successfully from thinghttp to zapier which i use for generating asynchronous email updates has anyone successfully created a thinghttp that will trigger a zapier webhook u00a0 i have tried eliminating the react and just triggering the thinghttp using timecontrol and i still do not get the put to zapier successfully,0.799095988274
martinknutson,martinknutson said i have an existing arduino project implemented with xively originally pachube and then cosm u00a0 the free version of xively is going away so i am reimplementing in thinggspeak u00a0 i have the data uploading successfully to a channel but i am having a devil of a time getting the react to post successfully from thinghttp to zapier which i use for generating asynchronous email updates has anyone successfully created a thinghttp that will trigger a zapier webhook u00a0 i have tried eliminating the react and just triggering the thinghttp using timecontrol and i still do not get the put to zapier successfully u00a0 u00a0and of course 15 minutes later it starts working u00a0 i spent some time debugging with curl but in the end i am not sure what made it work,0.812912464142
Hans,the best kind of problem to fix i am happy that it is working now welcome to thingspeak,0.792575120926
joe13varsamis,could you explain how you fixed this because i am having the same problem,0.081554710865
Metawatch,must be in a parallel universe also a former pachube cosm xively user trying to pass web hook to rapier this thread will be used countless time if you document what you did to fix it,0.5
lelopa,hi i am new to thingspeak and i am now struggling with the thinghttp u00a0i am sending a http get request to receive data for my esp8266 so far everything is working perfectly well my problem is that i need the data in the json format where can i specify that thingspeak gives me a json format back to my get request what do i have to type into the content type field thanks for your help,0.771082997322
cstapels,generally the http requests end in the format you need before the parameters u00a0 thingspeak supports json and xml for most endpoints u00a0 some of them also support txt and csv for examplehttps api thingspeak com channels 12345678910 feeds json api_key xxxxxxxxxxxxxxxx results 2 will return 2 results from a private channel in json format https api thingspeak com channels 987654321 fields 6 xml days 2 location truewill return 2 days of results from field 6 of channel 987654321 up to 8000 entries and include location information as long as the channel is public for get requests you do not need content type u00a0 if you need to include that header you can usually specify u00a0application x www form urlencoded unless you are using bulk update have a look at the rest api documentation for more info,0.5
buhh1231,is it any way to edit my json channel feed output in thingspeak,0.775372862816
cstapels,can you describe what you see and that you would like to see u00a0 there are many parameters available have a look at the get a channel feed doc,0.912358641624
kim,hi i have the thingspeak plot below working but i want to fix the scale of the y axis as u00a0 0 to 6 i believe ylim does not work with thingspeakplot and see from previous posts the suggestion to use plot instead but just cannot seem to get it to work any help would be appreciated thankskim fence1data time thingspeakread readchannelid fields fence1fieldid numpoints 30 are adkey readapikey fence2data thingspeakread readchannelid fields fence2fieldid numpoints 30 are adkey readapikey thingspeakplot time fence1data fence2data legend fence1 fence2,0.109983235598
cstapels,you can set the axis to custom values using the pencil icon on your thingspeak plots u00a0if you want to do it in the code use plot instead of thingspeakplot you will be able to use ylim u00a0as you suggested u00a0 for the case you describe above use ylim 0 6 for the plotting i suggestplot time data1 time data2 and then see the documentation for legend to add a legend let us know if that works,0.811009764671
Mike Teachman,i tried out u00a0the new mqtt capabilities using micropython on esp8266 u00a0with micropython it is possible to quickly get mqtt working with thingspeak in case others would like to try this here is the micropython implementation u00a0https github com miketeachman micropython thingspeak mqtt esp8266https thingspeak com channels 201512,0.800386548042
Hans,this is awesome thanks so much for sharing your project with us and the rest of the community,0.987602174282
Mike Teachman,updates added example code for subscribing to a thingspeak channel fieldupdated the example code for publishing data u00a0to a thingspeak channelhttps github com miketeachman micropython thingspeak mqtt esp8266,0.5
MTBHuw,hi i am very new to thingspeak but i have got a distance sensor working with an arduino uno ethernet w5100 card and it is sending distance data nicely to a channel on thingspeak i want to create a thingspeak app that will read this data and convert it to a volume after defining some tank measurements i think i have managed to create this as it returns a volume when i run the app but it only gives me this one reading on the app output and channel graph it does not update is there an obvious reason for this,0.725891768932
cstapels,you can use a time control to schedule your code to run at regular intervals u00a0 if the output of the code is written to a channel the regular thingspeak plot for your channel field data will be updated as often as the time control runs u00a0 have a look at the second part of the getting started tutorial analyze your data u00a0 the part at the bottom talks about scheduling your code u00a0 let us know if that is the result you are looking for welcome to thingspeak,0.863906025887
MTBHuw,that perfect thankyou i think it works it has returned a few 5 minute interval readings to the channel now i feel a bit very stupid as i saw the option for scheduling but glossed over it as i assumed the channel would run at the same frequency of readings as the one i am reading off thanks for the help,0.759012281895
wheato22,thingview is a quality android app with excellent support from the author u00a0 the current iteration of thingview provides an accurate u00a0 visualization of you thingspeak channel public view i have both views running on my android device and have found one glitch with multi day visualizations of my private channel the author has indicated he is working on an update to make private view better in my opinion thingview is a best of breed app for visualizing my public channel 90870 with a simple arudino sketch 50 instructions a ethernet shield a pulse output water meter sub meter in my case and a hardware debounce circuit my channel is updated every minute with a water flow count zero if no flow and a total flow month to date no more 500 water bills for me thanks to thingspeak and thingview on my android devices,0.866201162338
ellivna,the android version of app is available for free on appvn store you just need to download appvn apk to download this app on your android devices download apk file and install it like normal apk file,0.855828285217
ellivna,is there any android version of app,0.2438339293
Llaves,i have an app containing a plot where the relevant part looks like days some datetime caldays 0 9 thingspeakplot days transpose lows highs the resulting plot has x axis labels thurs 26 fri 27 sat 29 oct 29 mon 30 tue 31 november thur 02 fri 03is there any way to force the labels to all be of the form mm dd thanks,0.5
cstapels,you can use the wide array of matlab plotting functions with a matlab visualization app on thingspeak to set up your custom visualization learn more about matlab plotting functions with examples u00a0 u00a0for example you can try using plot and xtickformat plot days transpose lows highs xtickformat mm dd,0.801840782166
maxtrix7,hi is it possible to create an app that the first time executes create a new channel from a given parameter in a text or argument the next executions the app check if the channel was created if it was created post the information in that channel,0.810998857021
cstapels,you can use the rest api to create a channel u00a0 you will need a user api key once your channel is created you could list all channels of a user using that same api key then update the channel feed with your data you can see examples on updating a channel from a device in the examples section,0.767286300659
garfieldpai,hi all u00a0 u00a0how can i forward the following http post request using thinghttp span class pln post span span class pun span span class pln http span span class pun span span class lit 1 1 span span class typ host span span class pun span span class pln localhost span span class pun span span class lit 8000 span span class com request_method postcontent type multipart form data boundary 9051914041544843365972754266content length 554 9051914041544843365972754266content disposition form data name text text default 9051914041544843365972754266content disposition form data name file1 filename a txt content type text plaincontent of a txt 9051914041544843365972754266content disposition form data name file2 filename a html content type text html lt doctype html gt lt title gt content of a html lt title gt 9051914041544843365972754266 span,0.793837785721
Alvaro95,hisince last week my visualizations have disappear from the charts although the matlab codes have not any coding errors i want to know how i could solve it and if anyone has the same problem thanks,0.0888507962227
chrissaxon,i have exactly the same problem on all my computers at different locations even on my smartphone 4 maybe the guys at thingspeak have made some bad changes to their code,0.202804297209
machadomiguel,same here i have the same problem for the last couple of weeks how can we report this to thingspeak team do they read this,0.132692784071
Vinod,thanks for reporting this we are aware of the issue and working on a fix that would not require any changes on your part note that the issue only affects the visualizations generated by the visualization functions thingspeakplot thingspeakplotyy etc if you have matlab visualizations using the functions such as plot plotyy scatter etc they should not be affected thank you for your patience as we work to resolve the issue,0.1651468575
machadomiguel,great thanks let us know,0.996881842613
Vinod,a fix was deployed earlier today that restored full functionality everything is working as documented please let us know if you are still seeing any issues,0.206550121307
machadomiguel,it working thanks you,0.93783056736
irasch,i have an arduino app that been working since november 2016 nothing changed as of a few weeks ago calls via thinghttp are no longer going to tropo my setup is name troposendsmsapi key xxxxxxxxxxxxurl https api tropo com 1 0 sessions action create token 039 dchttp auth username http auth password method postcontent type application x www form urlencodedhttp version 1 0host https api tropo combody phone number msg message parse string created 2016 11 24 12 40 pmthe arduino code is and seems to work fine u00a0 u00a0 u00a0 if client connect server 80 u00a0 u00a0 u00a0 u00a0 client print get apps thinghttp send_request api_key u00a0 u00a0 u00a0 client print apikey u00a0 u00a0 u00a0 client print number u00a0 u00a0 u00a0 client print number u00a0 u00a0 u00a0 client print message u00a0 u00a0 u00a0 client print message u00a0 u00a0 u00a0 client println http 1 1 u00a0 u00a0 u00a0 client print host u00a0 u00a0 u00a0 client println server u00a0 u00a0 u00a0 client println connection close u00a0 u00a0 u00a0 client println u00a0 u00a0 else u00a0 u00a0 u00a0 u00a0 serial println f connection failed u00a0 running the program results in setting up ethernet my ip address 192 168 1 134sending smshttp 1 1 200 okcontent type text html charset utf 8content length 0connection closestatus 200 okx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800cache control no cachex request id 555138d5 1936 42f6 815c 2c58bf4469cfx runtime 0 066313x powered by phusion passenger 4 0 57date mon 04 sep 2017 15 50 16 gmtserver nginx 1 9 3 phusion passenger 4 0 57but no call actually gets to tropo u00a0any idea why this stopped working u00a0,0.5
irasch,hi i found a thinghttp app that will allow me to send sms messages through twilio from an arduino the instructions to set it up are below and it works copy the following data into the fields where italics and caps you must replace with the data from twilio name it twilio send smsurl is https api twilio com 2010 04 01 accounts your twilio account sid sms messageshttp auth username is your twilio account sidhttp auth password is your twilio auth tokenset the method to postcontent type is application x www form urlencodedclick remove headers and leave host blankbody from your twilio number to number body message click save thinghttphowever i would like to use tropo instead of twilio u00a0does anyone know how i would set up the thinghttp app for tropo instead of twilio thanks u00a0,0.5
Vinod,assuming you have a tropo url like this https api tropo com 1 0 sessions action create token your_tropo_token_here you can u00a0create a new thinghttp and u00a0set the url parameter of the thinghttp to the string above and hit save now you have a thingspeak url you can hit like u00a0https api thingspeak com apps thinghttp send_request api_key your_thingspeak_api_key u00a0and it should trigger tropo my recommendation is to first test your tropo link to confirm it works then code it into a thinghttp,0.5
irasch,i have made a little progress but still have a problem if i set up the choreo like this u00a0name troposendsmsapikey xxxxxurl https api tropo com 1 0 sessions action create token tropokey phone 6095551212 msg test2method getcontent type u00a0application x www form urlencodedhttp version 1 0host https api tropo combody does not matterit works but since the phone number and message text are up in the url i can not substitute for them so i try to put them in the body u00a0name troposendsmsapikey xxxxxurl https api tropo com 1 0 sessions action create token tropokey method getcontent type u00a0application x www form urlencodedhttp version 1 0host https api tropo combody u00a0 phone 6095551212 msg test2it fails u00a0when i look at the tropo error it says that a phone number is not being provided u00a0 i know that in the body area i can make substitutions for the phone number and text but for now i am keeping it simple until the choreo works any idea why moving the phone and message from the url to the body fails u00a0thanks u00a0,0.5
Vinod,it could be because of some parsing of the character try replacing them with amp that said the right solution is the body substitutions,0.824245154858
irasch,do you know if the body portion is appended to the url when thingspeak makes the request to tropo or does the body go in a separate send u00a0thanks,0.313838660717
irasch,i was able to get this working by changing thinkspeak from get to post apparently when tropo receives via post it checks the body for the info thanks u00a0,0.774879217148
Vinod,happy to hear you got it working would u00a0you be interested in writing a blog post like the ones on http community thingspeak com on how you use tropo and thingspeak for your application i am sure other members of the thingspeak community can learn from your success,0.983602643013
irasch,my app has been working fine since november 2016 then on august 16 it stopped working it does not appear that the request is going through to tropo nothing at all changed any idea what might have happened thanks u00a0,0.113298863173
mogwaiz,hi all i am trying to fetch some weather data from this site http herlev vejret dk i have found the path for the temperature id ajaxtemp but all i get is 1 what am i doing wrong hope you can help me mogwaiz,0.230418354273
jteindl,in my javascript i have a number of variables as shown u00a0stop new google maps latlng 59 093914487013 122 71569423377514 waypts push location stop stopover true u00a0the line in bold u00a0is what i need help with i have data transmitted to thingspeak i have an api that allows me to select the exact value to query what i need to know is how to use a get statement or anything that would work to have that stopover u00a0line be true or false based on the result so if the result queried by the api is over 8 it true if it under it is false u00a0the api line looks like this u00a0 u00a0get https api thingspeak com channels fields 1 json results 2so how do i set that bold u00a0field to query this and either be true or false based upon the result of this query u00a0if you need any more info please reply and i can fill in any blanks but i am reallllly needing some help here u00a0thank you u00a0,0.232953816652
kots,hello i would be really gratefull if anyone knows how to connect loriot network server with thingspeak for the gateway connected to loriot i am using rpi 3 and ic880a concentrator thank you in advance u00a0,0.95643556118
rushanarshad,hello guys u00a0i am getting data from flow sensor and i want to calculate and display total liquid recorded for a day and for a specific hour how can i do that using matlab visualizations or analysis or any thingspeak apps u00a0thank you and i look forward to some great suggestions best regardsrushan,0.922165632248
cstapels,added some suggestions u00a0here,0.953547120094
Proj_A,hi we are students that are quite new to this so pls feel free to correct us u00a0we have connected react to thingtweet and prowl via thinghttp here are the problems we face u00a01 for thingtweet we want to trigger a status update on data insetion on twitter if our data meets a certain criteria however it only triggers once even after putting trigger at the action2 i have followed the instruction for push updates using prowl and thinghttp but i do not get any notification from prowl on my phone whenever the data meets the criteria u00a0 u00a0i do not know whats wrong why i do not get repititve notification pls help,0.820485234261
jteindl,i want to use thinghttp with react to monitor my sensors when a value is exceeded what i need to figure out is a way to integrate it into my mapping application which is java and html i have sensor locations in my html which lets you select them and run a mapping function so it uses waypoints to give the most efficient route but i want to add a condition on the sensor locations so that it is automatic when a threshold is exceeded it will automatically add the waypoints skipping any that have not u00a0below is the html i am a bit new to all of this is it the html where i would add the dependency or is it the java on all of the listed waypoints i need something to tell it to only give the options that meet the value defined u00a0 starting location wm head office waypoints ctrl click or cmd click for multiple selection bin1 bin2 bin3 bin4 bin5 bin6 end wm head office div replace the value of the key parameter with your own api key https maps googleapis com maps api js key aizasyckuodz5y7hmm0yrccqocvlwzdm6m8s5qk callback initmap,0.75577545166
rw950431,thinghttp has a very limited ablitity to customise whats sent to the other webservice so your application may require additional code to translate properly u00a0how do you expect to map sensor values to waypoints u00a0 it seems there is a layer of logic there that thinghttp alone may not be able to do on its own,0.128980249166
ardlab,using 10 x esp8266 everything went well to update 10 channelssuddenly channels 4 5 and 6 refuse to update other channels keep working u00a0 u00a0anybody any idea any help is appreciated replace with your channel thingspeak api key string apikey keqhbl3fshlmuhkx de krook demo by ardlab string apikey in3wr18mw3bhjho kanaal 1 string apikey m6nsj2gxhjm4ig2b kanaal 2 string apikey katjxfeh3ey3yu5f kanaal 3 string apikey nvqos01drdp9a1b4 kanaal 4 does not work string apikey hf55asaxryxjoldw kanaal 5 does not work string apikey z2apohpdtoei9aip kanaal 6 does not niet string apikey w2pqlmpl739n516c kanaal 7 string apikey hurinr4drxgvil1t kanaal 8 string apikey gxjroht3819dytss kanaal 9 string apikey ti3npoabsdiyizuf kanaal 10 string apikey l6kpq7f069305e23 kanaal 11 string apikey 8neczls4vm90xq12 kanaal 12,0.757681369781
rw950431,so you are using 10 seperate esp8266 boards to update 10 seperate channels u00a0are you able to update the problem channels from your web browser theres a sample url on the data import export tab you can copy u00a0if not what error codes are returned,0.122956067324
ardlab,i successfully uploaded a csv formatted file so the channel still works but now i realise i messed up u00a0i deleted channels and created new ones and i think i used the read api and not the write api to upload data u00a0not at home right now so i cannot test but i think the problem is solved i do use 10 times esp8266 i will be giving a workshop on iot and each participant will use its own esp8266 for testing purposes it a cluster attacthed to 10 port usbhub,0.185548067093
nimdixon@gmail.com,i have a channel with 3 fields each field will either store a 1 or a 0 so true or false effectively field 3 is a logical and of field 1 and field 2 using the matlab analysis app what i want to do is update field 3 everytime either field 1 or field 2 gets a new value but i can only seem to set up one are act that reacts to either field 1 data insert or field 2 data insert but not both any work arounds or advice would be greatly appreciated u00a0thanks,0.706853270531
cstapels,you could use a fourth field put data in field 4 each time you update field 1 or field 2 u00a0then trigger your react on field 4 with new data and have your matlab analysis check for data in field 1 or 2 and update field 3 based on the data check in your analysis app you could do something similar to thisdata thingspeakread yourchann fields 1 2 add read api key if necessaryif isnan data 1 data 1 0 endif isnan data 2 data 2 0 endvalue data 1 data 2 thingspeakwrite yourchannel value fields 3 writekey writeapikey,0.5
py2alc,somebody know how i change for hpa u00a0 u00a0http www instructables com id solar powered wifi weather station u00a0hpa is more used in aviation for qnh u00a0my channelhttps thingspeak com channels 266412,0.5
mun,hidoes anyone know if it possible to send a http request or alert of some form if a data point is not recorded within a certain period i would like to receive an alert if my device fails to log a data point thanks,0.820242166519
Hans,yes we have an app called react react has an option to check your channel for no data inserted within a selected time frame this will execute a thinghttp request when the condition is true u00a0,0.895985364914
mun,great i will give it a try thanks,0.98121881485
mun,i have given react a try but it does not seem to make the http request as expected here are my settings u00a0the channel has no data submitted at all but should not the http request still be made i have already tested the thing http app which works fine u00a0thanks,0.204528748989
paul,just opened forum to check if anyone has u00a0issue with no data check and here you go for me it stopped working about a week ago tried to recreate react but no success so far u00a0maybe there is some issue on thingspeak edit i tried to change timings a bit and react worked now,0.0756885707378
mun,mine still refuses to make the http request so i am not sure what is happening,0.0462617874146
cstapels,hi mun are you able to trigger the thinghttp from a browser or postman the syntax is u00a0get https api thingspeak com apps thinghttp send_request api_key thinghttp_apikeythe react settings look appropriate you could try increasing the test frequency or decreasing the update time just to see if it goes,0.769365429878
mun,cstapels said hi mun are you able to trigger the thinghttp from a browser or postman the syntax is u00a0get https api thingspeak com apps thinghttp send_request api_key thinghttp_apikeythe react settings look appropriate you could try increasing the test frequency or decreasing the update time just to see if it goes u00a0 u00a0hi u00a0yes i can trigger the thinghttp perfectly i have tried various test frequencies already though is react meant to be stable,0.784652590752
cstapels,mun i was able to reproduce the problem and the team is looking into it u00a0thanks,0.0585765838623
cstapels,the problem with react on no data has been fixed i have tested the condition and it now works again for me can you go ahead and test it and let me know if your thinghttp is called by the react when there is no data u00a0,0.208897471428
ajaysaini,hi i have created one channel in which i am sending adc value from esp8266 and logging it to thingspeak alright it is working well i have created one react http imgur com a gtoea where i mentioned to trigger a thinghttp on meeting one condition if adc value is greater than 20 then action is thinghttp and perform this action http imgur com a ohoevif you see my channel http imgur com a wqtoz adc value is always greater than 20 that means it should react everytime as according to this it should perform an action which i defined in thinghttp so i am not sure if it is hitting thinghttp action get https api thingspeak com apps thinghttp send_request api_key my_keycan anyone suggest how i can check this if react is hitting an action or not i have this understanding that on meeting a condition it should call this url https api thingspeak com apps thinghttp send_request api_key my_key automatically please correct me if i am wrong,0.940181851387
cstapels,you could test your react by using your thinghttp to write to a thingspeak channel u00a0use the instructions https www mathworks com help thingspeak update channel feed html to set your thinghttp to publish to your channel be careful with the two different api keys u00a0have the thinghttp post a unique value to your channel url u00a0https api thingspeak com updatemethod postheaders name content typevalue application x www form urlencodedbody api_key the_write_api_key field1 12345 be sure to include the ampersand then use your browser to trigger it https api thingspeak com apps thinghttp send_request api_key thing_http_api_keyonce you see it worked change the value 12345 and see if it gets triggered from the react you might have to wait ten minutes,0.5
daniliwar,you can get data into a channel from a device website or another thingsspeak channel i am newbie and i need help sentence above written on thingspeak how you can get data from other channel from thingspeak,0.784506380558
rw950431,you can fetch it using the web api see docs at https au mathworks com help thingspeak get a channel feed html u00a0 the complete url with all keys filled in is on the data import export tab of your channel or use the thingspeakread function in a matlab analysis,0.5
daniliwar,thank you i will try that hmm and one more problem can i download channel in thingspeak with my localtime cause i always get utc time and i am getting tired of change to my localtime every feed that i downloaded u00a0,0.190770000219
rw950431,from this docco link i sent to you earlier u00a0timezone string identifier from time zones reference for this request optional u00a0as shown in the example you have to url encode the timezone name,0.751239180565
daniliwar,thank you for your help now i can get 100 data with my timezone and i get new problem is how to specify data based date and time that i need with my timezone i try https api thingspeak com channels 129650 feeds csv start 2017 01 10 2005 47 39 end 2017 01 10 2011 00 02 timezone asia 2fkuala_lumpurcan i combine 2 parameter timezone start and end,0.691616714001
duongthanh3327,hi all i want to use thinghttp to notification on facebook i find this https developers facebook com docs games services appnotificationsand i configured my thinghttpurl https graph facebook com v2 9 recipient_userid notifications access_token appaccess_token template hello world method postremove headersothers is default when i request this responsed is 1 request failedbut when i try it on postman same it work and notification on my facebook u00a0help me pleasethank you duongthanh,0.5
rw950431,did you try get instead of post for the method u00a0you may also need to urlencode some of the characters in your string such as the comma space and exclamation mark perhaps just try with template hello for a start,0.5
duongthanh3327,rw950431 said did you try get instead of post for the method u00a0you may also need to urlencode some of the characters in your string such as the comma space and exclamation mark perhaps just try with template hello for a start u00a0thanks rw950431 access_token certain it reason i try 7c instead of and it work,0.5
irproject,hii succeeded send data from a sensor by arduino uno esp8266 to my thingspeak channel now i want to send back data from my channel to arduino uno can i u00a0use u00a0thinghttp help u00a0 tnx,0.771659612656
kelle333,hey i want to creat an matlab analysis app to upload a csv data from my computer periodically to my channel but i failedi tried to read my data in using textread filepath data csv but i always get error file not found u00a0can someone help me with the code how can i read my csv file in using matlab analysis app,0.201350241899
Vinod,the matlab that is running on thingspeak is running in the cloud that matlab cannot access u00a0files in filepath can you tell me more about how this csv file is being generated perhaps the best solution is to have watever process generates the csv file automatically post the data to thingspeak using the reat or mqtt apis,0.5
kelle333,thanks for your reply i allready figured the problem out for myself and wrote an matlab code on my local pc with an timer and thingspeakwrite,0.890756905079
wayzata08,hi y all u00a0i am pretty new to this stuff and u00a0i feel i have done a pretty exhaustive search trying to get this to work but please point me in the right direction if there a post resource that i have overlooked background i am setting up some air quality monitors that will be broadcasting to various thingspeak channels with data about regional concentrations of different pollutants u00a0eventually i want local residents to be able to tweet something like twittercontrol mytrigger what is the air quality at site x and for twittercontrol to see that pass it onto a thinghttp that writes the text to a channel to be parsed by a matlab analysis and then basically reverse that process to fetch the most recent data from a channel and tweet it out via the thingtweet app possibly even tweeting back them u00a0anyway at thist point i can not get the twittercontrol tutorial to work right off the bat u00a0are there other fields that need to be edited u00a0here how i have everything set up tweetcontrol anonymous box checked trigger is defined i will call it wayzata08 for this example thinghttp action is selected thingspeak channel updater thinghttp name is thingspeak channel updater w o quotes url is http api thingspeak com update w o quotes content type is application x www form urlencoded w o quotes http version is 1 1 body is api_key 6jxmegbf70xxxxxx field1 trigger status status i have obfusicated the api key but everything else is identical u00a0all other fields are blank u00a0 u00a0can anyone help me figure out what is going on u00a0this seems really straightforward but the channel does not update when i tweet something like twittercontrol wayzata08 test 123 u00a0thank you,0.862766861916
Hans,wayzata08 said hi y all u00a0i am pretty new to this stuff and u00a0i feel i have done a pretty exhaustive search trying to get this to work but please point me in the right direction if there a post resource that i have overlooked background i am setting up some air quality monitors that will be broadcasting to various thingspeak channels with data about regional concentrations of different pollutants u00a0eventually i want local residents to be able to tweet something like twittercontrol mytrigger what is the air quality at site x and for twittercontrol to see that pass it onto a thinghttp that writes the text to a channel to be parsed by a matlab analysis and then basically reverse that process to fetch the most recent data from a channel and tweet it out via the thingtweet app possibly even tweeting back them u00a0 anyway at thist point i can not get the twittercontrol tutorial to work right off the bat u00a0are there other fields that need to be edited u00a0here how i have everything set up tweetcontrol anonymous box checked trigger is defined i will call it wayzata08 for this example thinghttp action is selected thingspeak channel updater thinghttp name is thingspeak channel updater w o quotes url is http api thingspeak com update w o quotes content type is application x www form urlencoded w o quotes http version is 1 1 body is api_key 6jxmegbf70xxxxxx field1 trigger status status i have obfusicated the api key but everything else is identical u00a0all other fields are blank u00a0 u00a0 can anyone help me figure out what is going on u00a0this seems really straightforward but the channel does not update when i tweet something like twittercontrol wayzata08 test 123 u00a0thank you u00a0 u00a0try tweetcontrol instead of twittercontrol u00a0 u00a0 thingspeak also works u00a0 u00a0let us know if that helps u00a0,0.852264642715
wayzata08,hans said try tweetcontrol instead of twittercontrol u00a0 u00a0 thingspeak also works u00a0 u00a0let us know if that helps u00a0 u00a0 u00a0hi thanks for getting back so quickly u00a0i tried u00a0the following combos and the channel still shows no updates tweetcontrol wayzata08 u00a0test 2 tweetcontrol wayzat08 test 2 thingspeak wayzat08 u00a0test 2i also set the channel to make public and made sure that the how status box was selected,0.918582677841
Hans,okay let try a few things the quotes around your api key are not needed make sure post is selected in the thinghttp settings,0.5
wayzata08,hans said okay let try a few things the quotes around your api key are not needed make sure post is selected in the thinghttp settings u00a0 u00a0looks like that did it u00a0it was the quotes around the api key that seem to have caused the issue,0.700201869011
alex_laco,hello i want read data from site but i must login on this site it some way how do this u00a0thank you,0.818995058537
Hans,some sites allow for basic authentication thinghttp supports basic auth if you support a username and password to the thinghttp settings,0.5
helio58,hi trying to setup a chart with dewpoint it works but with wrong result my temperatur is in c but it thinks its fis there a way to change this maybe something i missed thanks,0.182529568672
cstapels,the analysis and visualization apps provide prepoulated code examples for converting from c to f and vice versa when you click to add a new item https thingspeak com apps matlab_analyses templatesare you using the mathworks weather station or your own temperature data u00a0the mathworks temperature data is in f but the tutorial https www mathworks com help thingspeak analyze your data html shows some steps for converting as well if you can provide your visualization code it may be easier to spot the problem cj,0.745656251907
helio58,thanks i sort it out missed one f,0.20800575614
kelapuress,i am trying to plot per second graph on my channel how should i set my channel u00a0please help,0.171923458576
Hans,paid licenses of thingspeak allow for a 1 second update rate here are the license options https thingspeak com prices,0.5
popunonkok,can i generate 1 year graphs i some way if i have 60 sec between datapoints u00a0i have read about the 8000 points limit does that include if i generate the draphs using thingspeak apps u00a0,0.5
SilverNodashi,subscribing as i would like to do the same ud83d ude09,0.806706130505
Vinod,you can use the matlab visualization app to create custom visualizations u00a0you would use thingspeakread to pull data in from your channel specifying the date range for which you need the data then use matlab to apply algorithms to the data such as outlier removal decimation etc and finally use the thingspeakplot function to u00a0visualize the data does this meet your needs,0.706333458424
popunonkok,im using the example plugin chart with multiple series 1 iv added another datafield so i have 3 fields plotted i have now embedded this graph in my webpage but can not find a way to change the with of the graph 425px feels small on the page i have read that one can not change the width on the thingspeak webpage but that cant be the case on an embedded graph right i love thingspeak and the original graphs with mousover effect on the data points is really nice and clean u00a0 peter,0.190650463104
Vinod,hi peter thank you for the feedback you can use the height and width parameter to change the u00a0size of the u00a0graphs of u00a0a single time series for example https thingspeak com channels 9 charts 1 height 800 width 800 u00a0it sounds like you are looking for the ability to do this on some of the plugin data like the chart with multiple series one we will u00a0look into this u00a0feature request for now u00a0if you used a matlab visualization app to make your plots you could resize it see example below https thingspeak com apps matlab_visualizations 130578 height 800 width 800i essentially have a matlab visualization that is pulling data from a channel using thingspeakread and plotting it using the thingspeakplot function does this workaround work for now,0.770304441452
VanKurt,i have set up a thinghttp timecontrol these grab a value from a website every hour using the parse string this works very well ud83d ude42but how do actually use this value for example i would like to store it in one of my channels is this possible what else can i do with data read by thinghttps,0.893937468529
rw950431,there is no direct way of doing this even though its an obvious thing to do it seems that thinghttp was originally designed to allow a microcontroller with limited resources to easily extract data from a web page even one that is https or otherwise too complicated it can now be done with a matlab analysis script set up timecontrol to trigger the matlab analysis use webread to poll your thinghttp and the included thingspeakwrite to update the channel you may have to do a little massaging of the data in between i dont claim to be a matlab expert,0.200040787458
Vinod,here are steps for anyone looking to try this set up a thinghttp app to read the data u00a0create a new matlab analysis app with this code u00a0val str2double webread https api thingspeak com apps thinghttp send_request api_key insert_api_key_of_thinghttp_from_step_1 mychannelnum put_channel_number_here mychannelapikey put_channel_write_api_key_here thingspeakwrite mychannelnum val writekey mychannelapikey when you u00a0execute this matlab code you should see your data inserted into your channelcreate a new timecontrol app that runs the matlab analysis app in step 2 at a certain schedule u00a0 u00a0sit back and watch as your channel is populated on schedule u00a0with data from your device website u00a0,0.5
josephny,struggling to get my first thingtweet out u00a0using an esp8266 shield on a mega with softwareserial and this code is not working what am i not seeing that right in front of my eyes u00a0tsdata api_key blahblahblah status working u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 espserial println post apps thingtweet 1 statuses update http 1 1 u00a0 u00a0 u00a0 u00a0 espserial println host api thingspeak com u00a0 u00a0 u00a0 u00a0 espserial println connection close u00a0 u00a0 u00a0 u00a0 espserial println content type application x www form urlencoded u00a0 u00a0 u00a0 u00a0 espserial print content length u00a0 u00a0 u00a0 u00a0 espserial println tsdata length u00a0 u00a0 u00a0 u00a0 espserial println u00a0 u00a0 u00a0 u00a0 espserial println tsdata u00a0thank you joseph,0.104732871056
rw950431,based off https github com iobridge thingspeak arduino examples blob master ethernet arduino_to_thingtweet ino it seems u00a0do you see anything printed out in return u00a0error messages or other stuff u00a0does your thingtweet work from another source you can use something like chrome postman extension to test from the browser u00a0any reason you choose softwareserial on the mega when you have 4 real serial ports to play with u00a0using the real thing is always more reliable,0.5
of.tecnica,hi i have configured a react for a temperatur field greater than 19 u00bac in the options i have configured run action only the first time the condition is met but when the temperature is greater than 19 u00bac it activates the react each time data is inserted it looks like run action each time condition is met is marked but not thanks,0.805802464485
Vinod,thanks for reporting this it appears to be a bug we will look into resolving this shortly,0.842362880707
of.tecnica,any news about this issue,0.0415406823158
Vinod,it turns out the run action only the first time the condition is met react has a built in reset mechanism here how u00a0the reacts with run action only the first time the condition is met actually works let say you have configured a react to run action only the first time the condition is met that uses the thingtweet app to tweet something when channel 99999 field1 value is above 100 the react will be fired the first time the value exceeds 100 any continuous subsequent values posted to the field1 of channel 99999 that are above a 100 do not trigger the react the first value that is below 100 will reset the react condition such that a subsequent value above 100 will trigger the react if channel 99999 field1 was u00a00 1 2 8 9 100 101 102 103then the react would be triggered once if channel 99999 field1 was u00a00 1 2 8 9 100 101 102 u00a099 103then the react would be triggered twice the idea behind this is say you wanted to be notified when u00a0your u00a0smoke alarm went off however you do not want to be u00a0alerted continuously until you have reset the smoke alarm when you did reset the smoke alarm it started posting normal values to thingspeak thingspeak would reset the react to now fire when it again got an alarm without you having to u00a0manually change settings on thingspeak i hope the example was helpful u00a0perhaps if you can describe your application i can suggest a good way to do what you want to do,0.746673583984
vdcmclou,hello i am trying to set up a talkback command to be sent regularly to my arduino uno wifi this board essentially what i want to do is sent an email at regularly scheduled intervals and was planning to use commands sent from the talkback app to trigger this command in my board however i am having some trouble with my board interpreting the talkback commands every time i try and read from the api link it comes out as a stream of garbage i have checked my baud rate and made sure that is correct i only output garbage when i try and print the data u00a0i read in from the site u00a0 u00a0i am using this code i modified from the arduino yun tutorial but i am unsure if it is otherwise correct currently it does not send an email and i am just checking if the talkback command is being interpreted it gets stuck in the client available loop where it prints the garbage data it reads in from the talkback url does anyone have any idea where i am going wrong thank you in advance for your help u00a0 include bridge h include httpclient h include ciao h thingspeak settingsstring thingspeakapi api thingspeak com string talkbackapikey lsiopwa0lqa6gdbt string talkbackid 13350 const int checktalkbackinterval 15 1000 time interval in milliseconds to check talkback number of seconds 1000 interval variable setuplong lastconnectiontime 0 void setup setup on board led pinmode 13 output digitalwrite 13 low delay 1000 digitalwrite 13 high delay 1000 digitalwrite 13 low initialize bridge bridge begin initialize serial serial begin 9600 while serial void checktalkback httpclient client string talkbackcommand char charin string talkbackurl http thingspeakapi talkbacks talkbackid commands execute api_key talkbackapikey serial println talkbackurl make a http get request to the talkback api client get talkbackurl while client available charin client read talkbackcommand charin serial println talkbackcommand delay 1000 turn on off the on board led if talkbackcommand off serial println ucces serial println talkbackcommand digitalwrite 13 high else if talkbackcommand turn_off serial println fail serial println talkbackcommand digitalwrite 13 low serial flush delay 1000 void loop check thingspeak for talkback commands checktalkback delay checktalkbackinterval,0.222231686115
rw950431,perhaps part of the problem is that you are re printing the whole string every time you add a new character so if the talkback response is abc your code will print u00a0aababcsuggest something like u00a0 based on the arduino httpclient docco while client available u00a0 u00a0 charin client read u00a0 u00a0 talkbackcommand charin serial println talkbackcommand,0.942681312561
djshah95,hi u00a0i am having problem parsing a google document form response u00a0i have a form ready and i have tried copying the xpath of the data which i need from thingspeak thinghttp via google chrome and firefox firebug u00a0the same problem arises for data from my phpmyadmin server i have made a database for my project and i am trying to get that data from thingspeak thinghttp via google chrome and firefox firebug u00a0please help me solve this problem php url http 34 194 161 164 phpmyadmin import php pmaurl 1 sql php db testdb table patient 1 server 1 target token 36c7a84259ab3e9734d961f300d45483 u00a0xpath id table_results tbody tr 1 td 1 span u00a0google doc u00a0url https docs google com forms d 1d4qsnapa0vykwogklmh4oopcmciedwvrndqib9phc s edit responses u00a0xpath id are sponsesview div div 2 div div 4 div 1 div div 2 div div 1,0.251771688461
Hans,interesting application i would try leaving off the xpath part of the xpath u00a0,0.766892492771
djshah95,i tried doing that but there no change in the output u00a0it says error parsing document try a different parse string u00a0as per the error i have tried parsing all other data on the webpage but none of them worked as per my above post i have tried u00a0gettign the xpath via google chrome and mozilla firefox firebug but did not work please help me solving this,0.114945948124
rw950431,i have had the same trouble in the past there seems to be differences in the way different versions of the xpath parser work its also possible that the website you are scraping renders differently when accessed by thinghttp than when your browser loads it i can only suggest that you start with shorter expressions and gradually refine your xpath u00a0i agree with rob that you should leave out the xpath u00a0for example this is the xpath firebug gives me for the timestamp of the latest tweet on someone twitter feed html body div 2 div 2 div div 2 div div div 2 div div 2 div 4 div div 2 ol 1 li 1 div div 2 div 1 small a span 1 u00a0whereas this is the string that actually works in thinghtp span data time 1 u00a0in your case i would start with u00a0 id table_results u00a0 get that to work and then drill down into the structure gradually u00a0,0.152707755566
djshah95,i am new to the xpath thing so would like to ask one thing that for example can i get the data by using xpath from phpmyadmin database u00a0i am getting that error then too i am just entering the url and the xpath in the thinghttp is it anything i need to enter so as to get this thing work u00a0i have a project for which i need to get data from phpmyadmin database u00a0 u00a0and for the google document form i am able to get the data i e the question on thinghttp but i am unable to get the answer for e g medicine name is my question which i am getting it on thinghttp but i am unable to get crocin on thinghttp u00a0error still persists for both google doc form and phpmyadmin u00a0please help,0.130079984665
rw950431,i tried your google forms url and found u00a0 div id are sponsesview div div 2 div div 4 u00a0 u00a0 succeeds but gives an empty element but u00a0 div id are sponsesview div div 2 div div 4 div 1 gives the error message u00a0so perhaps you can work from there i was unable to use class as a selector anywhere on that form u00a0,0.144399166107
iot001,hi u00a0i am hoping someone can help me u00a0i have an esp8266 running espbasic u00a0it has a thingspeak send function and it works like a charm to get data from the iot device to my u00a0channel field u00a0 i want to send this data using time control as part of a https url which has the format u00a0https my zipato com zipato web remoting attribute set serial xxxxxxxxxxx apikey xxxxxxx xxx value1 111using get i can successfully send the value 111 to my zipato com as a manual entry so i know the url works how can i replace the value xxx u00a0so that it contains the actual field value of my channel u00a0i tried to replace the manual value with u00a0 channel_1234_field_1 but this doesnt work i would appreciate u00a0any suggestionsbest regardsbob,0.5
Vinod,you can do this 1 write a matlab analysis app that uses thingspeakread u00a0to read from the channel2 use the webwrite function to write data to zipato3 schedule the matlab analysis app to be run by your timecontrol,0.736134827137
rw950431,there is some evidence to suggest that variable substitution does not occur in get requests where the values are passed in the url u00a0is it possible for you to use the post format instead u00a0otherwise vinod solution looks good if you can find your way around the matlab syntax http community thingspeak com forum thingspeak api thinghttp post to pushingbox pass value fields p2284,0.5
jaza_tom,hello i am finding the reference for thingspeak extremely lacking so i have turned here in exasperation i am using the thingspeakread function to read the most recent value from field 1 of my private channel u00a0the data that this field stores is a string of comma separated values i want to take this list of values parse them and write them to u00a0their corresponding field on a different private channel i own i have the following code data thingspeakread readchannelid are adkey readapikey numpoints 1 fields 1 dataarray strsplit data u00a0if i try and run this code i get the following error message in the output box error using strsplitfirst input must be either a character vector or a string scalar so obviously the data that thingspeakread returned u00a0was not a string u00a0 or character vector as i guess matlab calls it not sure where to go from here is there a way to access this string of values stored in field 1,0.5
Adarsh_Murthy,hi u00a0thingspeakread by default returns data back as a numeric array for your case since the data on the thingspeak channel is a string you should use the outputformat names parameter to request for data back as a table data thingspeakread readchannelid are adkey readapikey numpoints 1 fields 1 outputformat table you will then need to access the data in the table data columnname to apply strsplit function refer to the following link on how to access data in a table https www mathworks com help matlab ref table htmlhttps www mathworks com help matlab matlab_prog access data in a table html u00a0if this does not work share the values stored in the data table and we u00a0might be able to provide additional suggestions u00a0hth,0.5
jaza_tom,thanks for the reply u00a0clearly i have a lot to learn about matlab i now have the thingspeakread function returning a table u00a0it would appear that it thinks the column with the comma delimited strings in it is a variable of type u00a0doublehere is my code read data data thingspeakread readchannelid are adkey readapikey outputformat table analyze data add code in this section to analyze data and store the result in the analyzeddata variable summary data disp testvar data alldata 1 disp testvar disp whos and the output variables timestamps 1 u00d71 datetime values min 01 nov 2016 13 56 35 median 01 nov 2016 13 56 35 max 01 nov 2016 13 56 35alldata 1 u00d71 double values min nan median nan max nan nans 1 nan name size bytes class attributesdata 1x2 1198 table metacl 1x1 8 meta class readapikey 1x16 32 char readchannelid 1x1 8 double testvar 1x1 8 double writeapikey 1x16 32 char writechannelid 1x1 8 double u00a0any idea why i am getting a double instead of a string edit here is the first few rows of the table with headers created_atentry_idfield130 10 16 13 141351477844100 11 13 u00a0 0 78 u00a0 8 73 u00a0 2 14 11 64 u00a0 1 27 14 74 u00a0 3 56 21 95 u00a0 5 41 u00a0 0 00 u00a0 0 00 u00a0 5 01 u00a0 1 22 u00a0 1 08 u00a0 0 25 30 10 16 13 291361477845000 11 15 u00a0 0 84 u00a0 9 39 u00a0 2 33 11 66 u00a0 1 29 15 03 u00a0 3 69 22 85 u00a0 5 66 u00a0 0 00 u00a0 0 00 u00a0 5 02 u00a0 1 23 u00a0 1 07 u00a0 0 26,0.5
Adarsh_Murthy,hi u00a0thanks for sharing the additional info thingspeakread at present does not support the case where a numeric vector u00a0is stored in a single field we will consider this in a future update of the thingspeakread function in the meanwhile to access your data in a matlab analysis app you can use the following lines of code instead data webread https api thingspeak com channels channelid feeds json api_key read_key results 1 mydata data feeds field1 u00a0the data returned from thingspeak will be stored in the variable data as a structure as shown in your previous post since the value of interest is stored in field1 mydata should contain the data of interest note you need to replace channelid and read_key with their appropriate values u00a0let me know if this does not work for you,0.5
mohamedali1993,adarsh_murthy what you recommended works perfectly thank you,0.970899224281
mohamedali1993,i am wondering if anyone tried to visualize data in a time table format on their channel u00a0i am sending strings from an esp8266 and i am reading them in matlab using the timetable output format of u00a0thingspeakread function but i am unable to view the same data table in the actual channel i have seen people visualize their data using google gauges videos regular plots or maps yet i have not seen a regular data chart with regular strings in it u00a0i have found a very useful u00a0web based tool https github com nothans iot debugger that basically does what i want but is there anyway i can integrate it in my channel i do not know html css or javascript i am hoping someone coded a template for the visualization app that prints a data chart to a channel thanks mo,0.763124525547
martin mienkina,hello i have created a matlab plot and want it to be automatically re drawn upon receiving new channel update is there any way to do this please thanks martin m,0.936460733414
lee,hi martin yes you can do this using react https thingspeak com docs react react set with a test frequency of on data insertion lee,0.751699447632
martin mienkina,hi lee thanks for your answer the are act as well as time control can trigger matlab analysis but not matlab visualization script i have not found yet any solution also tried to code my plotting script in a while loop with pause without success i think that what i want to achieve is not implemented or i must be missing something thanks martin m,0.5
lee,hi martin sorry for the misunderstanding yes you are correct that this is not possible we will look into ways of improving this in the futurelee,0.960019111633
martin mienkina,hi lee that would be really great martin m u201cthe future depends on what you do today u201d u2015 mahatma gandhi,0.976047933102
Tesla41,hi are there news concerning this topic i have the same problem u00a0thank you ud83d ude42,0.77292329073
rw950431,quick guide for anyone interested in how to get thinghttp to post to a slack channel afaik the earlier how to using slackbot should still work but i didnt try it first enable incoming webhooks in your slack channel by going to apps and integrations search incoming webhook and click add customisation this allows you to set a default channel for incoming webhooks and some other things u00a0eventually you will get a page containing your webhook address as well as some useful tips u00a0next set up thinghttp similar to below fill it in with your details and it should work u00a0fancier things can be done see https api slack com incoming webhooks u00a0name post to slackapi key thinghttp_keyurl https hooks slack com services slack_key another_slack_keyhttp auth username u00a0http auth password u00a0method postcontent type application jsonhttp version 1 1host u00a0headers u00a0body username thingspeak text omething happened parse string u00a0created 2017 01 10 5 45 pm,0.862035274506
Hans,awesome example thanks for sharing,0.981328129768
Vinod,thank you for creating and sharing the example,0.989142179489
rw950431,should have added that i am evaluating the android slack app for notifications since i am pretty disappointed with the revamped ifttt client which now does not seem to show any of the actual message you send it via the maker channel u00a0was a bit worried about the reports of high battery usage by the slack app but so far 2 days its ok,0.0198175907135
popunonkok,i copy and paste the iframe code from a visualisation that works great on the thingspeak site the page for my channel u00a0 u00a0but when i past the code on my own page the graph dosent show in the expected way on the thingspeak page the graph is the standard blue thin line for a 2d plot but on my page it just shows the standard thingspeak red with dots the colour is not a problem but the time period showing isnt correct either the 2d plot is showing 1 day of data on the thingspeak page but on my page it dosent show a complete day u00a0the iframe code im using iframe width 450 height 260 style border 1px solid cccccc src https thingspeak com apps matlab_visualizations xxxxxx iframe,0.167472571135
akhila,hi u00a0popunonkok u00a0is this a public matlab visualization would it be possible share the matlab code without the channel id or api keys to enable us to investigate this issue further u00a0thanksakhila u00a0,0.793995976448
popunonkok,the way the graph looks at my channels u00a0 page at thingspeak u00a0the way the graph looks in the iframe on my own page u00a0the iframe code snippet iframe width 450 height 260 style border 1px solid cccccc src https thingspeak com apps matlab_visualizations 119501 iframe u00a0the code from matlab visualisation template matlab code for visualizing data from a channel as a 2d line plot using thingspeakplot function prior to running this matlab code template assign the channel id to read data from to the are adchannelid variable also assign the field id within the channel that you want to read data from to plot todo replace the with channel id to read data from readchannelid xxxxxxxx todo replace the with the field id to read data from fieldid1 2 channel read api key if your channel is private then enter the read api key between the below readapikey xxxxxxxx read data data time thingspeakread readchannelid field fieldid1 numdays 1 are adkey readapikey visualize data thingspeakplot time data any help would be appreciated u00a0tanks in advance,0.5
Vinod,let try this 1 create a new u00a0text document and save it as u00a0test html2 in the text document add this html iframe width 450 height 260 style border 1px solid cccccc src https thingspeak com apps matlab_visualizations yourmatlabviznumber iframe html 3 open this up in your browser does this look like you expect u00a0if this does not look like the plot you expect confirm that the plot generated by your matlab visualization is added to your channel and the yourmatlabvisualizationnumber corresponds to the u00a0plot for your channel,0.813625574112
Vinod,here an example matlab visualization that i have made public and inserted into html html iframe width 450 height 260 style border 1px solid cccccc src https thingspeak com apps matlab_visualizations 119981 iframe html,0.5
popunonkok,i dont know what i did but it seems to be working now u00a0i try to ask another question here before starting a new topic u00a0is there a way to tilt the x axis lables 45 degrees on a 2 d line plot when i google i can see that the function exist on matlab but i cant seem to get it to work on the thingspeak plugin page where i enter the code for the plot im also looking to set a min and max value for the y axis in the plot it is easy on the default thingspeak graph but in the code for a plot i cant get it to work i have used the examples that i have found that regards matlab but not thingspeak,0.5
Vinod,you can certainly use the method described in the documentation here http www mathworks com help matlab creating_plots change tick marks and tick labels of graph 1 htmlthis should work for axes generated by plot and similar commands u00a0,0.5
popunonkok,thanks for the reply but that does not seem to work template matlab code for visualizing data from a channel as a 2d line plot using thingspeakplot function prior to running this matlab code template assign the channel id to read data from to the are adchannelid variable also assign the field id within the channel that you want to read data from to plot todo replace the with channel id to read data from readchannelid xxxxx todo replace the with the field id to read data from fieldid1 2 channel read api key if your channel is private then enter the read api key between the below readapikey xxxxxxxxxx read data data time thingspeakread readchannelid field fieldid1 numdays 1 are adkey readapikey xtickangle 45 visualize data thingspeakplot time data it does not generate a error but the xtick lables are straight as an arrow not 45 degrees i also tried with a trailing semicolon with no difference there are lots of stuff i would like to adjust customise number of decimals and time format are 2 things u00a0,0.5
Vinod,i do not expect the xtick label to work with thingspeakplot try matlab plot command instead,0.104233294725
popunonkok,hmmm i just went through the menu apps matlab visualization create a 2d line plot where and how do i find a way to do a matlab plot instead,0.710368692875
Vinod,in the code example you have above replace the linethingspeakplot time data u00a0withplot time data,0.847576141357
Mike Teachman,i was wondering if anything has changed with thingtweet u00a0after many months of continuous operation i am no longer seeing updates in twitter u00a0perhaps related to the updated agreement that was presented two days ago u00a0maybe i need to re link thingspeak twitter or maybe that is just a co incidence and there is a problem with my application any advice is appreciated thanks,0.80222594738
Hans,i just tested my thingtweet and it is working what are you using to post the tweets,0.765817403793
Mike Teachman,thanks for confirming that thingtweet is still working u00a0i took a 2nd look at my arduino ethernet shield code and realized i had made a minor change on monday night in an attempt to claim back some ram space i gave some strings in the thingspeak rest api code the f treatment u00a0i reverted these changes and voila thingtweet is working again for me u00a0,0.5
Luis_Filipe,hello guys u00a0the thingspeak plataform support native mqtt communication between iot devices u00a0can play the role of mqtt broker u00a0thanks in advance,0.5
rw950431,unfortunately not u00a0 its been listed as a feature request for 2 years already http community thingspeak com forum feature requests mqtt bridge,0.5
Hans,we are happy to announce that we added mqtt publish so users can send data to thingspeak channels using the mqtt protocol here a link to the documentation https www mathworks com help thingspeak mqtt api html,0.900492727757
Hans,we have developed a new thingspeak app and it is available now to all thingspeak users the new talkback app allows devices to check thingspeak for commands to execute talkback is perfect for battery powered devices that need to sleep most of the time and wake up to see if there is anything to do and then go back to sleep like a door lock for example the lock is mostly going to be asleep to save battery power but it can way up periodically and check talkback or be woken up by a button press to see if it should be opened or not devices powered by thingspeak and now with talkback will be able to both push sensor data to the thingspeak cloud and check talkback if any commands are available all in one request to get started we have the complete talkback api documentation and an arduino y u00fan tutorial available now talkback api documentation https thingspeak com docs talkbackarduino y u00fan tutorial http community thingspeak com tutorials arduino controlling the arduino yun with talkback,0.771382331848
regis44,hello first thanks for your great job on thingspeak i succeeded turn off on a led with talkbackcommand app and my arduino uno ethernet client mode by updating the command string directly on thingspeak website now i wish update the command string with the apis and a button scripted with html or php on an external personal website could someone give me an example because i tried a lot of things without success like put method seem does not work with an html form thanks for your help r u00e9gis my arduino uno code based on thingspeak tutorials talkback commands must start with _cmd_ include pi h include ethernet h byte mac 0x 0x 0x 0x 0x 0x const string channelsapikey const string talkbackapikey const string talkbackid const string talkcommandid const unsigned int gettalkbackinterval 10 1000 const unsigned int updatechannelsinterval 15 1000 string talkbackcommand const int relaypin2 7 long lastconnectiontimechannels 0 boolean lastconnectedchannels false int failedcounterchannels 0 long lastconnectiontimetalkback 0 boolean lastconnectedtalkback false int failedcountertalkback 0 capteursfloat temperature 0 float humidity 0 float moisture 0 ethernetclient client void setup serial begin 9600 pinmode relaypin2 output digitalwrite relaypin2 high startethernet void loop temperature float analogread a0 100 1023 humidity float analogread a1 100 1023 moisture float analogread a2 100 1023 gettalkback updatechannels if talkbackcommand ledon digitalwrite relaypin2 low if talkbackcommand ledoff digitalwrite relaypin2 high void gettalkback string tsdata tsdata talkbackid commands talkcommandid api_key talkbackapikey if client connected millis lastconnectiontimetalkback gettalkbackinterval if client connect api thingspeak com 80 client println get talkbacks tsdata http 1 0 client println lastconnectiontimetalkback millis if client connected serial println serial println get talkback command serial println serial println connecting to thingspeak serial println serial println serial println erver response serial println failedcountertalkback 0 talkbackcommand while client connected client available delay 1 waits for data while client connected client available char charin client read serial print charin talkbackcommand charin talkbackcommand talkbackcommand substring talkbackcommand indexof _cmd_ 5 serial println serial println serial println disconnected serial println serial println serial print command serial println talkbackcommand serial println serial println else failedcountertalkback serial println connection to thingspeak failed string failedcountertalkback dec serial println lastconnectiontimechannels millis else failedcountertalkback serial println connection to thingspeak failed string failedcountertalkback dec serial println lastconnectiontimetalkback millis if failedcountertalkback 3 startethernet client stop serial flush void updatechannels string tsdata tsdata field1 string temperature dec field2 string humidity dec field3 string moisture dec if client connected millis lastconnectiontimechannels updatechannelsinterval if client connect api thingspeak com 80 client print post update http 1 1n client print host api thingspeak comn client print connection closen client print x thingspeakapikey channelsapikey n client print content type application x www form urlencodedn client print content length client print tsdata length client print nn client print tsdata lastconnectiontimechannels millis if client connected serial println serial println uptade channels serial println serial println connecting to thingspeak serial println serial println erver response serial println failedcounterchannels 0 while client connected client available delay 1 waits for data while client connected client available char charin client read serial print charin serial println serial println serial println disconnected serial println else failedcounterchannels serial println connection to thingspeak failed string failedcounterchannels dec serial println lastconnectiontimechannels millis else failedcounterchannels serial println connection to thingspeak failed string failedcounterchannels dec serial println lastconnectiontimechannels millis if failedcounterchannels 3 startethernet client stop serial flush void startethernet client stop serial println serial println serial println serial println connecting arduino to network delay 1000 if ethernet begin mac 0 serial println would hcp failed reset arduino to try again serial println serial println else serial println arduino connected to network using dhcp serial println serial println delay 1000,0.871829330921
autoDood,hey regis thanks for posting that i have not quite got it working yet but it sue helped i can not get the uno with and ethernet shield to read my talkback commands everything else works i have tweaked the code slightly but the print client seems to be reading my talkback i see them kind of in the serial monitor but they do not get applied to the talkbackcommand string for some reason would you be able to do me a favour and explain what data you would put in the black areas in your code is this the code that works for you because i would love to get this working did you get your buttons working on your website i can help you with some ajax buttons if you like using some http requests that will work here is my code u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 include pi h include ethernet h include would ht h define dhtpin 2 define dhttype dht11dht dht dhtpin dhttype byte mac 0x90 0xa2 0xda 0x0d 0xc0 0xde const string channelsapikey 3qca1vsdzheiyl2b const string talkbackapikey 64v6quytp3arbxen const string talkbackid 213 char charin string talkbackcommand const string talkcommandid const unsigned int gettalkbackinterval 10 1000 const unsigned int updatechannelsinterval 15 1000 const int relaypin2 13 long lastconnectiontimechannels 0 boolean lastconnectedchannels false int failedcounterchannels 0 long lastconnectiontimetalkback 0 boolean lastconnectedtalkback false int failedcountertalkback 0 capteursethernetclient client void setup serial begin 9600 dht begin pinmode relaypin2 output digitalwrite relaypin2 high startethernet void loop gettalkback updatechannels if talkbackcommand ledoff digitalwrite relaypin2 low serial println off if talkbackcommand ledon digitalwrite relaypin2 high serial println on void gettalkback this section i had to change string tsdata tsdata talkbackid commands execute api_key talkbackapikey if client connected millis lastconnectiontimetalkback gettalkbackinterval if client connect api thingspeak com 80 client println get talkbacks tsdata http 1 0 client println lastconnectiontimetalkback millis if client connected serial println serial println get talkback command serial println serial println connecting to thingspeak serial println serial println serial println erver response serial println failedcountertalkback 0 while client connected client available delay 2000 waits for datawhile client connected client available char charin client read talkbackcommand charin serial print charin talkbackcommand talkbackcommand substring talkbackcommand indexof _cmd_ 5 serial println serial println serial println would isconnected serial println serial println serial println serial println talkback was serial println serial println serial println serial println talkbackcommand serial println serial println serial println serial println else failedcountertalkback serial println connection to thingspeak failed string failedcountertalkback dec serial println lastconnectiontimechannels millis else failedcountertalkback serial println connection to thingspeak failed string failedcountertalkback dec serial println lastconnectiontimetalkback millis if failedcountertalkback 3 startethernet client stop serial flush void updatechannels float humid dht readhumidity float temp dht readtemperature string tsdata tsdata field1 string temp 1 dec field2 string humid dec if client connected millis lastconnectiontimechannels updatechannelsinterval if client connect api thingspeak com 80 client print post update http 1 1n client print host api thingspeak comn client print connection closen client print x thingspeakapikey channelsapikey n client print content type application x www form urlencodedn client print content length client print tsdata length client print nn client print tsdata lastconnectiontimechannels millis if client connected serial println serial println updade channels serial println serial println connecting to thingspeak serial println serial println erver response serial println failedcounterchannels 0 while client connected client available delay 1 waits for datawhile client connected client available char charin client read serial print charin serial println serial println serial println would isconnected serial println else failedcounterchannels serial println connection to thingspeak failed string failedcounterchannels dec serial println lastconnectiontimechannels millis else failedcounterchannels serial println connection to thingspeak failed string failedcounterchannels dec serial println lastconnectiontimechannels millis if failedcounterchannels 3 startethernet client stop serial flush void startethernet client stop serial println serial println serial println serial println connecting arduino to network delay 1000 if ethernet begin mac 0 serial println would hcp failed reset arduino to try again serial println serial println else serial println arduino connected to network using dhcp serial println serial println delay 1000 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014 u2014,0.187413305044
samir_assaad,hi all please i need to control led via ethernet shield but i dont how to control on talkback please i need your help all tutorials control via wifi module i need example on ethernet shield thanksregards,0.5
Aishwarya,hi i am trying thingspeak talkback on arduino using esp8266 but i am not getting how to do that if anyone knows can you share the code please thanks,0.88004386425
eggfile,hi i use two arduinos to count certain events each arduino is sending its counter every 20sec to its channel i e i have two channels one for each arduino in addition i have generated one thingspeakplot visualisation which is calculating the difference between counter 1 from channel 1 and counter 2 from channel 2 the result is depicted using u00a0 counter1data time thingspeakread readchannelid1 fields counter1fieldid numpoints 30 are adkey readapikey1 counter2data time thingspeakread readchannelid2 fields counter1fieldid numpoints 30 are adkey readapikey2 difference counter1data counter2data thingspeakplot time difference problem when the chart is generated depicted in either channel 1 or 2 it does not automatically update itself i e when the counter values change the plot chart does not update it only does when i manually refresh the page or open it the first time i would like to have a living chart as i have it when visualizing each channel counter value separately any help is appreciated thanks,0.5
Vinod,to confirm your request you would like the plot generated using thingspeakplot to auto refresh every n seconds u00a0this is not possible today but we will put it in the list of features to add based on user requirements u00a0in the mean time you could save the following into a simple html page it auto reloads the page every 5 u00a0minutes instead of opening thingspeak com you would open this page html lang en body style margin 0 padding 0 iframe src id myiframe style border none height 0 width 0 iframe body script var width window innerwidth document documentelement clientwidth document body clientwidth var height window innerheight document documentelement clientheight document body clientheight var framehdl document getelementbyid myiframe framehdl src https thingspeak com channels yourchannelnumber framehdl height height framehdl width width window setinterval are loadpage 5 60 1000 minutes to milliseconds u00a0 function reloadpage location reload true script html,0.825632989407
gaz_iot,worked yersteday do not todayi have a number of controls through thweetcontrol they worked well yesterday and today there is no way to make them work likewise i have tried cheerliht and does not change color watching the feed of the latter does not change from blue from yesterday at 7 11 2016 00 45 35 0500 182657 blue 0000ffit is something u00a0related to our outbound ip addresses are changing on november 7 2016 please read if you whitelist our servers for crawling https t co p3rxwosxqv u2014 twitter api twitterapi october 6 2016 u00a0thanks in advance,0.74845468998
Hans,thanks for reporting we are looking into the issue,0.863305449486
Vinod,it u00a0appears that this was related to the twitter api servers u00a0ip address changes gaz_iot u00a0can you confirm tweetcontrols u00a0are u00a0working now,0.5
gaz_iot,working again thanks,0.848310470581
mandelkind,how may i escape custom replacement keys in thinghttp https ch mathworks com help thingspeak thinghttp app html bvevu2b 5 u00a0i have managed to get an api request up and running and everything seems to work perfectly at least everything except one thing in my thinghttp body there are custom replacement key which get replaced by the passed in values labels thinghttp labels title title description description u00a0unfortunately as soon as one of the replacement values contain special characters such as or things are going weird how may i tell thinghttp to escape the custom replacement keys before sending them along in a post request,0.5
Hans,have you tried url encoding there are websites that will do the encoding for you let us know if you try that u00a0,0.878549098969
mandelkind,hans i am unable to add any additional encoding since the data is passed by a 3rd party service ifttt and there is the data already urlencoded i suspect thinghttp receives the data urldecodes it before sending it along so the only solution i can see is that thinghttp should ensure it can be passed without any issues u00a0,0.101208597422
bobybc,hi i know ow to use fileds in tinghttp but does someone knows hot to annotate timestamp u00a010xbobychannel value replacementsinclude channel data in your thinghttp request to get the last value from a channel field channel_channel_id_field_field_number,0.5
clag,i would like to be able to add units to the bottom value on google gauges i have tried var formatter new google visualization numberformat pattern but cannot get it to work also var formatter new google visualization numberformat suffix pattern formatter format data 1 u00a0could anyone help me,0.0859961211681
Vinod,i have this code that puts the units on a gauge perhaps you can modify it for your use case u00a0 script type text javascript src https ajax googleapis com ajax libs jquery 1 9 1 jquery min js script script type text javascript src https www google com jsapi script script type text javascript set your channel id here var channel_id mychannelnum set your channel read api key here if necessary var api_key mychannelkey maximum value for the gauge var max_gauge_value 100 maximum value for the gauge var gauge_text u00b0c global variables var chart charts data load the google gauge visualization google load visualization 1 packages gauge google setonloadcallback initchart display the data function displaydata point data setvalue 0 0 gauge_text data setvalue 0 1 point chart draw data options load the data function loaddata variable for the data point var p get the data from thingspeak getjson https api thingspeak com channels channel_id feed last json api_key api_key function data get the data point p data field1 if there is a data point display it if p p math round p max_gauge_value 1000 10 displaydata p initialize the chart function initchart data new google visualization datatable data addcolumn tring label data addcolumn number value data addrows 1 chart new google visualization gauge document getelementbyid gauge_div options min 25 width 240 height 240 redfrom 90 redto 100 yellowfrom 75 yellowto 90 minorticks 5 loaddata load new data every 15 seconds setinterval loaddata 15000 script,0.5
sandeen,i have some matlab analysis apps that run daily at midnight via timecontrol the problem is if i want to modify the app the only option is run and save and because they write data points and there is no facility to delete data points it a conundrum i pollute the target channel it would be nice to be able to do a ave and sandbox run or ave and run with writes disabled or something in order to make a change verify its operation but not mess with associated timecontrol actions thanks eric,0.104627162218
Adarsh_Murthy,hi eric thanks for the feedback we will consider adding an option to run in andbox mode and also delete individual data points in a future release in the meanwhile a couple options that i use in this situation are 1 comment the thingspeakwrite line until i am satisfied with the code in the app uncomment it after and run and save it again 2 if i need to write the data to a channel i create a new channel to verify the workflow after verifying the workflow and the data i change the writechannelid to point to the desired channel and then run and save it again thanks adarsh,0.89902305603
sandeen,yeah the problem is it is set to run at midnight to analyze daily numbers so i would need to wait until a bit before midnight disable the time control save run it at midnight then re enable the time control after midnight it not exactly convenient ud83d ude09thanks eric,0.168618142605
rw950431,or you could add a little bit of logic to your code that discovers the time of day and only writes to the real channel when the time is right see http au mathworks com help matlab ref clock html obviously you need to test the logic on a seperate channel until you are happy that it works as a last resort you could remove polluted data by downloading the whole channel as csv removing the extraneous points in a spreadsheet r or your language of choice deleting all the channel data then re importing the clean version,0.25042194128
sandeen,oh that a good idea ud83d ude09 that will work for now thanks for the suggestion,0.976926982403
Rob Purser,i often lead my once a day analysis with code like lastvalue datelastanalyzed thingspeakread 30040 are adkey yadayada field 2 url http api thingspeak com if datelastanalyzed datetime today timezone utc,0.5
alk0v,hi i have same problem with time scheduled scripts just separate ave and run buttons,0.817024469376
alk0v,any updates it really problem,0.0403829216957
rberkelm,dear alli looked long and hard for code that would calculate daily maxima and minima for temperature and humidity i e since midnight but i could not find any i eventually managed to work it out so i am posting it here in case it helps others the max min graphs by themselves are not very interesting but i use these data in google gauge to display the last value i also found that creating a react app for running the code on each new temperature insertion is better than using the time control app in the time control app which only runs every 5min the current temperature can often be higher than the max temperature in the morning this does not look cool my implementation of daily max and min temperature and humidity written to another channel fields 2 to 5 for later display in u00a0google gauge using the standard plug in this code assumes a public channel to read the original data from readchannelid xxxxxxxxxxxx writenewchannelid xxxxxxxxxxx writeapikey xxxxxxxxx define date range u00a0 i e since midnight end datetime now start datetime today read the temp data from field1 u00a0since midnight temp time thingspeakread readchannelid would aterange start end fields 1 tmax max temp get daily maxtmin min temp get daily u00a0min read the humidity data from field2 u00a0since midnight humidity time thingspeakread readchannelid would aterange start end fields 2 hmax max humidity get daily u00a0maxhmin min humidity get daily u00a0min display results to testdisplay tmax t_max display tmin t_min display hmax h_max display hmin h_max write data to a new channelthingspeakwrite writenewchannelid fields 2 3 4 5 values tmax tmin hmax hmin writekey writeapikey,0.5
rberkelm,hi alla small problem that has been driving me crazy for a week i want to display how close the current temperature is to the dew point i e dew point as a percentage of temperature d t 100 and show the result in a google gauge using the supplied app i can show dew point as a of some fixed number as per app example i can extract the latest temperature and display that the same way separately i can manipulate either variable with a maths function and display the result however when i divide dew point by temperature or do any maths function on both variables u00a0the result is infinity or nan not a number u00a0any ideas my java code below the relevant lines in pink script type text javascript src https ajax googleapis com ajax libs jquery 1 9 1 jquery min js script script type text javascript src https www google com jsapi script script type text javascript set your channel id here var channel_id set your channel read api key here if necessary var api_key maximum value for the gauge var max_gauge_value name of the gauge var gauge_name would ew pt global variables var chart charts data load the google gauge visualization google load visualization 1 packages gauge google setonloadcallback initchart display the data function displaydata point data setvalue 0 0 gauge_name data setvalue 0 1 point chart draw data options load the data function loaddata variable for the data point var t var p get the data from thingspeak getjson https api thingspeak com channels channel_id feed last json api_key api_key function data get the data point t data field1 p data field5 if there is a data point display it if p p math round p t 100 displaydata p initialize the chart function initchart data new google visualization datatable data addcolumn tring label data addcolumn number value data addrows 1 chart new google visualization gauge document getelementbyid gauge_div options width 120 height 120 redfrom 90 redto 100 yellowfrom 75 yellowto 90 minorticks 5 loaddata load new data every 15 seconds setinterval loaddata 15000 script,0.5
rw950431,is it possible that t is 0 or nul if your browser supports it you can use console log to print the values of p and t so you can see whats happening otherwise fetch the url in your browser and examine the data,0.5
Vinod,try pasting this into an html file and loading it in a browser u00a0 html head script type text javascript src https ajax googleapis com ajax libs jquery 1 9 1 jquery min js script script type text javascript src https www google com jsapi script script type text javascript maximum value for the gaugevar max_gauge_value 100 name of the gaugevar gauge_name would ew pt global variablesvar chart var data load the google gauge visualizationgoogle load visualization 1 packages gauge google setonloadcallback initchart display the datafunction displaydata point console log data setvalue 0 0 gauge_name data setvalue 0 1 point chart draw data load the datafunction loaddata variable for the data pointvar t d testratio get the data from thingspeak getjson https api thingspeak com channels 81097 feeds last json function data get the data pointt data field1 d data field3 displaydata math round d t 100 initialize the chartfunction initchart data new google visualization datatable data addcolumn tring label data addcolumn number value data addrows 1 chart new google visualization gauge document getelementbyid gauge_div options width 120 height 120 redfrom 90 redto 100 yellowfrom 75 yellowto 90 minorticks 5 loaddata load new data every 15 secondssetinterval loaddata 15000 script head body div id gauge_div div button id would emo onclick initchart click to update gauge p body html,0.5
rberkelm,thanks for the responses guys i am not too familiar with html but i found an online html editor and pasted in your code vinod thnx with my own channel number in the u00a0 getjson line all i get is a white screen with an click to update gauge button no guage no data the channel is public so no key should be required what am i doing wrong rw950431 i am not sure where or how to use u00a0 console log to print the values of p and t can you give me some more detail it is quite possible u00a0that t is null but as i said when i get the latest t and show it in the gauge it certainly displays as a proper number i doubt that t 0 because when i do u00a0t u00a0 math round t p 100 i still get infinity instead of 0,0.817334413528
Vinod,try this 1 copy all of u00a0the example code i posted from html to html 2 open notepad exe3 paste the code in4 save the file on your computer as test html5 open test html in a web browserif that works then u00a0it shows you how to set up your app u00a0if you are not familiar with html and javascript you may want to u00a0learn a bit about those if you are familiar with matlab you may use the matlab analysis app to calculate the percentage of dew point and use the thingspeakwrite function to write it to a new channel or field then u00a0modify the example google gauge plugin to read the value from that field and display it,0.807698905468
rberkelm,hi vinodthat was very useful thank you your notepad suggestion worked for some fields but not for the dew point field this u00a0made a dim light bulb go off in my brain i think the reason why i am getting infinity maths results is because temperature and dew point have different time stamps in the sql db naturally dew point has a different time stamp to the rest of the fields since it is a calculated param by querying both variables for the latest entry in the same command it only returns the value for one not the other hence the null value and the nan infinity maths result what i need to do is query the variables separately and then do the maths ratio unfortunately when i tried it in matlab it did not work either but the gauge u00a0takes soooo long to load u00a0it is hard to work out what works and what does not at least with your html script the result is instant thanks for pointing the way forward i have something to go on with r,0.816988289356
rberkelm,for the record the mismatched timestamps of the temperature and dew point fields were the problem for any given time one or the other field would have a null value hence the nan i have since moved the dew point field to a new channel and now i can calculate the dew point temperature ratio by querying the last readings in the two channels separately full code below thanks for the pointers guys in case anyone is wondering this ratio is a measure of how close we are to having fog and dew script type text javascript src https ajax googleapis com ajax libs jquery 1 9 1 jquery min js script script type text javascript src https www google com jsapi script script type text javascript set dew pt channel id here var channel_id xxxxxx set dew pt channel read api key here if necessary var api_key xxxxxxx set temp channel id here var channel_id2 xxxxxxx set temp channel read api key here if necessary var api_key2 xxxxxxx maximum value for the gauge var max_gauge_value 100 name of the gauge var gauge_name would _ratio global variables var chart charts data load the google gauge visualization google load visualization 1 packages gauge google setonloadcallback initchart display the data function displaydata point data setvalue 0 0 gauge_name data setvalue 0 1 point chart draw data options load the data function loaddata variable for the data point var d var t get the data from dew point channel getjson https api thingspeak com channels channel_id feed last json api_key api_key function data get the data point d data field1 get the data from temp channel getjson https api thingspeak com channels channel_id2 feed last json api_key api_key2 function data get the data point t data field1 if there is a data point display it if d d math round d t 1000 10 displaydata d initialize the chart function initchart data new google visualization datatable data addcolumn tring label data addcolumn number value data addrows 1 chart new google visualization gauge document getelementbyid gauge_div options width 120 height 120 redfrom 80 redto 100 yellowfrom 60 yellowto 80 greenfrom 40 greento 60 min 0 max 100 minorticks 5 loaddata load new data every 15 seconds setinterval loaddata 15000 script,0.211736172438
sc2001,i need to be able to pass a parameter for thinkhttp to include in the header of the http request this parameter is used for authentication and needs to change every hour i know you can use custom replacement values for the body ie message but it does not seem to work in the header is their a way to do this in the header or any suggested workarounds thanks for your help u00a0,0.260693013668
piajola,hi ts staff perhaps adarsh u00a0i have a matlab analysiswith this timecontrolname u00a0 u00a0 u00a0 u00a0 u00a0recurrence u00a0 u00a0 u00a0 u00a0 last ran u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0run atdirecto iclaro every 30 minutes 2016 08 31 7 00 pm 2016 08 31 7 30 pmalso i have checked this notify me via email if this matlab analysis fails when triggered by timecontrol or react i see in red in my list of matlab analysis my code failed with this outputerror using readcontentfromwebservice the server returned the message bad gateway for url http api pushingbox com pushingbox with http response code 502 error in webwrite varargout 1 nargout readcontentfromwebservice connection options in http www pushingbox com history i have31 august 2016 at 19 00 u00a0 u00a0 missing i have not this line the ts failure 31 august 2016 at 18 00 14 u00a0 u00a0t h x icla u00a0 u00a0 u00a0my u00a0hourly report31 august 2016 at 17 47 06 u00a0 u00a0no juruncia u00a0 u00a0due to brownout31 august 2016 at 17 42 06 u00a0 u00a0no juruncia u00a0 u00a0due to brownout 31 august 2016 at 17 37 05 u00a0 u00a0no juruncia u00a0 u00a0due to brownout 31 august 2016 at 17 32 05 u00a0 u00a0no juruncia u00a0 u00a0due to brownout 31 august 2016 at 17 27 06 u00a0 u00a0no juruncia u00a0 u00a0due to brownout 31 august 2016 at 17 22 06 u00a0 u00a0no juruncia u00a0 u00a0due to brownout 31 august 2016 at 17 17 04 u00a0 u00a0no juruncia u00a0 u00a0due to brownout 31 august 2016 at 17 12 05 u00a0 u00a0no juruncia u00a0 u00a0due to brownouti have had 1hr brownout when checking in pushingbox what thingspeak sent via webwrites i noted the email notify me via email was not sent can you check this please thank you u00a0p s i u00a0 my local time is now 19 43 and the run at 2016 08 31 7 30 pm ran okp s ii u00a0my local time is now 20 13 and therun at2016 08 31 8 00 pmis red again without an email to me p s iii u00a0 my local time is now 20 35 and therun at2016 08 31 8 30 pmran ok,0.5
Adarsh_Murthy,hi piajola as you noticed the notify me via email feature of a timecontrol or react is not functioning we will be re enabling this feature soon u00a0also regarding the 502 http error code from pushingbox com i wanted to note that this is a pushingbox server failure u00a0in the meanwhile if you want to prevent errors due to webread u00a0failures an option to consider is to use the try catch construct http www mathworks com help matlab ref try html u00a0thanks,0.152305811644
piajola,hi adarsh first some first of all first first of all thank you for answering mesecond first of all thank you for clearing my doubts and the linkthird first of all my apologies for the delay i checked the forum yesterday morning but not after u00a0i will try u00a0to catch the 502 from pushingbox if i catch the error i will try u00a0to send myself an email telling me the 502 errorpseudo code u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0try u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 webwrite hourly report u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 catch u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0webwrite email myself can it work more questions how we know the parts of matlab can we use read last blog again thank you u00a0,0.962799787521
russel2512,i have tried to setup this connection per the tutorial i am not having any luck can someone step me through the setup with a little more detail i am trying to use react to send a sms message through thinghttp i verified that my twilio account is working correctly python script sends a text message to my phone thanks for any help i can get i need to get this ready for a hackathon on the 17th russ,0.5
Hans,russ to break down the testing try to get your thinghttp to cause the twillio sms to be kicked off once you know that works hook the thinghttp up to react twillio might have changed their sms api since the tutorial was written hans,0.0844316780567
russel2512,hans that what i was testing first was the thinghttp i am using https api thingspeak com apps thinghttp send_request api_key xxxxxxxxx to test where i am having problems is content type and body i am new to web apis thanks russ,0.90733397007
Hans,from their doc i see an http post example content type keep it blank unless you are sending an image body use their curl example with each key value pair separated by an symbol also make sure that you are using http auth with thinghttp enter your accountsid under http auth usernameenter your auth token under http auth passwordmore twilio api documentation https www twilio com docs api rest sending sms,0.819176614285
russel2512,i followed the steps and it still failing when i use the above url with my api key i get a 1 response code if i try https api twilio com 2010 04 01 accounts account sid messages it prompts me for user id and password i enter my account sid and auth token and the login fails i seem to have everything correct as my python script works ok russ,0.155571639538
Hans,russ are you using thinghttp hans,0.778899013996
russel2512,yes i am,0.935207366943
Hans,well the only way i could help further is to see the exact settings what are you sending in each field please mask any keys thanks hans,0.732583403587
russel2512,api key uvqy3ndw3mf6xn1nurl https api twilio com 2010 04 01 accounts acverified47f messageshttp auth username acverified47fhttp auth password 93verifiedf5method postcontent type http version 1 1host headers body from 1612twilio to 1verified0 body testparse string in the setup i copied username password directly from tht twilio screen from number was copied from the screen to number is validated all information works in the python sample thanks russ,0.766996741295
russel2512,i got my problem figured out https api twilio com 2010 04 01 accounts acverified7f messages jsonthis url sent the text russ,0.735801100731
blackabbys,i am having the same problem too everything looks fine i checked everthing thousand times but it still responses me with 1 lastly i have tried your solution but it is still the same please help me how can i solve this problem thank you,0.127082973719
TomSim,use ifttt maker url trigger channel to sms action u00a0api key url style no authorization needed,0.5
TomSim,i use react condition no data check to trigger action thinghttp with u00a0 trigger u00a0and channel_id u00a0in the action body but the posted data does not expand the replacement key words i just see the text trigger and channel_id in posted data the same replacements work fine with react numeric condition type u00a0what am i missing thanks for any help,0.762035310268
Hans,looking into this it is possible that the replacement does not happen with a no data check if it did what do you expect to happen for the trigger replacement thanks,0.5
TomSim,i expect that trigger would be replaced with no data check and channel_id would be replaced with the channel that triggered the event u00a0if this work i can have a generic thinghttp that can be used with any react,0.279130339622
Vishal,i need help to connect thingspeak with salesforce and share data using rest,0.24264010787
akhila,hi vishal u00a0it would be great if you could state the exact problem in general you can send salesforce data to thingspeak using thingspeak rest api https www mathworks com help thingspeak channels and charts api htmlthanks akhila u00a0,0.895377278328
Vishal,hi akhila thanks for reply i want data exchange between arduino ethernet shield and salesforce in real time almost but with ethernet shield we cannot directly communicate with sfdc as ethernet shield do not support https also if i use rest to fetch data from thingspeak then salesforce governor limit for rest callouts comes in picture does thingspeak support odata as in sfdc odata callout limit is much higher and connectivity with odata can solve my purpose u00a0thanks vishal,0.5
rw950431,have you considered iftt u00a0 u00a0 maybe you can send your data to the maker channel then connect to the salesforce channel u00a0 i have never actually done this,0.5
ArtiSchmidt,i just recently found thingspeak and i have been playing around with its features a bit but i have not found a way for it to show a simple table of all the data collected for example the table might have humidity temperature and timestamp columns and then every time data is written to thingspeak a new row would be added with the latest readings i would be surprised if this is not possible with all of its complex graphing tools u00a0is there a feature for this,0.5
Hans,since thingspeak has an extensive api you can build a tool to read in data and display it as a table i have created a github repo called iot debugger that allows you to see data as a table as the it comes into a thingspeak channel to use the demo enter your channel number and the read api key if you want to modify the project fork the project on github,0.750652432442
Stonker,i set up an arduino to populate a channel in thingspeak with temperature data done and working now the difficult bit i set up a site in salesforce with some apex code to handle a rest request to post data the temperature data in thingspeak to salesforce result every time a new temperature value is recorded it triggers a request to salesforce and a new record entry is created but the field for the temperature data is empty null has anyone got a clue as to how to retrieve data from thingspeak i set up a thinghttp with a request to post to the salesforce site what do i have to do to the body header options parameters for the request content type is set to json any ideas most welcome i can not be the only one many thanksstonker,0.251398295164
Stonker,mark this as solved you guys are great not sure what i did to be fair could be that i set the body content in react to trigger if thats all it was so be it this problem has held me up for weeks thanks to all at thingspeak if i could i would give you all a hug stoked stonker,0.776303648949
archanakamath1981,u00a0hey u00a0 u00a0how did you go about doing this u00a0thanks archana,0.742291629314
brianbar,i am brand new to thingspeak u00a0and i am trying to get my weather underground data into a channel i have created a thinghttp get which is successfully parsing the current temperature from the w u xml api but i now have no idea how i can get that to automatically post to a field in my channel what i would like to do is set it up so that every 15 minutes it gets the temperature and posts it,0.865786671638
Hans,do you happen to know the url to get the temperature if so what you want to do is use matlab analysis to do a webread and write it to a thingspeak channel using thingspeakwrite then schedule the matlab code to run every 15 minutes with the timecontrol app if you know the url we can help you with the code u00a0,0.5
brianbar,thanks yes i do have the url but i can not post it here because it has my wunderground key and that use is limited here is the raw xml u00a0of what it gives me in this case i want the temp_c temperature field and i will also need to do another to pick up precip_today_metric response version 0 1 version termsofservice http www wunderground com weather api d terms html termsofservice features feature conditions feature features current_observation image url http icons wxug com graphics wu2 logo_130x80 png url title weather underground title link http www wunderground com link image display_location full hamilton new zealand full city hamilton city state u00a0 state_name new zealand state_name country nz country country_iso3166 nz country_iso3166 zip 00000 zip magic 3 magic wmo 93186 wmo latitude 37 986340 latitude longitude 175 267166 longitude elevation 52 00000000 elevation display_location observation_location full te awamutu te awamutu waikato full city te awamutu te awamutu city state waikato state country u00a0 country_iso3166 nz country_iso3166 latitude 37 986340 latitude longitude 175 267166 longitude elevation 167 ft elevation observation_location estimated u00a0 estimated station_id iwaikato64 station_id observation_time last updated on july 14 3 21 pm nzst observation_time observation_time_rfc822 thu 14 jul 2016 15 21 12 1200 observation_time_rfc822 observation_epoch 1468466472 observation_epoch local_time_rfc822 thu 14 jul 2016 15 21 18 1200 local_time_rfc822 local_epoch 1468466478 local_epoch local_tz_short nzst local_tz_short local_tz_long pacific auckland local_tz_long local_tz_offset 1200 local_tz_offset weather partly cloudy weather temperature_string 54 1 f 12 3 c temperature_string temp_f 54 1 temp_f temp_c 12 3 temp_c relative_humidity 78 relative_humidity wind_string from the sw at 6 0 mph gusting to 14 0 mph wind_string wind_dir sw wind_dir wind_degrees 214 wind_degrees wind_mph 6 0 wind_mph wind_gust_mph 14 0 wind_gust_mph wind_kph 9 7 wind_kph wind_gust_kph 22 5 wind_gust_kph pressure_mb 1006 pressure_mb pressure_in 29 70 pressure_in pressure_trend pressure_trend dewpoint_string 47 5 f 8 6 c dewpoint_string dewpoint_f 47 5 dewpoint_f dewpoint_c 8 6 dewpoint_c heat_index_string na heat_index_string heat_index_f na heat_index_f heat_index_c na heat_index_c windchill_string na windchill_string windchill_f na windchill_f windchill_c na windchill_c feelslike_string 54 1 f 12 3 c feelslike_string feelslike_f 54 1 feelslike_f feelslike_c 12 3 feelslike_c visibility_mi 6 0 visibility_mi visibility_km 10 0 visibility_km solarradiation u00a0 uv 1 uv precip_1hr_string 0 00 in 0 0 mm precip_1hr_string precip_1hr_in 0 00 precip_1hr_in precip_1hr_metric 0 0 precip_1hr_metric precip_today_string 1 01 in 26 mm precip_today_string precip_today_in 1 01 precip_today_in precip_today_metric 26 precip_today_metric icon partlycloudy icon icon_url http icons wxug com i c k partlycloudy gif icon_url forecast_url http www wunderground com global stations 93186 html forecast_url history_url http www wunderground com weatherstation wxdailyhistory asp id iwaikato64 history_url ob_url http www wunderground com cgi bin findweather getforecast query 37 986340 175 267166 ob_url current_observation head u00a0 response,0.5
Hans,you can try urlfilter from the matlab analysis app this may work for you,0.787541925907
brianbar,thanks for pointing me in the right direction i have got it going now u00a0,0.937627434731
most211,hello everyone u00a0i am in the middle of accomplishing my project and the thingspeak appear to be a suitable my project is aimed to calculate the u00a0number of attending u00a0students in a u00a0course for one semester i am using arduino mega a card reader rfid shield wifi 101 shield i was able to send a my data feeds into my thingspeak channel in excel format to accomplish my project i need to do simple analysis and calculation in u00a0this sheet using matlab then save it to the original file in the channel my question is can i update the list and keep doing these calculations and save it the original file and keep updating i have been reading the articles and projects in the forums for the whole week nothing seem to be close to what i am describing above any possible help is appreciated u00a0 u00a0regards,0.86080378294
rw950431,its very possible u00a0 i guess you are logging the time each card is read by the card reader to a channel and now want to calculate a daily or hourly total,0.5
most211,rw950431 said its very possible u00a0 i guess you are logging the time each card is read by the card reader to a channel and now want to calculate a daily or hourly total thanks for your response my project device is able to send list of students after each class to my channel in fact i want to calculate how many time each card get scanned in the whole semester and then if a certain number of any card is exceeded it should notify me u00a0the examples of humidity and temperature are not quite related to my project any further help,0.5
rw950431,this sounds like a task for a matlab analysis u00a0assume you have a channel with card id written to a field within itstart with https au mathworks com help thingspeak thingspeakread htmlthis allows you to extract all the data for a given time period beware of the 8000 point limit store them in a map https au mathworks com help matlab map containers html using the card number as key and incrementing the value each time the same key is found loop over the map looking for values greater than your threshold you could store any such values in a different channel or maybe send yourself an alert with a service like the ifttt com maker channel,0.5
most211,rw950431 said this sounds like a task for a matlab analysis u00a0 assume you have a channel with card id written to a field within it start with https au mathworks com help thingspeak thingspeakread html this allows you to extract all the data for a given time period beware of the 8000 point limit store them in a map https au mathworks com help matlab map containers html using the card number as key and incrementing the value each time the same key is found loop over the map looking for values greater than your threshold you could store any such values in a different channel or maybe send yourself an alert with a service like the ifttt com maker channelaccording to your method i was able to read and do some analysis on my data but when it comes to store and incrementing the map it start to get complicated i do not want to start from scratch any similar example or project would be very helpful u00a0regards,0.5
rw950431,i am not a good matlab coder u00a0perhaps this will help you u00a0 https au mathworks com matlabcentral answers 96504 how can i count the occurrences of each element in a vector in matlab,0.73665779829
Adarsh_Murthy,you can call histcounts function in matlab to calculate the unique values in the vector and the number of times it occurs in the array the histcounts function works with double data as well by creating bins and then identifying how many values are in each bin to use histcounts u00a0for your case convert the card ids to categorical here is an example where i generate an array of 4 digit random numbers i then call histcounts u00a0to identify the unique u00a0values and also how many times each occurred in the vector generate random 4 digit numbersa round 9999 rand 100 1 b a a 999 find both the unique numbers and the number of times each occured count categories histcounts categorical b in addition to the code you would need to manage how much data you are reading in how often the code is executed and how the results are stored adarsh,0.5
jenifferhomes,i was able to read and do some analysis on my data but when it comes to store and incrementing the map it start to get complicated,0.190366566181
armma,hi all u00a0 u00a0i need to display the summation of data last hour during the day during the month during a specific period of time can i do that how u00a0regards _,0.737008094788
HydroponicsMAC,hello all any idea if it is possible to configure a thingspeak app or similar to send an alert if the iot device stops logging i have an arduino which logs every 15 minutes i have also configured a thinghttp push to prowl so if for some reason my u00a0arduino stops logging for 1 hour is there a way to check for this and then run a thinghttp app to warn me thanks,0.820596933365
rw950431,you can use the react app with the no data check,0.813776254654
HydroponicsMAC,thanks u00a0rw950431 u00a0i had looked everywhere except the condition type,0.795878767967
piajola,hi hydroponicsmac u00a0also you can check http community thingspeak com forum thingspeak apps no data react tweet not working maybe it can help you too i am using this approach i think it is more flexible than react good luck u00a0h s,0.979531288147
fabmsg,hi u00a0i want to make an graph similar to this one that i found on this web site https www mathworks com matlabcentral fileexchange 56910 thingspeak weather station content html thingspeakweatherstation htmlbut instead of hourly i wanted to have 3 rows with the minimum maximum average u00a0of each month of one year u00a0i am new to this and i do not understand this code very well u00a0thanks for the help u00a0,0.854839920998
slaicheng,from react app i want to trigger a thinghttp reaction when temperature from my channel field1 reaches less than 28 but i just could not get it to be trigger the individual tests i did to isolate faults are as below 1 from my react app i try to send a tweet and it is tweeting successfully2 using the timecontrol app i tried to send the thinghttp every 5mins and it seems it is sending correctly alsobut when i use u00a0the same react settings from 1 to trigger the same u00a0thinghttp settings from 2 i simply cannot make them work i have run out of ideas to try can someone give me some advice please i have attached my u00a0react and thinghttp settings below thanks in advance for any help render img alt src img alt src u00a0,0.262120246887
piajola,hi slaicheng i hope not to be too late with this i post each minute 2 fields in one ch and check for max value min value missing points e g only 2 3 points recorded in 5 minutes not the expected 5 i started cloning this blog http dbrenk blogspot com 2015 03 connecting thingspeakcom to html that put the light in my life and i can say make sense read thoroughly i checked he is still posting here the solution i use now is based in matlab analysis with timecontrol but as i said for 1 limit react was used and worked by clonation i use pushingbox recommended and gmail mails i also hope these 2 services last a very loooooong time ud83d ude42if you still need more help askgood luck,0.701694786549
slaicheng,hi piajola thank you very much for taking the time to reply u00a0after struggling for two days i have seen some positive signs i am not sure is it some instability on thingspeak or is it me because i have tried so many ideas for the past 3 4 days that i have lost count of what i have tried u00a0so today not sure is it this or the other reasons it works i push temperature data to one channel and using thinghttp triggered by react to update another channel and for now it is working ok but at times it still seems not working fine although the interval between each read is minimally 30seconds,0.752906084061
piajola,hi slaicheng glad to know that you are progressing i think there is not u00a0some instability on thingspeak my channel is working good and are porting u00a0if the limits have been exceeded regards u00a0,0.930932104588
alvarodecadiz9,hello everyone i am developing a simulator in java for send datas to thingspeak this simulator aims to generate some behaviors when students lead a good way to study to do this i have chosen to send thingspeak values such as zero or one to indicate that person is studying or sleeping for a certain time the problem is that in the second iteration of scheduledfuture gives me a value other than the first for example if the first iteration i get student pablo ruiz will study for 6 minutes thingspeak value 1student luisa aguilar will study for 3 minutes thingspeak value 1in the second iteration i get student pablo ruiz will study for 3 minutes when it should have a value of 6 thingpeak value 1student luisa aguilar will study for 3 minutes thingspeak value 1how could i fix this the code is the following u00a0http bit ly 25fbdsithank you very much in advance,0.5
buben,hello i created mqspeak it a tool for sending mqtt topic updates to thingspeak channels you can find source code and documentation on project github https github com buben19 mqspeak this is part of my iot project located at https hackaday io project 7342 advanced iot network hope it will be useful please let me know any feedback,0.982504248619
Hans,this is awesome thanks for taking the time to put this together i will try to get this running and try it myself,0.928478717804
lingvo,looks like this tool is able to send mqtt topics to thinkspeak but what about other direction e g convert thingspeak actions to topics,0.272537022829
buben,actually mqspeak is not intended for this it is part of mqopen project http mqopen org which is based on mqtt protocol it is intended in current version for sending a data u00a0to thingspeak servers for data visualization purposes devices in the network can talk to each other directly using a broker so other direction is not needed,0.5
Helge,if no data is being received i would like to receive a tweet so that i can look into u00a0whatever is wrong in the react app i have chosen the following u00a0condition type no data checktest frequency 10 minutes u00a0condition test wemos 116592 it is mine public and exists at time of posting at leasthas not been updated for 5 minutes u00a0 updates at least every minute when running action thing tweet u00a0then tweet some random messageusing twitter account xxx account confirmedoptions run action each time condition is met u00a0i changed the messages frequently to make sure twitter will accept the incoming message i have made several different variations of the above i have waited overnight but i get no response i have started the updates and stopped uploading u00a0data u00a0several times i tried some other function string or something put in some random function and received a tweeted response so something is working u00a0what am i doing wrong,0.871288597584
piajola,hi helge all this is a work in progress i hope it continue to work i am tracking u00a0my channel data recording to ee the missing data points as you say to know where the trouble is sometimes isp fail sometimes wifi issue sometimes electrical contacts i use matlab analysis with timecontrol each 5 minutes more flexible than react t1 datetime now timezone america lima u00a0 use your timezone u00a0 u00a0what time is it right now local when running this t t1 minutes 5 seconds second t1 u00a0 u00a0hour 5 min less 00 sec i e before right now data taim thingspeakread readchannelid numminutes 5 fields 1 2 u00a0 u00a0as i check every 5 minutes then i read the last 5 minutes lin length taim u00a0 u00a0how many lines in taim array if i send each minute must be 5 lines if all o k sumi sum taim t u00a0 u00a0count how many lines in taim array are newer than t i e data arrivedso sumi tells me how many data points recognize thingspeak now tell me in my case via sms to my phone regular 2g no 3g needed if sumi 3 u00a0 u00a0 response webwrite mandalurl would evid deviceid vara1 vala1 varb1 valb1 varc1 valc1 end u00a0 u00a0thingspeak webwrite sends to mandalurl the values you want needmandalurl is http www pushingbox com that mentions you can use the next emailjust a mere email service for being notified by emailtwittertweet notificationkarotzvoice notification tts make your karotz speaking on an eventprowlpush notification service for iphonepushalotpush notification service for windows 8 and windows phonetoastypush notification service for windows phonenotify my androidpush notification service for androidnewtifrypush notification service for androidpushbulletpush notification service for ios android windows firefox and chromecustomurlset your own service my cellphone carrier give us free email that echoes the subject via sms all for free ud83d ude42so my way isno data matlab analysis timecontrol pushingbox via email sms hey not working i hope this hyper crash explanation is understandable ud83d ude09cheersp s also i hope my english is not toooo bad,0.103567004204
Helge,hi u00a0this looks great i did some testing and the code is working u00a0the last line are sponse webwrite mandalurl would evid deviceid vara1 i have not understood yet i have signed up for pushingbox com but i do not know much about it u00a0so far i have made this just testing no data u00a0timecontrol thingtweet ifttt gmaili must sleep now but tomorrow i will read more about u00a0how pushingbox com work because i would like this to happen no data matlab analysis timecontrol pushingbox gmail u00a0but thanks this was awesome u00a0helge,0.923322141171
piajola,hi helge glad you made steps forward what you would like to happen pushingbox will send an email to gmail with the text you define and the variables matlab analysis asks to send i e temperature is 35 5 c in pushingbox you put the text temperature is tmpvar c in matlab analysis via webwrite you send tmpvar 35 5 of course 35 5 is one data point stored in thingspeak channel in gmail you receive one email with the subject temperature is 35 5 c would etails in pushingbox after log in the second line shows these links dashboard my services my scenarios settings api help communityyou need to set up my services and my scenariosin my services you will want add a service by clicking cyan button add a service next you use another right side cyan button select this service so a window appears asking for a name and your gmail address to receive the emails maybe new account for this use now in my scenarios you have 4 steps 1 fill the long textbox with a related name not working perhaps then click at right add button2 copy the deviceid characters then click at the bottom add an action cyan button3 choice your ervice by clicking add an action with this service cyan button4 window appears there put the text for subject and body and the variables if any you need this way varname in subject and or body so when pushingbox receives deviceid sends via my services the my scenarios associated with deviceid you use matlab analysis webwrite function to send pushingbox deviceid and varname you wantdetails in matlab analysis basically use webwrite function response webwrite desturl would evid yourdeviceid var1 val1 var2 val2 var3 val3 as an related example desturl http api pushingbox com pushingbox yourdeviceid the deviceid obtained in pushingbox i e v16upcase numbervar1 xxxx val1 number or string you want in the email e g 123var2 yyyy val2 number or string you want in the email e g on var3 zzzz val3 number or string you want in the email e g 1 23so in pushingbox you createdsubject my values are xxx and zzzz body the switch in my bedroom is yyyy you receive in gmail subject in inbox my values are 123 and 1 23inside body the switch in my bedroom is onif more info needed post u00a0and share your work u00a0the way to all us learncheers u00a0,0.5
Helge,i did u00a0it u00a0it is like this no data matlab timecontrol pushingbox com gmaili did the following made a pushingxbox com accountin my services i chose email sevicemade a cenario in pushingbox which gave me a deviceidentered the code at the bottom of this post in the matlab analysis app i have changed some data with z u00b4s i chose the timecontrol underneath the two code fields in matlabin timecontrol i chose matlab in the action field and chose to execute the code other i know nothing but it seem there must be some data coming in to thingspeak for it to work properly the first time i got some u00a0 strange errors before connecting the device then it worked in timercontrol several times a future date will be given to run the matlab even though i only selcected every 5 minutes this is the code u00a0 all thanks to piajola on the thingspeak forum u00a0t1 datetime now timezone europe berlin u00a0 use your timezone what time is it right now local when running this u00a0t t1 minutes 5 seconds second t1 hour 5 min less 00 sec i e before right now u00a0 data taim thingspeakread zzchannelidzz are adkey zzreadapikey from thingspeakzz numminutes 5 fields 1 2 3 4 u00a0 as i check every 5 minutes then i read the last 5 minutes readkey and api is for private channels can be removed the last numbers 1 2 3 4 can also be adjusted to which field one like lin length taim u00a0 how many lines in taim array if i send each minute must be 5 lines if all o k u00a0sumi sum taim t u00a0 u00a0 count how many lines in taim array are newer than t i e data arrived u00a0 u00a0if sumi 3 u00a0 u00a0 u00a0 u00a0 response webwrite http api pushingbox com pushingbox devid zzid from pushingboxzz would ata zzit does not seem to matter muchzzz u00a0end,0.5
Helge,i have run into trouble i have two channels and i use the same code only change the id u00b4s etc both channels are also doing the same job mostly it should be the same but now i get error when i run one of u00a0the codes i have copyed and pasted and edited and mde all sorts of changes but i still get error u00a0i just don u00b4t understand it u00a0data is ok no problem code runs fine no data i get this t1 19 may 2016 20 49 05t 19 may 2016 20 40 00data taim lin 0comparison is not defined between double and datetime arrays u00a0the code i use is this one i changed a few ids u00a0t1 datetime now timezone europe berlin use your timezone what time is it right now local when running thist t1 minutes 9 seconds second t1 hour 5 min less 00 sec i e before right now data taim thingspeakread 116592 are adkey 9keq8xzzzzzxnyd1wdor3l numminutes 9 fields 1 2 3 4 as i check every 5 minutes then i read the last 5 minutes lin length taim how many lines in taim array if i send each minute must be 5 lines if all o k sumi sum taim t count how many lines in taim array are newer than t i e data arrived so sumi tells me how many data points recognize thingspeak now tell me in my case via sms to my phone regular 2g no 3g needed if sumi 5 response webwrite http api pushingbox com pushingbox devid vzzzzz1104bf would ata tekstfezzzzzke end,0.189272910357
piajola,hi helge just arrived home i am not expert but will try to help i hope i can i just edited readkey not needed only private channels my channel is public response edited only for less blank lines note nan 3 4 channels try this code read my channel to see what happens your channel is stopped for the last 5 hours 13 36 55 my local time random number check then comment if sumi end to activate the emailt1 datetime now timezone america lima use your timezone what time is it right now local when running thist t1 minutes 9 seconds second t1 hour 5 min less 00 sec i e before right now u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 are adkey 9keq8xzzzzzxnyd1wdor3l data taim thingspeakread 58826 numminutes 9 fields 1 2 3 4 as i check every 5 minutes then i read the last 5 minuteslin length taim how many lines in taim array if i send each minute must be 5 lines if all o k sumi sum taim t count how many lines in taim array are newer than t i e data arrived so sumi tells me how many data points recognize thingspeak now tell me in my case via sms to my phone regular 2g no 3g needed if sumi 5response webwrite http api pushingbox com pushingbox devid vzzzzz1104bf would ata tekstfezzzzzke endt1 19 may 2016 18 21 02t 19 may 2016 18 12 00data 24 5000 66 2500 nan nan 24 4400 66 0900 nan nan 24 3400 66 2000 nan nan 24 3800 66 3500 nan nan 24 3800 66 4200 nan nan 24 2800 66 4600 nan nan 24 3100 66 4000 nan nan 24 3100 66 5400 nan nan 24 3800 66 3500 nan nantaim 19 may 2016 18 12 10 19 may 2016 18 13 11 19 may 2016 18 14 12 19 may 2016 18 15 13 19 may 2016 18 16 15 19 may 2016 18 17 16 19 may 2016 18 18 17 19 may 2016 18 19 19 19 may 2016 18 20 20lin 9sumi 9,0.5
Helge,thanks a lot i will be busy rest of the day and will study and test during the weekend will keep you posted my channel is up and running again the wemos d1 has a big problem it often forgets the code i put in if i turn off the power very annoying but i have not made it crash when working it only stops when i stop it so far,0.0388051569462
Helge,this is so strange the other channel i have u00a0that is not public it is not secret just private is doing almost the same thing as this one and the code is the same i have received two mails today because of crash works amazing then i have the wemos i used the code below same i get from you i also have not removed my keys and still get error when i make it crash pull the electricity before the crash it works fine i get a lot of data it is when it crash it goes bad i get the error u00a0t1 20 may 2016 19 24 01t 20 may 2016 19 15 00data taim lin 0comparison is not defined between double and datetime arrays i don u00b4t understand the problem they tell me u00a0the code t1 datetime now timezone europe berlin use your timezone what time is it right now local when running thist t1 minutes 9 seconds second t1 hour 5 min less 00 sec i e before right now are adkey 9keq8xzzzzzxnyd1wdor3l data taim thingspeakread 116592 numminutes 9 fields 1 2 3 4 as i check every 5 minutes then i read the last 5 minuteslin length taim how many lines in taim array if i send each minute must be 5 lines if all o k sumi sum taim t count how many lines in taim array are newer than t i e data arrived so sumi tells me how many data points recognize thingspeak now tell me in my case via sms to my phone regular 2g no 3g needed if sumi 5response webwrite http api pushingbox com pushingbox devid v0a76b1d431104bf would ata tekstfezzzzzke end,0.0330451726913
Helge,i put in your code and it works great too mystery is what will happen when there is no data will it send a mail or will it return an error,0.223862707615
piajola,hi h as you like to try with your data yesterday i saw two cases first there is a gap of no data longer than the lapse you thingspeakread 5 or 9 minutes i e no data in the last 5 or 9 minutes or more second the channel is empty both cases ts return empty array nothing to compare right so the u00a0thingspeakread must read the last point not a lapse u00a0 u00a0thingspeakread 116592 fields 1 2 3 4 u00a0or numpoints 1 not numminutes that way you have in taim the last time of a recorded data point now find the difference in time between this last time and the time right now datetime now and see if it is larger than 15 minutes or 2 hours or wathever you want need and u00a0if so send the email i will post my version but right now this is the u00a0idea i hope this helps for now,0.245395720005
piajola,hi h if you have a channel that can be cleared you can tell both if this code works u00a0 u00a0only to clear your u00a0mystery u00a0i hope this code see how old is the last recorded data point and send the email if this time is older than you wish u00a0t1 datetime now timezone america lima u00a0 u00a0 u00a0 use your timezone what time is it right now local when running thist t1 hours 1 minutes 13 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 here 1 hour 13 minutes without data to send the email your choice data taim thingspeakread 116592 fields 1 2 3 4 taim u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 to see the time of your last recorded point you can erase this linemanda taim tif manda u00a0 u00a0 u00a0 response webwrite http api pushingbox com pushingbox devid v0a76b1d431104bf would ata tekstfezzzzzke end u00a0i think this is enough if you only want to know if your recording is stopped share if it works maybe others like to know,0.868298172951
Helge,hi this looks great and i think you explained so that i now understand the problem i will try this out soon give me a day or two u00a0 u00a0have a great weekend u00a0helge,0.966475605965
Helge,hi piajola you made it u00a0so few lines u00a0you make it look so easy i will make a few starts and stops before i declare it 100 success but i believe this is u00a0the best solution u00a0this must be very helpful to others too,0.982677221298
vespapierre,hi it seems today react is not working i have tested the thinghttp settings with the link on the page manually it is working but in the react it is not can you please check,0.22268936038
lee,hi i restarted the react service it should be working properly now thanks for notifying us lee,0.904817044735
vespapierre,hi lee thanks for the quick response yes now it is working fine pierre,0.994542002678
vespapierre,hi seems that react is now does not work does anything changed,0.219780117273
lee,this is working again now sorry about that lee,0.062230437994
vespapierre,no problem thanks for the quick reply communication and support is great was it a server issue,0.986732244492
lee,the reason this happens is that the react backend workers sometimes get stuck due to problems with thinghttp requests timeouts http errors etc and have to be restarted manually we will work on stabilizing this service better lee,0.0323987305164
chrisjmears,is react down,0.159505099058
lee,hi react is running without any problems here a public channel that performs a react every 10 minutes https thingspeak com channels 11360 lee,0.718321502209
chrisjmears,still not working for memy react should go off when prov_req 3374 3h8u is inserted into field 1 of channel 14533 i have tried contains ive tried begins with it just doesnt fire the react should then trigger a thinghttp which in turn fires a talkback on channel 539 i can manually enter the talkback command into the channel and get it to respond so thats fine so its just between the react and the thinghttp,0.699274659157
lee,hi chris sorry for the late response did you get this working correctly if not what are the ids of all of the associated channels talkbacks reacts and thinghttps lee,0.250914245844
thePlantDoctor,just can u2019t get my channel to properly tweet i was only able to tweet 4 times where as it should have been probably 30 tweets https thingspeak com channels 18259field 1 should tweet when the value is outside of 2 25c numeric on data insertion each time condition is met field 2 should tweet when the valus is outside of 2 70 numeric on data insertion each time condition is met is the tweet option not so stable yet is there a limit to how many tweets we can trigger or how often any help will be much appreciated thank you very much even when i enter data manually i was still able to send just 1 tweet so far example http api thingspeak com update key 9tyuwtfxtyc9rkt8 field1 90 field2 95 tweets by plant_doctor1,0.5
lee,hi are your tweets the same as previous tweets twitter wo not allow multiple similar tweets that have the same message so that may be the problem lee,0.898139178753
frenkinet,hi i have found odd behaviour of react this is what i am trying to do i have a dust sensor which is sending data to thingspeak if the value is over 20 for the first time then on insert the react calls thinghttp which creates new command turnon if the value is below 20 for the first time then on insert the react calls thinghttp which creates new command turnoff i have arduino asking for command every 1 minute with talkbacks 1600 commands execute if it gets command turnon then it turns on air cleaner if it gets command turnoff it turns off the cleaner if it gets no command then it continues with the same operation everthing is working fine but if sensor is sending 15 16 17 21 22 22 22 22 on 21 condition for turnon is meet and i have react set to run action only the first time the condition is met it works as expected there is only one turnon command generated but if i ask for the latest command between two inserts and so remove the command turnon from the queue react will are act every time even though i have set it to run action only the first time the condition is met in short react will fire event even if previus value last value if you send request for latest and the only one command in the queue between this two events that is weird,0.5
rkgarg,it seems my talkback command got deleted although it is still being read by the esp8266 but i am unable to update since its not visible can you restore my talkback command or there should be a provision to edit talkback id for new talkback command thanks,0.179085284472
lee,hi frenkinet do you have your talkback set to log data to the same channel that you have react set up with this would cause the problem you are describing since the talkback log actually updates the status field of the channel which can trigger react the solution would be to log talkback commands to a different channel lee,0.23041883111
lee,hi rkgarg you can update or add talkback commands using the following apis https thingspeak com docs talkback update_commandhttps thingspeak com docs talkback add_commandlee,0.937496840954
frenkinet,i have added another channel and changed talkback log to it now it works perfect it really nice to see that with this great free service comes superb support thank you very much frenki,0.991650342941
homerruma,hellothingspeak app react run only first time when i make the app recto and when the conditions are fulfilled react sent to twitter the next time you meet the requirement app does not send at twitter i use the option run action only the first time the condition is metchannel id 71785,0.5
homerruma,lee said hi are your tweets the same as previous tweets twitter wo not allow multiple similar tweets that have the same message so that may be the problem leei also create two app react having different tweet 1 vecailijednaka282 manjailijednaka28where am i wrong sorry for bad english this is google translator,0.202428221703
piajola,to who can help me rw950431 i have 1 thinghttp and 2 react ts apps working and controlling 3 pushingbox that sends 3 kind of emails according to temperature and humidity in my room this is run each 10 minutes in 01 21 2016 ts blog hans show a project that tweets a text about an alarm condition resulting from a matlab analysis that runs every 5 minutes in both cases only the last field s recorded in a channel are checked used what i need is help about the webwrite command the general total syntax in the blog it is used with thingtweet and i need to use thinghttp to send variables to http www pushingbox com i would like to matlab analysis the last 10 15 records in my channel to mean median these values prior to send a value to pushingbox not only the last value as i do now i hope someone can tell me a link s to webwrite as i have failed miserably finding info by myselfthank you very much in advance,0.5
rw950431,webwrite man pagebut i suspect you are really wanting to analyze data from thingspeak i suggest you look at the eliminate data outliers example in the matlab analysis section for tips on how to start with multiple data points u00a0but please please please do not treat me like a matlab expert i know virtually nothing about it,0.5
piajola,hi first of all thank you for the answer are you from australia the link starts with au math if so when you write i am sleeping and when i write you are sleeping so are we communicating in our dreams still to try this but i think you removed the wall that stopped me i do not know why i did not find webwrite infonow i sent some fixed data to pushingbox via webwrite in a matlab analysis pushingbox sent an email to my cellular phone provider they give us an email address that sent a sms to my phone all this for free also tried timecontrol each 6 minutes 10 hr so i think this works now to do a real matlab analysis i will not treat you like a matlab expert as requested but i think you know a lotbest wishes,0.885542035103
rw950431,curses doxxed by the matlab geo router u00a0 i only wish the gods of thingspeak would allow python as well as matlabi use the ifttt maker channel for a similar purpose,0.109980404377
polishdude20,i am getting temperature and moisture data from my channel in the matlab app like this u00a0temperaturedata thingspeakread readchannelid fields temperaturefieldid numpoints 1516 are adkey readapikey humiditydata thingspeakread readchannelid fields humidityfieldid numpoints 1516 are adkey readapikey u00a0then i am using that data to get an array of values called difference like so predictmoist 13 423 temperaturedata 642 67 difference predictmoist humiditydata i want to plot the difference array back on my channel u00a0using the thingspeakwrite function but apparently the array would ifference does not have a timestmap with each of its datapoints how do i read the time of each of my original data points so i can make a plot of difference vs time,0.5
rw950431,the online documentation for thingspeakread and thingspeakwrite contain the information about how to retrieve and submit timestamps along with data if you are going to use the same channel for your differences the more difficult problem is how to ensure your update doesnt get rejected by the 15 second update rule,0.104588359594
Adarsh_Murthy,hi u00a0to display the difference data in your channel create a matlab visualization app and then add this to your channel by selecting the appropriate channel number in the add this visualization to a channel section here is some sample code to get the timestamps and use it in your display code tempdata temptime thingspeakread 12397 fields 4 numpoints 1000 humiddata humidtime thingspeakread 12397 fields 3 numpoints 1000 predictmoist 13 423 tempdata 642 67 difference predictmoist humiddata thingspeakplot temptime difference end of code u00a0you can also change the plot command to display both the humidity and the difference by using the code below code thingspeakplot temptime humiddata difference end of code if you want to save the difference data to a channel then as u00a0rw950431 u00a0mentioned you will need to store the data in a different u00a0channel to avoid hitting the 15 second rate limit u00a0create a matlab analysis app for this purpose and use thingspeakwrite function for this some example code code tempdata temptime thingspeakread 12397 fields 4 numpoints 1000 humiddata humidtime thingspeakread 12397 fields 3 numpoints 1000 predictmoist 13 423 tempdata 642 67 difference predictmoist humiddata thingspeakwrite writechannelid difference timestamps temptime writekey write_api_key end of code if you want this code to run periodically you will also need to set up a timecontrol u00a0 adarsh,0.5
Acanom,please delete found the problem,0.0357821285725
MohanadOdema,u00a0hello i am curious why can not u00a0i have two reacts with the same test frequency and options yet the action each one is taking is a different matlab analysis code,0.5
Hans,i will have to investigate if that is the intent of the blocking the core concept is to make sure redundant reacts do not fire thanks for letting us know,0.89665555954
MohanadOdema,ok thank you please let me know what you came up with,0.961837947369
MohanadOdema,mr hans my application requires react 1 to run a matlab code 1 that updates a certain channel with u00a0value 2 if a u00a0field exceeds u00a0the condition u00a0value another react 2 runs matlab code 2 that updates a certain channel with value 1 if the temperature equals that value a final react 3 runs matlab code 3 that updates a certain channel with value 0 if the field value is less than the condition value u00a0what can be done as i am really in a dilemma here due to u00a0that blocking,0.315847694874
rw950431,if all these reacts are linked to a single channel then perhaps you can set your react to fire every time data is inserted and do a little conditional logic to perform the desired action u00a0 u00a0 you will probably have to read the channel value inside the matlab script since there doesnt seem to be a way of passing values from the react to matlab the example matlab analysis eliminate data outliers u00a0 might be a good place to start it demonstrates reading conditional logic and writing a result,0.829546928406
Hans,we currently only allow one react that is on insert that triggers matlab analysis code this might be the error that you are seeing you can set up other reacts that are time interval based,0.250852137804
MohanadOdema,rw950431 said if all these reacts are linked to a single channel then perhaps you can set your react to fire every time data is inserted and do a little conditional logic to perform the desired action u00a0 u00a0 you will probably have to read the channel value inside the matlab script since there doesnt seem to be a way of passing values from the react to matlab the example matlab analysis eliminate data outliers u00a0 might be a good place to start it demonstrates reading conditional logic and writing a result i did just that but there is a slight problem that i have not figured out u00a0yet here the code readchannelid 89192 temperaturefieldid 1 readapikey writechannelid 105620 writeapikey controlfieldid 1 tempf timestamp thingspeakread readchannelid fields temperaturefieldid numpoints 1 are adkey readapikey x tempf display x if 0 x 10 value 0 elseif 10 x 20 value 1 else value 2 enddisplay value thingspeakwrite writechannelid value fields controlfieldid writekey writeapikey regardless the value of x value is always assigned to 0 and i can not figure out why help,0.821858525276
rw950431,i dont claim to be an expert matlab coder but perhaps your if statements need to be more likeif x 0 x 10,0.5
MohanadOdema,rw950431 said i dont claim to be an expert matlab coder but perhaps your if statements need to be more like if x 0 x 10 you are absolutely right it is working fine now u00a0much gratitude,0.79967212677
AlexRyzh,help me find out plz sorry for bad english but i really need help ud83d ude41 how to set thinghttp i need to send a get request to the address address is fictional http suite com add_data php tr field1 how do i correctly fill thinghttp to send data to tr in my file on my server i tried different options but instead of my data file receives a 0 http s017 radikal ru i420 1604 98 3b0f27981ebf jpg,0.123846024275
Hans,try a few changes in the url add tr channel_1417_field_1 change the 1417 to your channel id and delete the parse string meaning leave that field blank let us know if that helps,0.5
AlexRyzh,not workhttp s019 radikal ru i610 1604 06 c2baf9c8056e jpgworkhttp s017 radikal ru i428 1604 16 2c8112f3f9d7 jpgresulthttp s017 radikal ru i418 1604 46 61dfa1c1bc8d jpg u00a0if i do so tr_22 channel_1417_field_1 the database is not transmitted anything the entry in the database is not happening no,0.5
Hans,thanks for the detailed results can you try this change url to http doda media com add_data phphttps api thingspeak com apps thinghttp send_request api_key xxxxxxxxxxxxxxxx tr channel_1417_field_1 change 1417 to your channel number i do not think mine would work for you if this does not work make sure you are using your channel number for the replacement i do not think my channel will work for you,0.780532062054
AlexRyzh,i can not understand where i paste it if you can send a picture of how it should be written thank youif i write in the url string as the string will understand that you need to send this data to a file add_data php which is on the hosting doda media com in the row indicated parameter to send but send is not specifiedhttps api thingspeak com apps thinghttp send_request api_key t25106vcdcpeez7n tr_22 channel_100625_field_1,0.5
Hans,okay try setting a browser tab in chrome to the url for the thinghttp request u00a0https api thingspeak com apps thinghttp send_request api_key xxxxxxxxxxxxxxxx tr channel_1417_field_1,0.5
AlexRyzh,u00a0not,0.752673923969
tomotomo,https jp mathworks com help thingspeak react app html bu4l4qt 1 said that i can use trigger and channel_id as replacements but i need some replacement of date and time,0.5
Luca De Nardis,hello i created a matlab analysis app with 418 lines of code the app runs fine when i hit the ave and run button and keeps working until i stay on the page of the app in the browser but as soon as i leave the page and then i access the app at a later time the code is trimmed to 154 lines and of course the app reports an error if i try to run it the only way to solve the error is to copy and paste the code again from an offline backup but again this only works until i stay on the app page is this a bug or is there a limit on the maximum length of the code that can be permanently stored in a matlab analysis app thanks luca,0.0562559664249
MohanadOdema,hello i encountered a problem when i tried to utilize talkback what i want to do is simply control a led on pin 13 of an arduino uno using an arduino ethernet sheild i added two commands on the talkback app turn_on and turn_off the problem is that the arduino does not seem to be able to initiate the get request that executes the intended commands i would appreciate it if you take a minute of your time to check if i missed out on something in my arduino code include include ethernet h include httpclient h char server api thingspeak com string thingspeakapi api thingspeak com string talkbackapikey uwafsx0ju71ocgmd string talkbackid 7583 const int checktalkbackinterval 15 1000 long lastconnectiontime 0 byte mac 0xde 0xad 0xbe 0xef 0xfe 0xed ipaddress ip 192 168 1 2 ethernetclient client1 void setup serial begin 9600 while serial pinmode 13 output digitalwrite 13 low delay 1000 digitalwrite 13 high delay 1000 digitalwrite 13 low initialize bridge if ethernet begin mac 0 serial println failed to configure ethernet using dhcp ethernet begin mac ip serial println connecting if client1 connect server 80 serial println connected void loop checktalkback delay checktalkbackinterval void checktalkback httpclient client string talkbackcommand char charin string talkbackurl http thingspeakapi talkbacks talkbackid commands execute api_key talkbackapikey client get talkbackurl while client available charin client read talkbackcommand charin if talkbackcommand turn_on serial println talkbackcommand digitalwrite 13 high else if talkbackcommand turn_off serial println talkbackcommand digitalwrite 13 low serial flush delay 3000,0.135101169348
rw950431,a couple of things to check1 if you do erial println talkbackurl after you have constructed it and paste it into your browser does it work 2 its possible you arent waiting long enough for the response do you ever get anything printed out at the erial println talkbackcommand line if not perhaps you can print out each individual charin as you read it to see what is being received,0.5
c.unhold,hello i think i found a little bug in the thinghttp parse string handling consider the following example the url gives a json with a nested object likeshort example a a1 1 b b1 1 long example https api thingspeak com apps thinghttp send_request api_key w2nnagwnbj3rfujfi want to use the parse string to extract the a object so i use the parse string a it works but the resulting json uses instead of short example parse string a gives a1 1 instead of a1 1 long example parse string are cent_swim_totals on the above long example gives https api thingspeak com apps thinghttp send_request api_key 1fig0puraojqfhs4obviously ruby is used for json processing but the ruby hash is not converted back to json i worked around the problem simply by replacing by in the get reply,0.5
polishdude20,i am trying to get the current temperature from weather underground the big green temperature value in thinghttp in the url i put in https www wunderground com ca bc port coquitlam zmw 00000 14 71775i right click on the temperature value in chrome and select inspect element then i right click on the code that has the temperature and copy the xpath then i paste in what i copied into the parse box on thinghttp the xpath i paste in for this example is id curtemp span span 1 when i go visit the url it gives me it says error parsing document try a different parse string this has happened on almost all the weather website i have been to am i doing it right is there some other parse string i can put in,0.5
rw950431,thingspeak xpath implementation is not as advanced as some others have you looked at the other threads on this forum with similar issues you can try deleting bits off your xpath to see if that helps interestingly enough firebug on firefox gives a completely different xpath for the same elements html body div 1 div 2 section div div 1 div div 4 div 1 div 1 div 3 div 1 span,0.297786712646
polishdude20,rw950431 said thingspeak xpath implementation is not as advanced as some others have you looked at the other threads on this forum with similar issues you can try deleting bits off your xpath to see if that helps interestingly enough firebug on firefox gives a completely different xpath for the same elements html body div 1 div 2 section div div 1 div div 4 div 1 div 1 div 3 div 1 spani have tried just having id curtemp as my parse string which is the exact same format thingspeak has in an example of parsing stock data from google and it still does not work your xpath that you pasted also does not work ud83d ude41,0.31207293272
rw950431,interestingly when i try your url without any parse string i get the answer 1 instead of the web page maybe wunderground is blocking thingspeak for some reason is it an option for you to sign up for a free wunderground account and use the api http www wunderground com weather api d docs mr 1,0.295194804668
tml,hi does thingspeak provide any means to provide some configuration data for iot device i am thinking about i e new firmware to be picked up by my device it cheking for it periodically or to set some other parameters this can be a simple http location where i store a text file to be obtained by get by my iot device,0.5
Hans,how long is the file you have two options if it is short you could store up to 256 characters in one field of a channel there is also an app called talkback you can store text strings stacked up in the cloud as a queue and ask for each piece of data in the queue,0.5
marwa,hii need to simulate this sensor send data to mobile then mobile forward data to cloud and measure the energy consumption latency of packet transfer how can do that where i start thanks,0.5
0xFF,few weeks ago i added channel status updates visualization to my channels but visualization field is empty i can not find information what is for and how to use setup best regards,0.120843231678
Hans,the channel status updates visualization is used to show status messages in the thingspeak channel if you do not send status messages then you will not see anything you can hide it from your channel,0.738777756691
0xFF,hans said the channel status updates visualization is used to show status messages in the thingspeak channel if you do not send status messages then you will not see anything you can hide it from your channel thanks hans i just tested this feature now i know what it is ud83d ude09regards,0.818766415119
giangist,good morning everyone i am a new user and i have a stupid problem after updating the site https thingspeak com not find the flag to make public more plugins sorry for the stupid question but are 2 days i try the site thank yougianlucap s sorry for my english i am italian,0.103511810303
Rob Purser,hi gianluca can you describe a little more what you are trying to make public on channels it on the channel options tab about 2 3s of the way down then click save channel on the visualizations choosing public on the edit screen makes it available on the public display associated with any of your channels rob,0.5
giangist,hello rob thanks for your answer i can not make public various plugins google gauge that i created long ago before there was a check box to be ticked before saving but now is no longer present thanksgianluca,0.5
AdamJWood,same problem here plugins are not working on the public page,0.0387518703938
sh-323,yep same here make public tick box has vanished from google gauge happened during the layout change i think tick box is still visible in matlab visualizations,0.5
giangist,ok now is ok,0.773029327393
giangist,ok now is ok,0.773029327393
icetea06,hi everyone i have got the same problem giangist how did you manage to make your google gauge public,0.917968034744
Hans,public plugins we have made changes to public plugins we are looking at new visualizations as in matlab visualizations and new ways to make public displays of data and controls without writing custom javascript we are making updates and hopefully this will address the custom public plugins matlab visualizations can be added to public channel views here some code to show the latest value using matlab visualizations currenttemp thingspeakread 12397 field 4 annotation textbox 0 2 0 2 0 6 0 6 horizontalalignment center have rticalalignment middle linestyle none tring num2str currenttemp u00b0f fontsize 72,0.5
xkosm,hello same problem here plugins are not working on the public page make public tick box has vanished from google gauge plugin please fix this problem,0.115844815969
mschutze,hi there after a few hours of frustration trying to figure out why my newly created temperature gauge could not be added to my public channel i finaly found this page i am not sure why this feature was removed i think it much cooler to have a gauge than just the text displaying the temperature it would be nice if the make public feature would be added back cheers,0.879620432854
kniazio,mschutze said hi there after a few hours of frustration trying to figure out why my newly created temperature gauge could not be added to my public channel i finaly found this page i am not sure why this feature was removed i think it much cooler to have a gauge than just the text displaying the temperature it would be nice if the make public feature would be added back cheersi am all for,0.85998570919
arssant,mschutze said hi there after a few hours of frustration trying to figure out why my newly created temperature gauge could not be added to my public channel i finaly found this page i am not sure why this feature was removed i think it much cooler to have a gauge than just the text displaying the temperature it would be nice if the make public feature would be added back cheershi same here very frustrating to see some nice public channel with this gauge pluging working and could u00b4t get your own even another pluging best regards,0.820336401463
kanishk.chaturvedi,hello i am also facing the same issue i have created a custom plugin i can visualize it in my private view but not on the public view could you suggest how can i visualize it on public view as well best regards,0.926903247833
Jw1342,my tip is to take the code out of the edit boxes and put together a simple display site elsewhere for your gauge ud83d ude42,0.291234135628
m-blue,the same me i am trying to make it public a few days before i found this topic new account new chanel,0.5
DeKay,can we get an update on this please the inability to display public plugins is very limiting and this issue has been an open one for months could the public plugin feature be reactivated while you work on a more permanent solution,0.17342749238
m-blue,when will be possible to make profile gauge public is it in plans or it will stay like now,0.5
tech.roberts,as others have mentioned this is very frustrating this is a great essential feature what are the plans,0.836622953415
fanest,please add this option back,0.81872844696
Resseguie,i am interested in writing a generic reusable plugin for thingspeak but all the examples i have seen are hard coded to call the api with a specific channel id and api_key if required to get the feed data is there a way for the plugin to get the current channel who page it installed on,0.766783118248
lee,hi i just wrote a simple plugin that should allow you to get the channel id depending on the channel page it exists on https thingspeak com plugins 4482 just view source and you should see the javascript code that should help you out lee,0.779937505722
Resseguie,makes sense thanks any thoughts on private channels that would require an api key,0.889266014099
lee,it a little more complicated but you could extract the api keys from a json list of your channels please see list my channels under the documentation here https thingspeak com docs channels index lee,0.5
Spreeuw,this is indeed possible by using that channel api call although it only works for the plugins when the are embedded in the channel page iframe when you detach the plugin to display it into a separate window tab it does not have any reference to the channel anymore so you would need a fallback channel api key here an example you can get your user api key from account profile https thingspeak com account profile code here https pastebin com ikscch3k could not find any way to post code to this forum without losing formatting,0.5
matjaz1118,hi i put google gauge in my chaneel and played around with settings a little bit it seems i somehow set a few settings wrong so google gauge now prevents page to be loaded fully can i temporary disable this gauge,0.239941269159
fmarzocca,matjaz1118 said hi i put google gauge in my chaneel and played around with settings a little bit it seems i somehow set a few settings wrong so google gauge now prevents page to be loaded fully can i temporary disable this gauge u00a0 u00a0same for me my channel is blocked hanging,0.148012071848
fmarzocca,i have also cleared the channel with the result to delete all points but it is still hanging pls suggest a solution,0.765042304993
cstapels,can you please clarify did you add the gauge using the gauge widget on your channel or using the plugins app,0.5
fmarzocca,cstapels said can you please clarify did you add the gauge using the gauge widget on your channel or using the plugins app u00a0 u00a0using the gauge widget on the channel through the web browser,0.5
matjaz1118,i did it using gauge widgaet also,0.781478464603
fmarzocca,i managed to remove the gauge from the page and now i have my channel back,0.180936574936
matjaz1118,fmarzocca said i managed to remove the gauge from the page and now i have my channel back u00a0 u00a0how did you manage to do that,0.249031990767
Vinod,thanks for reporting this we have rectified your particular gauge settings on the server side the issue turns out that setting the tick interval to a small number relative to the range of the gauge results in the browser trying to draw too many ticks causing the browser to hang we will be putting in checks in the code to prevent this from happening in the future,0.758133649826
cstapels,matjaz1118 is your channel gauge still stuck,0.0343375504017
matjaz1118,it gout unstuck but then i accidently changed the tick back to 0 01 and it got stuck again ud83d ude41 btw min and max values of my gague are 0 and 0 5,0.106167018414
matjaz1118,vinod said thanks for reporting this we have rectified your particular gauge settings on the server side the issue turns out that setting the tick interval to a small number relative to the range of the gauge results in the browser trying to draw too many ticks causing the browser to hang we will be putting in checks in the code to prevent this from happening in the future u00a0 u00a0vinod can you please change my gauge settings again i promiss i wo not change them back to 0 01 again ud83d ude42,0.304642617702
matjaz1118,himy cahnnel is still stuck can you pleas help me my channel id is 486008,0.0733486711979
Vinod,a fix will be deployed shortly please check back on wednesday or thursday august 15th or 16th,0.5
matjaz1118,my cahnnel is working again thankyou for the fix,0.248919397593
Vinod,thank you for your patience as we resolved this hopefully now no matter what setting you put in the gauge setting auto adjusts itself to prevent this situation ud83d ude42,0.895421147346
Soiski71,greetings i have been looking on the net for a while now and have not seen anyone done this in simple way yet my coding skills at current is almost none exsisting i have arduino nodemcu gathering temperatures info from my house i use blynk at current but adding also now direct path to thingspeak also to gather the data on app but what i really would like to is create a map of the house and have as overlay last channel information on specific locations i have read sample tutorials on here like creating a overlay map https se mathworks com help thingspeak create heatmap overlay image html and how t get data from channels but that where my skills hit a wall has anyone create anything like that and how would one start to work on it,0.884792923927
cstapels,i also want to make such a 2d overlay based on real time data i think it would be even better if it had 3d projections and animation of time lapse data i am working on it slowly what else would you like to do that is not demonstrated in the heatmap demo do you have your temperature data posted to thingspeak channels i think the next step after that is to generate the base map to put the heatmap overlay onto if you do not have an online file already you can generate on in matlab for example see https www mathworks com help matlab ref rectangle html rectangle position 1 2 5 6 axis 0 10 0 10 the next step it to aggregate the data from thingspeak and then generate the overlay let us know if you get stuck,0.169998109341
nikwer,hi thingspeak community ud83d ude42i have tried out the new thingspeak gauge widget when i set the min value to 0 or smaller everything works perfect but when i set the min value to 900 and max to 1100 i want to display the air pressure in hpa the gauge still starts at 0 without ticks until 900 i have tried differnt combinations of options but always when min is bigger than 0 this bug appears link of my gauge https thingspeak com channels 508946 widgets 3826are there any fixes thank you for your help niko,0.5
cstapels,thanks for pointing that out i was able to reproduce this issue in my channel we will check it out and get back to you shortly,0.809965372086
nikwer,cstapels said thanks for pointing that out i was able to reproduce this issue in my channel we will check it out and get back to you shortly u00a0 u00a0hi cstapels do you know when there will be a fix thank youniko,0.877315759659
piajola,hi cstapels also in edit window the pencil to change things you edit the title it is changed it persist in the edit window but it is not reflected in the channel window the others fields in the edit window are changed and the changes are reflected so your only chance is to write the title once the first time when creating the widget thank you,0.680476546288
Vinod,the widget title will be saved after editing however today you will need to refresh the channel page to see the new title this and the other issues reported in this thread will be resolved shortly one of us will post an update once this is done you will not need to make any changes on your channel widget settings to see the fixes thank you for your patience as we resolve these issues,0.821166932583

piajola,thank you vinod we patiently wait for the fixes no worries at all and again thank you for the great work,0.989545226097
Vinod,hi folks the issues reported on this thread are all addressed please try it out and let us know we would also like to hear from our users about additional widgets you want to see on thingspeak vinod,0.91872549057
piajola,hi vinod just see my channel and see the gauges are okseems good any issues i do not think so will tell hereagain thank you very much for your work,0.881985485554
nikwer,hallo vinod now it works for my pressure gauge thank you so much great work best wishesniko,0.93744456768
danu,hi how to step make formula to in coming data for ex y ax bi use dht11 for temperature and humidity readingsand wemos d1 and channel thingspeak https thingspeak com channels 514292thank you,0.5
cstapels,addressed similar post here https community thingspeak com forum thingspeak plugins apply a formula to incoming data p6362,0.5
rodri,hi is it possible to create a plugin in which a formula is applied to data i mean i have raw data coming from the sensor and i want the chart displaying converted value let say y ax bwhere x is raw data sent from sensor and y is converted data that i want to displaythanks rodri,0.5
lee,hi rodri yes this is possible but you will have to know javascript and manipulate the data points directly after they are retrieved but before the chart is drawn lee,0.5
rw950431,hi rodri i did something similar with https thingspeak com plugins 3339 in my case to convert steadily rising counter values into a rate according to the formula this_count last_count this_time last_time hopefully you can view page source to get the code thingspeak doesnt have a lot of support for sharing details of public plugins,0.760208904743
rodri,yes finally i also used plugins thank you very much,0.979801774025
danu,may i know how to apply a formula y ax b to incoming data in thingspeak i need it,0.5
cstapels,danu would it be acceptable to apply to formula after you get the data in a channel i would recommend you write the data to a channel and then use a matlab analysis script to read the data apply the formula and then write the data to another channel there are several good tutorials that show this kind of work flow for example the get started tutorial https www mathworks com help thingspeak getting started with thingspeak htmlor the wind chill tutorial https www mathworks com help thingspeak calculate wind chill htmlthese tutorials also show how to set up a time control to perform the formula application on a regular schedule if you want to apply the formula each time new data is posted you can use the react app here is an explanation of that work flow https www mathworks com help thingspeak monitor channel inactivity using multiple thingspeak apps html,0.842449307442
bborncr,is it possible to create a plugin to create buttons to send talkback commands a point in the right direction would be appreciated regards,0.947011530399
lee,hi yes you can create a plugin to send talkback commands the easiest way to do this would be to create a html button add an onclick event handler and then use jquery ajax http api jquery com jquery ajax to send the command data to thingspeak https thingspeak com docs talkback add_command please let me know if you need further help lee,0.94709020853
bborncr,thanks for the reply i tried the following which does not seem to be working https thingspeak com plugins 4376 edit,0.775384962559
lee,hi i can not view your plugin it currently set to private please edit the plugin and uncheck the private field and i will take a look at it lee,0.800460100174
bborncr,the private field is unchecked i just went in and saved it again it still unchecked,0.00968125462532
lee,hi sorry you are right the plugin is public the link was just to the edit page which i could not access in your code it may be helpful to update jquery to a newer version also your post function looks like it should be changed to post https api thingspeak com talkbacks 499 commands json apikey myapikey command_string turn_on position 1 the turnoff function should follow the same format also make sure to set myapikey correctly to your talkback api key lee,0.5
bborncr,that was it just sloppy syntax errors thanks,0.0861678719521
zesty,i see there is not a button example posted in the forums yet i need help implementing a talkback button this is that i have now that does not return anything using the execute api html window between body arrows left out on purpose button onclick myfunction click me buttonand javascript window function myfunction post https api thingspeak com talkbacks 1026 commands json apikey mykey command_string turn_on position 1 thank you scott,0.246778011322
lee,hi scott can you provide me with the id of your plugin or its url and i will take a look at it lee,0.835297226906
zesty,here it is i do not know what i am doing as far as i am concerned i would settle for the easiest means to send talkback commands from a weblink or button on webpage https thingspeak com plugins 6998,0.76884329319
lee,hi scott it looks like your code is correct but you need to add a link to the jquery library so that your javascript will run correctly in the head tags inside the body section add the following line here a full example that i made https thingspeak com plugins 6664 lee,0.803401470184
zesty,this is fantastic thank you i would suggest adding this code to the talkback documentation as an example,0.950846135616
mehmetalisubasi,hello everyone i made a toggle button just like you guys discribe but how am i going to read the value from arduino uno i want to turn on off a servo motor thank you all,0.934807002544
cstapels,mehmetalisubasi does your application need to read the value from the arduino you could just have the arduino poll the thingspeak channel and change its servo power on state to match the state of the channel you can use the talkback app to queue commands and then have the arduino poll for commands in the queue you can use mqtt to subscribe to the channel and then the mqtt broker will push updates to your device when the channel value is changed here is a particle photon example for mqtt subscribe https www mathworks com help thingspeak use particle photon client to subscribe to channel updates htmlyou can do similar things on an arduino with the pubsub library you can also just make a loop in your arduino code that polls the channel continuously to look for a change like this cheerlights example https community thingspeak com tutorials arduino cheerlights with arduino and the fastled library here is an example for reading from and writing to thingspeak with the communication library https www mathworks com help thingspeak rapid prototyping with thingspeak htmlif you really need the arduino to write the state to your channel then use the writing part of the examples write with the rest api or mqtt publish to put the state of the servo into your channel,0.5
SenneHoekman,dear users i have 5 individual charts who get data from a physical object i made using the particle photon board it is a cube with 5 buttons each buttons sends out a 1 if it is pressed each button is unique and has its own webhook and channel now i am trying to make 1 chart which contains all 5 charts and displays them over a 7 day period 1 week but i still have some issues for example even tho all my yaxismin are 0 the yaxis of my chart with multiple series is 0 5 in this line i added the yaxismin 0 like you would in any individual chart this works with would ays 7 round 0 but not with yaxismin get the data with a webservice call getjson https api thingspeak com channels channel_id fields field_number json offset 0 min 0 round 0 yaxismin 0 days 14 results results api_key api_key function data on my website you can see the individual channels which i want to combine into 1 maybe you know a better way to do this the main goal is to make it easy to see when how many times and what was pressed buttons on my object in 1 simple graph https thingspeak com apps plugins 232782help my javascript code variables for the first series var series_1_channel_id 483067 var series_1_field_number 1 var series_1_read_api_key var series_1_results 60 var series_1_color d62020 variables for the second series var series_2_channel_id 483130 var series_2_field_number 1 var series_2_read_api_key var series_2_results 60 var series_2_color 00aaff variables for the second series var series_3_channel_id 483146 var series_3_field_number 1 var series_3_read_api_key var series_3_results 60 var series_3_color 32a9d8 variables for the second series var series_4_channel_id 483147 var series_4_field_number 1 var series_4_read_api_key var series_4_results 60 var series_4_color 63d832 variables for the second series var series_5_channel_id 487759 var series_5_field_number 1 var series_5_read_api_key var series_5_results 60 var series_5_color d832d8 chart title var chart_title care cube y axis title var y_axis_title amenvatting user timezone offset var my_offset new date gettimezoneoffset chart variable var my_chart when the document is ready document on are ady function add a blank chart addchart add the first series addseries series_1_channel_id series_1_field_number series_1_read_api_key series_1_results series_1_color add the second series addseries series_2_channel_id series_2_field_number series_2_read_api_key series_2_results series_2_color add the second series addseries series_3_channel_id series_3_field_number series_3_read_api_key series_3_results series_3_color add the second series addseries series_4_channel_id series_4_field_number series_4_read_api_key series_4_results series_4_color add the second series addseries series_5_channel_id series_5_field_number series_5_read_api_key series_5_results series_5_color add the base chart function addchart variable for the local date in milliseconds var localdate specify the chart options var chartoptions chart renderto chart container defaultseriestype pline backgroundcolor ffffff events title text chart_title plotoptions series marker radius 3 animation true step false borderwidth 0 turbothreshold 0 tooltip reformat the tooltips so that local times are displayed formatter function var d new date this x my_offset 60000 var n this point name undefined this point name return this series name this y n d todatestring d totimestring replace xaxis type would atetime title text would ate yaxis title text y_axis_title exporting enabled false legend enabled false credits text thingspeak com href https thingspeak com style color d62020 draw the chart my_chart new highcharts chart chartoptions add a series to the chart function addseries channel_id field_number api_key results color var field_name field field_number get the data with a webservice call getjson https api thingspeak com channels channel_id fields field_number json offset 0 min 0 round 0 yaxismin 0 days 7 results results api_key api_key function data blank array for holding chart data var chart_data iterate through each feed each data feeds function var point new highcharts point set the proper values var value this field_name point x getchartdate this created_at point y parsefloat value add location if possible if this location point name this location if a numerical value exists add it if isnan parseint value chart_data push point add the chart data my_chart addseries data chart_data name data channel field_name color color converts date format from json function getchartdate d offset in minutes is converted to milliseconds and subtracted so that chart x axis is correct return date parse d my_offset 60000,0.5
cstapels,i would write a matlab visualization that plots the series on a single plot and then you can embed the visualization wherever you like after you set the visualization as public see this tutorial for an example of several plotshttps www mathworks com help thingspeak compare temperature data from three different days htmladditionally see the regular matlab plot function help for examples on plotting multiple series does this solution provide the type of visualization you would like to see,0.805129945278
SenneHoekman,in my html file it says note this plugin will not be visible on public views of a channel if you intend to make your channel public consider using the matlab visualization app to create your visualizations but matlab is no good since it does not feature interactive content in chart with multiple series you can hover over elements and see details can i make it so my chart with multiple series is viewable for everyone so i can place it on my website for now it just looks like this http sennehoekman be masterproef index2 htmlon my pc i can view it no problem on any other device the frame is empty and says the author made this visualisation private i am the author and i do not want this private ajax googleapis com ajax libs jquery 1 9 1 jquery min js thingspeak com highcharts 3 0 8 js thingspeak com exporting js plugin_css plugin_javascript image can not be found,0.75570499897
Vinod,you can take the html css and javascript that you put into the plugin on thingspeak and host it on your website thingspeak would provide the data storage from which your website could pull the data and render the plugin you would need to embed your channel read api key in the js hosted on your website,0.71986913681
SenneHoekman,vinod said you can take the html css and javascript that you put into the plugin on thingspeak and host it on your website thingspeak would provide the data storage from which your website could pull the data and render the plugin you would need to embed your channel read api key in the js hosted on your website u00a0 u00a0i did an exact copy of the hmtl css and javascript and when i run it i get plugin_css plugin_javascript ajax loader not even integrated in my website and it still does not show anything,0.5
Vinod,copy the css and put it in place of plugin_css in the html likewise replace plugin_javascript with the js in your html that should fix it see the jsfiddle here https jsfiddle net dtvw18os 5,0.729731917381
SenneHoekman,vinod said copy the css and put it in place of plugin_css in the html likewise replace plugin_javascript with the js in your html that should fix it u00a0 u00a0still nothing here is the txt file containing everything without the api keys of course http sennehoekman be masterproef newvisuals txtand this is the result i should get https thingspeak com apps plugins 232782,0.5
Vinod,sorry js fiddle is not updated see this https jsfiddle net t6a3xql5,0.0241972506046
SenneHoekman,vinod said sorry js fiddle is not updated see this https jsfiddle net t6a3xql5 u00a0 u00a0uhm what am i suppose to do with this,0.0372656583786
Vinod,see this https jsfiddle net yv7mknp0 click the run button on the top left is that what you want embedded on your site if so modify the html of your website to include the hml css and js,0.875706553459
SenneHoekman,vinod said see this https jsfiddle net yv7mknp0 click the run button on the top left is that what you want embedded on your site if so modify the html of your website to include the hml css and js u00a0 u00a0this is what i want on my site but whatever i do it wo not show up on my website ud83d ude41my iframe on my website shows file is possibly moved or deleted here https jsfiddle net sennehoekman 0el8hxvj there is the embed option to generate an iframe which i was already using for inidividual channels from thingspeak but this iframe does not work,0.259213715792
SenneHoekman,sennehoekman said this is what i want on my site but whatever i do it wo not show up on my website ud83d ude41my iframe on my website shows file is possibly moved or deleted here https jsfiddle net sennehoekman 0el8hxvj there is the embed option to generate an iframe which i was already using for inidividual channels from thingspeak but this iframe does not work u00a0 u00a0dude you are awesome it was not working because i was viewing it locally when i checked it after putting it online it works thanks,0.114110261202
oleksid,hello i connected a led to esp8266 and i want to see in thingspeak if the led is on or off is there any plugin that can do this thanks oleks,0.958406686783
Vinod,try the attached code type in the html into the html section of a plugin the css into the css section of the plugin and the javascript into the javascript section of the plugin you will need to modify the javascript code with your channel id and api key,0.718883156776
oleksid,hello thank you a lot in arduino ide how can i write the code to this plugin,0.932249546051
Maco33,hi u00a0i need pligin which would show the logical state of various devices such as on off light no graph perhaps as a site where it would be five wheels signal led show u00a0red on white off it is possible to create such a plugin for thinkspeak excuse my english ud83d ude09,0.807366967201
Vinod,it is pretty easy to create a custom plugin for it below is an example of a status led 1 create a new plugin on thingspeak2 in the html section put this html head plugin_css plugin_javascript head body p status led p div body html 3 in the css u00a0section put this style type text css led box height 30px width 25 margin 10px 0 float left led box p text align center margin 1em red led margin 0 auto width 40px height 40px background color f00 border radius 50 box shadow rgba 0 0 0 0 2 0 1px 7px 1px inset 441313 0 1px 9px rgba 255 0 0 0 5 0 2px 12px green led margin 0 auto width 40px height 40px background color 0f0 border radius 50 box shadow rgba 0 0 0 0 2 0 1px 7px 1px inset 304701 0 1px 9px 89ff00 0 2px 12px style u00a04 in the javascript section put this u00a0https ajax googleapis com ajax libs jquery 1 9 1 jquery min jshttps www google com jsapi google setonloadcallback initchart load the data function loaddata get the data from thingspeak getjson https api thingspeak com channels your channel number here feed last json api_key channel api read key here function data get the data point p data field1 q document getelementbyid led if there is a data point display it if p q if p 100 q classname are d led else q classname green led initialize the chart function initchart loaddata load new data every 15 seconds setinterval loaddata 1000 5 add the plugin that you just created to the channel u00a0private or public viewyou can easily extend this u00a0concept to create any plugin you wish if you know html javascript and some css,0.5
Vinod,make a modification to the above change the javascript logic to get the data point p date now new date data created_at 60 1000 q document getelementbyid led if there is a data point display it if p q if p 5 q classname are d led else q classname green led u00a0this will make the status led go red if the channel was updated over 5 minutes ago u00a0,0.731524646282
Vinod,the forum software seems to have mangled my example html section it is missing an htmldiv id led u00a0just before the u00a0 u00a0 p status led p,0.0173461139202
Maco33,thank you very much i am going to study ud83d ude09 u00a0,0.795045018196
Maco33,hi vinod so i modified it a bit and it works please could you create java script for at least two leds channels 2 and that i knew how to continue html and css i learned a little bit but i do not learned u00a0javascript u00a0yet thank you very much,0.903058767319
oleksid,hello i tried to apply this to see the led status connected to esp8266 but i wasn u2019t successful is there another code that i can use thanks oleks,0.954748928547
kiliam,hi all i have a few sensors sending data to thingspeak and discovered this awesome work that turgo from arduino forum made https forum arduino cc index php topic 213058 0i managed to download and altered some sections to my stuff but i have a problem accessing that page i dont know much about html i have that thingspeakmultichannel html file in my pc if i open it it works fine from my pc thingspeak plugin page that you can add html code if i add the code from thingspeakmultichannel html to that page and save and go to that page the chart dont appear this is my page with that code from thingspeakmultichannel html https thingspeak com apps plugins 224411the only thing that appears is highstock chart here but the chart never appears anyone have any clue about this thanks,0.840532064438
Vignesh maker,i want to send commands from thingspeak back to arduino is connected to the internet through an ethernet shield when i press a u00a0button on the webpage the main thing is can i do this using mqtt please direct me to the right documentation i can follow up from there u00a0thanks in advance,0.770085453987
cstapels,thingspeak mqtt is a good solution to provide fast response to web commands u00a0 there is an example showing how to subscribe with a particle photon this will be similar to arduino code u00a0 if mqtt does not work for you you may want to try using the talkback app which is a way to queue commands for your device your device will need to poll the que when its ready u00a0 the talkback works better if your device is asleep and wakes up occasionally to check for commands u00a0 the mqtt option is better if you want faster response u00a0,0.800341844559
Vignesh maker,thank you cstaples i accomplished this with talkback app,0.972002148628
Eduardo,hi there i have several plugins i made but when i tried to share them from my own page i came across a problem one of them https thingspeak com apps plugins 182625is 100 public check the link you will see the gauge if i edit the plugin i see the make public url in the parameters and it checkedthe other one https thingspeak com apps plugins 189102can not be accessed without my personal login if i edit it there no such a make public url checkbox to select so it can not be made public what is wrong here how come there are shareable and not shareable plugins also i have my own website is there an easier way instead of dealing with public private plugins to show a google gauge with my thingspeak data embedded in it i have full control over this website it joomla u00a0thanks everyone,0.5
Vinod,hello eduardo for security reasons we have restricted the sharing of plugins views we are working on alternative widgets that can be used for the common plugins like gauges and do not have the risk associated with plugins and would appreciate your feedback besides gauges what kind of plugins are you interested in creating and sharing can you share some links and or screenshots as to your own site you can make ajax calls from your javascript to read the last value of a field on your channel and then display that on whatever widget you can host on your website u00a0 vinod,0.901929080486
DFence,good evening first sorry for my bad english little time ago since last write english words ud83d ude09so my problem is my channel is private and i made some plugins chart with multiple series that works perfect on my esp8266 runs a server and provides me the charts i included them as an iframe like this sorry i didn u00b4t get the code in here i put it on pastebin linkwhen i log on the site with my computer 192 168 178 200 it works perfect when i log on the site with my mobile this massage comes the author made this visualization private all devices computer mobile esp8266 are in the same wifi any ideas thanks for help toni,0.207414120436
DFence,after uncountable tries at least i figured out why i get the visualization on my computer and not on my mobile i was logged in my thingspeak account on my computer and on my mobile not is there no way to get that work to make this app public or view it with the help of the readkey the working and looking of the app visualization is much better than the matlab visualization and the working with that any ideas thanks a lot toni,0.788648724556
cstapels,unfortunately it is not possible to make plugins public u00a0can you describe your application more perhaps there as a nicer way to do it with a visualization u00a0the visualizations can be made public,0.794358968735
DFence,thanks for your replay cstaples e g here is one of my charts made with appplugin first the tooltip is much easier to activate as the u00a0matlab visualizations second the appplugin is much faster third i haven u00b4t found the place yet where i can round the values in the matlab view that i have only 2 decimals fourth i u00b4m searching where i can set the range from the y axis fifth ud83d ude42 the date time in the x axis is in am pm an not like in the appplugin 24hthat all is much easier in the appplugin but here is the problem that i can u00b4t publish multiple u00a0chart with multiple series ud83d ude09thanks for your suggestions,0.836595416069
jteindl,in my javascript i have a number of variables as shown below u00a0stop new google maps latlng 59 093914487013 122 71569423377514 waypts push location stop stopover true u00a0the line in bold u00a0is what i need help with i have data transmitted to thingspeak i have an api that allows me to select the exact value to query what i need to know is how to use a get statement or anything that would work to have that stopover u00a0line be true or false based on the result so if the result queried by the api is over 8 it true if it under it is false u00a0the api line looks like this u00a0 u00a0get https api thingspeak com channels fields 1 json results 2so how do i set that bold u00a0field to query this and either be true or false based upon the result of this query u00a0if you need any more info please reply and i can fill in any blanks but i am reallllly needing some help here u00a0thank you u00a0,0.233104079962
nishaasingh29,hey how am i supposed to send my thingspeak channel data to my mysql database in real time,0.5
rw950431,assuming your mysql database is exposed to the internet you could use the react on data entry thinghttp post channel values to achieve that u00a0you are likely to get more information if you are more specific about your problem,0.157524198294
nishaasingh29,rw950431 said assuming your mysql database is exposed to the internet you could use the react on data entry thinghttp post channel values to achieve that u00a0 you are likely to get more information if you are more specific about your problem u00a0 u00a0no the database is not exposed to internet how can i connect my channel data feed to mysql on my desktop i have tried to import the csv values u00a0but that does not work in real time i want a database entry as soon as data is entered on te channel,0.151907801628
rw950431,then you will have to poll the thingspeak api regularly and download new data depends on what you mean by are al time within an hour a minute a second u00a0where is your sensor u00a0is it easier to input to mysql directly then upload to thingspeak afterwards,0.850387632847
rushanarshad,hello guys u00a0i must appreciate thingspeak is a very good platform however i am stuck at one thing and need help from the community i am using hall effect sensor to send liquid data from arduino to my channel through wifi the liquid is usually in 100s of ml i want to display the liquid for some specific hours days and weeks and even months but i am unable to see that in my graphs u00a0channel link is u00a0https thingspeak com channels 302158 i am using 20s delay to send the data and i only have one field in my channel u00a0can anyone help me in this it would be much appreciated best regardsrushan,0.0976306796074
med,i want to upload gps data latitude and longitude of my sensor gps to google map with some additional information like photo at real time how to do that is there any way please guide me i am looking for urgent help,0.5
Vinod,have you looked at this blog post http blogs mathworks com iot 2017 01 31 create a gps tracker with matlab mobile and thingspeak,0.5
Minty,hi when i click on create plugin on my server there is an error message no such file or directory rb_sysopen app views plugins templates default html the strange thing is that this file exists already two users asked about this error in the forum but none of them got a useful answer hope anyone can help me u00a0 btw i am running raspbian on a raspberry pi 3 and the database is mysql,0.238145411015
kikorojo,hello i have a plugin to display data using highstock charts in u00a0my channels u00a0in order to u00a0get the data to feed the plots i am using the command u00a0 getjson u00a0 similar u00a0to what the u00a0multiple series example does the problem is that the command u00a0 getjson is only able to request 1000 u00a0data points i have tried to change u00a0its input u00a0for higher values in u00a0 are sults 1000 but that does not work any idea on how can get more than 1000 points in my graphs this is u00a0the code that i am using function u00a0 var my_offset new date gettimezoneoffset u00a0 u00a0 u00a0 u00a0 getjson https api thingspeak com channels 239388 fields 2 json results 1000 api_key function data u00a0 u00a0 u00a0 var field_name field 2 u00a0 u00a0 u00a0 u00a0 iterate through each feed u00a0 u00a0 u00a0 var chart_data u00a0 u00a0 u00a0 u00a0 u00a0 each data feeds function u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 var point new highcharts point u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 var value this field_name u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 point x date parse this created_at my_offset 60000 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 point y parsefloat value u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 chart_data push point u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0thank you very much for your help,0.220548003912
afan,hi a good way to find out about the root cause of the problem here is to use a public channel and see whether getjson is able to request more than 1000 data points i used the channel id 9 to find out whether getjson works with more than 1000 data points below is the api request getjson https api thingspeak com channels 9 fields 1 json offset 0 round 2 results 1100 function data console log data feeds length output 1100a most probable reason for you not getting more than 1000 data points could be insufficient number of data points in your channel try to find out the exact number of data points in your channel and see whether the results parameter has a number the number of data points do let me know if this does not help u00a0regards afan,0.152987509966
mazo,hi i would like to display pressure value in format 1029 61 but the plugin returns like 1 029 61 please if anybody can help me u00a0press gauge u00a0code u00a0 script type text javascript src https ajax googleapis com ajax libs jquery 1 9 1 jquery min js script script type text javascript src https www google com jsapi script script type text javascript set your channel id here var channel_id xxxxxxx set your channel read api key here if necessary var api_key xxxxxxx maximum value for the gauge var max_gauge_value 1060 name of the gauge var gauge_name p mbar global variables var chart charts data load the google gauge visualization google load visualization 1 packages gauge google setonloadcallback initchart display the data function displaydata point data setvalue 0 0 gauge_name data setvalue 0 1 point chart draw data options load the data function loaddata variable for the data point var p get the data from thingspeak getjson https api thingspeak com channels channel_id feed last json api_key api_key function data get the data point p data field3 if there is a data point display it if p p math round p max_gauge_value 1023 displaydata p initialize the chart function initchart data new google visualization datatable data addcolumn tring label data addcolumn number value data addrows 1 chart new google visualization gauge document getelementbyid gauge_div options width 240 height 240 min 960 max 1060 majorticks 960 980 1000 1020 1040 1060 minorticks 10 greenfrom 995 greento 1030 greencolor 00e600 loaddata load new data every 15 seconds setinterval loaddata 15000 script u00a0,0.5
Vinod,i think this is because of the locale of the browser u00a0change this linegoogle load visualization 1 packages gauge togoogle load visualization 1 packages gauge language en also please refer to this page https developers google com chart interactive docs reference formattersspecifically the pattern section of the numberformat option,0.5
mazo,hi vinod u00a0thank you for your help but it seems something more have to be as i did as you suggested and the comma is still there u00a0br,0.751020610332
Vinod,hi assuming you start from the default gauge modify the displaydata method like this display the data function displaydata point var formatter new google visualization numberformat groupingsymbol decimalsymbol fractiondigits 2 data setvalue 0 0 gauge_name data setvalue 0 1 point formatter format data 1 chart draw data options i believe this u00a0should do what you need if not please post what you tried and screenshot of what you see,0.5
mazo,hi that did the trick u00a0 u00a0thank you very very much br,0.869380354881
pramod,when i run the u00a0 matlab u00a0 code i get following warning though i can see the plot u00a0warning non numeric data was found this could mean that you are attempting to retrieve data from a channel or field that has non numeric points set outputformat property to table to read non numeric data is there any way to see the plot on real time basis,0.194402247667
Vinod,you can have the matlab code be called on a react app set to be executed on data insertion u00a0you could use u00a0the thingspeakwrite function in your matlab code to write the data to a new field in the channel you can then u00a0create a new visualization with this field data,0.753962159157
SilverNodashi,vinod said you can have the matlab code be called on a react app set to be executed on data insertion u00a0you could use u00a0the thingspeakwrite function in your matlab code to write the data to a new field in the channel you can then u00a0create a new visualization with this field data u00a0 u00a0 u00a0i am trying to understand what you are u00a0saying but you lost me please explain how,0.738921999931
Vinod,silvernodashi said u00a0i am trying to understand what you are u00a0saying but you lost me please explain how u00a0 u00a0happy to give you an example if that is more helpful can you u00a0give me details of what you are trying to accomplish and i can show you a small example,0.828569293022
oskimark1,hi i want to display in the same chart different values from the same field like example field 1 temperatureand select to displayseries1 todayseries1 1 day agoseries1 2 day agoseries1 3 day agoseries1 4 day agoseries1 6 day agoseries1 7 day agoin such a way to make easy to compare the evolution of some field,0.5
SilverNodashi,hi u00a0 u00a0did you ever figure it out oskimark1 said hi i want to display in the same chart different values from the same field like example field 1 temperature and select to display series1 today series1 1 day ago series1 2 day ago series1 3 day ago series1 4 day ago series1 6 day ago series1 7 day ago in such a way to make easy to compare the evolution of some field u00a0 u00a0,0.5
hamzabazmi,how to plot my this jason stream for dynamic plot field 1 vs timestamp created_at 2016 12 19t16 41 28z entry_id 470 field1 1 82796 field2 1 90127 field3 1 91593 field4 1 88661 field5 1 77419 field6 1 69110 field7 1 67155 field8 1 71554 https api thingspeak com channels 196557 feeds last json,0.5
Vinod,if i understand right you want to plot field1 variation with time on your channel i would recommend starting here https www mathworks com help thingspeak create a chart html,0.783548593521
Tesla41,hello erveryone i am looking for a possibility to show a private plugin javascript matlab visualistion on a external website like you can do with the default field x charts by simply adding the api key to the link u00a0thank you verry much,0.74071007967
thingspeak_sc,hi i have thingspeak currently running on a unbuntu 14 04 lts server the google maps view on the channel dashboard is not working because the google api key is not set an javascript missingkeymaperror showed in the log where could the api key of google maps be specified thanks peter,0.5
RutujaShirali,does this help https www latecnosfera com 2016 06 google maps api error missing keymap error solved html,0.0437368452549
Thingspeakuser,i am new to thingspeak i u00a0tried creating the sample matlab visualization from templetes visualize the relationship between temperature and humidity i did no code modification when i say save and run i get the message stating successfully executed but i dont see any chart i am able to see the matlab output for the first two visualizations tempete only is there anything that i need to do to get the other visualization active,0.293512135744
akhila,hi shiva u00a0thank you for your post what browser are you currently using u00a0thanks u00a0akhila,0.886596441269
Vinod,after creating your matlab visualization app did you go back to the channels page and u00a0click the add visualizations and select the matlab visualization app you just created,0.809621453285
Thingspeakuser,thanks all for the support akhila i tried with chrome and ie same results multiple pc also was tried same results i am able to see graphs from the first two samples u00a0 vinod i have included the visualization but dont see anything as well later i tried not using the sample u00a0templete and create the 2 d plot from the first set of starter code from this section i am able to plot the data i still dont know why u00a0 visualize the relationship between temperature and humidity dosent work if i print the values just before the plot code it prints but no chart,0.5
Vinod,not sure why you are u00a0unable to see a visualization i was able to follow these steps 1 login to thingspeak2 click on apps matlab visialization3 new examples visualize the relationship between temperature and humidity create4 save and runi see a matlab plot output u00a0i wonder if you have any browser plugins installed that are blocking the visualizations can you try steps 1 4 on a different computer,0.5
m-blue,hi i am trygin to add a few apps plugins google gauge and chart with multiple series to public view on my channel but there is no available visualisations to add i can only add it to private view whem i am editing one of plugins there is no info about make public between save and delete buttons it was before i was trying to make new plugin but still do not have possibility to make it public no choose i have active make public in channel settings but i think that is problem that there is no option make public when i am adding new app plugin any ideas brak public1 jpgbrak public2 jpgmichal,0.32205337286
Adarsh_Murthy,hi at present plugins cannot be added to the public view of a channel refer to the following link for further information http community thingspeak com forum thingspeak plugins public plugin p2059thanks adarsh,0.5
BSB,any updates to this 11,0.277837455273
DRCO,hi forum new here but was unable to find previous posting i have tried to modify a google gauge plugin to depict a range of 175psi pounds per square inch as i am monitoring a pressure sensor with that range the gauge stays on a maximim of 100 psi i altered the java code in a manner i thought would work and was inline with a you tube video i saw suggesting how to modify it in simple terms i edited the line var max_gauge_value 175 and the line p math round p max_gauge_value 175 u00a0i should say that with these edits the pressure depicted by the gauge is correct while under 100psi u00a0greatly appreciate any help on this regards christhe entire code for the java component is as follows less my channel and api u00a0 script type text javascript src https ajax googleapis com ajax libs jquery 1 9 1 jquery min js script script type text javascript src https www google com jsapi script script type text javascript set your channel id here var channel_id xxxxxxxx set your channel read api key here if necessary var api_key xxxxxxxxxxxxxx maximum value for the gauge var max_gauge_value 175 name of the gauge var gauge_name psi global variables var chart charts data load the google gauge visualization google load visualization 1 packages gauge google setonloadcallback initchart display the data function displaydata point data setvalue 0 0 gauge_name data setvalue 0 1 point chart draw data options load the data function loaddata variable for the data point var p get the data from thingspeak getjson https api thingspeak com channels channel_id feed last json api_key api_key function data get the data point p data field1 if there is a data point display it if p p math round p max_gauge_value 175 displaydata p initialize the chart function initchart data new google visualization datatable data addcolumn tring label data addcolumn number value data addrows 1 chart new google visualization gauge document getelementbyid gauge_div options width 200 height 200 redfrom 90 redto 100 yellowfrom 70 yellowto 90 minorticks 5 loaddata load new data every 15 seconds setinterval loaddata 15000 script,0.5
piajola,hello chris you asked for any help on this so my work is stolen cloned from others to whom i say thank you and i did as dr victor frankenstein so it is at your own riskso do as frankenstein did and cut graft at your pleasure the pieces you need and bring your creature to life it is copied directly from my plug in 2 gauges for temperature 10 to 50 and humidity 30 to 80 with custom colors the comments are still there i hope the browser has not changed cr lf or other characters and in the case you can restore the codegood luck u00a0 script type text javascript src https ajax googleapis com ajax libs jquery 1 9 1 jquery min js script script type text javascript src https www google com jsapi script script type text javascript var channel_id 00000 var api_key 16lettersnumbers var max_gauge_value 1 var gauge1_name t c var gauge2_name hr var chart1 chart2 charts data load the google gauge visualizationgoogle load visualization 1 1 packages gauge google setonloadcallback initchart function displaydata point1 point2 data setvalue 0 0 gauge1_name data setvalue 0 1 point1 chart1 draw data gauge1_options data setvalue 0 0 gauge2_name data setvalue 0 1 point2 chart2 draw data gauge2_options function loaddata var p1 p2 getjson https api thingspeak com channels channel_id feed last json api_key api_key function data p1 data field1 p2 data field2 if p1 p2 p1 math round p1 max_gauge_value 100 p1 p1 1 p1 100 100 p1 parsefloat p1 tofixed 1 p2 math round p2 max_gauge_value 100 p2 p2 1 p2 100 100 p2 parsefloat p2 tofixed 1 displaydata p1 p2 function initchart data new google visualization datatable data addcolumn tring label data addcolumn number value data addrows 1 chart1 new google visualization gauge document getelementbyid gauge1_div gauge1_options min 10 max 50 minorticks 40 width 200 height 200 yellowfrom 10 yellowto 22 greenfrom 22 greento 26 redfrom 26 redto 50 gauge1_options min 10 max 50 width 200 height 200 minorticks 25 majorticks 10 20 30 40 50 greencolor aaf086 yellowcolor f9f92d redcolor fd8181 yellowfrom 10 yellowto 22 greenfrom 22 greento 26 redfrom 26 redto 50 chart2 new google visualization gauge document getelementbyid gauge2_div gauge2_options min 30 max 80 minorticks 25 width 200 height 200 yellowfrom 30 yellowto 40 greenfrom 40 greento 48 redfrom 48 redto 80 gauge2_options min 30 max 80 width 200 height 200 minorticks 20 majorticks 30 40 50 60 70 80 greencolor abf6e5 yellowcolor d994f2 redcolor 81c8fd yellowfrom 30 yellowto 40 greenfrom 40 greento 65 redfrom 65 redto 80 options width 165 height 165 greenfrom 0 greento 12 5 redfrom 87 5 redto 100 yellowfrom 12 5 yellowto 87 5 minorticks 25 loaddata setinterval loaddata 60000 script,0.758083343506
DRCO,out of my depth here and no floaties but using u00a0the age old adage of are ad the instructions i checked out the google developers code and found that the gauge default is 100 you can alter it using the max u00a0configuration option as quoted on this page u00a0google gauge u00a0as followsmaxthe maximal value of a gauge type numberdefault 100in the example code i altered these u00a0lines to make my gauge work for 175 range the crucial bit highlighted in magenta chart new google visualization gauge document getelementbyid gauge_div options width 200 height 200 max 175 redfrom 160 redto 175 yellowfrom 120 yellowto 160 minorticks 5 so thanks to piajola for the guidance and i will try to plug in the electrodes and use u00a0your code when i have more datasources,0.5
zyten,hi i am building a web interface for my project using arduino and thingspeak i am able to embed my plugin to the page but thus far it seems that the only way to update the chart is to refresh the page is there away to tweak the u00a0chart with multiple series example to refresh automatically for the default interval 15s perhaps something i missed u00a0thank you p s i tried the iframe u00a0example as well but performance wise embedding the plugin seems to be faster and there is more room for customisation,0.191295534372
andy,i have got an esp8266 logging pool water temperature and pump pressure to thingspeak and a google chart showing the real time value u00a0 this is my first post so please do not consider this spamming it the only way i know to post these charts publicly u00a0 see http www daveandandy com p 185 for the gauges the problem i am having is the initial load of the gauges u00a0 when i download the csv data file i see there are many gaps in the data not every entry has a temperature or psi value u00a0 when you first load the gauge the getjson call returns the value for the last entry even if it empty u00a0 if the value is empty common occurrence then the gauge just does not display at all u00a0 you need to wait a minute or sometimes more before something shows up i would rather the json call returns the last non empty entry instead of the last entry u00a0 that way the gauge will load and display the last known value which in most cases will be close enough to the current entry i am new to all this so i am firmly in the newb camp please be gentle u00a0 what should i change to get what i want u00a0 the current javascript code that i am focusing on is getjson https api thingspeak com channels channel_id feed last json api_key api_key function data thanks for any and all help i really do appreciate it,0.5
rw950431,how about using a different function for the initial load based on retrieving the last x results and choosing the latest one thats not blankeg use the urlhttps api thingspeak com channels 9 feeds json results 10and then iterate through the list something like i didnt test this so the code might be wrong for n 0 n data feeds length n if data feeds n field2 p data feeds n field2 displaydata p that way you hopefully get at least one usable value another way might be to modify the input code so it does not put blank values in,0.192460566759
andy,i tried to enter your update but i must have gotten something wrong u00a0 here my javascript script type text javascript src https ajax googleapis com ajax libs jquery 1 9 1 jquery min js script script type text javascript src https www google com jsapi script script type text javascript u00a0 set your channel id here u00a0 var channel_id 107642 u00a0 set your channel read api key here if necessary u00a0 var api_key ecret api u00a0 maximum value for the gauge u00a0 var max_gauge_value 100 u00a0 name of the gauge u00a0 var gauge_name psi u00a0 global variables u00a0 var chart charts data u00a0 load the google gauge visualization u00a0 google load visualization 1 packages gauge u00a0 google setonloadcallback initchart u00a0 display the data u00a0 function displaydata point u00a0 u00a0 u00a0 data setvalue 0 0 gauge_name u00a0 u00a0 u00a0 data setvalue 0 1 point u00a0 u00a0 u00a0 chart draw data options u00a0 u00a0 load the data u00a0 function loaddata u00a0 u00a0 u00a0 variable for the data point u00a0 u00a0 u00a0 var p u00a0 u00a0 u00a0 get the data from thingspeak u00a0 u00a0 u00a0 getjson https api thingspeak com channels channel_id feeds json results 10 api_key api_key function data for n 0 n data feeds length n u00a0if data feeds n field2 u00a0 u00a0 p data feeds n field2 u00a0 displaydata p u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 initialize the chart u00a0 function initchart u00a0 u00a0 u00a0 data new google visualization datatable u00a0 u00a0 u00a0 data addcolumn tring label u00a0 u00a0 u00a0 data addcolumn number value u00a0 u00a0 u00a0 data addrows 2 u00a0 u00a0 u00a0 chart new google visualization gauge document getelementbyid gauge_div u00a0 u00a0 u00a0 options u00a0 u00a0 u00a0 u00a0 u00a0 title pump pressure u00a0 u00a0 u00a0 u00a0 u00a0 width 220 u00a0 u00a0 u00a0 u00a0 u00a0 height 220 u00a0 u00a0 u00a0 u00a0 u00a0 min 0 u00a0 u00a0 u00a0 u00a0 u00a0 max 50 u00a0 u00a0 u00a0 u00a0 u00a0 redfrom 40 u00a0 u00a0 u00a0 u00a0 u00a0 redto 50 u00a0 u00a0 u00a0 u00a0 u00a0 yellowfrom 30 u00a0 u00a0 u00a0 u00a0 u00a0 yellowto 40 u00a0 u00a0 u00a0 u00a0 u00a0 majorticks 0 10 20 30 40 50 u00a0 u00a0 u00a0 u00a0 u00a0 minorticks 5 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 loaddata u00a0 u00a0 u00a0 load new data every 15 seconds u00a0 u00a0 u00a0 setinterval loaddata 15000 u00a0 script u00a0any suggestions,0.5
rw950431,i suggest you create it as u00a0 separate function like loadinitialdata which is called only once u00a0 and leave the original loaddata in place for the regular updates in what way doesnt it work u00a0 the graphs on your website are marked as private so i cant really see whats happening,0.161859840155
vinaykushwah24,dear sir i want to upload gps data of rpi to google map with some additional information like photo at real time how to do that is there any way please guide me i am looking for urgent help,0.265854418278
gjt211,hi all sorry for the extremely newbie question i have installed thingspeak on my own linux ubuntu system for use at home and understand that the plugins available on the website version of thingspeak are not available my question is how do i get started in writing a generic plugin such as the tweet control for use on my home network i am sure this needs to be a ruby rb file not like the plugins that can be created with html css javascript refer to the google gauge plugin example any advise or suggestions would be appreciated kind regardsgjt211,0.818150281906
rw950431,code for the apps appears to be in github https github com iobridge thingspeak blob 9d4b74d3daea413f37f3b92f09a5c14621a6fc9b app controllers docs_controller rb,0.5
NNH,hi what other plugins except google gauge and chart with multiple series can be added to thingspeak dashboard such as display image google map online streaming,0.736678302288
Naesstrom,heyaso i am trying to get a chart working with 7 different series so that we can get a overview of the temp at work i have managed to start getting the values in there https thingspeak com apps plugins 49459 but i need to figure out how to get a median for the temperatures like on the individual charts https thingspeak com channels 84330 according to what i read about getting the json data it should be enough to add the median 60 as in the example below but for some reason it does not work any ideas get the data with a webservice call getjson https api thingspeak com channels channel_id fields field_number json median 60 offset 0 round 2 results results api_key api_key function data,0.5
Adarsh_Murthy,hi you are correct about the median parameter adding that should give you the median for each series i just verified that adding the median parameter to the getjson call as you have shown did work here is a copy of my javascript section variables for the first series var series_1_channel_id 84330 var series_1_field_number 3 var series_1_read_api_key var series_1_results 100 var series_1_color d62020 variables for the second series var series_2_channel_id 84330 var series_2_field_number 4 var series_2_read_api_key var series_2_results 100 var series_2_color 00aaff chart title var chart_title would ata3 4 y axis title var y_axis_title values user timezone offset var my_offset new date gettimezoneoffset chart variable var my_chart when the document is ready document on are ady function add a blank chart addchart add the first series addseries series_1_channel_id series_1_field_number series_1_read_api_key series_1_results series_1_color add the second series addseries series_2_channel_id series_2_field_number series_2_read_api_key series_2_results series_2_color add the base chart function addchart variable for the local date in milliseconds var localdate specify the chart options var chartoptions chart renderto chart container defaultseriestype line backgroundcolor ffffff events title text chart_title plotoptions series marker radius 3 animation true step false borderwidth 0 turbothreshold 0 tooltip reformat the tooltips so that local times are displayed formatter function var d new date this x my_offset 60000 var n this point name undefined this point name return this series name this y n d todatestring d totimestring replace xaxis type would atetime title text would ate yaxis title text y_axis_title exporting enabled false legend enabled false credits text thingspeak com href https thingspeak com style color d62020 draw the chart my_chart new highcharts chart chartoptions add a series to the chart function addseries channel_id field_number api_key results color var field_name field field_number get the data with a webservice call getjson https api thingspeak com channels channel_id fields field_number json median 60 offset 0 round 2 results results api_key api_key function data blank array for holding chart data var chart_data iterate through each feed each data feeds function var point new highcharts point set the proper values var value this field_name point x getchartdate this created_at point y parsefloat value add location if possible if this location point name this location if a numerical value exists add it if isnan parseint value chart_data push point add the chart data my_chart addseries data chart_data name data channel field_name color color converts date format from json function getchartdate d get the data using javascript date object year month day hour minute second months in javascript start at 0 so remember to subtract 1 when specifying the month offset in minutes is converted to milliseconds and subtracted so that chart x axis is correct return date utc d substring 0 4 d substring 5 7 1 d substring 8 10 d substring 11 13 d substring 14 16 d substring 17 19 my_offset 60000 thanks adarsh,0.753424048424
Veramacor,hello all this is what i would like to do i would like to retrieve the sum of all my datapoints for a field for the current day and display the resultin a gauge control the call works in a browserno problem http api thingspeak com channels 70495 field 5 json days 1 sum dailyso i replaced this json call getjson https api thingspeak com channels channel_id feed last json api_key api_key function data with this getjson https api thingspeak com channels channel_id fields 5 json days 1 sum daily api_key api_key function data here is the code i think it fails on i do not thing p data field5 is valid the first json call returns extra json load the datafunction loaddata variable for the data pointvar p get the data from thingspeak getjson https api thingspeak com channels channel_id fields 5 json days 1 sum daily api_key api_key function data get the data pointp data field5 thingspeakif p p p 1 displaydata p any help would be appreciated thanks jeff,0.5
Veramacor,i found the answer i just needed a little education on how javascript parses the data getjson https api thingspeak com channels channel_id feed json days 1 sum daily api_key api_key function data get the data pointvar p data feeds 0 field5 thingspeakthe getjson with the function data does the parsing for you i just had to learn about how the data is referenced data feeds 0 field5 references field5 46 90999999999999 in the return json channel id 70495 name whatameter_52_1 field1 count field2 would uration field3 averagereading field4 battery voltage field5 volume created_at 2015 12 06t16 13 09z updated_at 2015 12 22t12 47 07z last_entry_id 278 feeds created_at 2015 12 22t00 00 00z field1 2825 0 field2 1004 0 field3 3788 0 field4 88 54867 field5 46 90999999999999,0.5
BSB,its probably me but not sure what i am missing i had the location map and it was working upgraded the co ordinates to give a better location but it no longer shows the map these are the coords i gave it in separate boxes 46 36366 79 89501all i get now is a grey box btw it affects both my channels,0.765312850475
hans,bsb the latitude and longitude channel setting fields must each be populated with a single decimal value for the map visualization to be enabled,0.298493087292
BSB,are not 46 36366 and 79 89501 both decimal also tried to reduce it to two decimal places eg 46 36 and 79 89 same issue just grey boxeslast i checked they were both valid numbers in the decimal system,0.251106292009
kanishk.chaturvedi,hi i am trying to create a custom thingspeak plugin however for my information i want to increase the dimension of plugin widget although i can customize the iframe properties but i need to enlarge the entire plugin window could you please suggest how can i do the same thanks best regards kanishk,0.836067378521
hans,kanishk chaturvedi can you please clarify the statement i need to enlarge the entire plugin window what do you mean when you say the entire plugin window,0.299608290195
kanishk.chaturvedi,hello i mean if i create a new plugin in my channel it appears as a small rectangular box inside which we can see the details for example gauge or any other customized details is it possible to increase the size of that rectangular box so that my plugin appears bigger another question which i already posted in another thread is that i am not able to see my plugins in the public view i can only see that in my private view could you suggest if i need to make any additional setting however i can not see any option to make those plugin public,0.5
hans,kanishk chaturvedi is it possible to increase the size of that rectangular box so that my plugin appears bigger no the current ui does not allow for the channel windows to be resized however i can not see any option to make those plugin public please refer to hans post about restricting access to public plugins http community thingspeak com forum thingspeak plugins public plugin p2059,0.5
melkikh,hi i have installed thingspeak from github on my ubuntu server 12 04 but i can not create new plugin but when i click create plugin plugin new plugin an error occurs https pp vk me c629428 v629428893 1f272 b08uopi5fyk jpgthis solution http community thingspeak com forum thingspeak plugins default plugin create crash is dos not work thanks,0.857855975628
Jlanda,hello all i am missing something i have this channel https thingspeak com channels 57844 and i have this gauge plugin configured with no problem and working https thingspeak com apps plugins 25977i read a lot but i did not find how to display my gauge in my channel page i would like somethig like that https thingspeak com channels 28294please coul you help,0.799411296844
Jlanda,problem solved firefox was not displaying in visualization tab my plugin,0.1736343503
Hans,what issue did you have with firefox,0.0956156551838
Jlanda,hi hans i believe there is no problem with firefox i made a mistake sorry let me better explain when i select the tab add visualizations i have two tabs windows and visualizations correct when i am in my plublic channel 57844 both tabs are empty at one point i was with firefox open on my public view page and chrome open on my private view page and at that moment when selected add visualization and the visualization tab in chrome the gauge plugin that i had created appeared to me so i thought the problem was in firefox but i was on different pages in different browsers that was my mistake but i still have the problem i do not know how to insert the plugin in my public view my created gauge plugin is not in the visualization tab even if i remove the gauge plugin from my private view page maybe you can hepl me with this issue i need to know how to insert my gauge plugin in my public view page regards,0.82214152813
vespapierre,hi i got back content cannot be displayed in frame message in place of the google gauge does anything changed other do you have examples ideas to display temperature values with plugins https thingspeak com channels 3426it seems your server does not allow to display the gauge within iframe but it was working before thanks,0.5
lee,hi this should be fixed now it was a default security option in rails 4 we just upgraded to it that had to be overridden lee,0.879270017147
vespapierre,hi lee yes it is now working fine thanks are there any temparature plugin and chart availability gabor,0.973015427589
oakkar7,me too added test gauge and not work its in private setting and no make public check box while creating https thingspeak com apps plugins 22355pls,0.5
hans,oakkar7 said me too added test gauge and not work its in private setting and no make public check box while creating https thingspeak com apps plugins 22355pls oakkar7 please see the following post by hans http community thingspeak com forum thingspeak plugins public plugin p2059as a workaround there is user submitted matlab code on the mathworks fileexchange that can produce radial dials and gauges there are also other types of matlab plots which may better suit your needs for more information refer to the matlab plot gallery http www mathworks com discovery gallery html s_tid srchtitle,0.5
oakkar7,jklol said oakkar7 said me too added test gauge and not work its in private setting and no make public check box while creating https thingspeak com apps plugins 22355pls oakkar7 please see the following post by hans http community thingspeak com forum thingspeak plugins public plugin p2059as a workaround there is user submitted matlab code on the mathworks fileexchange that can produce radial dials and gauges there are also other types of matlab plots which may better suit your needs for more information refer to the matlab plot gallery http www mathworks com discovery gallery html s_tid srchtitlethanks jklol,0.5
Souperman,i am trying to link to my private plugin using a browser to display buttons which control lighting in my home i see that private plugins are not supported when you are not logged on to thing speak i would like to control my lighting from a browser without logging in to thing speak but without exposing control to general public i would like to request a feature to access private plugins using an api key in a similar manner to channel and thing talk thanks,0.751906275749
hans,souperman thank you for your feedback the feature or a variant will be considered for a future release,0.951317429543
vojc,hello i u00b4m totally new on thingspeak and i would like to test googlegauge functionality pluggin i imported and is showed on the screen now very stupid question since i was not able to find info regarding how do i modify with put or any other message the value of the gauge from my browser or my embbeded system thanks in advance vojko,0.23951125145
sh-323,the simplest way is using the syntax from data import export tab enter the following into your browsers address line https api thingspeak com update key 5bapi key field1 value you can update multiple fields by adding field2 value field3 value etc note that you need to enable these channels beforehand from channel settings from your embedded system you need to learn how to send a similar http message,0.5
daturach,or you can install on mozilla a module called httprequester you can send different requests get post put etc and visualize the server responses quite simple and very useful by the way it not the only tool available,0.963301420212
xlaser,i am experiencing something really strange when using the chart with multiple series plugin the data originates from a couple of moisture sensors which will give a range of 0 to 1023 when connected to two analogue inputs on the arduino uno the thingspeak server accepts the full range on the first sensor field3 but rejects the data for the second sensor field4 if it exceeds 500 is this a bug at the thingspeak end field1 20 2 45 3 1023 4 501 is rejected by the server but field1 20 2 45 3 1023 4 500 is accepted by the serverany number above 500 for 4 returns an error has anybody experienced this,0.5
lee,hi is there an error when sending data or when trying to plot it on the plugin what is the error and what channel id is this for lee,0.162650436163
xlaser,here is a section of what is happening when sensor2 value is 500 field4 tcp connection succeededsensor1 value 1023sensor2 value 500humidity 51 70 temperature 22 20cget update api_key yy3bb2a7f4mdoyzg field1 22 2 2 51 7 3 1023 4 500returned from server number of data entries 64 tcp connection closed change the sensor2 value to 501 and this happens tcp connection succeededsensor1 value 1023sensor2 value 501humidity 52 00 temperature 22 20cget update api_key yy3bb2a7f4mdoyzg field1 22 2 2 52 0 3 1023 4 501 tcp close error the server is not returning the entry number channel 49415,0.5
thingspeak_sc,hi after clicking on create new plugin button from a default plugin template an exception occurred i am running a own thingspeak server on ubuntu server i am not sure if this really is a error or additional steps are required to setup a default plugin template the error errno enoent in pluginscontroller createno such file or directory rb_sysopen app views plugins templates default htmlthe default html file is missing do anyone know what the problem could be and what is a default plugin template thanks,0.746283769608
lee,hi that file should be there you can get a new version of it at https github com iobridge thingspeak tree master app views plugins templates lee,0.5
rayellam,hi all i have created 3 google gauges on the same window see channel 46564 all the data is being sent to ts via a prototype energy meter i am developing one of the gauges display the accumulated minutes the energy meter has been running what i would like to do is derive the hours and minutes from the minute field value and in a format like this hh mm p3 var is the accumulated minutes here is a link to the plugin code https thingspeak com plugins 17202 edithere is my java script below set your channel id here var channel_id 46564 set your channel read api key here if necessary var api_key maximum value for the gauge var max_gauge_value1 1 power factor var max_gauge_value2 10000 kw h var max_gauge_value3 10000 accumulated time name of the gauge var gauge_name1 pf var gauge_name2 kw h var gauge_name3 accum t global variables var chart1 chart2 chart3 charts data1 data2 data3 load the google gauge visualization google load visualization 1 packages gauge google setonloadcallback initchart display the data function displaydata1 point data1 setvalue 0 0 gauge_name1 data1 setvalue 0 1 point chart1 draw data1 options1 function displaydata2 point data2 setvalue 0 0 gauge_name2 data2 setvalue 0 1 point chart2 draw data2 options2 function displaydata3 point data3 setvalue 0 0 gauge_name3 data3 setvalue 0 1 point chart3 draw data3 options3 load the data function loaddata variable for the data point var p1 var p2 var p3 var hours var minutes get the data from thingspeak getjson https api thingspeak com channels channel_id feed last json api_key api_key function data get the data point p1 data field8 power factor p2 data field7 kw h p3 data field1 accumulated time in minutes derive hours and minutes from p3 hours p3 60 this is the part i want to get working var t p3 your minutes var time 0 math floor t 3600 24 slice 2 0 math floor t 60 60 slice 2 0 t 60 slice 2 would output 09 30 36 if there is a data point display it if p1 p1 math round p1 max_gauge_value1 60 displaydata1 p1 if p2 p2 math round p2 max_gauge_value2 100 displaydata2 p2 if p3 p3 math round p3 max_gauge_value3 100 displaydata3 hours initialize the chart function initchart data1 new google visualization datatable data1 addcolumn tring label data1 addcolumn number value data1 addrows 1 data2 new google visualization datatable data2 addcolumn tring label data2 addcolumn number value data2 addrows 1 data3 new google visualization datatable data3 addcolumn tring label data3 addcolumn tring label data3 addcolumn number value data3 addrows 1 chart1 new google visualization gauge document getelementbyid gauge_div1 options1 width 140 height 140 min 0 max 1 redfrom 1 redto 1 yellowfrom 1 yellowto 1 minorticks 1 majorticks 0 1 chart2 new google visualization gauge document getelementbyid gauge_div2 options2 width 140 height 140 min 0 max 10000 redfrom 10000 redto 10000 yellowfrom 10000 yellowto 10000 minorticks 5 majorticks 0 10000 chart3 new google visualization gauge document getelementbyid gauge_div3 options3 width 140 height 140 min 0 max 10000 redfrom 10000 redto 10000 yellowfrom 10000 yellowto 10000 minorticks 5 majorticks 0 10000 loaddata load new data every 15 seconds setinterval loaddata 15000,0.5
rayellam,correction the format i want to display will be dd hh mm and not dd mm ud83d ude42,0.759817838669
sturbo177,i have been playing with thingspeak plugins in order to determine the best method of generating a specific chart that i am after all i am looking to do is to plot the first value for every day on a single chart for say 180 days or so i thought this was going to be easy as i am not looking for too many data points and thingspeak provides the timescale daily option for this processing to occur on the server however daily only works for the utc day not for time zones i would like to be able to apply an offset for example i am after the first value that is entered every day in est time not utc time are there any plans to allow the daily calculations to be offset on the server side if not i have to query all of the data and do this myself not that big of deal really except that with the 8000 value limit i will have to do this many times to get the few values i am after thoughts,0.167112261057
lee,hi we have time zone parameters that should help you https thingspeak com docs timezones here are examples of two charts with different daily calculations based on time zone http api thingspeak com channels 9 charts 1 days 2 timescale daily timezone utchttp api thingspeak com channels 9 charts 1 days 2 timescale daily timezone america new_yorklee,0.5
sturbo177,i think your example shows the issue i am having i downloaded your data last 8000 points if you click on your link showing est time http api thingspeak com channels 9 charts 1 days 2 timescale daily timezone america new_york you get the following point light 359 tue jun 30 2015 16 00 00 gmt 0400which aligns with the points from the data created_at 2015 07 01t00 00 02z entry_id 8398786 field1 359 field2 55 031847133757957 if i am not mistaken the first point of the day for est time new york would be at 0400utc which corresponds to this point created_at 2015 07 01t04 00 04z entry_id 8399739 field1 338 field2 53 07855626326964 so it appears to me that the daily is taking the first point of the day in utc not est like requested i do see that your first point is changing with the different time zone request however this point is more than 8000 points ago so i cannot see this data in addition when requesting est time why is the point showing up at 1600 i am in the est time zone so that is the setting on my computer i believe it adjusting for the requested time zone from utc time and then also adjusting for the local time set on my computer what am i missing,0.5
sturbo177,i dug into this a little more since i downloaded your data from yesterday i added to it by downloading the last 8000 points from today now i have the data to cover the last 2 points in your plot here what i see the most recent point is the same point in both plots which is the first point of the day in utc time as previous post shows the first point however varies depending on the time zone used in the query for the utc case the correct point is provided the first point of the day in utc created_at 2015 07 02t00 00 14z entry_id 8404539 field1 400 field2 65 562632696390651 however for the est case this point is provided no idea why created_at 2015 07 01t09 02 51z entry_id 8400950 field1 336 field2 52 653927813163477 field 1 has many repeating values so to narrow down to the correct row i had to use the field1 and field2 combination are you seeing the same results,0.5
fishmastaflex,i am also having issues with timezones i have a python script get some json feed data to parse and i am using the timezone parameter it not working it keeps displaying utc time and nothing else i actually think it worked once or twice but now it does not since i have refreshed more than ten times to see if it fixed itself here is the channel feed i am trying which timezone is ignored https api thingspeak com channels 11869 feeds json results 30 timezone america 2flos_angelesit does work with the last entry though https api thingspeak com channels 11869 feeds last json timezone america 2flos_angeles,0.116557478905
lee,hi your first query is not a valid http request it should be https api thingspeak com channels 11869 feeds json results 30 timezone america 2flos_angeles lee,0.5
sturbo177,what about the previous case when simply trying to get the first point of the day in a specific timezone i could do this on the client side but think it would be lighter on the server to do it on the server side,0.5
lee,hi thanks for notifying us about the chart issue we have fixed the timestamps so that they appear correctly now even with a timezone the daily calculations do only use full utc days though and there currently is not a server side workaround for this lee,0.302751421928
sturbo177,lee thanks for looking into this and for the update are there any plans to add a max or min for the daily calculations i could keep this processing on the server side if a max function was implemented i see that you have an option to limit the max value returned but i am interested in finding the max value for each day any plans for this,0.74698472023
lee,hi we do not currently have plans for implementing functions to find the absolute min max over a time period but we do recognize that we have a need to provide data analysis functionality in our app lee,0.28696000576
houseofbeck,are there any highchart plugin examples i am trying to create a highchart plugin to do multiple lines on a chart https api thingspeak com plugins 3221it does not seem to do anything i have tested all of this code using a html file on my desktop and it works fine,0.187822371721
turgo,you must have fixed it i see a live feed with both series nice work,0.835685253143
houseofbeck,drat it works fine under safari and firefox on my mac it works on my iphone too it does not work on firefox on my various linux machines thanks,0.216548025608
houseofbeck,now that i think about it it odd that the same linux boxes where it works fine locally can not view the page from the thingspeak server,0.12800899148
Hans,this might be an ssl https issue some browsers are going to break if you mix https with http looking at your code i see this line http code highcharts com highcharts jschange it to https code highcharts com highcharts jsand see how it looks,0.21239104867
turgo,hi beck your post encouraged me to share a webpage i programmed that displays multiple fields and channels there the forum link http community thingspeak com forum announcements thingspeak live chart multi channel second axis historical data csv export p813i hope it useful to you and the community,0.940714836121
houseofbeck,hans thanks that fixed it turgo thank you i will check this out as well it looks pretty much like where i am headed for functionality,0.982325851917
lee,we have recently added a plugin to display multiple series on a single chart to access it create a new plugin and select chart with multiple series as the template lee,0.775878667831
chrisjmears,very niceim trying to change a few things i cant seem to set my x axis to show text instead of the datei can not seem to figure out if the chart is already dynamicrather than a number of results i would like to show the past x days as i do in the current chartsfinally i like to display the median of the last 10 minutesi have tried adding things into chart options but it doesnt seem to do anything without documentation on the variable names im a bit stuck xaxis time rolling 24 hours dynamic true days 1 median 10,0.0972321927547
lee,hi you will have to look into the plugin javascript code to modify some of these to change the x axis label find this code xaxis type would atetime title text would ate and replace it with xaxis type would atetime title text time rolling 24 hours to change the days and median replace this line getjson https api thingspeak com channels channel_id fields field_number json offset 0 round 2 results results api_key api_key function data with getjson https api thingspeak com channels channel_id fields field_number json offset 0 round 2 days 1 median 10 api_key api_key function data the plugin multiseries charts are currently not dynamic but we may add that ability in a future update lee,0.5
chrisjmears,thanks lee i shouted for help too early i actually read the code and figured that bit out dynamic would be lovely thanks for your help as always,0.988677144051
rayellam,lee said the plugin multiseries charts are currently not dynamic but we may add that ability in a future update leehi lee any idea when it would be a real nice feature,0.785510063171
lee,hi we do not have a timeline on dynamic multseries charts but it something i will try to reprioritize lee,0.912769794464
joefly,hi i have looked at the plugin for visualization does anybody have an example of a visual toggle on off switch to show the last datapoint whether it is high or low or on off,0.5
joefly,hi i have looked at the plugin for visualization does anybody have an example of a visual toggle on off switch to show the last datapoint whether it is high or low or on off,0.5
AYAduino,is there a way to trigger a plugin from timecontrol via thinghttp i tried passing api_key xx but still got error_auththanks brad,0.124708622694
lee,hi plugins can not be triggered via thinghttp since they rely on javascript and thinghttp does not parse and execute javascript code lee,0.843530535698
herode,hi everyone i am a new user with thingspeak i see that many channels have a channel loction with a google map inside and a youtube player i try to find how to make it but can not find out please somebody help me to make it or give me some references to make it thank you very much,0.754153490067
lee,hi you can go to your channel settings tab and fill in information for the video and latitude longitude which will cause the video and map to appear lee,0.5
chrisjmears,hi i am using the excellent multi axis chart i have developed a web app in javascript what i would like to do is programatically call a url which returns an svg version of the highchart so i can include this in my app from reading the documentation it seems to support a method for getsvg object additionaloptions but i cant for the life of me figure out how i would use it to do the above any assistance would be appreciatedkind regardschris,0.94067966938
lee,hi chris i can not think of a way that you would be able to serve the result of getsvg directly via a url call since it requires the client to be running javascript in a browser the closest thing that i can think of would be to have a web browser always open that dynamically loads the chart use javascript to get the svg string and post it to a database and then create an api that pulls the string from the database lee,0.5
chrisjmears,hi interestingly it looks like its something which highcharts have already implementedhttp www highcharts com component content article 2 articles news 52 serverside generated charts,0.851950109005
chrisjmears,if anyone can help turn that into some code which generates i can use with processing that would be excellenti use requestimage image path,0.802401185036
markswift,hello i am trying to add a sunrise and sunset overlay to the multiple feed chart example my aim is to end up with something like this http pi tafkas net temperatures i have found the code here http warlord no ip com howto htmlspecifically options xaxis plotbands for var i 31 i 0 i var d new date d sethours 0 0 0 0 d setdate d getdate i var sunrise d gettime computesunrise dayofyear true var sunset d gettime computesunrise dayofyear false options xaxis plotbands push from sunrise to sunset color fcffc5 does anyone have any idea how to integrate this into the example multi chart plugin thank you in advance mark,0.5
chrisjmears,hello i have followed your google gauge tutorial and added to gauges to my channel athttps www thingspeak com channels 5384it displays either the pool gauge or the panel gauge immediately but the other seems to take around 15 seconds to display i am no expert on javascript but i am assuming this is because it is waiting for the json query which feeds the gauge to return some data each piece of data is sent from the arduino on a rolling 16 second intervali epanel_sensor 16 second delay pool_sensor 16 second delay this is because i am using will nue seriot application to tether the arduino to the pc his app does not send the data as one post but rather sends one individual sensors data per post meaning it takes 32 seconds to send both records i am trying to get in touch with him to see if he is prepared to update it for the time being however is there something that can be amended in the query getjson https api thingspeak com channels 5384 feed last json apikey 4dtobcaiko2wd3kb callback function data which will allow it to display the gauges instantly or am i on the wrong track altogether,0.5
chrisjmears,following on from my above post i have been doing some investigation i still have no solution so would appreciate any helpit seems that because i am using seriot i am forced to send individual sensor updates with each post rather than both at once this means the json query being read by the google gauge readspanel_sensor 10 pool_sensor null then 15 seconds laterpanel_sensor null pool_sensor 20 etc etcnow here is the interesting part if the google gauge receives a null then it doesnt display the gauge i have set the interval to 1 second for the gauge which means it constantly checks as soon as a value becomes available i then get a gauge displayed so trying to code around this i logically thought okif data field1 null p 0 i e if the json query returns null then trap that and change it to a null however it seems that for some reason this implementation of the gauge code wont display a gauge if the value is zero 1 is fine 1 is fine but you try sending it a zero and the need stays where it is so for that reason even if i trap data field1 and turn it to a 0 the gauge still wont display on first load similary if my temperatures fall to 0 its never going to show a gauge reading of 0 i suspect this is in some way because javascript is treating 0 in the same manner as null rather than just as another number i am way out of my depth with javascript i am sure its a simple change to the code to convert null to 0 and to have 0 treat as an actual number 0here is the snippet of code from the google gauge examplefunction loaddata variable for the data pointvar p getjson https api thingspeak com channels 5384 feed last json apikey 4dtobcaiko2wd3kb callback function data get the data point p parsefloat data field2 if p displaydata p,0.793329834938
markswift,i know this is an old thread but i am experiencing the same thing as i am updating 1 channel via 2 arduino null is posted for the fields the particular arduino does not use hence the gauges then disappear any ideas,0.22724416852
geo3geo,can anyone advise on how to generate a second y axis for one of the fields on a multiple feed graph thanks,0.717912435532
lee,hi to create a secondary y axis you will need to modify the javascript and utilize highcharts api http api highcharts com highcharts yaxis here an example http jsfiddle net gh get jquery 1 7 2 highslide software highcharts com tree master samples highcharts yaxis opposite lee,0.5
geo3geo,thanks great example nice and clear geo,0.998259663582
tengelh,how can i integrate open weather data http openweathermap org to an plugin the open weather data is available as json format look http api openweathermap org data 2 5 weather q london uk is it possible to code a plugin which show me the acatual temperature thanks thorsten,0.891345918179
lee,hi thorsten i made a plugin that parses the weather data for you http api thingspeak com plugins 6878 you can see the javascript that i used by viewing the page source and you can copy paste my code and modify it to make your own plugin please note though that you can not access the plugin via https thingspeak com though since the openweathermap data is not returned via https unless you pay them for an upgraded account lee,0.5
notforyou23,i dug through some of the code for the gauges and was able to find some of the areas that you can tweak to change the default color layout of the gauges figured i would share feel free to take the below and use with your plugins body background color transparent div chart_div position center width 200 var chart var charts var data google load visualization 1 packages gauge google setonloadcallback initchart function displaydata point data setvalue 0 0 outtemp data setvalue 0 1 point chart draw data options function loaddata variable for the data pointvar p getjson https api thingspeak com channels 12446 feed last json apikey kjqbb95c9rx4nxci callback function data get the data pointp data field1 if p p p 1023 1000 p parsefloat p tofixed 1 displaydata p function initchart data new google visualization datatable data addcolumn tring label data addcolumn number value data addrows 1 chart new google visualization gauge document getelementbyid chart_div options width 200 height 200 min 10 max 110 redfrom 85 redto 110 redcolor ff0033 greenfrom 60 greento 85 greencolor 00cc33 yellowfrom 32 yellowto 60 yellowcolor 3366ff minorticks 10 majorticks 5 loaddata setinterval loaddata 15000 make changes to appearance below google visualization events addlistener chart are ady function chart_div circle nth child 2 attr fill black background chart_div circle nth child 2 attr troke gray chart_div circle nth child 2 attr troke width 2 chart_div circle nth child 1 attr fill black outer ring chart_div circle nth child 1 attr troke width 1 chart_div circle nth child 1 attr troke gray chart_div circle nth child 3 attr fill 666666 the circle pointer chart_div circle nth child 3 attr troke white chart_div text attr fill white chart_div text nth child 1 attr fill white chart_div text nth child 1 attr font size 33 chart_div text attr left chart_div path nth child 2 attr fill fc6c05 chart_div path nth child 2 attr troke white chart_div path nth child 2 attr fill opacity 2,0.5
jimgi,hello has anyone experienced this problem as yet i have two google gauges that have been working fine for months and yet when i logged in today i received the message error_auth_requiredand my gauges would not show is this related to the rails update that thingspeak have implemented does anyone know how to sort this out thanks jimgi,0.23897126317
lee,hi jimgi we just fixed this problem sorry about that thanks for notifying us too lee,0.76422226429
rw950431,my raspberry pi is currently doing a data logging task so i have written a simple shell script to post some performance data to https thingspeak com channels 10042 you can get the script at https gist github com rw950431 8702588 as you can see the data is mostly ever increasing counters what i am wanting is a way to convert these values into a rate packets sec etc for easy viewing does anyone know of a plugin or other method to easily achieve this,0.5
rw950431,due to the deafening silence i have gone ahead and made my own i used the google vis annotationchart but it should be possible to switch to another chart type fairly easily see the result at https thingspeak com channels 10042 source at https gist github com rw950431 8815072 useful docs at https developers google com chart interactive docs gallery,0.830723047256
robstwd,rw950431 thanks very much for posting those details just what i am after i shall be plagiarising your efforts although i have some catch up to do re figuring out javascript,0.878538608551
vespapierre,hi thingspeakers 1 can you put here some examples for plugins such as google gauge 2 what colours can be used during defining a simple chart for the field of a channel red blue green black yellow purple is checked already 3 i would like to put some charts from my channels to webpage embedding iframe values are ok but can have problems with resolution can you help my how to solve this i know it is rather a webpage editing question than a plugin or charts specification thanks,0.922107458115
lee,hi any html color name or code can be used for the chart colors i am not sure what you mean by embedding resolution do you want a larger chart to appear lee,0.881335794926
turgo,take a look at the webpage i made that graphs multiple channels http community thingspeak com forum announcements thingspeak live chart multi channel second axis historical data csv export,0.5
vespapierre,i just would like to have a page where the charts can be read user friendly on 1024 768 and bigger resolutions thanks for the colors turgo thanks i will check it,0.988009572029
lee,hi you can make charts any size you want please see https thingspeak com docs charts create for chart parameters lee,0.821382641792
vespapierre,hi i am looking for a plugin or solution for getting back just the value from the fields of the channel for example like google gauge gives back the current value in the middle of the screen for example temperature value and so on how can i insert the current actual value for each field to a webpage,0.5
vespapierre,ok using http api thingspeak com channels channel_id field field_id last format is great is there an example how to embed it to a webpage with some nice look,0.9359395504
lee,hi the easiest way to display it on the page with a nice look would be to use javascript to get the value and insert it into an html would iv tag with appropriate css styles unfortunately i do not have any examples of this though lee,0.778501689434
vespapierre,hi thank you for the answer will give a try,0.97985124588
Mircea3M,dear all i am wondering if there is possible to build and run small animations by using plugins for example if a led turns on and off on an mbed board let say at a time interval of 1 min i would like to see it also on a plugin on thingspeak please let me know if this is possible and what kind of tools would be needed to build such plugin by the way i found thinkspeak a great project thanks for make it free,0.980068445206
lee,hi yes building this as a plugin is possible the easiest way i can think of would be to use javascript and jquery animate functions lee,0.944651246071
Mircea3M,hi lee thanks for the hint it seems that i have to learn a little bit of jquery mircea,0.862921714783
Mircea3M,dear all where goes the jquery code fit in or how to load it within the html of the thingspeak plugin platform thanks mircea,0.730142354965
Mircea3M,hi all i got it working in case that somebody else did not know how to make it click on the following link https thingspeak com plugins 3419 right click on the page then view page source and you will get the point mircea,0.5
lee,hi mircea i think your plugin is currently private so nobody else can view it if you want others to be able to see your plugin please edit it and uncheck the private checkbox and then save your plugin lee,0.81885612011
Mircea3M,hi lee thanks for the observation i made it public anyway its just a simple use of jquery but good enough to help somebody without knowledge to get started p s regarding the forum is there a way to receive notifications by email in case of a reply to a topic or subject,0.5
lee,hi there no way that i know of to get notifications by email but i am not very familiar with how wordpress works lee,0.750541210175
nr,i just discovered that my two plugins are not working anymore without me doing any changes to them when inspecting the source it appears that the javascript code has somehow been truncated and when going to edit mode i can also only see incomplete code has anybody else experienced something similar nr,0.11290243268
lee,hi we do not truncate any of the javascript code from our side it can be as long as you want other plugins are working correctly on our system it seems that your two plugins were edited recently on dec 26 and dec 29 could you have accidentally edited them or updated them using a mobile device that truncated the data sent to our servers lee,0.76711499691
nr,i have not touched any of the plugins for several days dec 26 29 sounds about right and at least one of them was working nicely until the day before yesterday the javascript code for both plugins appear to have been truncated at the same position making it quite an odd coincidence anyway thanks for the feedback lee apart from being puzzling there no harm done i will just insert the code again nr,0.790684819221
whahoo,hi i have had the same thing on my plugin https api thingspeak com plugins 2253it stopped working in the last month or so but i have only just come back to see what the problem is i have not logged into the thinkspeak site for many months so it was not an edit from me i do not seem to have a copy of what i had in it my bad but you might want to check how this could have happened data loss bugs are bad thanks simon,0.0227424502373
lee,hi simon i think i figured out the problem with some of the data being truncated in order to better support our international users we recently switched some of our database tables over to utf8 and in the process some irregular characters may have caused the data immediately after them to be lost do you remember if you had any non alphanumeric characters perhaps right after the temp in your code i apologize for the data loss but now that the tables have been converted to utf8 it should not happen again lee,0.150424033403
nr,simon thanks for posting and backing me i checked against the original code and can confirm that the javascript code in my two plugins was in fact truncated at the location of a non alphanumeric character the degree symbol unicode u 00b0 thanks for solving the puzzle lee nr,0.5
kulgan,hi same problem for me i have 8 active plugins four of them are truncated and i have not edited them since a long time plugins 1231 3905 3906 3907like this one body background color fff var chart var charts var data google load visualization 1 packages gauge google setonloadcallback initchart function displaydata point var conso var dt new date var sec dt gethours 3600 dt getminutes 60 dt getseconds if sec 23400 sec 81000 heures pleines 06 30 a 22 30 conso point 0 0001353 data setvalue 0 0,0.5
lee,hi kulgan this was likely due to non alphanumeric characters in your code which caused data to be truncated when we converted our tables to utf8 we apologize for the problems this caused lee,0.151202648878
kulgan,thank you for the solution but is it possible to have the original script because i would prefer not to spent 2 hours to rewrite my code if possible,0.85555934906
lee,unfortunately we can not retrieve the original script lee,0.0612367987633
kulgan,hi i display 4 plugins first i obtain two and a few minutes after the two others i do not understand why there are two channels one with 1 plugin and 1 with 3 plugins it like it was ok for the first plugins on each channel and needs more time to display second and third plugin on the channel which contains 3 do you have this issue,0.5
Hans,hmm this is an odd issue i would say that the code in the plugins are taking a long time to load or conflicting with each other i would try not displaying them on a channel and see if that speeds up the loading of the channel,0.104433268309
kulgan,yes for my 3 temperatures i work on one chanel with 3 fields i am going to create one channel by field,0.5
kulgan,yes i confirm it ok with a plugin on a channel with only one field,0.718980669975
kulgan,i write here because there is no thingspeak plugins place u00a0i would like to send n u00e9gatives values to a google gauge but i do not knox how it to display temperatures values so my gauge would start from 20 u00b0 to 50 u00b0 and for now i can display 20 to 50 u00b0 scall but i send 10 u00b0 and it pointing on 10 u00b0 that the best i can do ud83d ude41 u00a0please help,0.766699016094
Hans,good idea i have created a new forum for thingspeak plugins and moved your topic here from what i know special u00a0characters u00a0and the google charts api need to be encoded i also found this topic https groups google com forum fromgroups topic google visualization api w_c jt1raaulet us know if you find anything out,0.910073459148
kulgan,hi thank you for this new forum and thank you very much for your link it contains the solution for me i add the value 20 to the gaugedata setvalue 0 1 point 20 i display the correct value in the middledata setformattedvalue 0 1 string point very nice i take this opportunity to thank you for thingspeak service very very useful,0.99055993557
mamiot,basically i am sending temp and humidity values to thingspeak channel u00a0i have setup react app for each channel to trigger alert when data has not been updated for hours u00a0but these react configuration are not working in both modes alarm one time or each time the condition is met u00a0as action i have declared prowl notification with the thinghttp apps theses actions are working perfectly when triggered manually using the correcponding url u00a0setup for that is really basic but i have maybe missed something to make the whole chain to work u00a0help will be welcome u00a0best regardsmarc u00a0,0.123193055391
Hans,marc we are looking into this doing some tests we will get back to you as soon as we find something thanks for letting us know hans,0.921888113022
akinsgre,marc u00a0is your alert configured as a thingtweet or thinghttp when you are react is triggered,0.871557354927
mamiot,alerts are configured as a thinghttp sending a request to prowl u00a0theses 2 last days i received several alert and i suppose it was you tests and troubleshooting operations u00a0many thanks for you helpbest regardsmarc,0.932220220566
krunal2411,hi all we are developing an application where we would require at least 20 temperature sensors to be logged to thingspeak channel we plan to use one channel for one device so is it possible to have more than 8 fields in a channel,0.5
cstapels,the suggested model is to use one channel for each device if you do there will be 8 fields per device for 400 fields total but you do not need to use them all if you want to be able to create a dashboard to see all of the channels at once see https www mathworks com help thingspeak embed your thingspeak plots on web pages htmlorhttps www mathworks com help thingspeak embed a chart html there are only 8 fields per channel but you can also use the status latitude longitude and elevation fields to store some additional data,0.5
matheusdeop,i am using an esp8266 connected to a mega and sending data to thingspeak however from a week ago the code stopped working it was completely ok before the code i am using is below i updated the esp firmware to the latest version 2 2 1 and still is not updating my channel even the return on the serial monitor show as successful i already tried to change the channel and the account but did not work define ssid matheus define password xxxxxxx char thingspeakaddress api thingspeak com string writeapikey xxxxxxxxxxxxxxx unsigned long intervalo 15000 unsigned long lastconection 0 int failedcounter 0 include uartwifi h wifi wifi void setup wifi begin bool b wifi initialize sta ssid password if b debugserial println init error delay 8000 string ipstring wifi showip debugserial println my ip address debugserial println ipstring string wifistring wifi showjap debugserial println wifistring void loop if lastconection intervalo millis long tim millis lastconection serial println tim lastconection millis debugserial println thingspeak connect updatethingspeak field1 22 void updatethingspeak string tsdata if wifi newmux 1 thingspeakaddress 80 wifi send post update http 1 1 wifi send host api thingspeak com wifi send connection close wifi send x thingspeakapikey writeapikey wifi send content type application x www form urlencoded wifi send content length wifi send string tsdata length wifi send wifi send tsdata serial println uccess wifi closemux else failedcounter serial println connection to thingspeak failed string failedcounter dec,0.0870958268642
cstapels,the code looks fine to me unfortunately i do not have the exact hardware to test with i have several channels that update from a esp8266 some from an 01 or some from node mcu and they are all still working using the same network are you able to update the channel from your computer for example in a browser window use the write api key try this format https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 123,0.178821653128
matheusdeop,cstapels said the code looks fine to me unfortunately i do not have the exact hardware to test with i have several channels that update from a esp8266 some from an 01 or some from node mcu and they are all still working using the same network are you able to update the channel from your computer for example in a browser window use the write api key try this format https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 123 u00a0 u00a0yes i tried this yesterday and thingspeak received the data i really do not know what is happening,0.169941306114
matheusdeop,i am not understanding what is happening yesterday it started updating again and today stopped do you have any clue about the root problem when i use a tcp conection the serial monitor do not print success but when i use udp it prints but do not update thingspeak,0.0764596760273
memoryex,hello i want to help connect the timeline chart with thingspeak json an example when the value is 1234567 in then the timeline is a bream line when the 1234567 out stops the cut line and calculates how long the line is i will give you a code and a link to json https api thingspeak com channels 463450 feeds json api_key val3td2w5ladx7k1 results 5script https www gstatic com charts loader js google charts load current packages timeline google charts setonloadcallback drawchart function drawchart var container document getelementbyid example5 1 var chart new google visualization timeline container var datatable new google visualization datatable datatable addcolumn type tring id room datatable addcolumn type tring id name datatable addcolumn type would ate id tart datatable addcolumn type would ate id end datatable addrows would arbuotojas1 viduje new date 0 0 0 12 0 0 new date 0 0 0 13 30 0 would arbuotojas2 isoreje new date 0 0 0 14 0 0 new date 0 0 0 15 30 0 would arbuotojas3 viduje new date 0 0 0 16 0 0 new date 0 0 0 17 30 0 would arbuotojas4 isoreje new date 0 0 0 12 30 0 new date 0 0 0 14 0 0 would arbuotojas5 viduje new date 0 0 0 14 30 0 new date 0 0 0 16 0 0 would arbuotojas viduje new date 0 0 0 16 30 0 new date 0 0 0 18 0 0 var options timeline colorbyrowlabel true chart draw datatable options,0.5
Squifer,i am trying to retrieve the channels from the thingspeak mqtt broker but sometimes the program doesn u2019t retrieve anything or it will only retrieve only one channel and would not get the updated channel on rare occasions we could retrieve multiple channels initially and then get the updated channels we could retrieve all the channels without problems until the start of this month does anybody else have this problem here is the code def on_connect client userdata flags rc if rc 0 print connected to broker global connection connection connected else print connection failed def on_message client userdata msg print message received payload json loads msg payload object_hook lambda d namedtuple x d keys d values print channel id payload channel_id print created at payload created_at print entry id payload entry_id print active power x10 payload field1 print avg voltage payload field2 print kwhr payload field3 print max voltage payload field4 print min voltage payload field5 print kva x10 payload field6 print rssi payload field7 mqttc mqtt client py5 create new instancemqttc on_connect on_connect attach a callback for connectmqttc on_message on_message attach a callback for messageconnection would isconnected user youruser connection usernamepassword amplepassword connection passwordmqttc username_pw_set user password password set username and passwordmqttc connect mqtt thingspeak com 1883 connect to brokermqttc loop_start while connection connected wait for connection status to change time sleep 1 print waiting print ubscribing to channels mqttc subscribe channels 486606 subscribe json samplepassword 0 subscribe to test channel 1mqttc subscribe channels 487883 subscribe json samplepassword 0 subscribe to test channel 2mqttc subscribe channels 487888 subscribe json samplepassword 0 subscribe to test channel 3mqttc subscribe channels 487889 subscribe json samplepassword 0 subscribe to test channel 4mqttc subscribe channels 487891 subscribe json samplepassword 0 subscribe to test channel 5print ubscribed try while true time sleep 1 print test except keyboardinterrupt mqttc disconnect mqttc loop_stop print program ended if __name__ __main__,0.220274358988
JasonW,which account type do you have there is a limit of 3 subscriptions for a free user account it is possible to temporarily make more than 3 subscriptions with a free account the server logic takes a few minutes to catch up when there has been a lot of connecting disconnecting by a client,0.895718574524
Squifer,thanks for the reply however the problem is not the subscriptions i have a free account with 3 devices subscribing to it although i usually use one of them at a time,0.895941138268
cstapels,in your code you seem to have at least 5 subscriptions print ubscribing to channels mqttc subscribe channels 486606 subscribe json samplepassword 0 subscribe to test channel 1mqttc subscribe channels 487883 subscribe json samplepassword 0 subscribe to test channel 2mqttc subscribe channels 487888 subscribe json samplepassword 0 subscribe to test channel 3mqttc subscribe channels 487889 subscribe json samplepassword 0 subscribe to test channel 4mqttc subscribe channels 487891 subscribe json samplepassword 0 subscribe to test channel 5also you may want to check the credentials you are using for connection the password is your mqtt api key when subscribing to a private channel use the read api key you seem to have samplepassword for both but that could just have replaced them both with the same thing have a look at the doc to be sure https www mathworks com help thingspeak subscribetoachannelfeed html,0.5
Amaresh,i would like to make an user interface for my iot project i have attached reference user interface images let me know how to achieve it using thingspeak,0.903798520565
cstapels,have you set up a channel yet have a look at the get started tutorial https www mathworks com help thingspeak getting started with thingspeak htmlonce you have a channel set up then you can consider what device you will use to update your channel you can use a device such as an arduino or esp 8266 or commands from a script in thingspeak or any interface that supports http commands or mqtt protocol once you have a device updating the data in you channel you can create a web page and embed thingspeak plots in your external web page provided you make the visualizations public https www mathworks com help thingspeak embed your thingspeak plots on web pages htmlhttps www mathworks com help thingspeak embed a chart htmlthanks for sharing your project good luck and let us know how it goes,0.5
mfcss,hi there we manufacture can bus data loggers for use in e g cars trucks etc the logger records data to an sd card when the logger is in range of a wifi cellular hotspot it will start pushing the data to a specified server the files will be u00bd 20 mb in size and need to be transferred frequently e g every few seconds a user can have 100 300 loggers deployed all sending data to the server simultaneously today we handle this using the ftp protocol it u2019s been a simple solution that most users understand however we fear it u2019s not future proof and we u2019d like to look into other options e g http mqtt in particular also to enable easy transfers to e g amazon google cloud servers a few questions that we u2019d like input on what do you believe would be the best protocol for the case described above do you have any examples of use cases apis open source code etc in such applications if we switch from ftp to another protocol is there a way to keep it simple for our u201cless techy u201d users that do not use e g amazon google servers but just their own pcs thanks a ton for your inputs martin,0.5
pjowsey,i wish to be able to support an array of identical sensors each of these being autonomous and with their own esp8266 i would like each of these to to have the same software and not requiring unique provisioning i would also like to connect all the senors to one to one channel is this sort of configuration a possibility with thinkspeak,0.239052444696
cstapels,if the updates from each sensor are asynchronous it would be more in line with the thingspeak model to use separate channels for each this makes it easier to analyze the data you could use a filter operation in matlab analysis to aggregate the data into a single channel after it is written then the writes will have a common timestamp to make the software similar for each device i would recommend having a set registration channel that provides instructions to the device when the device wakes it reads the registration channel based on its mac address if it is not on the list the device can use a rest call to create a channel and then add itself and its read write apikeys to the registration list,0.5
SailSenseTech,up until yesterday i was adding entries to my channel and see the data displayed on the field graphs all last night my data station has been adding new data and the success of the data transfer has been confirmed by the server and the number of entries stated on my channel page has been increments inline with the acknowledgement the channel is no longer displaying any of the data what is wrong,0.174559175968
cstapels,if extra characters are inserted with the data sometimes thingspeak can sometimes think of your numbers as strings and then they do not show up in the plots sometimes your browser may stop updating the plots and you may need to refresh the page if you channel is public can you share the channel number what hardware are you using to update the channel,0.300346791744
roni28,hi i have a project using dragino lora gateway i tried to upload 5 data field 1 temperature field 2 waterlevel field 3 ec field 4 ph field 5 rainrate when i tried to upload it the data change to null and all fields can not update the data when i tried to upload into 4 fields it can work i used free account and the sensor was set to send data every 5s why it can happen thanks for your response,0.310797274113
cstapels,some devices have a small buffer for sending htttp commands u00a0 i have run into this problem on the arduino before i am not sure about your hardware u00a0 one way to solve it is to separate the http command into multiple writes for example client println post update http 1 1 client println host api thingspeak com client println connection close client println content type application x www form urlencoded client println content length string postdata length client println client println api_key xxxxxxxxxxxxxxxx client println field1 10 client println field2 11 etc,0.5
rw950431,are you using the thingspeak library or do you construct the http requests by yourself u00a0 there have been various people on this forum reporting that the library can silently fail to upload more than 3 or 4 channels u00a0thingspeak is normally limited to a 15 second update rate not sure if the 5s was a typo or not,0.240555435419
roni28,hi u00a0cstapels thanks for your answer i will do as you suggest,0.99368005991
roni28,hi u00a0rw950431 i am using thingspeak library and 3 channels every channels have 5 fields i tried to upload 5 data to 5 fileds into channel 1 only for testing purpose but the data changed null maybe u00a0construct the http requests by my self can solving it problem thanks for your respond,0.226545721292
OnurEmre,hi all u00a0i am an undergradate student at electrical engineering and i have a final project about sensor network i also have difficulties about that i need to read the data from thinkspeak by using matlab running in my pc there is a solution that thinkspeak support tool includes a thinkspeakread function but this function is supported by matlab2014 i have a 2013b how can i perform this idea in shortly i need read data from thinkspeak by matlab2013b running in my pc that all is it possible please help u00a0you can send a mail e mail deuengineering gmail comthank you,0.764962911606
cstapels,this file exchange entry thingspeakfetch might work for 2013b u00a0you could also consider buying the latest student version of matlab and use the thingspeak support toolbox please let us know how the project goes,0.803394794464
digimation,i am trying to publish a multiple random data using mqtt to send data from raspberry pi to thingspeaks i want to publish the 10 values of temp to thingspeaks field but it limits me to one value every 15 seconds so is there anyway to send a list of values every 15 second to graph it with time in thingspeaks channels u00a0 span class pln temp span span class pun span span class pun span span class pln current span span class pun span span class pun span span class kwd while span span class pun span span class lit 1 span span class pun span span class com get the system performance data over 20 seconds span span class kwd for span span class pln i span span class kwd in span span class pln range span span class pun span span class lit 10 span span class pun span span class pln temp span span class pun span span class pln append span span class pun span span class pln random span span class pun span span class pln randint span span class pun span span class lit 0 span span class pun span span class lit 100 span span class pun span span class pln current span span class pun span span class pln append span span class pun span span class pln random span span class pun span span class pln randint span span class pun span span class lit 0 span span class pun span span class lit 100 span span class pun span span class com build the payload string span span class pln payload span span class pun span span class tr field1 span span class pun span span class pln str span span class pun span span class pln temp span span class pun span span class pun span span class tr amp field2 span span class pun span span class pln str span span class pun span span class pln current span span class pun span span class com attempt to publish this data to the topic span span class kwd try span span class pun span span class pln publish span span class pun span span class pln single span span class pun span span class pln topic span span class pun span span class pln payload span span class pun span span class pln hostname span span class pun span span class pln mqtthost span span class pun span span class pln transport span span class pun span span class pln ttransport span span class pun span span class pln port span span class pun span span class pln tport span span class pun span span class pln auth span span class pun span span class tr username span span class pun span span class pln mqttusername span span class pun span span class tr password span span class pun span span class pln mqttapikey span span class pun span span class kwd print span span class pun span span class tr published temp span span class pun span span class pln temp span span class pun span span class tr current span span class pun span span class pln current span span class pun span span class tr to host span span class pun span span class pln mqtthost span span class pun span span class tr clientid span span class pun span span class pln clientid span span class pun span span class kwd except span span class pun span span class typ keyboardinterrupt span span class pun span span class kwd break span span class kwd except span span class pun span span class kwd print span span class pun span span class tr there was an error while publishing the data span span class pun span span class pln time span span class pun span span class pln sleep span span class pun span span class lit 15 span span class pun span,0.5
cstapels,u00a0have a look at the documentation for mqtt publish to a channel feed u00a0 you can definitely send all 8 fields in a single publish and you can do this every 15 seconds u00a0 if you needed to you could also use the location and status fields but i think you would be better served to put 5 measurements in each channel or even use a separate channel for each value u00a0 u00a0to publish to multiple fields at once your publish message should have the format field1 xx field2 yy field3 zz,0.5
rezaaryadi,hello so in my project i will send command hcitool data scheduled every hour everyday depends on the schedule in mysql table example monday 10 00 13 00wednesday 15 00 17 00then my raspi will do hcitool command to capture bluetooth mac address around it at monday 10 12 13 and wednesday 15 16 17 u00a0the question is do anyone know how to trigger it from mysql u00a0 u00a0best regards,0.5
rw950431,where is the mysql table located u00a0 is mysql running on your raspi or somewhere else if its running on the raspi then one solution is a cron job that runs every hour this triggers a script that compares the current time to the list stored in the database and takes action when they match what is the structure of your table u00a0 how are you going to represent the range of time and days,0.5
Rocky,hello guys u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 i am working on a project garbage monitoring using ir sensors and nodemcu am using two sensors placed at two positions so that it ll indicate two status of the garbage bin one is for 50 and the other for 90 100 i integrated the complete setup with ir sensors and nodemcu and was able to get connected to thethingspeak server but there are no changes on the thingspeak server graph its continuously showing 0 despite changing conditions at the project end please do help me out in this regard thanks in advance,0.5
cstapels,does the number of entries change on your channel are you able to update your channel using a web browser u00a0 u00a0https api thingspeak com update api_key xxxxxxxxxxxxxxxx field1 123 make sure to change to your write api key,0.5
Vignesh maker,there is only documentation for publishing to thingspeak from arduino client using mqtt can anyone help me out to subscribe a channel from an arduino u00a0client and receive data using mqtt u00a0is it even possible u00a0btw i was able to receive data using the mqtt fx software thanks in advance,0.5
cstapels,it is most definitely possible i have the recess lights in my kitchen subscribed to a channel using a node mcu programmed with arduino in the documentation there is an example for subscribing from a particle photon which is very similar to arduino u00a0 you might want to use the pubsub client library for the arduino version let me know if that works u00a0 i can share my code if not,0.5
Vignesh maker,thank you for the replyplease share your code i tried everything i used the pubsub client and only the publishing part was working this is my code include pubsubclient h include spi h include ethernet h byte mac 0xde 0xad 0xbe 0xef 0xfe 0xed ethernetclient client unsigned long mychannelnumber 409468 char mqttusername mqtttrial char mqttpass mqttapikey const char server mqtt thingspeak com char readapikey channelreadapikey unsigned long lastconnectiontime 0 const unsigned long postinginterval 20l 1000l static const char alphanum 0123456789 abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz pubsubclient mqttclient client u00a0void callback char topic byte payload unsigned int length serial print message arrived serial print topic serial print for int i 0 i length i serial print char payload i u00a0void reconnect char clientid 10 while mqttclient connected serial print attempting mqtt connection for int i 0 i 8 i clientid i alphanum random 51 delay 50 connect to the mqtt broker if mqttclient connect clientid mqttusername mqttpass serial print connected with client mqttclient subscribe channels 409468 subscribe fields field1 readapikey else serial print failed rc serial print mqttclient state serial println try again in 5 seconds delay 5000 u00a0void setup ethernet begin mac serial begin 9600 mqttclient setserver server 1883 mqttclient setcallback callback delay 1500 u00a0void loop if mqttclient connected reconnect mqttclient loop u00a0 u00a0i am grateful thanks,0.5
cstapels,here is my working subscribe function running right now on a node mcu esp8266 12 programmed in arduino ide int mqttsubscribe long subchannelid int field char readkey string mytopic channels string subchannelid subscribe fields field string field string readkey serial println ubscribed to mytopic serial print tate string mqttclient state char charbuf mytopic length 1 mytopic tochararray charbuf mytopic length 1 return mqttclient subscribe charbuf and here is the call to it from reconnect if mqttclient connect clientid mqttusername mqttpass serial println connected with client id string clientid user string mqttusername pwd string mqttpass if mqttsubscribe channelid 1 readapikey 1 serial println ubscribed u00a0one difference is the conversion of the topic to a char array u00a0 perhaps the string is null terminated and that is confusing the mqttclient subscribe,0.5
Vignesh maker,thank you csatples but i am still not receiving any reply the mqtt connection is getting established the mqtt state is 0 which says the client is connected u00a0 mqttclient subscribe charbuf is also returning true which states that my subscription is successful u00a0the only problem is with the callback this function not even getting invoked the program is not entering this function please help me out with this and after every subscription the client is disconnecting and then connecting again using are connect is that normal u00a0 include include include byte mac 0xde 0xad 0xbe 0xef 0xfe 0xed ethernetclient client unsigned long mychannelnumber 409468 char mqttusername mqtttrial char mqttpass mqttpass u00a0 const char server mqtt thingspeak com char readapikey are ad api key unsigned long lastconnectiontime 0 const unsigned long postinginterval 20l 1000l static const char alphanum 0123456789 abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz pubsubclient mqttclient client u00a0void setup ethernet begin mac serial begin 9600 mqttclient setserver server 1883 mqttclient setcallback callback delay 1500 u00a0void loop if mqttclient connected reconnect mqttclient loop u00a0void reconnect char clientid 10 while mqttclient connected serial print attempting mqtt connection for int i 0 i 8 i clientid i alphanum random 51 delay 50 connect to the mqtt broker if mqttclient connect clientid mqttusername mqttpass serial print connected with client int a mqttsubscribe mychannelnumber 1 readapikey serial print value serial println a else serial print failed rc serial print mqttclient state serial println try again in 5 seconds delay 5000 void callback char topic byte payload unsigned int length serial print message arrived serial print topic serial print for int i 0 i length i serial print char payload i u00a0int mqttsubscribe long subchannelid int field char readkey string mytopic channels string subchannelid subscribe fields field string field string readkey serial println ubscribed to mytopic serial print tate string mqttclient state char charbuf mytopic length 1 mytopic tochararray charbuf mytopic length 1 return mqttclient subscribe charbuf u00a0thanks for your patience with me,0.892988502979
Vignesh maker,i dont know why but my post is in awaiting moderation phase for a week now u00a0,0.189108341932
cstapels,sometimes the spam checker flags posts for odd reasons u00a0 we are looking into this u00a0 thanks for your patience u00a0 u00a0,0.801562666893
Vignesh maker,hello cstaples the code that you suggested and i had been perfectly working the problem was with my internet sharing from my laptop i had used an arduino and an ethernet shield and using the laptop lan u00a0port i shared my wifi connection to the arduino u00a0the same process worked fine on a different laptop but with mine it is not working still trying to figure out where the problem is with my laptop anyways the subscription is working well thanks a lot u00a0,0.779306530952
noob3,hi i have made a data logger with arduino and esp8266 the data being the temperature and humidity what i wanted to know is there some way i can set a threshold value and thingspeak reacts on it by sending a email suppose the temperature has increased above the threshold temperature and then it will send email to certain people other thing is there any time limit to which i can access the free channel or can i just pump data for free for ever u00a0,0.787230551243
Vignesh maker,hello yes you can set threshold and trigger using the combination of thingspeak apps u00a01 talkback u00a02 react and u00a03 thinghttpthere is no time limit for the free version the only limit is that we can post data only every 15 seconds to thingspeak not less than that u00a0 u00a0btw i am also trying out a similar project using esp8266 can you please share your code or documentation on how you are transferring data using esp8266 to thingspeak i am currently successful only by using ethernet shield on arduino u00a0,0.834858357906
noob3,i have followed the instructions from https www instructables com id arduino iot temperature and humidity with esp8266 it works perfectly for me i had to make some subtle changes though the link has detailed explanation as well as the code for any other issues pm me,0.159963339567
rw950431,there is no direct way to send an email from a react u00a0 as vignesh pointed out you can use a thinghttp u00a0 the easiest way i know of to send an email is via ifttt u00a0 set up an incoming maker webhook https ifttt com maker_webhooks then point your thinghttp at it,0.5
cstapels,vignesh heve you seen the esp examples in the thingspeak examples documentation there is an example for reading temperature using the thingspeak communication library an one for a moisture monitor writing http commands directly with a wifi client u00a0 these are demonstrated with an esp 8266 12 but they work on esp 8266 01 u00a0 let me know if you need help getting them going on the 01,0.5
Vignesh maker,thank you so much for the replies i will sure try them out and will get back to you,0.976059257984
legoxx,hello everybody i have tried to use excellent graph js library http www highcharts com with thingspeak to show multiple graphs from multiple channels to be honest it was not painless because of various jquery and javascript quirks but at the endi am quite happy with it result can be seen at http peter kmet sk okno all the code is just js html please feel free to re use and modifypossible hints for improvement live data loading data interpolation in case point in time is missingcheerslegoxx,0.854354977608
Hans,highstock charts are really awesome thanks for sharing,0.973082482815
Pesa11,hello nice job could you send me the source code i cant find on this pages thx,0.857361078262
OH6MQM,hellohow i should enter video url to channel feed how to configure it to youtube or wimeo i did not find any instruction u00a0br esko p,0.199632257223
cstapels,are you trying to add a video to the channel information such as a video describing your channel or are you trying to put a ink to a video in channel data u00a0 can you provide an example a link to the video url that you are using,0.5
OH6MQM,cstapels said are you trying to add a video to the channel information such as a video describing your channel or are you trying to put a ink to a video in channel data u00a0 can you provide an example a link to the video url that you are using u00a0 u00a0 u00a0i am trying to publish a channel as video but i do not know how to do thatchannel settings show video youtube or videoi do not know how to do and there are no good instruction available u00a0br esko p,0.153403520584
dab0015,hey guys i wanted to show you my latest little project a cigar humidor that regulates humidity automatically and sends me e mail notifications when configured conditions are met i described the project with pictures on my blog http dbrenk blogspot de p humidor 20 htmlbut apart from showing off i also want to help everyone who wants to add e mail functionality to their thingspeak project when i started i searched the net and also this forum but couldn u00b4t find a good explanation on how to add e mail notifications so i figured out a working configuration and wrote a how to myself its available at http dbrenk blogspot de 2015 03 connecting thingspeakcom to htmland here the short form configuration 1 configure a pushingbox com scenariosubject humidor 2 0 daily update hum body humidity hum temperature temp 2 configure a thinghttp action on thingspeak comname humidor 2 0 daily updateurl http api pushingbox com pushingboxmethod postcontent type application x www form urlencodedhttp version 1 1body devid deviceidfrompushingbox hum channel_24484_field_2 temp channel_24484_field_1 3 configure a timecontrol trigger on thingspeak comconfigure the time interval neededaction thinghttpselect profile humidor 2 0 daily updateexplanation pushingbox com hum and temp are the variables that we submit via http post from thingspeakthingspeak com deviceidfrompushingbox the id identifies the configured scenario on pushingboxthingspeak com channel_24484_field_2 variable from channelthingspeak com channel_24484_field_1 variable from channeli hope this helps some of you,0.768067955971
lee,hi thanks for sharing this project i will try to remember to refer people to your blog post if they ask for email notifications via thingspeak hopefully we will get around to adding notifications directly into our codebase in the future lee,0.971223711967
jjavierjg,your blog is private can you shared it,0.849571347237
Franky123,hi guys i am using a a graphic programming u00a0 tool for arduino called visuino one of its components is mqtt which i have used successfully connected with adafruit but i really want to use it with thingspeak and failed to do so i would be grateful if someone who has achieved this could help me thank you for your interest,0.880239844322
gillesroszak,hi everyone i created a channel that shows the leaf wetness 0 being very wet and 1000 being dry on the y axis the number 1000 is at the top of the axis and the number 0 at the bottom is there a way to reverse it yhanks for your reply u00a0gilles,0.790068745613
l3inbin,hello i have a little problem i want to send my ecg data to thingspeak to plot the graph but i am free user if i bought student package could i plot ecg graph because i need 200 per second u00a0best regard,0.211823731661
cstapels,student licenses allow you to post once per second u00a0the fields can contain up to 255 characters so you could consider buffering and then encoding your results u00a0the lower resolution you need for your measurements the higher rate you will be able achieve u00a0in general though u00a0200 hz is faster than what thingspeak will allow at present,0.747435033321
paulyshore,how can i change my update rate to 1 per min i do not need to update every 15 sec,0.264919519424
rw950431,what code are you using u00a0 u00a0 you are free to update your channel at whatever interval suits you so long as its not more than 1 every 15 seconds,0.883732914925
eddie84,hi i wrote this code to run two ds18b20 probes on the nodemcu with a probe the system works perfectly but with two probes i have difficulty you can help me include esp8266wifi h include onewire h include dallastemperature h def define myperiodic 15 in secondi thingspeak pubblica in 15sec define one_wire_bus 2 ds18b20 sonda n u00b0 1 su arduino pin2 corrisponde a d4 su nodemcu define one_wire_bus2 14 ds18b20 sonda n u00b0 2 su arduino pin2 corrisponde a d5 su nodemcuonewire onewire one_wire_bus onewire onewire2 one_wire_bus2 dallastemperature ds18b20 onewire float prevtemp 0 float prevtemp2 0 const char server api thingspeak com string apikey xxxxxxxxxxxxxxxx apikey thingspeak comconst char my_ssid xxxxxxxxxxxx nome ssid wificonst char my_pwd xxxxxxxxxxxxx password wifiint sent 0 void setup serial begin 115200 connectwifi void loop float temp char buffer 10 ds18b20 requesttemperatures temp ds18b20 gettempcbyindex 0 string tempc dtostrf temp 4 1 buffer gestito in sendtemp serial print string sent temperatura sonda alta puffer serial println temp float temp2 char buffer 10 ds18b20 requesttemperatures temp2 ds18b20 gettempcbyindex 1 string tempc dtostrf temp 4 1 buffer gestito in sendtemp serial print string sent temperatura sonda bassa puffer serial println temp2 if temp prevtemp sendteperaturets temp prevtemp temp sendteperaturets temp sendteperaturets temp2 int count myperiodic while count delay 1000 void connectwifi serial print connecting to my_ssid wifi begin my_ssid my_pwd while wifi status wl_connected delay 1000 serial print serial println serial println connesso serial println fine connessionevoid sendteperaturets float temp void sendteperaturets float temp2 wificlient client if client connect server 80 usa ip 184 106 153 149 oppure api thingspeak com serial println wifi client connected string poststr apikey poststr field1 poststr string temp poststr string poststr apikey poststr field2 poststr string temp2 poststr client print post update http 1 1 client print host api thingspeak com client print connection close client print x thingspeakapikey apikey client print content type application x www form urlencoded client print content length client print poststr length client print client print poststr delay 1000 fine if sent client stop fine invio,0.5
rw950431,what difficulty are you having u00a0wont compile u00a0runs but doesnt send anything u00a0sends wrong data u00a0your code looks ok u00a0 i dont think you need u00a0onewire onewire2 one_wire_bus2 but its not used up until u00a0void sendteperaturets float temp void sendteperaturets float temp2 wificlient client try deleting the line void sendteperaturets float temp2 u00a0 u00a0otherwise how are you connecting the one wire sensors 3 wire mode or 2 wire mode u00a0its best to use 3 wire mode do you have the pullup resistor connected see http playground arduino cc learning onewire,0.5
eddie84,the code above is completely wrong i wrote another and it works correctly now i wanted to know if there is the ability to send notifications by telegram or email when a temp valuerw950431 said what difficulty are you having u00a0wont compile u00a0runs but doesnt send anything u00a0sends wrong data u00a0 your code looks ok u00a0 i dont think you need u00a0onewire onewire2 one_wire_bus2 but its not used up until u00a0 void sendteperaturets float temp void sendteperaturets float temp2 wificlient client try deleting the line void sendteperaturets float temp2 u00a0 u00a0 otherwise how are you connecting the one wire sensors 3 wire mode or 2 wire mode u00a0its best to use 3 wire mode do you have the pullup resistor connected see http playground arduino cc learning onewire u00a0 u00a0,0.0562415122986
rw950431,check out the react thinkspeak app to do that kind of thing on the thingspeak side there is a built in twitter interface i dont know about telegram but i wrote a little piece about my experiences interfacing to slack which might give you a starting point http community thingspeak com forum thingspeak apps thinghttp slack incoming webhook p3842 you can also use the ifttt maker channel but i found there were often long delays in forwarding messages,0.705470085144
irproject,hii succeeded send data from a sensor by arduino uno esp8266 to my thingspeak channel now i want to send back data from my channel to arduino uno help u00a0 tnx,0.758320629597
rw950431,what exactly do you want to send back from thingspeak u00a0 if you want to retrieve data points from a channel you can just use the read functions provided by the library you used to make u00a0your write request u00a0if you want to send commands check out the talkback app,0.5
irproject,i want for exapmle turn on led from the arduino u00a0if a channel value meets a certain condition,0.283304452896
cstapels,you can definitely use the talkback app u00a0set your arduino to occasionally poll for new commands using the documentation for execute the next talkback command from here https www mathworks com help thingspeak talkback app html you can use the react app to watch your channel and see if the condition changes https www mathworks com help thingspeak react app htmluse the react to trigger a thinghttp that writes a command to your talkback que u00a0you can create multiple thinghttp for each command u00a0and have each triggered by a different react condition https www mathworks com help thingspeak thinghttp app htmlgiven the power in the arduino i would suggest an easier method may u00a0be to read the value directly from your thingspeak channel and make a decision about what to do on the arduino i e if value xx then led on etc u00a0you can poll your channel values any time you like u00a0the esp82266 also has enough on board memory to analyze the data read from a channel,0.5
irproject,about the second option you suggested how can i u00a0make the arduino read the value directly from thingspeak channel i mean for sending data from arduino by esp8266 i use these at commends at cipstart tcp 184 106 153 149 80 mystring get https api thingspeak com update api_key field1 0 at cipsend at cipclosewhat commends do i need for making the arduino read the data u00a0,0.791002333164
rw950431,you use the same at commands but a different urlplease see the documentation at https au mathworks com help thingspeak get channel field feed html to construct a url to read data if you want to read more than a single value please see https au mathworks com help thingspeak get a channel feed html,0.5
irproject,thank you very much u00a0you helped me a lot,0.981117010117
zkornz,i am very impressed what thingspeak cloud service do but now i can not solve the problem with running matlab code that ask for waiting the 15 second although i put the delay 45 up and down the command u00a0please help me for the current project according to the attacted photo error displaymatlab command,0.13016974926
SankarSaba,hiim trying to update thinkspeak from sim808 but getting network error kindly please check below and let me know if this is anything wrong in my methodology im using terminal exe to send command via rs232 atokat creg creg 0 5 connected in roamingat sapbr 3 1 contype gprs okat sapbr 3 1 apn www vodafone india www is apn as per the operator okat sapbr 3 1 user blank as per the operator okat sapbr 3 1 pwd blank as per the operator at sapbr 1 1okat httpinitokat httppara cid 1 okat httpara url https api thingspeak com update api_key my_key field1 value okat httpaction 0 httpaction 0 603 0 means network error as per the documentnote while im typing in browser url box https api thingspeak com update api_key my_key field1 value i can able to update my field i can able make call send sms i have internet packplease help,0.5
arvimg,i want the data from my arm7 lpc2387 to be sent to my thingspeak channel u00a0initially it was going to this server u00a0 define dflt_server_ip u00a0 u00a0 u00a0 u00a0 u00a0 118 67 249 235 what should be the modifications including code modifications,0.5
Vinod,can your device do dns resolution if so i would strongly recommend you send your data to api thingspeak com instead of using a static ip u00a0,0.820235610008
arvimg,can you mention specific code lines to send data to api tingspeak com what modifications would be required in the current scenario where it takes static ip u00a0i am using attolic true studio for arm development u00a0i guess this is the outline of the code required create a socketlookup the ip addressopen the socketsend the requestwait for the responseclose the socket,0.5
Vinod,you might want to take a look at the source for the official thingspeak library for arduino and base your source on it https github com mathworks thingspeak arduinospecifically see this file https github com mathworks thingspeak arduino blob master src thingspeak h,0.5
hannon1000,i can only update one data field at time pls advise my work flow was create ts channel fields add channelid and apikey info to arduino sketch add the code below to sketch all data is seen on computer monitor u00a0void loop bme280temp bme readtemperature 1 8 32 u00a0 thingspeak writefield mychannelnumber 1 bme280temp mywriteapikey u00a0 u00a0 atemp am2315 readtemperature 1 8 32 u00a0 thingspeak writefield mychannelnumber 2 atemp mywriteapikey u00a0 u00a0 u00a0 u00a0 u00a0 bme280humi bme readhumidity u00a0 thingspeak writefield mychannelnumber 3 bme280humi mywriteapikey u00a0 u00a0 ahumi am2315 readhumidity u00a0 thingspeak writefield mychannelnumber 4 ahumi mywriteapikey u00a0 u00a0 bme280stationpressuremillibars bme readpressure 100 u00a0 bme280equivsealevelpressuremillibars bme280stationpressuremillibars 16 9 2 u00a0 bme280press bme280equivsealevelpressuremillibars 0 02953 u00a0 thingspeak writefield mychannelnumber 5 bme280press mywriteapikey u00a0 u00a0 serial print bme280temp 0 u00a0 serial print f u00a0 u00a0 serial print atemp 0 u00a0 serial print f u00a0 u00a0 serial print bme280humi 0 u00a0 serial print u00a0 u00a0 serial print ahumi 0 u00a0 serial print u00a0 u00a0 serial print bme280press 2 u00a0 serial println inhg u00a0 u00a0 delay 20000,0.5
Vinod,you are u00a0attempting to write to multiple fields in a channel u00a0faster than your capacity as a free user allows you take a look at this example https github com mathworks thingspeak arduino blob master examples writemultiplevoltages writemultiplevoltages inoit u00a0uses u00a0setfield to set each individual field and combines the data from multiple fields into one write using writefields,0.857653856277
hannon1000,thank you very much vinod for your kindness while pointing out my would uh u00a0i added delay lines i see all graphs being updated u00a0next steps are to add code that resets comm with ts if comms lost and code for sleep mode thanks again kevin,0.916155278683
Vinod,you are welcome kevin if you have a public channel and a blog or video linked to the project maybe others can learn from it too u00a0we would love to hear more about your project on the forum u00a0,0.942074894905
kvv213,hello everyone i am working on an amateur project for my summer house a gas meter with an impulse external module is installed there i am going to connect this external module with arduino and via internet upload information to thingsspeak the problem is in the following the external module provides me only an impulse and i can upload a ping 1 to thingsspeak via internet this is useful in terms that i know when the meter counts another 0 01 cub m of gas but i also would like to see not only pings at the time scale but also the current amount of pings that means that every new ping should increase the total amount of pings at thingsspeak i briefly checked the samples and functions description but could not find a way how to increase the total amount of pings at thingsspeak please correct me if i am wrong u00a0so the only way how to solve this is to get the last ping number from thingsspeak and with the every new ping increase it at arduino side and send updated value to thingsspeak and here i have also two options get the last ping amount from thingsspeak at startup of arduino or get it before every single ping submission u00a0i am happy to see your opinions about this,0.816978216171
daturach,hello kvv213i do upload similar data for my gas consumption but not on thingspeak however i am using thingspeak for other data i can imagine the following process upload your counter 1 on channel 1 read channel 1 and write back to channel 2if at the same time you can read channel 2 last value and add 1 you should have your accumulated data once again this is pure theory there is an example on this server under matlab analysis called convert celsius to fahrenheit it shows how to read from a channel and write to another one let us know if you manage to make it work hope that help daturach,0.781874060631
kvv213,daturach said i can imagine the following process upload your counter 1 on channel 1 read channel 1 and write back to channel 2 u00a0that looks like the 3rd option how to store meter values at thingspeak i do not see anything difficult in that and it is is similar to just pre read the latest value from the main channel and upload an incremented value to the same channel option 1 download the latest value from thingspeak at arduino start up and store it in the memory pros we need to download it only once cons if something wrong at arduino side the results may be wrong but likelikilyhood is very very low option 2 download the latest value just before update the channel increment and update another channel pros we can adjust the latest value from outside for example justify meter count and we do not need to reboot arduino cons the server responce can be delayed and that leads to a potentiall miss of a click from the meter the system is busy with waiting responce from the server option 3 download the latest value from one channel then update both of them pros mmmmm cons requires 3 times more time than option 1 u00a0btw were did you upload your values was it a public service,0.083736628294
rw950431,i suspect you really want to display a rate how many impulses per hour day etc rather than a count to the above options i would like to add option 0 dont worry about retrieving the past count so long as your arduino doesnt restart too often u00a0 every counter has an overflow point so your code just has to deal with a count that goes backward now and again see my post on how to convert a counter into a rate at http community thingspeak com forum thingspeak plugins converting counter values to rate of change u00a0 doubtless it can also be done in a matlab visualisation nowadays,0.294489443302
daturach,hello kvv213these values are uploaded on https emoncms org u00a0it a public service but you can install the server on a raspberry pi if you like i have shared some graphs related to gas at https emoncms org daturach u00a0if you zoom in you should see the counter at value one when there is gas consumption the other graphs are just derived by calculation executed directly on the server daturach,0.5
rw950431,daturach u00a0 u00a0 cool graphs u00a0 was it difficult to derive the accumulation graphs from the counter using the emoncms platform,0.151455074549
daturach,not really in my case one pulse 10 litres then you can multiply on the server the litres by a factor to get the kwh on the server again you apply a function called accumulator which obviously accumulates the kwh there are a few basic functions you can use if you already upload content on thingspeak and i think you do great rate display graph you can try emoncms if you know php javascript then you can develop your own applications u00a0and have them running on your raspi daturach,0.783968508244
kvv213,daturach said hello kvv213 these values are uploaded on https emoncms org u00a0it a public service but you can install the server on a raspberry pi if you like i have shared some graphs related to gas at https emoncms org daturach u00a0 if you zoom in you should see the counter at value one when there is gas consumption the other graphs are just derived by calculation executed directly on the server daturach u00a0 u00a0now the situation is getting worse i have two data logging and visualization systems ud83d ude42 the graphs are pretty cool,0.784275352955
kvv213,rw950431 said i suspect you really want to display a rate how many impulses per hour day etc rather than a count to the above options i would like to add option 0 dont worry about retrieving the past count so long as your arduino doesnt restart too often u00a0 every counter has an overflow point so your code just has to deal with a count that goes backward now and again see my post on how to convert a counter into a rate at http community thingspeak com forum thingspeak plugins converting counter values to rate of change u00a0 doubtless it can also be done in a matlab visualisation nowadays u00a0 u00a0actually i have two goals 1 report to the gas company my remote house monthly gas consumption they do not have a remote meter reading option but receive values via internet i should enter them manually but in that case i need to read the values from the meter and then enter them into their system at their web site but due to the remote location i am not always at the site to read the values ud83d ude42 video surveliance is an option but it does not solve goal two 2 try to get information about dependence of gas consumption temperature and people presense on the site of cource there is a correlation when it is 20c outside the consumption of gas is around 1000 sq m per month or even more but i need more details u00a0btw i already have infromation from my electricity company they have remote meter data collection and it is possible to download the data from their servers via a simple script u00a0ps i am able with php js i have a server under ubuntu but i do not wa not to use it for temperature and gas data statistics that is work for arduino and i have a number of boards prepared for that and for some other features of my house,0.308556437492
daturach,video surveliance is an option but it does not solve goal two or gprs umts network with a cheap prepaid data sim anyway it looks like an interesting project daturach,0.859464168549
piajola,hi kvv213 with u00a0w10 via chrome i send http api thingspeak com channels status json results 1and obtain this webpage channel name latitude 0 000000 longitude 0 000000 elevation 00 feeds created_at 2016 07 26t18 09 27z entry_id 205497 tatus null where entry_id amount in gas meter when i started my arduino to send the pings must be the actual reading in the gas meter assuming your internet service provider is infallible arduino ups nicad lifepo4 is you send every ping for sure so i can fill the text box to send my reading to the gas co using manual internet as i understood so from everywhere 3 60 24 30 129600 is about the performance you need in your winter observation i e 3 pings minute 20 seconds still in thingspeak rangepeople presence via pir so 0 1 and temp can be sent with each gas pingmy opinion as i am one in u00a0hello everyone in post 1good luck h s,0.5
kvv213,daturach said video surveliance is an option but it does not solve goal two or gprs umts network with a cheap prepaid data sim anyway it looks like an interesting project daturach u00a0 u00a0the remote house has fiber optic internet that is in the country in russia so sim is not required normal internet connection exists i am going to include also metane gas sensor co sensor as the must options for this project that is because arduino is going to be installed at the gas heater room it is also intresting to analyze these two data feeds and if i have enough pins at arduino board then i will add two digital temperature and humidity meters btw i already implemented option 1 with thingspeak library during the implementation i found out that if i do not have internet connection when i receive impulse from gas meter then the library caches it and upload to the server when the connection restores that is a good feature because i was thinking about a workaround for this,0.5
kvv213,piajola said hi kvv213 with u00a0w10 via chrome i send http api thingspeak com channels status json results 1 and obtain this webpage channel name latitude 0 000000 longitude 0 000000 elevation 00 feeds created_at 2016 07 26t18 09 27z entry_id 205497 tatus null where entry_id amount in gas meter when i started my arduino to send the pings must be the actual reading in the gas meter assuming your internet service provider is infallible arduino ups nicad lifepo4 is you send every ping for sure so i can fill the text box to send my reading to the gas co using manual internet as i understood so from everywhere 3 60 24 30 129600 is about the performance you need in your winter observation i e 3 pings minute 20 seconds still in thingspeak range people presence via pir so 0 1 and temp can be sent with each gas ping my opinion as i am one in u00a0hello everyone in post 1 good luck h s u00a0 u00a0there is a library for thingspeak and it has some methods that can help in receiving values from thingspeak and it works well in version 1 1 1 of the library people presence can be implemented much easier than pir everyone has a mobile phone and if you have wi fi at the site then you can track presence of people at the site by their mobile phones connected to your wi fi of cource the mobile phone should not switch off wi fi module when the screen is off i already implemented this at bash ps the link you mentioned works only for public channels so if it is a private one you need to use read api key write api key probably will work also it is possible to send api keys via from fields,0.5
kvv213,during long period testing found out something not good it seems that arduino went to sleep somehow u00a0i left the device with connected button instead of gas meter for test purposes overnight i pressed the button several times in the morning and left it for almost 12 hours alone connected to internet the first press of the button woke the device up it started setup routine i also calculate arduino wakes up via code in setup function and the impulse was missed next button press was collected well i am going to add blinkin led that will show that the device works at least plus warning and error leds so this should prevent the device from sleep i hope,0.0657840073109
rw950431,is it possible that your network card somehow lost connection due to inactivity so missed the first pulse while trying to reconnect u00a0,0.5
kvv213,rw950431 said is it possible that your network card somehow lost connection due to inactivity so missed the first pulse while trying to reconnect u00a0 u00a0 u00a0by network errors it is not possible by green reasons it could be but in that case it should not call for set up routine drop an exception or error is ok but not reset u00a0i have found out the problem with setup invoke after a long time period without any impulses arduino connected to my pc test and developing mode when i wake up my computer at some period of its loading usb ports are dropped so arduino goes to reboot also but i have to confirm the problem with missing impulses after the long period of no impulses i see that ethernet shield has connection to internet and sometimes it receives packets but it seems that something inside drops the connection as you can see at the graph after reboot thingspeak libraries could not get values even from the server i need to think about a workaround for such a behaviour ps led blinker is useful but did not help with missing impulses ud83d ude42,0.0256730020046
rw950431,i guess its possible that your program or libraries leak memory or otherwise overflow after prolonged running time you could add a section that writes an increasing counter to a a second channel regularly every minute or hour just to see if there is a problem with inactiivty or a long run time or maybe put in your temperature sensor for something useful,0.848678827286
kvv213,rw950431 said i guess its possible that your program or libraries leak memory or otherwise overflow after prolonged running time you could add a section that writes an increasing counter to a a second channel regularly every minute or hour just to see if there is a problem with inactiivty or a long run time or maybe put in your temperature sensor for something useful u00a0 u00a0yes that could be the solution i have plans to post temperature and humidity from two of my sensors dht 22 one inside of the gas heater room and and outside the building every 30 minutes also i am thinking about a simple web server ethernet arduino library allows to set up a light web server that will be useful to enter remotely to the device from local network of cource and see its condition on line and i hope that it also help to prevent the device from loosing the connection but i have less than 25 free memory for the program already probably i will cut down some text strings and other debug output but there is a risk that something i should implement using one more arduino board ud83d ude42during the weekedn i found out that if the ethernet board is not connected to ethernet the procedure of init of ethernet can lasts for ever u00a0i did a number tests and only once i got a reasonable error that the shield could not connect to dhcp server the rest of times just infinite initialization procedure u00a0also there can be a problem with the 15 seconds values upload interval i did not get in touch with it during my tests when i pressed the button repeatedly but looking after the speed of the gas meter i think that a special procedure should be realized that accumulates impulses and post them with pace less than 1 upload per 15 second,0.5
kvv213,current situation 1 i have realized web server at arduino that shows simple values from the sensors i have will test if it help with ethernet deep sleep 2 i have connected two mq sensors to the board 3 i have connected two dht11 sensors to the board 4 i have found out that ehternet shield does not work if i connect at least one mq sensor the board is feeded via usb and it is not enough ethernet shield does not connect to my network and stops the entire programm run i wrote about this above if i feed the board via external power source using this special round plug ethernet shield does not work with all the symptomes above i used 9v 1a power source so it seems that ethernet shields takes too much energy and dc dc step down onboard u00a0converter u00a0is too weak and i have to use external 5v power source that will be connected into 5vin pin so the project is a little bit delayed due to point 5 also i am waiting for arrival dht22 sensors,0.268781125546
kvv213,the idea with web server works after 12 hours of no activity except blinking led the device received button event and post it to thingspeak succesfully ps still struggle with not enough power for ethernet board,0.113922119141
David Guo,over here we will show how to use the dragino lora iot kit to collect the temperature and humidity and send the data to the thingspeak server the things we need to prepare lora gateway lg01 plora node lora shieldsensor dht11 u00a0complete following operations u00a0 u00a0set up hardware u00a0set up the hardware as below the lora node will get sensor data from dht11 and send these data to lora gateway when the gateway get the data it will pass the data to the iot server u00a0 u00a0 u00a0 u00a0set up iot server account u00a0we choose thingspeak as the iot server here first sign up an account in thingspeak then goto the channels and create a channel with temperature and humidity field after create the channel user can see the channel id and api key in the channel page they are needed for upgrade data to this channel u00a0 u00a0 u00a0 u00a0 u00a0upload sketches u00a0step 1 download the thingspeak library and put it in the arduino library directory step 2 select the example from ide file examples dragino iotserver thingspeak dht11_client and upload this sketch to the lora nodestep 3 select the example from ide file examples dragino iotserver thingspeak dht11_server replace the mychannelnumber mywriteapikey to your info and upload this sketch to the lora gateway u00a0 u00a0check result u00a0check result in thingspeak as below u00a0 u00a0 u00a0 u00a0 u00a0what is lora kit u00a0 u00a0 u00a0 u00a0dragino lora iot kit is designed to facilitate beginners and developers to quickly learn lora and iot technology it help users to turn the idea into a practical application and make the internet of things a reality it is easy to program create and connect your things everywhere a number of telecom operators are currently rolling out networks but because lora operates in the open spectrum you can also set up your own network the lora iot kit will show how to build lora network and how to use the network to send data from a lora sensor node to the cloud server when used as a private lora network the lora gateway will connect your other lora nodes up to 5km however expect up to 10km range when in line of sight when connecting your lora node to a lora gateway u00a0 u00a0 u00a0 u00a0 u00a0support us u00a0for the past months we have worked hard to get the lora iot kit to the final stages of development we have got some users to start using lora iot kit to make the final step and start mass production we are rasing funds via a indiegogo campaign we need your help if you back us you will speed up the lora iot kit production and receive one of it in 01 2017 but you will also receive one yourself in 03 2017 so to start to build your own lora network and examine the iot technology we are trying to provide a full solution to connect lora to different cloud server there u2019s nothing like what dragino lora iot kit can provide the link of the dragino lora kit campaign is https www indiegogo com projects lora kit for iot applications x 15237796 please help us to promote this lora kit and let more people know the lora wireless technology thank you,0.5
aravind0603,hi everybody try to talk to my thingspeak channel via my esp8266 and the serial monitor arduino everything seems to be ok but no change in my thingspeak graphic chanel atokat cipmux 1okat cipstart 4 u201dtcp u201d u201d184 106 153 149 u201d 80oklinkedat cipsend 4 44 get update key my api key field1 20okunlinkall the time ok but not visible on my thingspeak channel been buzy with this many days please is there somebody who can give a hint with kind regards aravind,0.5
piajola,hi aravind i hope i can help you i have an arduino with esp8266 as wifi shield sending data once per minute to a channel in thingspeak with si7005 sending temperature and relative humidity for now planned more sensor data lux uv outside temp so repeating your way only the esp8266 with rs232 orders ie at commands with termite for the case same as using serial from arduino idecopy paste from my termite at gmrat version 0 50 0 0 sep 18 2015 20 55 38 sdk version 1 4 0compile time sep 18 2015 21 32 07ok at cwmode cwmode 3ok at cipmode cipmode 0ok at cipmux cipmux 0ok at cipstatusstatus 2ok at cipstart tcp api thingspeak com 80connectok at cipsend 64ok get update api_key sixteenuppercase field1 25 12 field2 55 31 count 1 space after get before slash totaling 62 plus newline return 64recv 64 bytessend ok ipd 5 12825closed note when i did at cipstart tcp 184 105 153 149 80errorclosed it does not worked i do not know why ip count spaces and follow upper lower case use non proportional fonts i use notepad with consolas font stopped my arduino to do this test and restarted and still sending to thingspeak ud83d ude42 ud83d ude42anything missing anything else any questions feel free to ask i will do what i can,0.5
Karthikraja Nagendran,hi u00a0all the commands works fine it showing results on serial monitor com port putty but thingspeak is not updating no data is showing on thingspeak we are converting u00a0temperature data as string and sending u00a0,0.874890327454
Tejani,hello everyone nice to meet you all i have successfully write data in thingspeak website using esp8266 no problem with that but when i send data to my own website it can not write any data and same data i can write when i paste the link in my browser for data write i use get method in thingspeak also i use get method and in my website i do not use any api key is this is the reason or another please help me,0.917757511139
Meenakshi,hi tejani i have a u00a0couple of u00a0questions for you what do you mean by my website is it local installation of thingspeak use write api key to post u00a0to any private channel even for local custom installation of thingspeak perhaps you could share the rest api hide keys and channel steps you are using or any screenshots that may be helpful let us know if using api key made any difference thanks,0.92712700367
Tejani,hey meenakshi thanks for giving reply my website means my own company website not thinkspeak and it is global not local u00a0 beafore this i use thinkspeak api to write data in thinkspeak website and done it successfully but in my own server i just create php file that receive data and put that data in table format but in server problem is no api again thanks for answer,0.920631289482
anjihanuma,hello everyone i want to read noise co values using arduino uno and then send this to thingspeak i am coding it using the arduino ide 1 6 7 with the ethernet add in module u00a0i have managed to write some code that reads and displays my data and i have written some code that reads the data and sends it to web server but in case of things speak my data not going to things speak which i want use for analysis please help me any suggestions,0.5
rw950431,did you check out the arduino examples on the thingspeak website under support u00a0i think there are some examples in https github com mathworks thingspeak arduino,0.5
anjihanuma,hithanks for replayyeah i have tried checked those example but not working properly in my case i have changed my mac address things speak channel number and writeapi key but my data not uploading into things speak u00a0please give me suggestions what i do now,0.718430757523
rw950431,can you post your code,0.825862824917
anjihanuma,hai thank you rw950431code which i am using ifdef spark include thingspeak thingspeak h else include thingspeak h endif ifdef arduino_arch_avr ifdef arduino_avr_yun include yunclient h yunclient client else ifdef use_wifi_shield include spi h include wifi h char ssid yournetwork char pass yourpassword int status wl_idle_status wificlient client else include spi h include ethernet h byte mac 0xde 0xad 0xbe 0xef 0xfe 0xed ethernetclient client endif endif define voltage_max 5 0 define voltage_maxcounts 1023 0 endif ifdef arduino_arch_esp8266 include esp8266wifi h char ssid yournetwork char pass yourpassword int status wl_idle_status wificlient client define voltage_max 1 0 define voltage_maxcounts 1023 0 endif ifdef spark tcpclient client define voltage_max 3 3 define voltage_maxcounts 4095 0 endifunsigned long mychannelnumber xxxxx const char mywriteapikey xxxxxxxxxxx void setup if defined arduino_arch_avr defined arduino_arch_esp8266 ifdef arduino_avr_yun bridge begin else if defined use_wifi_shield defined arduino_arch_esp8266 wifi begin ssid pass else ethernet begin mac endif endif endif thingspeak begin client void loop float pinvoltage analogread a0 voltage_max voltage_maxcounts thingspeak setfield 1 pinvoltage ifndef arduino_arch_esp8266 pinvoltage analogread a1 voltage_max voltage_maxcounts thingspeak setfield 2 pinvoltage pinvoltage analogread a2 voltage_max voltage_maxcounts thingspeak setfield 3 pinvoltage pinvoltage analogread a3 voltage_max voltage_maxcounts thingspeak setfield 4 pinvoltage pinvoltage analogread a4 voltage_max voltage_maxcounts thingspeak setfield 5 pinvoltage pinvoltage analogread a5 voltage_max voltage_maxcounts thingspeak setfield 6 pinvoltage pinvoltage analogread a6 voltage_max voltage_maxcounts thingspeak setfield 7 pinvoltage pinvoltage analogread a7 voltage_max voltage_maxcounts thingspeak setfield 8 pinvoltage endifthingspeak writefields mychannelnumber mywriteapikey delay 15000,0.5
rw950431,what happens if you only try and upload 2 or 3 voltages instead of 8 u00a0 i seem to recall reading that someone else had strange troubles when attempting to upload 8 fields at once if its the case it must be a bug in the thingspeak arduino library since its definitely possible to upload all 8 fields,0.128896832466
anjihanuma,hai thank you rw950431it working fine now data uploading into my fields things speak channels but i am not getting channel updates i e in channel status updates how to get it u00a0any suggestions u00a0thanks in advance,0.76958835125
jvasudev,hi u00a0 u00a0i do not see that you are updating the channel status field you are only updating the fields in your channel to update the status field you have to send a http post request to thingspeak i am not sure if the thingspeak arduino library support updating the channel status for more details on how to format your post request you can see here u00a0,0.734848439693
ruchik,has anyone tried uploading data on thingspeak using contiki struglling to get a working code for it hardware platform i am using is cc2538,0.739581823349
rodri,hi ruchik did you make it work i would like to use it with cc2650 best rodri,0.966043710709
dukbilt,hello everyone i wish to use an esp8266 to send data to thingspeak however i also want to use display information locally can anyone offer assistance on this i can send data to thingspeak and i can display data using a webserver however i can not work out how to combine both functions any ideas thanks ewan u00a0 include esp8266wifi h include esp8266webserver h include wificlient h wifi definitions define ssid wifi ssid define psk wifi password thingspeak definitions define server api thingspeak com thingspeak server address define port 80 thingspeak port define api thingspeak write key for this channelint i 0 esp8266webserver server 80 wificlient client void handleroot string message hello from esp8266 message i server send 200 text plain message i void setup void wifi begin ssid psk wait for connection while wifi status wl_connected delay 500 server on handleroot server begin void loop void server handleclient client connect server port string poststr api poststr field1 poststr string i poststr field2 poststr string i poststr client print post update http 1 1 host client print server client print connection close client print x thingspeakapikey client print api client print content type application x www form urlencoded client print content length client print poststr length client print client print poststr delay 10000,0.5
rw950431,what do you mean by would isplay data using a webserver u00a0 can you post the code that does that function i am guessing you want to post data to thingspeak as a client but also act as a server for local clients,0.804001450539
dukbilt,correct ideally i want to be able to see what data is being sent to thingspeak by accessing the esp8266 webserver the code above is my unworking version that is based on my very simple webserver example i tried to add my very basic thingspeak functionality with my very basic webserver example however it does not work one of the main reasons i want to do this is so i can debug easily without adding in a heap of serial print information u00a0,0.0907433927059
rw950431,does it post data to thingspeak properly if you remove the server handleclient from the main loop does it serve local clients if you comment out the thingspeak update section in the main loop u00a0one of the issues you have is that the server will only check for incoming requests every 10 seconds so your local clients may timeout waiting u00a0 you need to eliminate delay so the clients get handled quickly u00a0 see the doing several things at once post on the arduino forum and the blink without delay example in the arduino ide u00a0you should also be aware the 15 seconds is the min time between ts updates so at the moment every 2nd update would fail anyway,0.5
dukbilt,hello everyone after much head scratching i have a functional solution see below if anyone has suggestions on how to improve it i am all ears i have extensively commented it to assist in other people re using it bye ewan u00a0 server and client functionality for esp8266sends data to thingspeak and also shows sent data and response on a web page hosted onthe esp8266 for local information to aid in debugging u00a0 u00a0 version 1 0 07 jul 16 u00a0 u00a0 hardware esp8266 module specifically the sparkfun esp8266 thing u00a0 u00a0 ide arduino 1 6 9 u00a0 u00a0 u00a0 u00a0 u00a0 author ewan regazzo u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 u00a0 include esp8266wifi h include esp8266webserver h include wificlient h wifi definitions define ssid myssid wifi ssid define psk mypassword wifi password thingspeak definitions define server 184 106 153 149 thingspeak server address do not use api thingspeak com it does not work define port 80 thingspeak port define api myapiwritekey thingspeak write key for this channel note 1 the instance of esp8266webserver called erver uses port 81 u00a0 u00a0port 81 must be used as thingspeak uses port 80 so the web server by typing u00a0 u00a0xxx xxx xxx xxx 81 into your browser window where xxx xxx xxx xxx is the ip u00a0 u00a0address of the esp8266 ie 192 168 0 5 81 u00a0 u00a0the include esp8266webserver h statement at the top of this code is u00a0 u00a0essential in allowing the erver instance to be created esp8266webserver server 81 create instance of esp8266webserver called erver using port 81 see note 1 above wificlient client create an instance of wificlient called client global variables usable by all functions int x 0 simple counter to show that something changesstring message the information needed to update thingspeak is kept in a string called message tring response holds the response information from thingspeak after data has been sent the etup function is called at startup only and sets up the esp8266void setup u00a0 wifi begin ssid psk begin the wifi connection using ssid and psk definitions u00a0 pause for 0 5 seconds while wifi is not connected u00a0 while wifi status wl_connected u00a0 u00a0 u00a0 delay 500 u00a0 u00a0 u00a0 u00a0 we have gotten to here so wifi must now be connected u00a0 set up the web server u00a0 server on handleroot if a client accesses the root page then process the handleroot function u00a0 server begin start the server the main function that does everything void loop u00a0 createdata make the data message u00a0 server handleclient take care of any client that accesses the web server u00a0 senddata send data to thingspeak u00a0 delay 5000 have a break this function takes care of a client accessing the root web server pagevoid handleroot u00a0 server send 200 text plain message response send a message to the web server this function sets the esp8266 as a client to an external server thingspeak sends data and receives a responsevoid senddata u00a0 if client connect server port if a successful connection occurs then u00a0 u00a0 u00a0 client println message send the information u00a0 u00a0 if client connected if we have connected u00a0 u00a0 u00a0 response client read read the response from the server u00a0 u00a0 u00a0 u00a0 u00a0 if response 48 string value of 48 equals char 0 which means data received ok u00a0 u00a0 u00a0 u00a0 u00a0 x increment x by 1 just to show that something happened u00a0 u00a0 u00a0 u00a0 client stop we do not want the client to maintain a constant connection this function creates a simple get message string to update thingspeakvoid createdata u00a0 message get update api_key u00a0 message api u00a0 message field1 u00a0 message x u00a0,0.5
rw950431,its great that you got it to work one improvement might be to eliminate the delay call so you can serve clients in a more timely fashion you obviously need to declare the variables and initialise them in setup u00a0void loop u00a0 now millis u00a0 createdata make the data message u00a0 server handleclient take care of any client that accesses the web server u00a0 once every 15 seconds send to thingspeak u00a0 if now last_mills 15000 u00a0 u00a0 u00a0 u00a0 senddata send data to thingspeak u00a0 u00a0 u00a0 u00a0 last_millis now u00a0 u00a0,0.300865530968
dukbilt,thanks for that i have heard that using delays can cause issues with the esp8266 so u00a0eliminating it will be useful,0.94564896822
dukbilt,hello everyone i want to decode rs 485 data and then send this to thingspeak as well as read this data from the esp8266 using something like a local webserver on the esp8266 i am coding it using the arduino ide 1 6 9 with the esp8266 add in module in essence i want to be able to connect to the esp8266 via a web browser to not only see the data but to also use it for debugging once it programmed it gets connected outside and it difficult to connect via a serial cable so if i can get this functionality working it something i expect to use for any other esp8266 project i want to u00a0 1 check for data every 30 seconds to keep it simple we will just call it x u00a0 2 if a client connects to the local webserver send them the value of x u00a0 3 send the value of x u00a0to thingspeak every 5 minutes u00a0 4 repeati have managed to write some code that reads and displays my data and i have written some code that reads the data and sends it to thingspeak however combining the two does not seem to work the more i look at example code the more confused i get but at the same time i have a feeling that there is a much simpler way of doing things any suggestions u00a0ewan,0.5
wher0001,i know i should already know this but what is the update rate of the thingspeak when loading data i originally set to 5 seconds and it worked fine then i used 1 second and it does not grab every update,0.855701565742
Heru Iqbal,most industrial electronic devices using modbus protocol for data communication no exception for the oil and gas industry the flow meter device like emerson floboss omni flow computer actaris evc or schneider scadapack also using modbus protocol then how if we want the sensor data contained in these tools can be shown also in the thingspeak the answer is we need an gateway application that serves to read sensor data using the modbus protocol and then send them to thingspeak by using the api for a real example of this application i used to read real time data from the sensors like temperature pressure and flow gas used for bontang city gas at kalimantan timur indonesia and then send it to thingspeak so now we can monitoring via web at thingspeak channel https thingspeak com channels 41318if you have a modbus device and want send it data to thingspeak you can download the application here https dl dropboxusercontent com u 3351822 hinet_iot_gateway rargood luck,0.5
MohanadOdema,the link is not working,0.00275582075119
afan,u00a0hi all i recently got an opportunity to work on building an application that lets users interact with the thingspeak channels in a seamless way u00a0this application is called iot channel explorer u00a0it is an intuitive webpage that allows users to generate random data and u00a0push this u00a0data into the thingspeak channels manually insert a specific data point to a channel and fetch the top data entries from u00a0the channel u00a0the user can customize the channel parameters by giving it own read and write api keys and the field number for the channel u00a0the webpage u00a0has sufficient information at various places to help the user understand what exactly is going on upon clicking a particular button u00a0the code for the application can be found here https github com afan31 iot channel explorer u00a0one can follow the steps in the readme to quicky setup the application in their local u00a0in order to let the users get started with using the application without going through the hassles of installation i have also deployed the application u00a0here https iot channel explorer herokuapp com u00a0 please change the channel parameters by clicking on the wrench icon in the top right before proceeding suggestions for improvement are more than welcome thank you afan,0.871665537357
Hans,great project thanks for sharing the demo is working but the link to the source code is not working i think an extra space is the the link u00a0 u00a0thanks u00a0hans u00a0,0.886035919189
afan,thanks hans yes an extra space is there in the original link u00a0the updated link for the code is https github com afan31 iot channel explorer u00a0thanks afan,0.861714601517
avebrahimi,can two admins access and edit a channel i need to have to have access and edit rights to a channel also i want to let my customer edit the channel how can i do it,0.183603972197
Hans,we have joined hackster io and added thingspeak as a platform we already have 18 followers and 14 documented projects https www hackster io thingspeakyou can help the community by following thingspeak on hackster and sharing your projects,0.792354822159
hkbiet,hi all i want the following to happen whenever a field value in thingspeak channel crossses a threashold the thingspeak should push a binary as response how do i do that take it in a way like a software update on a remote system as a particular date passess the thingspeak should push a binary to it,0.5
PAD,hello folks here is my thingspeak projecthttp p a d jimdo com iot https thingspeak com channels 67005i use a special embedded system esp8266 01,0.935431480408
Hans,cool is that a matlab visualization what are your plans with this project,0.89908862114
OZ2CPU,hello folks here is my thingspeak projecthttp webx dk ak i use this wireless 433mhz hardware and a pc programhttp webx dk commail index htma few questions can i remove the dots and only show the lines can i reset clear modify only one field of a channel why can i only have 8 fields in one channel i need more curves so i created more channels more api codes more work feels like alot of unneeded problems,0.207314163446
Jeff Goodwin,hi oz2cpu thanks for the post i am a user experience specialist on the development team for thingspeak we are in the processes of researching customer workflows and collecting new requirements for thingspeak would you be interested in having a conversation over the phone so we could gather more information about your goals and process for building your aquarium project thanks jeff goodwinjeff goodwin mathworks com,0.5
OZ2CPU,you are more than welcome to phone me ud83d ude42i be honored to assist i got a bunch of cool ideas not just for me but for all users i live in denmark so better check local time here is between 0900 to 2300my phone is not secret in anyway 45 51 56 92 21i just updated my page again ud83d ude42constantly adding features and sensors,0.96282351017
Jeff Goodwin,great would it work if i and a colleague called you at 4 00 p m denmark time on tuesday 12 15 thanks jeff,0.890309453011
OZ2CPU,yes please ud83d ude42,0.904505729675
OZ2CPU,hi again jeff nice talking to you here a short summary of the mentionened features we discussed reset one field edit data in one field as it is now reset all fields in a channel is the only option slow responce sometimes curves apear empty and the circle turn for quite a while reload page and it goes nice and fast again easy way to scale calibrate offset measurements usefull for many type of sensors just transfer the raw adc value and have thingspeak calculate the temperature in f and c for example offset and slope is needed for this it is often a hazzle to do floating point in a tiny small microcontroller it takes many cycles and battery time to perform and also if you have many sensors with a little bit different readout they all needs to have different calibration factors signal filter remove bad samples like low pass fiter or running avarage maybe even let the user pick a few different methodesor write a line of math to perform it easy way to look into old data like first week of last may i want to see lake water level as it is now i can set number of days from today or number of samples i miss a start stop datei could offcourse export all data and play with it externally easy way to merge several fields into one it is possible now using mathlab write code and such it is not that easy only 8 fields in a channel why not 80 if the user wants it remove dots or dots size variable curve smoothing variable the spline option allready do it a little bit but maybe spline extreame and spline lowpass could be cool extra features to add,0.754729926586
OZ2CPU,add i forgot to mention we also talked about email alarms i suggest an easy way to apply alarm levels like min and or max levels and simply send a mail to the users own configured email adr like subject important message from thingspeakemail your channel name field is over alarm level keep it simple ud83d ude42 and most important easy to use and configure,0.955111086369
ElCezeri,i have successfully finished my project here is the my question is there any other way to visualize my 4 direction distance data in one graph on 3 dimensional surface plane if you want to be sure about what i mean by 4 direction it would help you to watch progress of series videos right here https www youtube com channel ucoo4vrwjalae1g4maj6jnqa,0.702649056911
akamin,hello a newbie to the forum asking humbly for assistance objective is to have data from k type thermcouples via the max 31855 breakout board for raspberry pi push to thingspeak the python script required to do so is beyond my current experience level the rpi is gathering data at 1 second interval from the sensor i have set up a thingspeak channel and have api i would be soooo grateful for assistance in adding the necessary script to allow for data visualization archiving via thingspeak ohh the data is part of broader stack of info supporting proof of concept for new ultra high performing wall system,0.749010562897
Rob Purser,in this iot project we use a raspberry pi a web cam and thingspeak to count cars on a busy highway we deploy a car counting algorithm to the raspberry pi device and we analyze and visualize the traffic patterns with thingspeak a data aggregator check out the whole project at http www mathworks com matlabcentral fileexchange 52456 counting cars and analyzing traffic using a webcam a raspberry pi and thingspeak,0.5
Heru Iqbal,hmi human machine interface is the user interface in a manufacturing or process control system it provides a graphics based visualization of an industrial control and monitoring system previously called an mmi man machine interface an hmi typically resides in an office based windows computer that communicates with a specialized computer in the plant such as a programmable automation controller pac programmable logic controller plc or distributed control system dcs generally data communication between this hmi and devices is using modbus protocol but for thingspeak user i changed this hmi program is to be requesting data from the api thingspeak if friends here want to try this application please download the program here https dl dropboxusercontent com u 3351822 hmiforthingspeak rarafter download and extract files to your folder run hinet exe you can change the channel that i use for this hmi with the channel belongs to you by clicking the configure button thank you,0.5
tlerdrden,hi community i am having some issues with my thingskpeak code i made tests with my aruino y u00fan and it seemed to work good data was being uploaded to thingspeak so i decided to install it yesterday for some reason the code has not updated values until today when i u00b4ve gone with my computer and i u00b4ve opened the serial monitor in that moment has started working and when i u00b4ve left problems again what could happen thanks anton,0.0228704810143
betomax,hello alli would like to know if there is some way to monitoring pid existing files inside linux systems in order to see over my channel the service statusthanks,0.852975964546
lee,hi i am not sure exactly what you are trying to do but you may be able to modify this script http community thingspeak com 2014 05 official tutorial monitoring linux server statistics to do what you need lee,0.5
betomax,thanks that is the idea adding some logic to the script can i got the service status and reflected in my channelsthe script check for a specific service running or not and update a stringif test e my_service pid then my_service 1 echo my_serviceelse my_service 0 echo my_serverfi,0.5
aylashiv@gmail.com,hii have been trying to view data sent from my esp88266 module from the terminal called esp 8266 hyperterminal for testing purpose every thing seems right at the transmission end i have writtten the api key and field properly it also gives reply as send success but i can not able to view it on the chart i have created,0.5
lee,hi if you go to your channel and click on would evloper info top right corner and click one of the json links are you able to see your data there lee,0.913873195648
geo3geo,visit http www mecol co uk p11 php for my thingspeak beehive monitor system using the sweetpea wifi arduino composite display based on turgo great post atmultichannel posting http community thingspeak com forum announcements thingspeak live chart multi channel second axis historical data csv export p813,0.5
geo3geo,surprisingly i can not find any examples of what thingspeak actually does can anyone provide a link to a real web based project i am just getting into this and may be missing something so sorry if i am being a bit dumb i am interested in using thingspeak to display realtime data from my two beehives if anyone has done a similar project i would welcome any info that can be supplied thanks,0.162882566452
lee,hi here are links to some thingspeak projects that you can check out http www slickstreamer info 2014 01 simpel electric imp temperature logger htmlhttp www ransomhall com pages thingspeak aspxhttp www frank zhao com thingspeak_mbed_tut1 http community thingspeak com 2014 05 official tutorial monitoring linux server statistics lee,0.5
mdce4,is it possible i am using telnet on a raspberry pi from the command line trying to update to my thingspeak channel here is what i did it gave me a 200 ok response but no data shows up on my thingspeak channel sudo telnet api thingspeak com 80post update http 1 1host api thingspeak comconnection closex thingspeakapikey 2enl8uukm3t82y8jcontent type application x www form urlencodedcontent length 10field1 241this is the response i get http 1 1 200 okserver nginx 1 7 5date fri 26 sep 2014 02 54 26 gmtcontent type text html charset utf 8transfer encoding chunkedconnection closevary accept encodingstatus 200 okx frame options allowallaccess control allow origin access control allow methods get post put options delete patchaccess control allow headers origin content type x requested withaccess control max age 1800etag 9bf31c7ff062936a96d3c8bd1f8f2ff3 cache control max age 0 private must revalidateset cookie request_method post path x request id 1b8d5b3b 325e 43df 832a 2fc0345614282150connection closed by foreign host after this i check my thingspeak channel but nothing ever shows up there,0.5
lee,hi it looks like your request to thingspeak is valid but the post data is not being set correctly for field1 i am not sure how to send the request directly through telnet but you may have more success using a get instead of a post you can see the blank values in your channel here https thingspeak com channels 14918 feed json key 2enl8uukm3t82y8j lee,0.5
mdce4,hi lee i had to end up using wireshark to look at the packets that were going out after i did the telnet it ended up being an extra space in between the content length and the field data so the post data was not being sent correctly i corrected that and it works now thanks for the help,0.814184725285
osmond1114,i want to send data collected from bluetooth devices to a hub device and from the hub to the cloud i do not want to use wifi and a modem is there a development board i can us to do this,0.5
Mircea3M,dear all i am using an mbed nxp lpc1768 to upload data to a thingspeak channel and everything works fine but if i try to read data from a channel i got into problems maybe someone can help since i do not have to much background on the subject this is how i build the data to send over http to thingspeak where thingspeakurl is the following string http api thingspeak com update thingspeakkey is the thingspeak write api key of my channel test_data is a random data of float type let say temperature sprintf urlbuffer s key s field1 f thingspeakurl thingspeakkey test_data this is how data is sent to thingspeakhttpresult res http get urlbuffer str 128 the problem is that i do not know how to read data back or where i can find or extract it thingspeakurl_read is the following string https api thingspeak com channels 10887 feeds last thingspeakkey_read is the thingspeak read api key of my channel read_data is a float type data sprintf url_read_buffer s key s f field1 thingspeakurl_read thingspeakkey_read read_data sorry for the long post please let me know if you have any ideea thanks mircea,0.5
Mircea3M,dear all i solved the issue the problem was the way i was building the request after reading the api documentation more carefully bellow there is the way it worked sprintf url_read_buffer s key s thingspeakurl_read thingspeakkey_read httpresult res_2 http get url_read_buffer str2 128 where str2 is a string with a length of 512 the response comes under the json format a little bit of string processing will deal with data value extraction created_at 2014 02 26t21 27 21z entry_id 144 field1 28 5 nevertheless when i was reading the api documentation i was thinking what in the world is this but actually is really simple,0.822876632214
paulcuth,hi can i ask how you chose the colour keywords that you use in your cheerlights api 1 they are all official x11 colour names 2 except one warmwhite that appears to be made up furthermore warmwhite has the colour value fdf5e6 which is actually the colour value of oldlace 3 would it be possible to change the colour keywords in the api to use standard colour names and values this would increase clarity and ensure better compatibility with other systems many thanks 1 http www cheerlights com control cheerlights 2 http en wikipedia org wiki x11_color_names 3 http en wikipedia org wiki shades_of_white old_lace,0.831163764
Hans,the legacy of warmwhite came from the arduino library that originally supported the g35 lights but you are right it is not a standard color name i can set an additional trigger for oldlace and this will make all of the colors compliant how does that sound,0.853839874268
Hans,i added oldlace as a trigger and it works thru the cheerlights system thanks for the recommendation,0.932524859905
